var E4=e=>{throw TypeError(e)};var lv=(e,t,n)=>t.has(e)||E4("Cannot "+n);var H=(e,t,n)=>(lv(e,t,"read from private field"),n?n.call(e):t.get(e)),Ke=(e,t,n)=>t.has(e)?E4("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Ee=(e,t,n,s)=>(lv(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),ut=(e,t,n)=>(lv(e,t,"access private method"),n);var qp=(e,t,n,s)=>({set _(a){Ee(e,t,a,n)},get _(){return H(e,t,s)}});function $9(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(s,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var Wp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var BT={exports:{}},s0={},VT={exports:{}},gt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pp=Symbol.for("react.element"),D9=Symbol.for("react.portal"),z9=Symbol.for("react.fragment"),F9=Symbol.for("react.strict_mode"),L9=Symbol.for("react.profiler"),U9=Symbol.for("react.provider"),B9=Symbol.for("react.context"),V9=Symbol.for("react.forward_ref"),q9=Symbol.for("react.suspense"),W9=Symbol.for("react.memo"),H9=Symbol.for("react.lazy"),_4=Symbol.iterator;function K9(e){return e===null||typeof e!="object"?null:(e=_4&&e[_4]||e["@@iterator"],typeof e=="function"?e:null)}var qT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},WT=Object.assign,HT={};function vu(e,t,n){this.props=e,this.context=t,this.refs=HT,this.updater=n||qT}vu.prototype.isReactComponent={};vu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};vu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function KT(){}KT.prototype=vu.prototype;function d1(e,t,n){this.props=e,this.context=t,this.refs=HT,this.updater=n||qT}var u1=d1.prototype=new KT;u1.constructor=d1;WT(u1,vu.prototype);u1.isPureReactComponent=!0;var T4=Array.isArray,GT=Object.prototype.hasOwnProperty,m1={current:null},YT={key:!0,ref:!0,__self:!0,__source:!0};function QT(e,t,n){var s,a={},i=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)GT.call(t,s)&&!YT.hasOwnProperty(s)&&(a[s]=t[s]);var l=arguments.length-2;if(l===1)a.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)a[s]===void 0&&(a[s]=l[s]);return{$$typeof:pp,type:e,key:i,ref:o,props:a,_owner:m1.current}}function G9(e,t){return{$$typeof:pp,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function h1(e){return typeof e=="object"&&e!==null&&e.$$typeof===pp}function Y9(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var M4=/\/+/g;function cv(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Y9(""+e.key):t.toString(36)}function $f(e,t,n,s,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case pp:case D9:o=!0}}if(o)return o=e,a=a(o),e=s===""?"."+cv(o,0):s,T4(a)?(n="",e!=null&&(n=e.replace(M4,"$&/")+"/"),$f(a,t,n,"",function(d){return d})):a!=null&&(h1(a)&&(a=G9(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(M4,"$&/")+"/")+e)),t.push(a)),1;if(o=0,s=s===""?".":s+":",T4(e))for(var l=0;l<e.length;l++){i=e[l];var c=s+cv(i,l);o+=$f(i,t,n,c,a)}else if(c=K9(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=s+cv(i,l++),o+=$f(i,t,n,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Hp(e,t,n){if(e==null)return e;var s=[],a=0;return $f(e,s,"","",function(i){return t.call(n,i,a++)}),s}function Q9(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $n={current:null},Df={transition:null},X9={ReactCurrentDispatcher:$n,ReactCurrentBatchConfig:Df,ReactCurrentOwner:m1};function XT(){throw Error("act(...) is not supported in production builds of React.")}gt.Children={map:Hp,forEach:function(e,t,n){Hp(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Hp(e,function(){t++}),t},toArray:function(e){return Hp(e,function(t){return t})||[]},only:function(e){if(!h1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};gt.Component=vu;gt.Fragment=z9;gt.Profiler=L9;gt.PureComponent=d1;gt.StrictMode=F9;gt.Suspense=q9;gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X9;gt.act=XT;gt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=WT({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=m1.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)GT.call(t,c)&&!YT.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:pp,type:e.type,key:a,ref:i,props:s,_owner:o}};gt.createContext=function(e){return e={$$typeof:B9,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:U9,_context:e},e.Consumer=e};gt.createElement=QT;gt.createFactory=function(e){var t=QT.bind(null,e);return t.type=e,t};gt.createRef=function(){return{current:null}};gt.forwardRef=function(e){return{$$typeof:V9,render:e}};gt.isValidElement=h1;gt.lazy=function(e){return{$$typeof:H9,_payload:{_status:-1,_result:e},_init:Q9}};gt.memo=function(e,t){return{$$typeof:W9,type:e,compare:t===void 0?null:t}};gt.startTransition=function(e){var t=Df.transition;Df.transition={};try{e()}finally{Df.transition=t}};gt.unstable_act=XT;gt.useCallback=function(e,t){return $n.current.useCallback(e,t)};gt.useContext=function(e){return $n.current.useContext(e)};gt.useDebugValue=function(){};gt.useDeferredValue=function(e){return $n.current.useDeferredValue(e)};gt.useEffect=function(e,t){return $n.current.useEffect(e,t)};gt.useId=function(){return $n.current.useId()};gt.useImperativeHandle=function(e,t,n){return $n.current.useImperativeHandle(e,t,n)};gt.useInsertionEffect=function(e,t){return $n.current.useInsertionEffect(e,t)};gt.useLayoutEffect=function(e,t){return $n.current.useLayoutEffect(e,t)};gt.useMemo=function(e,t){return $n.current.useMemo(e,t)};gt.useReducer=function(e,t,n){return $n.current.useReducer(e,t,n)};gt.useRef=function(e){return $n.current.useRef(e)};gt.useState=function(e){return $n.current.useState(e)};gt.useSyncExternalStore=function(e,t,n){return $n.current.useSyncExternalStore(e,t,n)};gt.useTransition=function(){return $n.current.useTransition()};gt.version="18.3.1";VT.exports=gt;var g=VT.exports;const L=$t(g),a0=$9({__proto__:null,default:L},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z9=g,J9=Symbol.for("react.element"),e7=Symbol.for("react.fragment"),t7=Object.prototype.hasOwnProperty,r7=Z9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n7={key:!0,ref:!0,__self:!0,__source:!0};function ZT(e,t,n){var s,a={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)t7.call(t,s)&&!n7.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:J9,type:e,key:i,ref:o,props:a,_owner:r7.current}}s0.Fragment=e7;s0.jsx=ZT;s0.jsxs=ZT;BT.exports=s0;var r=BT.exports,JT={exports:{}},Cs={},e3={exports:{}},t3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,D){var V=R.length;R.push(D);e:for(;0<V;){var F=V-1>>>1,z=R[F];if(0<a(z,D))R[F]=D,R[V]=z,V=F;else break e}}function n(R){return R.length===0?null:R[0]}function s(R){if(R.length===0)return null;var D=R[0],V=R.pop();if(V!==D){R[0]=V;e:for(var F=0,z=R.length,Q=z>>>1;F<Q;){var te=2*(F+1)-1,me=R[te],ge=te+1,he=R[ge];if(0>a(me,V))ge<z&&0>a(he,me)?(R[F]=he,R[ge]=V,F=ge):(R[F]=me,R[te]=V,F=te);else if(ge<z&&0>a(he,V))R[F]=he,R[ge]=V,F=ge;else break e}}return D}function a(R,D){var V=R.sortIndex-D.sortIndex;return V!==0?V:R.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,m=null,p=3,f=!1,x=!1,h=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(R){for(var D=n(d);D!==null;){if(D.callback===null)s(d);else if(D.startTime<=R)s(d),D.sortIndex=D.expirationTime,t(c,D);else break;D=n(d)}}function S(R){if(h=!1,w(R),!x)if(n(c)!==null)x=!0,$(N);else{var D=n(d);D!==null&&q(S,D.startTime-R)}}function N(R,D){x=!1,h&&(h=!1,v(A),A=-1),f=!0;var V=p;try{for(w(D),m=n(c);m!==null&&(!(m.expirationTime>D)||R&&!M());){var F=m.callback;if(typeof F=="function"){m.callback=null,p=m.priorityLevel;var z=F(m.expirationTime<=D);D=e.unstable_now(),typeof z=="function"?m.callback=z:m===n(c)&&s(c),w(D)}else s(c);m=n(c)}if(m!==null)var Q=!0;else{var te=n(d);te!==null&&q(S,te.startTime-D),Q=!1}return Q}finally{m=null,p=V,f=!1}}var j=!1,C=null,A=-1,k=5,O=-1;function M(){return!(e.unstable_now()-O<k)}function P(){if(C!==null){var R=e.unstable_now();O=R;var D=!0;try{D=C(!0,R)}finally{D?_():(j=!1,C=null)}}else j=!1}var _;if(typeof b=="function")_=function(){b(P)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,T=E.port2;E.port1.onmessage=P,_=function(){T.postMessage(null)}}else _=function(){y(P,0)};function $(R){C=R,j||(j=!0,_())}function q(R,D){A=y(function(){R(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){x||f||(x=!0,$(N))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(R){switch(p){case 1:case 2:case 3:var D=3;break;default:D=p}var V=p;p=D;try{return R()}finally{p=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,D){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var V=p;p=R;try{return D()}finally{p=V}},e.unstable_scheduleCallback=function(R,D,V){var F=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?F+V:F):V=F,R){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=V+z,R={id:u++,callback:D,priorityLevel:R,startTime:V,expirationTime:z,sortIndex:-1},V>F?(R.sortIndex=V,t(d,R),n(c)===null&&R===n(d)&&(h?(v(A),A=-1):h=!0,q(S,V-F))):(R.sortIndex=z,t(c,R),x||f||(x=!0,$(N))),R},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(R){var D=p;return function(){var V=p;p=D;try{return R.apply(this,arguments)}finally{p=V}}}})(t3);e3.exports=t3;var s7=e3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a7=g,ws=s7;function we(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r3=new Set,Gm={};function dc(e,t){Od(e,t),Od(e+"Capture",t)}function Od(e,t){for(Gm[e]=t,e=0;e<t.length;e++)r3.add(t[e])}var Ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ub=Object.prototype.hasOwnProperty,i7=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,I4={},R4={};function o7(e){return Ub.call(R4,e)?!0:Ub.call(I4,e)?!1:i7.test(e)?R4[e]=!0:(I4[e]=!0,!1)}function l7(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function c7(e,t,n,s){if(t===null||typeof t>"u"||l7(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Dn(e,t,n,s,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var fn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){fn[e]=new Dn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];fn[t]=new Dn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){fn[e]=new Dn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){fn[e]=new Dn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){fn[e]=new Dn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){fn[e]=new Dn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){fn[e]=new Dn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){fn[e]=new Dn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){fn[e]=new Dn(e,5,!1,e.toLowerCase(),null,!1,!1)});var p1=/[\-:]([a-z])/g;function f1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(p1,f1);fn[t]=new Dn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(p1,f1);fn[t]=new Dn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(p1,f1);fn[t]=new Dn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){fn[e]=new Dn(e,1,!1,e.toLowerCase(),null,!1,!1)});fn.xlinkHref=new Dn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){fn[e]=new Dn(e,1,!1,e.toLowerCase(),null,!0,!0)});function x1(e,t,n,s){var a=fn.hasOwnProperty(t)?fn[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(c7(t,n,a,s)&&(n=null),s||a===null?o7(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,s=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var qi=a7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Kp=Symbol.for("react.element"),zc=Symbol.for("react.portal"),Fc=Symbol.for("react.fragment"),g1=Symbol.for("react.strict_mode"),Bb=Symbol.for("react.profiler"),n3=Symbol.for("react.provider"),s3=Symbol.for("react.context"),y1=Symbol.for("react.forward_ref"),Vb=Symbol.for("react.suspense"),qb=Symbol.for("react.suspense_list"),v1=Symbol.for("react.memo"),ro=Symbol.for("react.lazy"),a3=Symbol.for("react.offscreen"),$4=Symbol.iterator;function Hu(e){return e===null||typeof e!="object"?null:(e=$4&&e[$4]||e["@@iterator"],typeof e=="function"?e:null)}var ur=Object.assign,dv;function vm(e){if(dv===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);dv=t&&t[1]||""}return`
`+dv+e}var uv=!1;function mv(e,t){if(!e||uv)return"";uv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var s=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){s=d}e.call(t.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=s.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{uv=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?vm(e):""}function d7(e){switch(e.tag){case 5:return vm(e.type);case 16:return vm("Lazy");case 13:return vm("Suspense");case 19:return vm("SuspenseList");case 0:case 2:case 15:return e=mv(e.type,!1),e;case 11:return e=mv(e.type.render,!1),e;case 1:return e=mv(e.type,!0),e;default:return""}}function Wb(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fc:return"Fragment";case zc:return"Portal";case Bb:return"Profiler";case g1:return"StrictMode";case Vb:return"Suspense";case qb:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case s3:return(e.displayName||"Context")+".Consumer";case n3:return(e._context.displayName||"Context")+".Provider";case y1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case v1:return t=e.displayName||null,t!==null?t:Wb(e.type)||"Memo";case ro:t=e._payload,e=e._init;try{return Wb(e(t))}catch{}}return null}function u7(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wb(t);case 8:return t===g1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Fo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function i3(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function m7(e){var t=i3(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Gp(e){e._valueTracker||(e._valueTracker=m7(e))}function o3(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=i3(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function nx(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Hb(e,t){var n=t.checked;return ur({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function D4(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=Fo(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function l3(e,t){t=t.checked,t!=null&&x1(e,"checked",t,!1)}function Kb(e,t){l3(e,t);var n=Fo(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Gb(e,t.type,n):t.hasOwnProperty("defaultValue")&&Gb(e,t.type,Fo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function z4(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Gb(e,t,n){(t!=="number"||nx(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var bm=Array.isArray;function rd(e,t,n,s){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Fo(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Yb(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(we(91));return ur({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function F4(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(we(92));if(bm(n)){if(1<n.length)throw Error(we(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Fo(n)}}function c3(e,t){var n=Fo(t.value),s=Fo(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function L4(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function d3(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qb(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?d3(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Yp,u3=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Yp=Yp||document.createElement("div"),Yp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Yp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ym(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Pm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},h7=["Webkit","ms","Moz","O"];Object.keys(Pm).forEach(function(e){h7.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Pm[t]=Pm[e]})});function m3(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Pm.hasOwnProperty(e)&&Pm[e]?(""+t).trim():t+"px"}function h3(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,a=m3(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,a):e[n]=a}}var p7=ur({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xb(e,t){if(t){if(p7[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(we(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(we(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(we(61))}if(t.style!=null&&typeof t.style!="object")throw Error(we(62))}}function Zb(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jb=null;function b1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ew=null,nd=null,sd=null;function U4(e){if(e=gp(e)){if(typeof ew!="function")throw Error(we(280));var t=e.stateNode;t&&(t=d0(t),ew(e.stateNode,e.type,t))}}function p3(e){nd?sd?sd.push(e):sd=[e]:nd=e}function f3(){if(nd){var e=nd,t=sd;if(sd=nd=null,U4(e),t)for(e=0;e<t.length;e++)U4(t[e])}}function x3(e,t){return e(t)}function g3(){}var hv=!1;function y3(e,t,n){if(hv)return e(t,n);hv=!0;try{return x3(e,t,n)}finally{hv=!1,(nd!==null||sd!==null)&&(g3(),f3())}}function Qm(e,t){var n=e.stateNode;if(n===null)return null;var s=d0(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(we(231,t,typeof n));return n}var tw=!1;if(Ii)try{var Ku={};Object.defineProperty(Ku,"passive",{get:function(){tw=!0}}),window.addEventListener("test",Ku,Ku),window.removeEventListener("test",Ku,Ku)}catch{tw=!1}function f7(e,t,n,s,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(u){this.onError(u)}}var Om=!1,sx=null,ax=!1,rw=null,x7={onError:function(e){Om=!0,sx=e}};function g7(e,t,n,s,a,i,o,l,c){Om=!1,sx=null,f7.apply(x7,arguments)}function y7(e,t,n,s,a,i,o,l,c){if(g7.apply(this,arguments),Om){if(Om){var d=sx;Om=!1,sx=null}else throw Error(we(198));ax||(ax=!0,rw=d)}}function uc(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function v3(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function B4(e){if(uc(e)!==e)throw Error(we(188))}function v7(e){var t=e.alternate;if(!t){if(t=uc(e),t===null)throw Error(we(188));return t!==e?null:e}for(var n=e,s=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(s=a.return,s!==null){n=s;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return B4(a),e;if(i===s)return B4(a),t;i=i.sibling}throw Error(we(188))}if(n.return!==s.return)n=a,s=i;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,s=i;break}if(l===s){o=!0,s=a,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,s=a;break}if(l===s){o=!0,s=i,n=a;break}l=l.sibling}if(!o)throw Error(we(189))}}if(n.alternate!==s)throw Error(we(190))}if(n.tag!==3)throw Error(we(188));return n.stateNode.current===n?e:t}function b3(e){return e=v7(e),e!==null?w3(e):null}function w3(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=w3(e);if(t!==null)return t;e=e.sibling}return null}var j3=ws.unstable_scheduleCallback,V4=ws.unstable_cancelCallback,b7=ws.unstable_shouldYield,w7=ws.unstable_requestPaint,Nr=ws.unstable_now,j7=ws.unstable_getCurrentPriorityLevel,w1=ws.unstable_ImmediatePriority,N3=ws.unstable_UserBlockingPriority,ix=ws.unstable_NormalPriority,N7=ws.unstable_LowPriority,S3=ws.unstable_IdlePriority,i0=null,Ba=null;function S7(e){if(Ba&&typeof Ba.onCommitFiberRoot=="function")try{Ba.onCommitFiberRoot(i0,e,void 0,(e.current.flags&128)===128)}catch{}}var ga=Math.clz32?Math.clz32:A7,C7=Math.log,k7=Math.LN2;function A7(e){return e>>>=0,e===0?32:31-(C7(e)/k7|0)|0}var Qp=64,Xp=4194304;function wm(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ox(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,a=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~a;l!==0?s=wm(l):(i&=o,i!==0&&(s=wm(i)))}else o=n&~a,o!==0?s=wm(o):i!==0&&(s=wm(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-ga(t),a=1<<n,s|=e[n],t&=~a;return s}function P7(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function O7(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ga(i),l=1<<o,c=a[o];c===-1?(!(l&n)||l&s)&&(a[o]=P7(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function nw(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function C3(){var e=Qp;return Qp<<=1,!(Qp&4194240)&&(Qp=64),e}function pv(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function fp(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ga(t),e[t]=n}function E7(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-ga(n),i=1<<a;t[a]=0,s[a]=-1,e[a]=-1,n&=~i}}function j1(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-ga(n),a=1<<s;a&t|e[s]&t&&(e[s]|=t),n&=~a}}var Ut=0;function k3(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var A3,N1,P3,O3,E3,sw=!1,Zp=[],Co=null,ko=null,Ao=null,Xm=new Map,Zm=new Map,io=[],_7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function q4(e,t){switch(e){case"focusin":case"focusout":Co=null;break;case"dragenter":case"dragleave":ko=null;break;case"mouseover":case"mouseout":Ao=null;break;case"pointerover":case"pointerout":Xm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zm.delete(t.pointerId)}}function Gu(e,t,n,s,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[a]},t!==null&&(t=gp(t),t!==null&&N1(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function T7(e,t,n,s,a){switch(t){case"focusin":return Co=Gu(Co,e,t,n,s,a),!0;case"dragenter":return ko=Gu(ko,e,t,n,s,a),!0;case"mouseover":return Ao=Gu(Ao,e,t,n,s,a),!0;case"pointerover":var i=a.pointerId;return Xm.set(i,Gu(Xm.get(i)||null,e,t,n,s,a)),!0;case"gotpointercapture":return i=a.pointerId,Zm.set(i,Gu(Zm.get(i)||null,e,t,n,s,a)),!0}return!1}function _3(e){var t=gl(e.target);if(t!==null){var n=uc(t);if(n!==null){if(t=n.tag,t===13){if(t=v3(n),t!==null){e.blockedOn=t,E3(e.priority,function(){P3(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=aw(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Jb=s,n.target.dispatchEvent(s),Jb=null}else return t=gp(n),t!==null&&N1(t),e.blockedOn=n,!1;t.shift()}return!0}function W4(e,t,n){zf(e)&&n.delete(t)}function M7(){sw=!1,Co!==null&&zf(Co)&&(Co=null),ko!==null&&zf(ko)&&(ko=null),Ao!==null&&zf(Ao)&&(Ao=null),Xm.forEach(W4),Zm.forEach(W4)}function Yu(e,t){e.blockedOn===t&&(e.blockedOn=null,sw||(sw=!0,ws.unstable_scheduleCallback(ws.unstable_NormalPriority,M7)))}function Jm(e){function t(a){return Yu(a,e)}if(0<Zp.length){Yu(Zp[0],e);for(var n=1;n<Zp.length;n++){var s=Zp[n];s.blockedOn===e&&(s.blockedOn=null)}}for(Co!==null&&Yu(Co,e),ko!==null&&Yu(ko,e),Ao!==null&&Yu(Ao,e),Xm.forEach(t),Zm.forEach(t),n=0;n<io.length;n++)s=io[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<io.length&&(n=io[0],n.blockedOn===null);)_3(n),n.blockedOn===null&&io.shift()}var ad=qi.ReactCurrentBatchConfig,lx=!0;function I7(e,t,n,s){var a=Ut,i=ad.transition;ad.transition=null;try{Ut=1,S1(e,t,n,s)}finally{Ut=a,ad.transition=i}}function R7(e,t,n,s){var a=Ut,i=ad.transition;ad.transition=null;try{Ut=4,S1(e,t,n,s)}finally{Ut=a,ad.transition=i}}function S1(e,t,n,s){if(lx){var a=aw(e,t,n,s);if(a===null)Sv(e,t,s,cx,n),q4(e,s);else if(T7(a,e,t,n,s))s.stopPropagation();else if(q4(e,s),t&4&&-1<_7.indexOf(e)){for(;a!==null;){var i=gp(a);if(i!==null&&A3(i),i=aw(e,t,n,s),i===null&&Sv(e,t,s,cx,n),i===a)break;a=i}a!==null&&s.stopPropagation()}else Sv(e,t,s,null,n)}}var cx=null;function aw(e,t,n,s){if(cx=null,e=b1(s),e=gl(e),e!==null)if(t=uc(e),t===null)e=null;else if(n=t.tag,n===13){if(e=v3(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return cx=e,null}function T3(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(j7()){case w1:return 1;case N3:return 4;case ix:case N7:return 16;case S3:return 536870912;default:return 16}default:return 16}}var vo=null,C1=null,Ff=null;function M3(){if(Ff)return Ff;var e,t=C1,n=t.length,s,a="value"in vo?vo.value:vo.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var o=n-e;for(s=1;s<=o&&t[n-s]===a[i-s];s++);return Ff=a.slice(e,1<s?1-s:void 0)}function Lf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Jp(){return!0}function H4(){return!1}function ks(e){function t(n,s,a,i,o){this._reactName=n,this._targetInst=a,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Jp:H4,this.isPropagationStopped=H4,this}return ur(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Jp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Jp)},persist:function(){},isPersistent:Jp}),t}var bu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},k1=ks(bu),xp=ur({},bu,{view:0,detail:0}),$7=ks(xp),fv,xv,Qu,o0=ur({},xp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:A1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qu&&(Qu&&e.type==="mousemove"?(fv=e.screenX-Qu.screenX,xv=e.screenY-Qu.screenY):xv=fv=0,Qu=e),fv)},movementY:function(e){return"movementY"in e?e.movementY:xv}}),K4=ks(o0),D7=ur({},o0,{dataTransfer:0}),z7=ks(D7),F7=ur({},xp,{relatedTarget:0}),gv=ks(F7),L7=ur({},bu,{animationName:0,elapsedTime:0,pseudoElement:0}),U7=ks(L7),B7=ur({},bu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),V7=ks(B7),q7=ur({},bu,{data:0}),G4=ks(q7),W7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},H7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},K7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function G7(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=K7[e])?!!t[e]:!1}function A1(){return G7}var Y7=ur({},xp,{key:function(e){if(e.key){var t=W7[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Lf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?H7[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:A1,charCode:function(e){return e.type==="keypress"?Lf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Lf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Q7=ks(Y7),X7=ur({},o0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Y4=ks(X7),Z7=ur({},xp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:A1}),J7=ks(Z7),eU=ur({},bu,{propertyName:0,elapsedTime:0,pseudoElement:0}),tU=ks(eU),rU=ur({},o0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),nU=ks(rU),sU=[9,13,27,32],P1=Ii&&"CompositionEvent"in window,Em=null;Ii&&"documentMode"in document&&(Em=document.documentMode);var aU=Ii&&"TextEvent"in window&&!Em,I3=Ii&&(!P1||Em&&8<Em&&11>=Em),Q4=" ",X4=!1;function R3(e,t){switch(e){case"keyup":return sU.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $3(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Lc=!1;function iU(e,t){switch(e){case"compositionend":return $3(t);case"keypress":return t.which!==32?null:(X4=!0,Q4);case"textInput":return e=t.data,e===Q4&&X4?null:e;default:return null}}function oU(e,t){if(Lc)return e==="compositionend"||!P1&&R3(e,t)?(e=M3(),Ff=C1=vo=null,Lc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return I3&&t.locale!=="ko"?null:t.data;default:return null}}var lU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Z4(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!lU[e.type]:t==="textarea"}function D3(e,t,n,s){p3(s),t=dx(t,"onChange"),0<t.length&&(n=new k1("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var _m=null,eh=null;function cU(e){G3(e,0)}function l0(e){var t=Vc(e);if(o3(t))return e}function dU(e,t){if(e==="change")return t}var z3=!1;if(Ii){var yv;if(Ii){var vv="oninput"in document;if(!vv){var J4=document.createElement("div");J4.setAttribute("oninput","return;"),vv=typeof J4.oninput=="function"}yv=vv}else yv=!1;z3=yv&&(!document.documentMode||9<document.documentMode)}function eC(){_m&&(_m.detachEvent("onpropertychange",F3),eh=_m=null)}function F3(e){if(e.propertyName==="value"&&l0(eh)){var t=[];D3(t,eh,e,b1(e)),y3(cU,t)}}function uU(e,t,n){e==="focusin"?(eC(),_m=t,eh=n,_m.attachEvent("onpropertychange",F3)):e==="focusout"&&eC()}function mU(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return l0(eh)}function hU(e,t){if(e==="click")return l0(t)}function pU(e,t){if(e==="input"||e==="change")return l0(t)}function fU(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ba=typeof Object.is=="function"?Object.is:fU;function th(e,t){if(ba(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var a=n[s];if(!Ub.call(t,a)||!ba(e[a],t[a]))return!1}return!0}function tC(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rC(e,t){var n=tC(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=tC(n)}}function L3(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?L3(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function U3(){for(var e=window,t=nx();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=nx(e.document)}return t}function O1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function xU(e){var t=U3(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&L3(n.ownerDocument.documentElement,n)){if(s!==null&&O1(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(s.start,a);s=s.end===void 0?i:Math.min(s.end,a),!e.extend&&i>s&&(a=s,s=i,i=a),a=rC(n,i);var o=rC(n,s);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gU=Ii&&"documentMode"in document&&11>=document.documentMode,Uc=null,iw=null,Tm=null,ow=!1;function nC(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ow||Uc==null||Uc!==nx(s)||(s=Uc,"selectionStart"in s&&O1(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Tm&&th(Tm,s)||(Tm=s,s=dx(iw,"onSelect"),0<s.length&&(t=new k1("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Uc)))}function ef(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Bc={animationend:ef("Animation","AnimationEnd"),animationiteration:ef("Animation","AnimationIteration"),animationstart:ef("Animation","AnimationStart"),transitionend:ef("Transition","TransitionEnd")},bv={},B3={};Ii&&(B3=document.createElement("div").style,"AnimationEvent"in window||(delete Bc.animationend.animation,delete Bc.animationiteration.animation,delete Bc.animationstart.animation),"TransitionEvent"in window||delete Bc.transitionend.transition);function c0(e){if(bv[e])return bv[e];if(!Bc[e])return e;var t=Bc[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in B3)return bv[e]=t[n];return e}var V3=c0("animationend"),q3=c0("animationiteration"),W3=c0("animationstart"),H3=c0("transitionend"),K3=new Map,sC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ko(e,t){K3.set(e,t),dc(t,[e])}for(var wv=0;wv<sC.length;wv++){var jv=sC[wv],yU=jv.toLowerCase(),vU=jv[0].toUpperCase()+jv.slice(1);Ko(yU,"on"+vU)}Ko(V3,"onAnimationEnd");Ko(q3,"onAnimationIteration");Ko(W3,"onAnimationStart");Ko("dblclick","onDoubleClick");Ko("focusin","onFocus");Ko("focusout","onBlur");Ko(H3,"onTransitionEnd");Od("onMouseEnter",["mouseout","mouseover"]);Od("onMouseLeave",["mouseout","mouseover"]);Od("onPointerEnter",["pointerout","pointerover"]);Od("onPointerLeave",["pointerout","pointerover"]);dc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));dc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));dc("onBeforeInput",["compositionend","keypress","textInput","paste"]);dc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));dc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));dc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bU=new Set("cancel close invalid load scroll toggle".split(" ").concat(jm));function aC(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,y7(s,t,void 0,e),e.currentTarget=null}function G3(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],a=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;aC(a,l,d),i=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;aC(a,l,d),i=c}}}if(ax)throw e=rw,ax=!1,rw=null,e}function Jt(e,t){var n=t[mw];n===void 0&&(n=t[mw]=new Set);var s=e+"__bubble";n.has(s)||(Y3(t,e,2,!1),n.add(s))}function Nv(e,t,n){var s=0;t&&(s|=4),Y3(n,e,s,t)}var tf="_reactListening"+Math.random().toString(36).slice(2);function rh(e){if(!e[tf]){e[tf]=!0,r3.forEach(function(n){n!=="selectionchange"&&(bU.has(n)||Nv(n,!1,e),Nv(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[tf]||(t[tf]=!0,Nv("selectionchange",!1,t))}}function Y3(e,t,n,s){switch(T3(t)){case 1:var a=I7;break;case 4:a=R7;break;default:a=S1}n=a.bind(null,t,n,e),a=void 0,!tw||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Sv(e,t,n,s,a){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=gl(l),o===null)return;if(c=o.tag,c===5||c===6){s=i=o;continue e}l=l.parentNode}}s=s.return}y3(function(){var d=i,u=b1(n),m=[];e:{var p=K3.get(e);if(p!==void 0){var f=k1,x=e;switch(e){case"keypress":if(Lf(n)===0)break e;case"keydown":case"keyup":f=Q7;break;case"focusin":x="focus",f=gv;break;case"focusout":x="blur",f=gv;break;case"beforeblur":case"afterblur":f=gv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=K4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=z7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=J7;break;case V3:case q3:case W3:f=U7;break;case H3:f=tU;break;case"scroll":f=$7;break;case"wheel":f=nU;break;case"copy":case"cut":case"paste":f=V7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Y4}var h=(t&4)!==0,y=!h&&e==="scroll",v=h?p!==null?p+"Capture":null:p;h=[];for(var b=d,w;b!==null;){w=b;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,v!==null&&(S=Qm(b,v),S!=null&&h.push(nh(b,S,w)))),y)break;b=b.return}0<h.length&&(p=new f(p,x,null,n,u),m.push({event:p,listeners:h}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",p&&n!==Jb&&(x=n.relatedTarget||n.fromElement)&&(gl(x)||x[Ri]))break e;if((f||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,f?(x=n.relatedTarget||n.toElement,f=d,x=x?gl(x):null,x!==null&&(y=uc(x),x!==y||x.tag!==5&&x.tag!==6)&&(x=null)):(f=null,x=d),f!==x)){if(h=K4,S="onMouseLeave",v="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(h=Y4,S="onPointerLeave",v="onPointerEnter",b="pointer"),y=f==null?p:Vc(f),w=x==null?p:Vc(x),p=new h(S,b+"leave",f,n,u),p.target=y,p.relatedTarget=w,S=null,gl(u)===d&&(h=new h(v,b+"enter",x,n,u),h.target=w,h.relatedTarget=y,S=h),y=S,f&&x)t:{for(h=f,v=x,b=0,w=h;w;w=Nc(w))b++;for(w=0,S=v;S;S=Nc(S))w++;for(;0<b-w;)h=Nc(h),b--;for(;0<w-b;)v=Nc(v),w--;for(;b--;){if(h===v||v!==null&&h===v.alternate)break t;h=Nc(h),v=Nc(v)}h=null}else h=null;f!==null&&iC(m,p,f,h,!1),x!==null&&y!==null&&iC(m,y,x,h,!0)}}e:{if(p=d?Vc(d):window,f=p.nodeName&&p.nodeName.toLowerCase(),f==="select"||f==="input"&&p.type==="file")var N=dU;else if(Z4(p))if(z3)N=pU;else{N=mU;var j=uU}else(f=p.nodeName)&&f.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(N=hU);if(N&&(N=N(e,d))){D3(m,N,n,u);break e}j&&j(e,p,d),e==="focusout"&&(j=p._wrapperState)&&j.controlled&&p.type==="number"&&Gb(p,"number",p.value)}switch(j=d?Vc(d):window,e){case"focusin":(Z4(j)||j.contentEditable==="true")&&(Uc=j,iw=d,Tm=null);break;case"focusout":Tm=iw=Uc=null;break;case"mousedown":ow=!0;break;case"contextmenu":case"mouseup":case"dragend":ow=!1,nC(m,n,u);break;case"selectionchange":if(gU)break;case"keydown":case"keyup":nC(m,n,u)}var C;if(P1)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Lc?R3(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(I3&&n.locale!=="ko"&&(Lc||A!=="onCompositionStart"?A==="onCompositionEnd"&&Lc&&(C=M3()):(vo=u,C1="value"in vo?vo.value:vo.textContent,Lc=!0)),j=dx(d,A),0<j.length&&(A=new G4(A,e,null,n,u),m.push({event:A,listeners:j}),C?A.data=C:(C=$3(n),C!==null&&(A.data=C)))),(C=aU?iU(e,n):oU(e,n))&&(d=dx(d,"onBeforeInput"),0<d.length&&(u=new G4("onBeforeInput","beforeinput",null,n,u),m.push({event:u,listeners:d}),u.data=C))}G3(m,t)})}function nh(e,t,n){return{instance:e,listener:t,currentTarget:n}}function dx(e,t){for(var n=t+"Capture",s=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Qm(e,n),i!=null&&s.unshift(nh(e,i,a)),i=Qm(e,t),i!=null&&s.push(nh(e,i,a))),e=e.return}return s}function Nc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function iC(e,t,n,s,a){for(var i=t._reactName,o=[];n!==null&&n!==s;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&d!==null&&(l=d,a?(c=Qm(n,i),c!=null&&o.unshift(nh(n,c,l))):a||(c=Qm(n,i),c!=null&&o.push(nh(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var wU=/\r\n?/g,jU=/\u0000|\uFFFD/g;function oC(e){return(typeof e=="string"?e:""+e).replace(wU,`
`).replace(jU,"")}function rf(e,t,n){if(t=oC(t),oC(e)!==t&&n)throw Error(we(425))}function ux(){}var lw=null,cw=null;function dw(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var uw=typeof setTimeout=="function"?setTimeout:void 0,NU=typeof clearTimeout=="function"?clearTimeout:void 0,lC=typeof Promise=="function"?Promise:void 0,SU=typeof queueMicrotask=="function"?queueMicrotask:typeof lC<"u"?function(e){return lC.resolve(null).then(e).catch(CU)}:uw;function CU(e){setTimeout(function(){throw e})}function Cv(e,t){var n=t,s=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(s===0){e.removeChild(a),Jm(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=a}while(n);Jm(t)}function Po(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function cC(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var wu=Math.random().toString(36).slice(2),za="__reactFiber$"+wu,sh="__reactProps$"+wu,Ri="__reactContainer$"+wu,mw="__reactEvents$"+wu,kU="__reactListeners$"+wu,AU="__reactHandles$"+wu;function gl(e){var t=e[za];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ri]||n[za]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=cC(e);e!==null;){if(n=e[za])return n;e=cC(e)}return t}e=n,n=e.parentNode}return null}function gp(e){return e=e[za]||e[Ri],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Vc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(we(33))}function d0(e){return e[sh]||null}var hw=[],qc=-1;function Go(e){return{current:e}}function nr(e){0>qc||(e.current=hw[qc],hw[qc]=null,qc--)}function Qt(e,t){qc++,hw[qc]=e.current,e.current=t}var Lo={},wn=Go(Lo),Yn=Go(!1),Ul=Lo;function Ed(e,t){var n=e.type.contextTypes;if(!n)return Lo;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Qn(e){return e=e.childContextTypes,e!=null}function mx(){nr(Yn),nr(wn)}function dC(e,t,n){if(wn.current!==Lo)throw Error(we(168));Qt(wn,t),Qt(Yn,n)}function Q3(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(we(108,u7(e)||"Unknown",a));return ur({},n,s)}function hx(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Lo,Ul=wn.current,Qt(wn,e),Qt(Yn,Yn.current),!0}function uC(e,t,n){var s=e.stateNode;if(!s)throw Error(we(169));n?(e=Q3(e,t,Ul),s.__reactInternalMemoizedMergedChildContext=e,nr(Yn),nr(wn),Qt(wn,e)):nr(Yn),Qt(Yn,n)}var hi=null,u0=!1,kv=!1;function X3(e){hi===null?hi=[e]:hi.push(e)}function PU(e){u0=!0,X3(e)}function Yo(){if(!kv&&hi!==null){kv=!0;var e=0,t=Ut;try{var n=hi;for(Ut=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}hi=null,u0=!1}catch(a){throw hi!==null&&(hi=hi.slice(e+1)),j3(w1,Yo),a}finally{Ut=t,kv=!1}}return null}var Wc=[],Hc=0,px=null,fx=0,$s=[],Ds=0,Bl=null,bi=1,wi="";function cl(e,t){Wc[Hc++]=fx,Wc[Hc++]=px,px=e,fx=t}function Z3(e,t,n){$s[Ds++]=bi,$s[Ds++]=wi,$s[Ds++]=Bl,Bl=e;var s=bi;e=wi;var a=32-ga(s)-1;s&=~(1<<a),n+=1;var i=32-ga(t)+a;if(30<i){var o=a-a%5;i=(s&(1<<o)-1).toString(32),s>>=o,a-=o,bi=1<<32-ga(t)+a|n<<a|s,wi=i+e}else bi=1<<i|n<<a|s,wi=e}function E1(e){e.return!==null&&(cl(e,1),Z3(e,1,0))}function _1(e){for(;e===px;)px=Wc[--Hc],Wc[Hc]=null,fx=Wc[--Hc],Wc[Hc]=null;for(;e===Bl;)Bl=$s[--Ds],$s[Ds]=null,wi=$s[--Ds],$s[Ds]=null,bi=$s[--Ds],$s[Ds]=null}var xs=null,ps=null,sr=!1,da=null;function J3(e,t){var n=Fs(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function mC(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xs=e,ps=Po(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xs=e,ps=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Bl!==null?{id:bi,overflow:wi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Fs(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,xs=e,ps=null,!0):!1;default:return!1}}function pw(e){return(e.mode&1)!==0&&(e.flags&128)===0}function fw(e){if(sr){var t=ps;if(t){var n=t;if(!mC(e,t)){if(pw(e))throw Error(we(418));t=Po(n.nextSibling);var s=xs;t&&mC(e,t)?J3(s,n):(e.flags=e.flags&-4097|2,sr=!1,xs=e)}}else{if(pw(e))throw Error(we(418));e.flags=e.flags&-4097|2,sr=!1,xs=e}}}function hC(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xs=e}function nf(e){if(e!==xs)return!1;if(!sr)return hC(e),sr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!dw(e.type,e.memoizedProps)),t&&(t=ps)){if(pw(e))throw eM(),Error(we(418));for(;t;)J3(e,t),t=Po(t.nextSibling)}if(hC(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(we(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ps=Po(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ps=null}}else ps=xs?Po(e.stateNode.nextSibling):null;return!0}function eM(){for(var e=ps;e;)e=Po(e.nextSibling)}function _d(){ps=xs=null,sr=!1}function T1(e){da===null?da=[e]:da.push(e)}var OU=qi.ReactCurrentBatchConfig;function Xu(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(we(309));var s=n.stateNode}if(!s)throw Error(we(147,e));var a=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(we(284));if(!n._owner)throw Error(we(290,e))}return e}function sf(e,t){throw e=Object.prototype.toString.call(t),Error(we(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function pC(e){var t=e._init;return t(e._payload)}function tM(e){function t(v,b){if(e){var w=v.deletions;w===null?(v.deletions=[b],v.flags|=16):w.push(b)}}function n(v,b){if(!e)return null;for(;b!==null;)t(v,b),b=b.sibling;return null}function s(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function a(v,b){return v=To(v,b),v.index=0,v.sibling=null,v}function i(v,b,w){return v.index=w,e?(w=v.alternate,w!==null?(w=w.index,w<b?(v.flags|=2,b):w):(v.flags|=2,b)):(v.flags|=1048576,b)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,b,w,S){return b===null||b.tag!==6?(b=Mv(w,v.mode,S),b.return=v,b):(b=a(b,w),b.return=v,b)}function c(v,b,w,S){var N=w.type;return N===Fc?u(v,b,w.props.children,S,w.key):b!==null&&(b.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ro&&pC(N)===b.type)?(S=a(b,w.props),S.ref=Xu(v,b,w),S.return=v,S):(S=Kf(w.type,w.key,w.props,null,v.mode,S),S.ref=Xu(v,b,w),S.return=v,S)}function d(v,b,w,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=Iv(w,v.mode,S),b.return=v,b):(b=a(b,w.children||[]),b.return=v,b)}function u(v,b,w,S,N){return b===null||b.tag!==7?(b=Dl(w,v.mode,S,N),b.return=v,b):(b=a(b,w),b.return=v,b)}function m(v,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Mv(""+b,v.mode,w),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Kp:return w=Kf(b.type,b.key,b.props,null,v.mode,w),w.ref=Xu(v,null,b),w.return=v,w;case zc:return b=Iv(b,v.mode,w),b.return=v,b;case ro:var S=b._init;return m(v,S(b._payload),w)}if(bm(b)||Hu(b))return b=Dl(b,v.mode,w,null),b.return=v,b;sf(v,b)}return null}function p(v,b,w,S){var N=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:l(v,b,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Kp:return w.key===N?c(v,b,w,S):null;case zc:return w.key===N?d(v,b,w,S):null;case ro:return N=w._init,p(v,b,N(w._payload),S)}if(bm(w)||Hu(w))return N!==null?null:u(v,b,w,S,null);sf(v,w)}return null}function f(v,b,w,S,N){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(w)||null,l(b,v,""+S,N);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Kp:return v=v.get(S.key===null?w:S.key)||null,c(b,v,S,N);case zc:return v=v.get(S.key===null?w:S.key)||null,d(b,v,S,N);case ro:var j=S._init;return f(v,b,w,j(S._payload),N)}if(bm(S)||Hu(S))return v=v.get(w)||null,u(b,v,S,N,null);sf(b,S)}return null}function x(v,b,w,S){for(var N=null,j=null,C=b,A=b=0,k=null;C!==null&&A<w.length;A++){C.index>A?(k=C,C=null):k=C.sibling;var O=p(v,C,w[A],S);if(O===null){C===null&&(C=k);break}e&&C&&O.alternate===null&&t(v,C),b=i(O,b,A),j===null?N=O:j.sibling=O,j=O,C=k}if(A===w.length)return n(v,C),sr&&cl(v,A),N;if(C===null){for(;A<w.length;A++)C=m(v,w[A],S),C!==null&&(b=i(C,b,A),j===null?N=C:j.sibling=C,j=C);return sr&&cl(v,A),N}for(C=s(v,C);A<w.length;A++)k=f(C,v,A,w[A],S),k!==null&&(e&&k.alternate!==null&&C.delete(k.key===null?A:k.key),b=i(k,b,A),j===null?N=k:j.sibling=k,j=k);return e&&C.forEach(function(M){return t(v,M)}),sr&&cl(v,A),N}function h(v,b,w,S){var N=Hu(w);if(typeof N!="function")throw Error(we(150));if(w=N.call(w),w==null)throw Error(we(151));for(var j=N=null,C=b,A=b=0,k=null,O=w.next();C!==null&&!O.done;A++,O=w.next()){C.index>A?(k=C,C=null):k=C.sibling;var M=p(v,C,O.value,S);if(M===null){C===null&&(C=k);break}e&&C&&M.alternate===null&&t(v,C),b=i(M,b,A),j===null?N=M:j.sibling=M,j=M,C=k}if(O.done)return n(v,C),sr&&cl(v,A),N;if(C===null){for(;!O.done;A++,O=w.next())O=m(v,O.value,S),O!==null&&(b=i(O,b,A),j===null?N=O:j.sibling=O,j=O);return sr&&cl(v,A),N}for(C=s(v,C);!O.done;A++,O=w.next())O=f(C,v,A,O.value,S),O!==null&&(e&&O.alternate!==null&&C.delete(O.key===null?A:O.key),b=i(O,b,A),j===null?N=O:j.sibling=O,j=O);return e&&C.forEach(function(P){return t(v,P)}),sr&&cl(v,A),N}function y(v,b,w,S){if(typeof w=="object"&&w!==null&&w.type===Fc&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Kp:e:{for(var N=w.key,j=b;j!==null;){if(j.key===N){if(N=w.type,N===Fc){if(j.tag===7){n(v,j.sibling),b=a(j,w.props.children),b.return=v,v=b;break e}}else if(j.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ro&&pC(N)===j.type){n(v,j.sibling),b=a(j,w.props),b.ref=Xu(v,j,w),b.return=v,v=b;break e}n(v,j);break}else t(v,j);j=j.sibling}w.type===Fc?(b=Dl(w.props.children,v.mode,S,w.key),b.return=v,v=b):(S=Kf(w.type,w.key,w.props,null,v.mode,S),S.ref=Xu(v,b,w),S.return=v,v=S)}return o(v);case zc:e:{for(j=w.key;b!==null;){if(b.key===j)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(v,b.sibling),b=a(b,w.children||[]),b.return=v,v=b;break e}else{n(v,b);break}else t(v,b);b=b.sibling}b=Iv(w,v.mode,S),b.return=v,v=b}return o(v);case ro:return j=w._init,y(v,b,j(w._payload),S)}if(bm(w))return x(v,b,w,S);if(Hu(w))return h(v,b,w,S);sf(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(v,b.sibling),b=a(b,w),b.return=v,v=b):(n(v,b),b=Mv(w,v.mode,S),b.return=v,v=b),o(v)):n(v,b)}return y}var Td=tM(!0),rM=tM(!1),xx=Go(null),gx=null,Kc=null,M1=null;function I1(){M1=Kc=gx=null}function R1(e){var t=xx.current;nr(xx),e._currentValue=t}function xw(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function id(e,t){gx=e,M1=Kc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Kn=!0),e.firstContext=null)}function Hs(e){var t=e._currentValue;if(M1!==e)if(e={context:e,memoizedValue:t,next:null},Kc===null){if(gx===null)throw Error(we(308));Kc=e,gx.dependencies={lanes:0,firstContext:e}}else Kc=Kc.next=e;return t}var yl=null;function $1(e){yl===null?yl=[e]:yl.push(e)}function nM(e,t,n,s){var a=t.interleaved;return a===null?(n.next=n,$1(t)):(n.next=a.next,a.next=n),t.interleaved=n,$i(e,s)}function $i(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var no=!1;function D1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sM(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ci(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oo(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,Ct&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,$i(e,n)}return a=s.interleaved,a===null?(t.next=t,$1(s)):(t.next=a.next,a.next=t),s.interleaved=t,$i(e,n)}function Uf(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,j1(e,n)}}function fC(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function yx(e,t,n,s){var a=e.updateQueue;no=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var m=a.baseState;o=0,u=d=c=null,l=i;do{var p=l.lane,f=l.eventTime;if((s&p)===p){u!==null&&(u=u.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,h=l;switch(p=t,f=n,h.tag){case 1:if(x=h.payload,typeof x=="function"){m=x.call(f,m,p);break e}m=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=h.payload,p=typeof x=="function"?x.call(f,m,p):x,p==null)break e;m=ur({},m,p);break e;case 2:no=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=a.effects,p===null?a.effects=[l]:p.push(l))}else f={eventTime:f,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=f,c=m):u=u.next=f,o|=p;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;p=l,l=p.next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}while(!0);if(u===null&&(c=m),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);ql|=o,e.lanes=o,e.memoizedState=m}}function xC(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=n,typeof a!="function")throw Error(we(191,a));a.call(s)}}}var yp={},Va=Go(yp),ah=Go(yp),ih=Go(yp);function vl(e){if(e===yp)throw Error(we(174));return e}function z1(e,t){switch(Qt(ih,t),Qt(ah,e),Qt(Va,yp),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Qb(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Qb(t,e)}nr(Va),Qt(Va,t)}function Md(){nr(Va),nr(ah),nr(ih)}function aM(e){vl(ih.current);var t=vl(Va.current),n=Qb(t,e.type);t!==n&&(Qt(ah,e),Qt(Va,n))}function F1(e){ah.current===e&&(nr(Va),nr(ah))}var lr=Go(0);function vx(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Av=[];function L1(){for(var e=0;e<Av.length;e++)Av[e]._workInProgressVersionPrimary=null;Av.length=0}var Bf=qi.ReactCurrentDispatcher,Pv=qi.ReactCurrentBatchConfig,Vl=0,dr=null,Wr=null,en=null,bx=!1,Mm=!1,oh=0,EU=0;function xn(){throw Error(we(321))}function U1(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ba(e[n],t[n]))return!1;return!0}function B1(e,t,n,s,a,i){if(Vl=i,dr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Bf.current=e===null||e.memoizedState===null?IU:RU,e=n(s,a),Mm){i=0;do{if(Mm=!1,oh=0,25<=i)throw Error(we(301));i+=1,en=Wr=null,t.updateQueue=null,Bf.current=$U,e=n(s,a)}while(Mm)}if(Bf.current=wx,t=Wr!==null&&Wr.next!==null,Vl=0,en=Wr=dr=null,bx=!1,t)throw Error(we(300));return e}function V1(){var e=oh!==0;return oh=0,e}function Ma(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?dr.memoizedState=en=e:en=en.next=e,en}function Ks(){if(Wr===null){var e=dr.alternate;e=e!==null?e.memoizedState:null}else e=Wr.next;var t=en===null?dr.memoizedState:en.next;if(t!==null)en=t,Wr=e;else{if(e===null)throw Error(we(310));Wr=e,e={memoizedState:Wr.memoizedState,baseState:Wr.baseState,baseQueue:Wr.baseQueue,queue:Wr.queue,next:null},en===null?dr.memoizedState=en=e:en=en.next=e}return en}function lh(e,t){return typeof t=="function"?t(e):t}function Ov(e){var t=Ks(),n=t.queue;if(n===null)throw Error(we(311));n.lastRenderedReducer=e;var s=Wr,a=s.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}s.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,s=s.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((Vl&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=m,o=s):c=c.next=m,dr.lanes|=u,ql|=u}d=d.next}while(d!==null&&d!==i);c===null?o=s:c.next=l,ba(s,t.memoizedState)||(Kn=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){a=e;do i=a.lane,dr.lanes|=i,ql|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ev(e){var t=Ks(),n=t.queue;if(n===null)throw Error(we(311));n.lastRenderedReducer=e;var s=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);ba(i,t.memoizedState)||(Kn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,s]}function iM(){}function oM(e,t){var n=dr,s=Ks(),a=t(),i=!ba(s.memoizedState,a);if(i&&(s.memoizedState=a,Kn=!0),s=s.queue,q1(dM.bind(null,n,s,e),[e]),s.getSnapshot!==t||i||en!==null&&en.memoizedState.tag&1){if(n.flags|=2048,ch(9,cM.bind(null,n,s,a,t),void 0,null),nn===null)throw Error(we(349));Vl&30||lM(n,t,a)}return a}function lM(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=dr.updateQueue,t===null?(t={lastEffect:null,stores:null},dr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function cM(e,t,n,s){t.value=n,t.getSnapshot=s,uM(t)&&mM(e)}function dM(e,t,n){return n(function(){uM(t)&&mM(e)})}function uM(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ba(e,n)}catch{return!0}}function mM(e){var t=$i(e,1);t!==null&&ya(t,e,1,-1)}function gC(e){var t=Ma();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lh,lastRenderedState:e},t.queue=e,e=e.dispatch=MU.bind(null,dr,e),[t.memoizedState,e]}function ch(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=dr.updateQueue,t===null?(t={lastEffect:null,stores:null},dr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function hM(){return Ks().memoizedState}function Vf(e,t,n,s){var a=Ma();dr.flags|=e,a.memoizedState=ch(1|t,n,void 0,s===void 0?null:s)}function m0(e,t,n,s){var a=Ks();s=s===void 0?null:s;var i=void 0;if(Wr!==null){var o=Wr.memoizedState;if(i=o.destroy,s!==null&&U1(s,o.deps)){a.memoizedState=ch(t,n,i,s);return}}dr.flags|=e,a.memoizedState=ch(1|t,n,i,s)}function yC(e,t){return Vf(8390656,8,e,t)}function q1(e,t){return m0(2048,8,e,t)}function pM(e,t){return m0(4,2,e,t)}function fM(e,t){return m0(4,4,e,t)}function xM(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gM(e,t,n){return n=n!=null?n.concat([e]):null,m0(4,4,xM.bind(null,t,e),n)}function W1(){}function yM(e,t){var n=Ks();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&U1(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function vM(e,t){var n=Ks();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&U1(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function bM(e,t,n){return Vl&21?(ba(n,t)||(n=C3(),dr.lanes|=n,ql|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Kn=!0),e.memoizedState=n)}function _U(e,t){var n=Ut;Ut=n!==0&&4>n?n:4,e(!0);var s=Pv.transition;Pv.transition={};try{e(!1),t()}finally{Ut=n,Pv.transition=s}}function wM(){return Ks().memoizedState}function TU(e,t,n){var s=_o(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},jM(e))NM(t,n);else if(n=nM(e,t,n,s),n!==null){var a=In();ya(n,e,s,a),SM(n,t,s)}}function MU(e,t,n){var s=_o(e),a={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(jM(e))NM(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(a.hasEagerState=!0,a.eagerState=l,ba(l,o)){var c=t.interleaved;c===null?(a.next=a,$1(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}n=nM(e,t,a,s),n!==null&&(a=In(),ya(n,e,s,a),SM(n,t,s))}}function jM(e){var t=e.alternate;return e===dr||t!==null&&t===dr}function NM(e,t){Mm=bx=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function SM(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,j1(e,n)}}var wx={readContext:Hs,useCallback:xn,useContext:xn,useEffect:xn,useImperativeHandle:xn,useInsertionEffect:xn,useLayoutEffect:xn,useMemo:xn,useReducer:xn,useRef:xn,useState:xn,useDebugValue:xn,useDeferredValue:xn,useTransition:xn,useMutableSource:xn,useSyncExternalStore:xn,useId:xn,unstable_isNewReconciler:!1},IU={readContext:Hs,useCallback:function(e,t){return Ma().memoizedState=[e,t===void 0?null:t],e},useContext:Hs,useEffect:yC,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Vf(4194308,4,xM.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vf(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vf(4,2,e,t)},useMemo:function(e,t){var n=Ma();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Ma();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=TU.bind(null,dr,e),[s.memoizedState,e]},useRef:function(e){var t=Ma();return e={current:e},t.memoizedState=e},useState:gC,useDebugValue:W1,useDeferredValue:function(e){return Ma().memoizedState=e},useTransition:function(){var e=gC(!1),t=e[0];return e=_U.bind(null,e[1]),Ma().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=dr,a=Ma();if(sr){if(n===void 0)throw Error(we(407));n=n()}else{if(n=t(),nn===null)throw Error(we(349));Vl&30||lM(s,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,yC(dM.bind(null,s,i,e),[e]),s.flags|=2048,ch(9,cM.bind(null,s,i,n,t),void 0,null),n},useId:function(){var e=Ma(),t=nn.identifierPrefix;if(sr){var n=wi,s=bi;n=(s&~(1<<32-ga(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=oh++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=EU++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},RU={readContext:Hs,useCallback:yM,useContext:Hs,useEffect:q1,useImperativeHandle:gM,useInsertionEffect:pM,useLayoutEffect:fM,useMemo:vM,useReducer:Ov,useRef:hM,useState:function(){return Ov(lh)},useDebugValue:W1,useDeferredValue:function(e){var t=Ks();return bM(t,Wr.memoizedState,e)},useTransition:function(){var e=Ov(lh)[0],t=Ks().memoizedState;return[e,t]},useMutableSource:iM,useSyncExternalStore:oM,useId:wM,unstable_isNewReconciler:!1},$U={readContext:Hs,useCallback:yM,useContext:Hs,useEffect:q1,useImperativeHandle:gM,useInsertionEffect:pM,useLayoutEffect:fM,useMemo:vM,useReducer:Ev,useRef:hM,useState:function(){return Ev(lh)},useDebugValue:W1,useDeferredValue:function(e){var t=Ks();return Wr===null?t.memoizedState=e:bM(t,Wr.memoizedState,e)},useTransition:function(){var e=Ev(lh)[0],t=Ks().memoizedState;return[e,t]},useMutableSource:iM,useSyncExternalStore:oM,useId:wM,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){t=ur({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function gw(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:ur({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var h0={isMounted:function(e){return(e=e._reactInternals)?uc(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=In(),a=_o(e),i=Ci(s,a);i.payload=t,n!=null&&(i.callback=n),t=Oo(e,i,a),t!==null&&(ya(t,e,a,s),Uf(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=In(),a=_o(e),i=Ci(s,a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Oo(e,i,a),t!==null&&(ya(t,e,a,s),Uf(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=In(),s=_o(e),a=Ci(n,s);a.tag=2,t!=null&&(a.callback=t),t=Oo(e,a,s),t!==null&&(ya(t,e,s,n),Uf(t,e,s))}};function vC(e,t,n,s,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,o):t.prototype&&t.prototype.isPureReactComponent?!th(n,s)||!th(a,i):!0}function CM(e,t,n){var s=!1,a=Lo,i=t.contextType;return typeof i=="object"&&i!==null?i=Hs(i):(a=Qn(t)?Ul:wn.current,s=t.contextTypes,i=(s=s!=null)?Ed(e,a):Lo),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=h0,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function bC(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&h0.enqueueReplaceState(t,t.state,null)}function yw(e,t,n,s){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},D1(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Hs(i):(i=Qn(t)?Ul:wn.current,a.context=Ed(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(gw(e,t,i,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&h0.enqueueReplaceState(a,a.state,null),yx(e,n,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Id(e,t){try{var n="",s=t;do n+=d7(s),s=s.return;while(s);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function _v(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function vw(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var DU=typeof WeakMap=="function"?WeakMap:Map;function kM(e,t,n){n=Ci(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){Nx||(Nx=!0,Ow=s),vw(e,t)},n}function AM(e,t,n){n=Ci(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;n.payload=function(){return s(a)},n.callback=function(){vw(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){vw(e,t),typeof s!="function"&&(Eo===null?Eo=new Set([this]):Eo.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function wC(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new DU;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(n)||(a.add(n),e=XU.bind(null,e,t,n),t.then(e,e))}function jC(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function NC(e,t,n,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ci(-1,1),t.tag=2,Oo(n,t,1))),n.lanes|=1),e)}var zU=qi.ReactCurrentOwner,Kn=!1;function An(e,t,n,s){t.child=e===null?rM(t,null,n,s):Td(t,e.child,n,s)}function SC(e,t,n,s,a){n=n.render;var i=t.ref;return id(t,a),s=B1(e,t,n,s,i,a),n=V1(),e!==null&&!Kn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Di(e,t,a)):(sr&&n&&E1(t),t.flags|=1,An(e,t,s,a),t.child)}function CC(e,t,n,s,a){if(e===null){var i=n.type;return typeof i=="function"&&!J1(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,PM(e,t,i,s,a)):(e=Kf(n.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:th,n(o,s)&&e.ref===t.ref)return Di(e,t,a)}return t.flags|=1,e=To(i,s),e.ref=t.ref,e.return=t,t.child=e}function PM(e,t,n,s,a){if(e!==null){var i=e.memoizedProps;if(th(i,s)&&e.ref===t.ref)if(Kn=!1,t.pendingProps=s=i,(e.lanes&a)!==0)e.flags&131072&&(Kn=!0);else return t.lanes=e.lanes,Di(e,t,a)}return bw(e,t,n,s,a)}function OM(e,t,n){var s=t.pendingProps,a=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qt(Yc,is),is|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Qt(Yc,is),is|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,Qt(Yc,is),is|=s}else i!==null?(s=i.baseLanes|n,t.memoizedState=null):s=n,Qt(Yc,is),is|=s;return An(e,t,a,n),t.child}function EM(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function bw(e,t,n,s,a){var i=Qn(n)?Ul:wn.current;return i=Ed(t,i),id(t,a),n=B1(e,t,n,s,i,a),s=V1(),e!==null&&!Kn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Di(e,t,a)):(sr&&s&&E1(t),t.flags|=1,An(e,t,n,a),t.child)}function kC(e,t,n,s,a){if(Qn(n)){var i=!0;hx(t)}else i=!1;if(id(t,a),t.stateNode===null)qf(e,t),CM(t,n,s),yw(t,n,s,a),s=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Hs(d):(d=Qn(n)?Ul:wn.current,d=Ed(t,d));var u=n.getDerivedStateFromProps,m=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==d)&&bC(t,o,s,d),no=!1;var p=t.memoizedState;o.state=p,yx(t,s,o,a),c=t.memoizedState,l!==s||p!==c||Yn.current||no?(typeof u=="function"&&(gw(t,n,u,s),c=t.memoizedState),(l=no||vC(t,n,l,s,p,c,d))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=d,s=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,sM(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:na(t.type,l),o.props=d,m=t.pendingProps,p=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Hs(c):(c=Qn(n)?Ul:wn.current,c=Ed(t,c));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||p!==c)&&bC(t,o,s,c),no=!1,p=t.memoizedState,o.state=p,yx(t,s,o,a);var x=t.memoizedState;l!==m||p!==x||Yn.current||no?(typeof f=="function"&&(gw(t,n,f,s),x=t.memoizedState),(d=no||vC(t,n,d,s,p,x,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=x),o.props=s,o.state=x,o.context=c,s=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),s=!1)}return ww(e,t,n,s,i,a)}function ww(e,t,n,s,a,i){EM(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return a&&uC(t,n,!1),Di(e,t,i);s=t.stateNode,zU.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=Td(t,e.child,null,i),t.child=Td(t,null,l,i)):An(e,t,l,i),t.memoizedState=s.state,a&&uC(t,n,!0),t.child}function _M(e){var t=e.stateNode;t.pendingContext?dC(e,t.pendingContext,t.pendingContext!==t.context):t.context&&dC(e,t.context,!1),z1(e,t.containerInfo)}function AC(e,t,n,s,a){return _d(),T1(a),t.flags|=256,An(e,t,n,s),t.child}var jw={dehydrated:null,treeContext:null,retryLane:0};function Nw(e){return{baseLanes:e,cachePool:null,transitions:null}}function TM(e,t,n){var s=t.pendingProps,a=lr.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Qt(lr,a&1),e===null)return fw(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,i?(s=t.mode,i=t.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=x0(o,s,0,null),e=Dl(e,s,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Nw(n),t.memoizedState=jw,e):H1(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return FU(e,t,o,s,l,a,n);if(i){i=s.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=To(a,c),s.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=To(l,i):(i=Dl(i,o,n,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,o=e.child.memoizedState,o=o===null?Nw(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=jw,s}return i=e.child,e=i.sibling,s=To(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function H1(e,t){return t=x0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function af(e,t,n,s){return s!==null&&T1(s),Td(t,e.child,null,n),e=H1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function FU(e,t,n,s,a,i,o){if(n)return t.flags&256?(t.flags&=-257,s=_v(Error(we(422))),af(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,a=t.mode,s=x0({mode:"visible",children:s.children},a,0,null),i=Dl(i,a,o,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&Td(t,e.child,null,o),t.child.memoizedState=Nw(o),t.memoizedState=jw,i);if(!(t.mode&1))return af(e,t,o,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var l=s.dgst;return s=l,i=Error(we(419)),s=_v(i,s,void 0),af(e,t,o,s)}if(l=(o&e.childLanes)!==0,Kn||l){if(s=nn,s!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,$i(e,a),ya(s,e,a,-1))}return Z1(),s=_v(Error(we(421))),af(e,t,o,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=ZU.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,ps=Po(a.nextSibling),xs=t,sr=!0,da=null,e!==null&&($s[Ds++]=bi,$s[Ds++]=wi,$s[Ds++]=Bl,bi=e.id,wi=e.overflow,Bl=t),t=H1(t,s.children),t.flags|=4096,t)}function PC(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),xw(e.return,t,n)}function Tv(e,t,n,s,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=a)}function MM(e,t,n){var s=t.pendingProps,a=s.revealOrder,i=s.tail;if(An(e,t,s.children,n),s=lr.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&PC(e,n,t);else if(e.tag===19)PC(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Qt(lr,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&vx(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Tv(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&vx(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Tv(t,!0,n,null,i);break;case"together":Tv(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qf(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Di(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ql|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(we(153));if(t.child!==null){for(e=t.child,n=To(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=To(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function LU(e,t,n){switch(t.tag){case 3:_M(t),_d();break;case 5:aM(t);break;case 1:Qn(t.type)&&hx(t);break;case 4:z1(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;Qt(xx,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Qt(lr,lr.current&1),t.flags|=128,null):n&t.child.childLanes?TM(e,t,n):(Qt(lr,lr.current&1),e=Di(e,t,n),e!==null?e.sibling:null);Qt(lr,lr.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return MM(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Qt(lr,lr.current),s)break;return null;case 22:case 23:return t.lanes=0,OM(e,t,n)}return Di(e,t,n)}var IM,Sw,RM,$M;IM=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Sw=function(){};RM=function(e,t,n,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,vl(Va.current);var i=null;switch(n){case"input":a=Hb(e,a),s=Hb(e,s),i=[];break;case"select":a=ur({},a,{value:void 0}),s=ur({},s,{value:void 0}),i=[];break;case"textarea":a=Yb(e,a),s=Yb(e,s),i=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=ux)}Xb(n,s);var o;n=null;for(d in a)if(!s.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Gm.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in s){var c=s[d];if(l=a!=null?a[d]:void 0,s.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Gm.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Jt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};$M=function(e,t,n,s){n!==s&&(t.flags|=4)};function Zu(e,t){if(!sr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function gn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function UU(e,t,n){var s=t.pendingProps;switch(_1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gn(t),null;case 1:return Qn(t.type)&&mx(),gn(t),null;case 3:return s=t.stateNode,Md(),nr(Yn),nr(wn),L1(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(nf(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,da!==null&&(Tw(da),da=null))),Sw(e,t),gn(t),null;case 5:F1(t);var a=vl(ih.current);if(n=t.type,e!==null&&t.stateNode!=null)RM(e,t,n,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(we(166));return gn(t),null}if(e=vl(Va.current),nf(t)){s=t.stateNode,n=t.type;var i=t.memoizedProps;switch(s[za]=t,s[sh]=i,e=(t.mode&1)!==0,n){case"dialog":Jt("cancel",s),Jt("close",s);break;case"iframe":case"object":case"embed":Jt("load",s);break;case"video":case"audio":for(a=0;a<jm.length;a++)Jt(jm[a],s);break;case"source":Jt("error",s);break;case"img":case"image":case"link":Jt("error",s),Jt("load",s);break;case"details":Jt("toggle",s);break;case"input":D4(s,i),Jt("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},Jt("invalid",s);break;case"textarea":F4(s,i),Jt("invalid",s)}Xb(n,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?s.textContent!==l&&(i.suppressHydrationWarning!==!0&&rf(s.textContent,l,e),a=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&rf(s.textContent,l,e),a=["children",""+l]):Gm.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Jt("scroll",s)}switch(n){case"input":Gp(s),z4(s,i,!0);break;case"textarea":Gp(s),L4(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=ux)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=d3(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(n,{is:s.is}):(e=o.createElement(n),n==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,n),e[za]=t,e[sh]=s,IM(e,t,!1,!1),t.stateNode=e;e:{switch(o=Zb(n,s),n){case"dialog":Jt("cancel",e),Jt("close",e),a=s;break;case"iframe":case"object":case"embed":Jt("load",e),a=s;break;case"video":case"audio":for(a=0;a<jm.length;a++)Jt(jm[a],e);a=s;break;case"source":Jt("error",e),a=s;break;case"img":case"image":case"link":Jt("error",e),Jt("load",e),a=s;break;case"details":Jt("toggle",e),a=s;break;case"input":D4(e,s),a=Hb(e,s),Jt("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=ur({},s,{value:void 0}),Jt("invalid",e);break;case"textarea":F4(e,s),a=Yb(e,s),Jt("invalid",e);break;default:a=s}Xb(n,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?h3(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&u3(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ym(e,c):typeof c=="number"&&Ym(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Gm.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Jt("scroll",e):c!=null&&x1(e,i,c,o))}switch(n){case"input":Gp(e),z4(e,s,!1);break;case"textarea":Gp(e),L4(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Fo(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?rd(e,!!s.multiple,i,!1):s.defaultValue!=null&&rd(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=ux)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return gn(t),null;case 6:if(e&&t.stateNode!=null)$M(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(we(166));if(n=vl(ih.current),vl(Va.current),nf(t)){if(s=t.stateNode,n=t.memoizedProps,s[za]=t,(i=s.nodeValue!==n)&&(e=xs,e!==null))switch(e.tag){case 3:rf(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&rf(s.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[za]=t,t.stateNode=s}return gn(t),null;case 13:if(nr(lr),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(sr&&ps!==null&&t.mode&1&&!(t.flags&128))eM(),_d(),t.flags|=98560,i=!1;else if(i=nf(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(we(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(we(317));i[za]=t}else _d(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;gn(t),i=!1}else da!==null&&(Tw(da),da=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||lr.current&1?Gr===0&&(Gr=3):Z1())),t.updateQueue!==null&&(t.flags|=4),gn(t),null);case 4:return Md(),Sw(e,t),e===null&&rh(t.stateNode.containerInfo),gn(t),null;case 10:return R1(t.type._context),gn(t),null;case 17:return Qn(t.type)&&mx(),gn(t),null;case 19:if(nr(lr),i=t.memoizedState,i===null)return gn(t),null;if(s=(t.flags&128)!==0,o=i.rendering,o===null)if(s)Zu(i,!1);else{if(Gr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=vx(e),o!==null){for(t.flags|=128,Zu(i,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)i=n,e=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Qt(lr,lr.current&1|2),t.child}e=e.sibling}i.tail!==null&&Nr()>Rd&&(t.flags|=128,s=!0,Zu(i,!1),t.lanes=4194304)}else{if(!s)if(e=vx(o),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Zu(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!sr)return gn(t),null}else 2*Nr()-i.renderingStartTime>Rd&&n!==1073741824&&(t.flags|=128,s=!0,Zu(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Nr(),t.sibling=null,n=lr.current,Qt(lr,s?n&1|2:n&1),t):(gn(t),null);case 22:case 23:return X1(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?is&1073741824&&(gn(t),t.subtreeFlags&6&&(t.flags|=8192)):gn(t),null;case 24:return null;case 25:return null}throw Error(we(156,t.tag))}function BU(e,t){switch(_1(t),t.tag){case 1:return Qn(t.type)&&mx(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Md(),nr(Yn),nr(wn),L1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return F1(t),null;case 13:if(nr(lr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(we(340));_d()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return nr(lr),null;case 4:return Md(),null;case 10:return R1(t.type._context),null;case 22:case 23:return X1(),null;case 24:return null;default:return null}}var of=!1,vn=!1,VU=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function Gc(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){hr(e,t,s)}else n.current=null}function Cw(e,t,n){try{n()}catch(s){hr(e,t,s)}}var OC=!1;function qU(e,t){if(lw=lx,e=U3(),O1(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var a=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,m=e,p=null;t:for(;;){for(var f;m!==n||a!==0&&m.nodeType!==3||(l=o+a),m!==i||s!==0&&m.nodeType!==3||(c=o+s),m.nodeType===3&&(o+=m.nodeValue.length),(f=m.firstChild)!==null;)p=m,m=f;for(;;){if(m===e)break t;if(p===n&&++d===a&&(l=o),p===i&&++u===s&&(c=o),(f=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=f}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(cw={focusedElem:e,selectionRange:n},lx=!1,Ie=t;Ie!==null;)if(t=Ie,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ie=e;else for(;Ie!==null;){t=Ie;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var h=x.memoizedProps,y=x.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?h:na(t.type,h),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(we(163))}}catch(S){hr(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,Ie=e;break}Ie=t.return}return x=OC,OC=!1,x}function Im(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Cw(t,n,i)}a=a.next}while(a!==s)}}function p0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function kw(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function DM(e){var t=e.alternate;t!==null&&(e.alternate=null,DM(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[za],delete t[sh],delete t[mw],delete t[kU],delete t[AU])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function zM(e){return e.tag===5||e.tag===3||e.tag===4}function EC(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||zM(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Aw(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ux));else if(s!==4&&(e=e.child,e!==null))for(Aw(e,t,n),e=e.sibling;e!==null;)Aw(e,t,n),e=e.sibling}function Pw(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Pw(e,t,n),e=e.sibling;e!==null;)Pw(e,t,n),e=e.sibling}var cn=null,ia=!1;function Qi(e,t,n){for(n=n.child;n!==null;)FM(e,t,n),n=n.sibling}function FM(e,t,n){if(Ba&&typeof Ba.onCommitFiberUnmount=="function")try{Ba.onCommitFiberUnmount(i0,n)}catch{}switch(n.tag){case 5:vn||Gc(n,t);case 6:var s=cn,a=ia;cn=null,Qi(e,t,n),cn=s,ia=a,cn!==null&&(ia?(e=cn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):cn.removeChild(n.stateNode));break;case 18:cn!==null&&(ia?(e=cn,n=n.stateNode,e.nodeType===8?Cv(e.parentNode,n):e.nodeType===1&&Cv(e,n),Jm(e)):Cv(cn,n.stateNode));break;case 4:s=cn,a=ia,cn=n.stateNode.containerInfo,ia=!0,Qi(e,t,n),cn=s,ia=a;break;case 0:case 11:case 14:case 15:if(!vn&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Cw(n,t,o),a=a.next}while(a!==s)}Qi(e,t,n);break;case 1:if(!vn&&(Gc(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){hr(n,t,l)}Qi(e,t,n);break;case 21:Qi(e,t,n);break;case 22:n.mode&1?(vn=(s=vn)||n.memoizedState!==null,Qi(e,t,n),vn=s):Qi(e,t,n);break;default:Qi(e,t,n)}}function _C(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new VU),t.forEach(function(s){var a=JU.bind(null,e,s);n.has(s)||(n.add(s),s.then(a,a))})}}function ea(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var a=n[s];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:cn=l.stateNode,ia=!1;break e;case 3:cn=l.stateNode.containerInfo,ia=!0;break e;case 4:cn=l.stateNode.containerInfo,ia=!0;break e}l=l.return}if(cn===null)throw Error(we(160));FM(i,o,a),cn=null,ia=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){hr(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)LM(t,e),t=t.sibling}function LM(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ea(t,e),Ea(e),s&4){try{Im(3,e,e.return),p0(3,e)}catch(h){hr(e,e.return,h)}try{Im(5,e,e.return)}catch(h){hr(e,e.return,h)}}break;case 1:ea(t,e),Ea(e),s&512&&n!==null&&Gc(n,n.return);break;case 5:if(ea(t,e),Ea(e),s&512&&n!==null&&Gc(n,n.return),e.flags&32){var a=e.stateNode;try{Ym(a,"")}catch(h){hr(e,e.return,h)}}if(s&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&l3(a,i),Zb(l,o);var d=Zb(l,i);for(o=0;o<c.length;o+=2){var u=c[o],m=c[o+1];u==="style"?h3(a,m):u==="dangerouslySetInnerHTML"?u3(a,m):u==="children"?Ym(a,m):x1(a,u,m,d)}switch(l){case"input":Kb(a,i);break;case"textarea":c3(a,i);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?rd(a,!!i.multiple,f,!1):p!==!!i.multiple&&(i.defaultValue!=null?rd(a,!!i.multiple,i.defaultValue,!0):rd(a,!!i.multiple,i.multiple?[]:"",!1))}a[sh]=i}catch(h){hr(e,e.return,h)}}break;case 6:if(ea(t,e),Ea(e),s&4){if(e.stateNode===null)throw Error(we(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(h){hr(e,e.return,h)}}break;case 3:if(ea(t,e),Ea(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Jm(t.containerInfo)}catch(h){hr(e,e.return,h)}break;case 4:ea(t,e),Ea(e);break;case 13:ea(t,e),Ea(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Y1=Nr())),s&4&&_C(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(vn=(d=vn)||u,ea(t,e),vn=d):ea(t,e),Ea(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(Ie=e,u=e.child;u!==null;){for(m=Ie=u;Ie!==null;){switch(p=Ie,f=p.child,p.tag){case 0:case 11:case 14:case 15:Im(4,p,p.return);break;case 1:Gc(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){s=p,n=p.return;try{t=s,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(h){hr(s,n,h)}}break;case 5:Gc(p,p.return);break;case 22:if(p.memoizedState!==null){MC(m);continue}}f!==null?(f.return=p,Ie=f):MC(m)}u=u.sibling}e:for(u=null,m=e;;){if(m.tag===5){if(u===null){u=m;try{a=m.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=m3("display",o))}catch(h){hr(e,e.return,h)}}}else if(m.tag===6){if(u===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(h){hr(e,e.return,h)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:ea(t,e),Ea(e),s&4&&_C(e);break;case 21:break;default:ea(t,e),Ea(e)}}function Ea(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(zM(n)){var s=n;break e}n=n.return}throw Error(we(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(Ym(a,""),s.flags&=-33);var i=EC(e);Pw(e,i,a);break;case 3:case 4:var o=s.stateNode.containerInfo,l=EC(e);Aw(e,l,o);break;default:throw Error(we(161))}}catch(c){hr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function WU(e,t,n){Ie=e,UM(e)}function UM(e,t,n){for(var s=(e.mode&1)!==0;Ie!==null;){var a=Ie,i=a.child;if(a.tag===22&&s){var o=a.memoizedState!==null||of;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||vn;l=of;var d=vn;if(of=o,(vn=c)&&!d)for(Ie=a;Ie!==null;)o=Ie,c=o.child,o.tag===22&&o.memoizedState!==null?IC(a):c!==null?(c.return=o,Ie=c):IC(a);for(;i!==null;)Ie=i,UM(i),i=i.sibling;Ie=a,of=l,vn=d}TC(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Ie=i):TC(e)}}function TC(e){for(;Ie!==null;){var t=Ie;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:vn||p0(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!vn)if(n===null)s.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);s.componentDidUpdate(a,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&xC(t,i,s);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}xC(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var m=u.dehydrated;m!==null&&Jm(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(we(163))}vn||t.flags&512&&kw(t)}catch(p){hr(t,t.return,p)}}if(t===e){Ie=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ie=n;break}Ie=t.return}}function MC(e){for(;Ie!==null;){var t=Ie;if(t===e){Ie=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ie=n;break}Ie=t.return}}function IC(e){for(;Ie!==null;){var t=Ie;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{p0(4,t)}catch(c){hr(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(c){hr(t,a,c)}}var i=t.return;try{kw(t)}catch(c){hr(t,i,c)}break;case 5:var o=t.return;try{kw(t)}catch(c){hr(t,o,c)}}}catch(c){hr(t,t.return,c)}if(t===e){Ie=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ie=l;break}Ie=t.return}}var HU=Math.ceil,jx=qi.ReactCurrentDispatcher,K1=qi.ReactCurrentOwner,Us=qi.ReactCurrentBatchConfig,Ct=0,nn=null,Ir=null,hn=0,is=0,Yc=Go(0),Gr=0,dh=null,ql=0,f0=0,G1=0,Rm=null,Hn=null,Y1=0,Rd=1/0,ui=null,Nx=!1,Ow=null,Eo=null,lf=!1,bo=null,Sx=0,$m=0,Ew=null,Wf=-1,Hf=0;function In(){return Ct&6?Nr():Wf!==-1?Wf:Wf=Nr()}function _o(e){return e.mode&1?Ct&2&&hn!==0?hn&-hn:OU.transition!==null?(Hf===0&&(Hf=C3()),Hf):(e=Ut,e!==0||(e=window.event,e=e===void 0?16:T3(e.type)),e):1}function ya(e,t,n,s){if(50<$m)throw $m=0,Ew=null,Error(we(185));fp(e,n,s),(!(Ct&2)||e!==nn)&&(e===nn&&(!(Ct&2)&&(f0|=n),Gr===4&&oo(e,hn)),Xn(e,s),n===1&&Ct===0&&!(t.mode&1)&&(Rd=Nr()+500,u0&&Yo()))}function Xn(e,t){var n=e.callbackNode;O7(e,t);var s=ox(e,e===nn?hn:0);if(s===0)n!==null&&V4(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&V4(n),t===1)e.tag===0?PU(RC.bind(null,e)):X3(RC.bind(null,e)),SU(function(){!(Ct&6)&&Yo()}),n=null;else{switch(k3(s)){case 1:n=w1;break;case 4:n=N3;break;case 16:n=ix;break;case 536870912:n=S3;break;default:n=ix}n=YM(n,BM.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function BM(e,t){if(Wf=-1,Hf=0,Ct&6)throw Error(we(327));var n=e.callbackNode;if(od()&&e.callbackNode!==n)return null;var s=ox(e,e===nn?hn:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Cx(e,s);else{t=s;var a=Ct;Ct|=2;var i=qM();(nn!==e||hn!==t)&&(ui=null,Rd=Nr()+500,$l(e,t));do try{YU();break}catch(l){VM(e,l)}while(!0);I1(),jx.current=i,Ct=a,Ir!==null?t=0:(nn=null,hn=0,t=Gr)}if(t!==0){if(t===2&&(a=nw(e),a!==0&&(s=a,t=_w(e,a))),t===1)throw n=dh,$l(e,0),oo(e,s),Xn(e,Nr()),n;if(t===6)oo(e,s);else{if(a=e.current.alternate,!(s&30)&&!KU(a)&&(t=Cx(e,s),t===2&&(i=nw(e),i!==0&&(s=i,t=_w(e,i))),t===1))throw n=dh,$l(e,0),oo(e,s),Xn(e,Nr()),n;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(we(345));case 2:dl(e,Hn,ui);break;case 3:if(oo(e,s),(s&130023424)===s&&(t=Y1+500-Nr(),10<t)){if(ox(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){In(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=uw(dl.bind(null,e,Hn,ui),t);break}dl(e,Hn,ui);break;case 4:if(oo(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var o=31-ga(s);i=1<<o,o=t[o],o>a&&(a=o),s&=~i}if(s=a,s=Nr()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*HU(s/1960))-s,10<s){e.timeoutHandle=uw(dl.bind(null,e,Hn,ui),s);break}dl(e,Hn,ui);break;case 5:dl(e,Hn,ui);break;default:throw Error(we(329))}}}return Xn(e,Nr()),e.callbackNode===n?BM.bind(null,e):null}function _w(e,t){var n=Rm;return e.current.memoizedState.isDehydrated&&($l(e,t).flags|=256),e=Cx(e,t),e!==2&&(t=Hn,Hn=n,t!==null&&Tw(t)),e}function Tw(e){Hn===null?Hn=e:Hn.push.apply(Hn,e)}function KU(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var a=n[s],i=a.getSnapshot;a=a.value;try{if(!ba(i(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function oo(e,t){for(t&=~G1,t&=~f0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ga(t),s=1<<n;e[n]=-1,t&=~s}}function RC(e){if(Ct&6)throw Error(we(327));od();var t=ox(e,0);if(!(t&1))return Xn(e,Nr()),null;var n=Cx(e,t);if(e.tag!==0&&n===2){var s=nw(e);s!==0&&(t=s,n=_w(e,s))}if(n===1)throw n=dh,$l(e,0),oo(e,t),Xn(e,Nr()),n;if(n===6)throw Error(we(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,dl(e,Hn,ui),Xn(e,Nr()),null}function Q1(e,t){var n=Ct;Ct|=1;try{return e(t)}finally{Ct=n,Ct===0&&(Rd=Nr()+500,u0&&Yo())}}function Wl(e){bo!==null&&bo.tag===0&&!(Ct&6)&&od();var t=Ct;Ct|=1;var n=Us.transition,s=Ut;try{if(Us.transition=null,Ut=1,e)return e()}finally{Ut=s,Us.transition=n,Ct=t,!(Ct&6)&&Yo()}}function X1(){is=Yc.current,nr(Yc)}function $l(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,NU(n)),Ir!==null)for(n=Ir.return;n!==null;){var s=n;switch(_1(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&mx();break;case 3:Md(),nr(Yn),nr(wn),L1();break;case 5:F1(s);break;case 4:Md();break;case 13:nr(lr);break;case 19:nr(lr);break;case 10:R1(s.type._context);break;case 22:case 23:X1()}n=n.return}if(nn=e,Ir=e=To(e.current,null),hn=is=t,Gr=0,dh=null,G1=f0=ql=0,Hn=Rm=null,yl!==null){for(t=0;t<yl.length;t++)if(n=yl[t],s=n.interleaved,s!==null){n.interleaved=null;var a=s.next,i=n.pending;if(i!==null){var o=i.next;i.next=a,s.next=o}n.pending=s}yl=null}return e}function VM(e,t){do{var n=Ir;try{if(I1(),Bf.current=wx,bx){for(var s=dr.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}bx=!1}if(Vl=0,en=Wr=dr=null,Mm=!1,oh=0,K1.current=null,n===null||n.return===null){Gr=1,dh=t,Ir=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=hn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,m=u.tag;if(!(u.mode&1)&&(m===0||m===11||m===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=jC(o);if(f!==null){f.flags&=-257,NC(f,o,l,i,t),f.mode&1&&wC(i,d,t),t=f,c=d;var x=t.updateQueue;if(x===null){var h=new Set;h.add(c),t.updateQueue=h}else x.add(c);break e}else{if(!(t&1)){wC(i,d,t),Z1();break e}c=Error(we(426))}}else if(sr&&l.mode&1){var y=jC(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),NC(y,o,l,i,t),T1(Id(c,l));break e}}i=c=Id(c,l),Gr!==4&&(Gr=2),Rm===null?Rm=[i]:Rm.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=kM(i,c,t);fC(i,v);break e;case 1:l=c;var b=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Eo===null||!Eo.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=AM(i,l,t);fC(i,S);break e}}i=i.return}while(i!==null)}HM(n)}catch(N){t=N,Ir===n&&n!==null&&(Ir=n=n.return);continue}break}while(!0)}function qM(){var e=jx.current;return jx.current=wx,e===null?wx:e}function Z1(){(Gr===0||Gr===3||Gr===2)&&(Gr=4),nn===null||!(ql&268435455)&&!(f0&268435455)||oo(nn,hn)}function Cx(e,t){var n=Ct;Ct|=2;var s=qM();(nn!==e||hn!==t)&&(ui=null,$l(e,t));do try{GU();break}catch(a){VM(e,a)}while(!0);if(I1(),Ct=n,jx.current=s,Ir!==null)throw Error(we(261));return nn=null,hn=0,Gr}function GU(){for(;Ir!==null;)WM(Ir)}function YU(){for(;Ir!==null&&!b7();)WM(Ir)}function WM(e){var t=GM(e.alternate,e,is);e.memoizedProps=e.pendingProps,t===null?HM(e):Ir=t,K1.current=null}function HM(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=BU(n,t),n!==null){n.flags&=32767,Ir=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Gr=6,Ir=null;return}}else if(n=UU(n,t,is),n!==null){Ir=n;return}if(t=t.sibling,t!==null){Ir=t;return}Ir=t=e}while(t!==null);Gr===0&&(Gr=5)}function dl(e,t,n){var s=Ut,a=Us.transition;try{Us.transition=null,Ut=1,QU(e,t,n,s)}finally{Us.transition=a,Ut=s}return null}function QU(e,t,n,s){do od();while(bo!==null);if(Ct&6)throw Error(we(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(we(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(E7(e,i),e===nn&&(Ir=nn=null,hn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||lf||(lf=!0,YM(ix,function(){return od(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Us.transition,Us.transition=null;var o=Ut;Ut=1;var l=Ct;Ct|=4,K1.current=null,qU(e,n),LM(n,e),xU(cw),lx=!!lw,cw=lw=null,e.current=n,WU(n),w7(),Ct=l,Ut=o,Us.transition=i}else e.current=n;if(lf&&(lf=!1,bo=e,Sx=a),i=e.pendingLanes,i===0&&(Eo=null),S7(n.stateNode),Xn(e,Nr()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],s(a.value,{componentStack:a.stack,digest:a.digest});if(Nx)throw Nx=!1,e=Ow,Ow=null,e;return Sx&1&&e.tag!==0&&od(),i=e.pendingLanes,i&1?e===Ew?$m++:($m=0,Ew=e):$m=0,Yo(),null}function od(){if(bo!==null){var e=k3(Sx),t=Us.transition,n=Ut;try{if(Us.transition=null,Ut=16>e?16:e,bo===null)var s=!1;else{if(e=bo,bo=null,Sx=0,Ct&6)throw Error(we(331));var a=Ct;for(Ct|=4,Ie=e.current;Ie!==null;){var i=Ie,o=i.child;if(Ie.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Ie=d;Ie!==null;){var u=Ie;switch(u.tag){case 0:case 11:case 15:Im(8,u,i)}var m=u.child;if(m!==null)m.return=u,Ie=m;else for(;Ie!==null;){u=Ie;var p=u.sibling,f=u.return;if(DM(u),u===d){Ie=null;break}if(p!==null){p.return=f,Ie=p;break}Ie=f}}}var x=i.alternate;if(x!==null){var h=x.child;if(h!==null){x.child=null;do{var y=h.sibling;h.sibling=null,h=y}while(h!==null)}}Ie=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Ie=o;else e:for(;Ie!==null;){if(i=Ie,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Im(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,Ie=v;break e}Ie=i.return}}var b=e.current;for(Ie=b;Ie!==null;){o=Ie;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Ie=w;else e:for(o=b;Ie!==null;){if(l=Ie,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:p0(9,l)}}catch(N){hr(l,l.return,N)}if(l===o){Ie=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,Ie=S;break e}Ie=l.return}}if(Ct=a,Yo(),Ba&&typeof Ba.onPostCommitFiberRoot=="function")try{Ba.onPostCommitFiberRoot(i0,e)}catch{}s=!0}return s}finally{Ut=n,Us.transition=t}}return!1}function $C(e,t,n){t=Id(n,t),t=kM(e,t,1),e=Oo(e,t,1),t=In(),e!==null&&(fp(e,1,t),Xn(e,t))}function hr(e,t,n){if(e.tag===3)$C(e,e,n);else for(;t!==null;){if(t.tag===3){$C(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Eo===null||!Eo.has(s))){e=Id(n,e),e=AM(t,e,1),t=Oo(t,e,1),e=In(),t!==null&&(fp(t,1,e),Xn(t,e));break}}t=t.return}}function XU(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=In(),e.pingedLanes|=e.suspendedLanes&n,nn===e&&(hn&n)===n&&(Gr===4||Gr===3&&(hn&130023424)===hn&&500>Nr()-Y1?$l(e,0):G1|=n),Xn(e,t)}function KM(e,t){t===0&&(e.mode&1?(t=Xp,Xp<<=1,!(Xp&130023424)&&(Xp=4194304)):t=1);var n=In();e=$i(e,t),e!==null&&(fp(e,t,n),Xn(e,n))}function ZU(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),KM(e,n)}function JU(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(we(314))}s!==null&&s.delete(t),KM(e,n)}var GM;GM=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Yn.current)Kn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Kn=!1,LU(e,t,n);Kn=!!(e.flags&131072)}else Kn=!1,sr&&t.flags&1048576&&Z3(t,fx,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;qf(e,t),e=t.pendingProps;var a=Ed(t,wn.current);id(t,n),a=B1(null,t,s,e,a,n);var i=V1();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Qn(s)?(i=!0,hx(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,D1(t),a.updater=h0,t.stateNode=a,a._reactInternals=t,yw(t,s,e,n),t=ww(null,t,s,!0,i,n)):(t.tag=0,sr&&i&&E1(t),An(null,t,a,n),t=t.child),t;case 16:s=t.elementType;e:{switch(qf(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=tB(s),e=na(s,e),a){case 0:t=bw(null,t,s,e,n);break e;case 1:t=kC(null,t,s,e,n);break e;case 11:t=SC(null,t,s,e,n);break e;case 14:t=CC(null,t,s,na(s.type,e),n);break e}throw Error(we(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:na(s,a),bw(e,t,s,a,n);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:na(s,a),kC(e,t,s,a,n);case 3:e:{if(_M(t),e===null)throw Error(we(387));s=t.pendingProps,i=t.memoizedState,a=i.element,sM(e,t),yx(t,s,null,n);var o=t.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Id(Error(we(423)),t),t=AC(e,t,s,n,a);break e}else if(s!==a){a=Id(Error(we(424)),t),t=AC(e,t,s,n,a);break e}else for(ps=Po(t.stateNode.containerInfo.firstChild),xs=t,sr=!0,da=null,n=rM(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_d(),s===a){t=Di(e,t,n);break e}An(e,t,s,n)}t=t.child}return t;case 5:return aM(t),e===null&&fw(t),s=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,dw(s,a)?o=null:i!==null&&dw(s,i)&&(t.flags|=32),EM(e,t),An(e,t,o,n),t.child;case 6:return e===null&&fw(t),null;case 13:return TM(e,t,n);case 4:return z1(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Td(t,null,s,n):An(e,t,s,n),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:na(s,a),SC(e,t,s,a,n);case 7:return An(e,t,t.pendingProps,n),t.child;case 8:return An(e,t,t.pendingProps.children,n),t.child;case 12:return An(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Qt(xx,s._currentValue),s._currentValue=o,i!==null)if(ba(i.value,o)){if(i.children===a.children&&!Yn.current){t=Di(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=Ci(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),xw(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(we(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),xw(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}An(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,id(t,n),a=Hs(a),s=s(a),t.flags|=1,An(e,t,s,n),t.child;case 14:return s=t.type,a=na(s,t.pendingProps),a=na(s.type,a),CC(e,t,s,a,n);case 15:return PM(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:na(s,a),qf(e,t),t.tag=1,Qn(s)?(e=!0,hx(t)):e=!1,id(t,n),CM(t,s,a),yw(t,s,a,n),ww(null,t,s,!0,e,n);case 19:return MM(e,t,n);case 22:return OM(e,t,n)}throw Error(we(156,t.tag))};function YM(e,t){return j3(e,t)}function eB(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fs(e,t,n,s){return new eB(e,t,n,s)}function J1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tB(e){if(typeof e=="function")return J1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===y1)return 11;if(e===v1)return 14}return 2}function To(e,t){var n=e.alternate;return n===null?(n=Fs(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Kf(e,t,n,s,a,i){var o=2;if(s=e,typeof e=="function")J1(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Fc:return Dl(n.children,a,i,t);case g1:o=8,a|=8;break;case Bb:return e=Fs(12,n,t,a|2),e.elementType=Bb,e.lanes=i,e;case Vb:return e=Fs(13,n,t,a),e.elementType=Vb,e.lanes=i,e;case qb:return e=Fs(19,n,t,a),e.elementType=qb,e.lanes=i,e;case a3:return x0(n,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case n3:o=10;break e;case s3:o=9;break e;case y1:o=11;break e;case v1:o=14;break e;case ro:o=16,s=null;break e}throw Error(we(130,e==null?e:typeof e,""))}return t=Fs(o,n,t,a),t.elementType=e,t.type=s,t.lanes=i,t}function Dl(e,t,n,s){return e=Fs(7,e,s,t),e.lanes=n,e}function x0(e,t,n,s){return e=Fs(22,e,s,t),e.elementType=a3,e.lanes=n,e.stateNode={isHidden:!1},e}function Mv(e,t,n){return e=Fs(6,e,null,t),e.lanes=n,e}function Iv(e,t,n){return t=Fs(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function rB(e,t,n,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pv(0),this.expirationTimes=pv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pv(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function e2(e,t,n,s,a,i,o,l,c){return e=new rB(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Fs(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},D1(i),e}function nB(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zc,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function QM(e){if(!e)return Lo;e=e._reactInternals;e:{if(uc(e)!==e||e.tag!==1)throw Error(we(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Qn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(we(171))}if(e.tag===1){var n=e.type;if(Qn(n))return Q3(e,n,t)}return t}function XM(e,t,n,s,a,i,o,l,c){return e=e2(n,s,!0,e,a,i,o,l,c),e.context=QM(null),n=e.current,s=In(),a=_o(n),i=Ci(s,a),i.callback=t??null,Oo(n,i,a),e.current.lanes=a,fp(e,a,s),Xn(e,s),e}function g0(e,t,n,s){var a=t.current,i=In(),o=_o(a);return n=QM(n),t.context===null?t.context=n:t.pendingContext=n,t=Ci(i,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Oo(a,t,o),e!==null&&(ya(e,a,o,i),Uf(e,a,o)),o}function kx(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function DC(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function t2(e,t){DC(e,t),(e=e.alternate)&&DC(e,t)}function sB(){return null}var ZM=typeof reportError=="function"?reportError:function(e){console.error(e)};function r2(e){this._internalRoot=e}y0.prototype.render=r2.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(we(409));g0(e,t,null,null)};y0.prototype.unmount=r2.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Wl(function(){g0(null,e,null,null)}),t[Ri]=null}};function y0(e){this._internalRoot=e}y0.prototype.unstable_scheduleHydration=function(e){if(e){var t=O3();e={blockedOn:null,target:e,priority:t};for(var n=0;n<io.length&&t!==0&&t<io[n].priority;n++);io.splice(n,0,e),n===0&&_3(e)}};function n2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function v0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function zC(){}function aB(e,t,n,s,a){if(a){if(typeof s=="function"){var i=s;s=function(){var d=kx(o);i.call(d)}}var o=XM(t,s,e,0,null,!1,!1,"",zC);return e._reactRootContainer=o,e[Ri]=o.current,rh(e.nodeType===8?e.parentNode:e),Wl(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var l=s;s=function(){var d=kx(c);l.call(d)}}var c=e2(e,0,!1,null,null,!1,!1,"",zC);return e._reactRootContainer=c,e[Ri]=c.current,rh(e.nodeType===8?e.parentNode:e),Wl(function(){g0(t,c,n,s)}),c}function b0(e,t,n,s,a){var i=n._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=kx(o);l.call(c)}}g0(t,o,e,a)}else o=aB(n,t,e,a,s);return kx(o)}A3=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=wm(t.pendingLanes);n!==0&&(j1(t,n|1),Xn(t,Nr()),!(Ct&6)&&(Rd=Nr()+500,Yo()))}break;case 13:Wl(function(){var s=$i(e,1);if(s!==null){var a=In();ya(s,e,1,a)}}),t2(e,1)}};N1=function(e){if(e.tag===13){var t=$i(e,134217728);if(t!==null){var n=In();ya(t,e,134217728,n)}t2(e,134217728)}};P3=function(e){if(e.tag===13){var t=_o(e),n=$i(e,t);if(n!==null){var s=In();ya(n,e,t,s)}t2(e,t)}};O3=function(){return Ut};E3=function(e,t){var n=Ut;try{return Ut=e,t()}finally{Ut=n}};ew=function(e,t,n){switch(t){case"input":if(Kb(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var a=d0(s);if(!a)throw Error(we(90));o3(s),Kb(s,a)}}}break;case"textarea":c3(e,n);break;case"select":t=n.value,t!=null&&rd(e,!!n.multiple,t,!1)}};x3=Q1;g3=Wl;var iB={usingClientEntryPoint:!1,Events:[gp,Vc,d0,p3,f3,Q1]},Ju={findFiberByHostInstance:gl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},oB={bundleType:Ju.bundleType,version:Ju.version,rendererPackageName:Ju.rendererPackageName,rendererConfig:Ju.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=b3(e),e===null?null:e.stateNode},findFiberByHostInstance:Ju.findFiberByHostInstance||sB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cf.isDisabled&&cf.supportsFiber)try{i0=cf.inject(oB),Ba=cf}catch{}}Cs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iB;Cs.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!n2(t))throw Error(we(200));return nB(e,t,null,n)};Cs.createRoot=function(e,t){if(!n2(e))throw Error(we(299));var n=!1,s="",a=ZM;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=e2(e,1,!1,null,null,n,!1,s,a),e[Ri]=t.current,rh(e.nodeType===8?e.parentNode:e),new r2(t)};Cs.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(we(188)):(e=Object.keys(e).join(","),Error(we(268,e)));return e=b3(t),e=e===null?null:e.stateNode,e};Cs.flushSync=function(e){return Wl(e)};Cs.hydrate=function(e,t,n){if(!v0(t))throw Error(we(200));return b0(null,e,t,!0,n)};Cs.hydrateRoot=function(e,t,n){if(!n2(e))throw Error(we(405));var s=n!=null&&n.hydratedSources||null,a=!1,i="",o=ZM;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=XM(t,null,e,1,n??null,a,!1,i,o),e[Ri]=t.current,rh(e),s)for(e=0;e<s.length;e++)n=s[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new y0(t)};Cs.render=function(e,t,n){if(!v0(t))throw Error(we(200));return b0(null,e,t,!1,n)};Cs.unmountComponentAtNode=function(e){if(!v0(e))throw Error(we(40));return e._reactRootContainer?(Wl(function(){b0(null,null,e,!1,function(){e._reactRootContainer=null,e[Ri]=null})}),!0):!1};Cs.unstable_batchedUpdates=Q1;Cs.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!v0(n))throw Error(we(200));if(e==null||e._reactInternals===void 0)throw Error(we(38));return b0(e,t,n,!1,s)};Cs.version="18.3.1-next-f1338f8080-20240426";function JM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JM)}catch(e){console.error(e)}}JM(),JT.exports=Cs;var mc=JT.exports;const lB=$t(mc);var e5,FC=mc;e5=FC.createRoot,FC.hydrateRoot;function cB(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,s,a,i,o=[],l="",c=e.split("/");for(c[0]||c.shift();a=c.shift();)n=a[0],n==="*"?(o.push(n),l+=a[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(s=a.indexOf("?",1),i=a.indexOf(".",1),o.push(a.substring(1,~s?s:~i?i:a.length)),l+=~s&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~s?"?":"")+"\\"+a.substring(i))):l+="/"+a;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var t5={exports:{}},r5={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $d=g;function dB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var uB=typeof Object.is=="function"?Object.is:dB,mB=$d.useState,hB=$d.useEffect,pB=$d.useLayoutEffect,fB=$d.useDebugValue;function xB(e,t){var n=t(),s=mB({inst:{value:n,getSnapshot:t}}),a=s[0].inst,i=s[1];return pB(function(){a.value=n,a.getSnapshot=t,Rv(a)&&i({inst:a})},[e,n,t]),hB(function(){return Rv(a)&&i({inst:a}),e(function(){Rv(a)&&i({inst:a})})},[e]),fB(n),n}function Rv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!uB(e,n)}catch{return!0}}function gB(e,t){return t()}var yB=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?gB:xB;r5.useSyncExternalStore=$d.useSyncExternalStore!==void 0?$d.useSyncExternalStore:yB;t5.exports=r5;var n5=t5.exports;const vB=a0.useInsertionEffect,bB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wB=bB?g.useLayoutEffect:g.useEffect,jB=vB||wB,s5=e=>{const t=g.useRef([e,(...n)=>t[0](...n)]).current;return jB(()=>{t[0]=e}),t[1]},NB="popstate",s2="pushState",a2="replaceState",SB="hashchange",LC=[NB,s2,a2,SB],CB=e=>{for(const t of LC)addEventListener(t,e);return()=>{for(const t of LC)removeEventListener(t,e)}},a5=(e,t)=>n5.useSyncExternalStore(CB,e,t),UC=()=>location.search,kB=({ssrSearch:e}={})=>a5(UC,e!=null?()=>e:UC),BC=()=>location.pathname,AB=({ssrPath:e}={})=>a5(BC,e!=null?()=>e:BC),PB=(e,{replace:t=!1,state:n=null}={})=>history[t?a2:s2](n,"",e),OB=(e={})=>[AB(e),PB],VC=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[VC]>"u"){for(const e of[s2,a2]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),s=new Event(e);return s.arguments=arguments,dispatchEvent(s),n}}Object.defineProperty(window,VC,{value:!0})}const EB=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",i5=(e="")=>e==="/"?"":e,_B=(e,t)=>e[0]==="~"?e.slice(1):i5(t)+e,TB=(e="",t)=>EB(qC(i5(e)),qC(t)),qC=e=>{try{return decodeURI(e)}catch{return e}},o5={hook:OB,searchHook:kB,parser:cB,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e,aroundNav:(e,t,n)=>e(t,n)},l5=g.createContext(o5),ju=()=>g.useContext(l5),c5={},d5=g.createContext(c5),w0=()=>g.useContext(d5),j0=e=>{const[t,n]=e.hook(e);return[TB(e.base,t),s5((s,a)=>e.aroundNav(n,_B(s,e.base),a))]},zn=()=>j0(ju()),i2=(e,t,n,s)=>{const{pattern:a,keys:i}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",s),o=a.exec(n)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const d=i!==!1?Object.fromEntries(i.map((m,p)=>[m,c[p]])):o.groups;let u={...c};return d&&Object.assign(u,d),u})(),...s?[l]:[]]:[!1,null]},MB=e=>i2(ju().parser,e,zn()[0]),IB=({children:e,...t})=>{var u,m,p;const n=ju(),s=t.hook?o5:n;let a=s;const[i,o=t.ssrSearch??""]=((u=t.ssrPath)==null?void 0:u.split("?"))??[];i&&(t.ssrSearch=o,t.ssrPath=i),t.hrefs=t.hrefs??((m=t.hook)==null?void 0:m.hrefs),t.searchHook=t.searchHook??((p=t.hook)==null?void 0:p.searchHook);let l=g.useRef({}),c=l.current,d=c;for(let f in s){const x=f==="base"?s[f]+(t[f]??""):t[f]??s[f];c===d&&x!==d[f]&&(l.current=d={...d}),d[f]=x,(x!==s[f]||x!==a[f])&&(a=d)}return g.createElement(l5.Provider,{value:a,children:e})},WC=({children:e,component:t},n)=>t?g.createElement(t,{params:n}):typeof e=="function"?e(n):e,RB=e=>{let t=g.useRef(c5);const n=t.current;return t.current=Object.keys(e).length!==Object.keys(n).length||Object.entries(e).some(([s,a])=>a!==n[s])?e:n},ke=({path:e,nest:t,match:n,...s})=>{const a=ju(),[i]=j0(a),[o,l,c]=n??i2(a.parser,e,i,t),d=RB({...w0(),...l});if(!o)return null;const u=c?g.createElement(IB,{base:c},WC(s,d)):WC(s,d);return g.createElement(d5.Provider,{value:d,children:u})},qt=g.forwardRef((e,t)=>{const n=ju(),[s,a]=j0(n),{to:i="",href:o=i,onClick:l,asChild:c,children:d,className:u,replace:m,state:p,transition:f,...x}=e,h=s5(v=>{v.ctrlKey||v.metaKey||v.altKey||v.shiftKey||v.button!==0||(l==null||l(v),v.defaultPrevented||(v.preventDefault(),a(o,e)))}),y=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return c&&g.isValidElement(d)?g.cloneElement(d,{onClick:h,href:y}):g.createElement("a",{...x,onClick:h,href:y,className:u!=null&&u.call?u(s===o):u,children:d,ref:t})}),u5=e=>Array.isArray(e)?e.flatMap(t=>u5(t&&t.type===g.Fragment?t.props.children:t)):[e],$v=({children:e,location:t})=>{const n=ju(),[s]=j0(n);for(const a of u5(e)){let i=0;if(g.isValidElement(a)&&(i=i2(n.parser,a.props.path,t||s,a.props.nest))[0])return g.cloneElement(a,{match:i})}return null};var Nu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},$B={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},co,c1,_T,DB=(_T=class{constructor(){Ke(this,co,$B);Ke(this,c1,!1)}setTimeoutProvider(e){Ee(this,co,e)}setTimeout(e,t){return H(this,co).setTimeout(e,t)}clearTimeout(e){H(this,co).clearTimeout(e)}setInterval(e,t){return H(this,co).setInterval(e,t)}clearInterval(e){H(this,co).clearInterval(e)}},co=new WeakMap,c1=new WeakMap,_T),bl=new DB;function zB(e){setTimeout(e,0)}var Hl=typeof window>"u"||"Deno"in globalThis;function Pn(){}function FB(e,t){return typeof e=="function"?e(t):e}function Mw(e){return typeof e=="number"&&e>=0&&e!==1/0}function m5(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Mo(e,t){return typeof e=="function"?e(t):e}function _s(e,t){return typeof e=="function"?e(t):e}function HC(e,t){const{type:n="all",exact:s,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(s){if(t.queryHash!==o2(o,t.options))return!1}else if(!uh(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function KC(e,t){const{exact:n,status:s,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Kl(t.options.mutationKey)!==Kl(i))return!1}else if(!uh(t.options.mutationKey,i))return!1}return!(s&&t.state.status!==s||a&&!a(t))}function o2(e,t){return((t==null?void 0:t.queryKeyHashFn)||Kl)(e)}function Kl(e){return JSON.stringify(e,(t,n)=>Iw(n)?Object.keys(n).sort().reduce((s,a)=>(s[a]=n[a],s),{}):n)}function uh(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>uh(e[n],t[n])):!1}var LB=Object.prototype.hasOwnProperty;function h5(e,t){if(e===t)return e;const n=GC(e)&&GC(t);if(!n&&!(Iw(e)&&Iw(t)))return t;const a=(n?e:Object.keys(e)).length,i=n?t:Object.keys(t),o=i.length,l=n?new Array(o):{};let c=0;for(let d=0;d<o;d++){const u=n?d:i[d],m=e[u],p=t[u];if(m===p){l[u]=m,(n?d<a:LB.call(e,u))&&c++;continue}if(m===null||p===null||typeof m!="object"||typeof p!="object"){l[u]=p;continue}const f=h5(m,p);l[u]=f,f===m&&c++}return a===o&&c===a?e:l}function Ax(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function GC(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Iw(e){if(!YC(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!YC(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function YC(e){return Object.prototype.toString.call(e)==="[object Object]"}function UB(e){return new Promise(t=>{bl.setTimeout(t,e)})}function Rw(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?h5(e,t):t}function BB(e,t,n=0){const s=[...e,t];return n&&s.length>n?s.slice(1):s}function VB(e,t,n=0){const s=[t,...e];return n&&s.length>n?s.slice(0,-1):s}var l2=Symbol();function p5(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===l2?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function f5(e,t){return typeof e=="function"?e(...t):!!e}function qB(e,t,n){let s=!1,a;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(a??(a=t()),s||(s=!0,a.aborted?n():a.addEventListener("abort",n,{once:!0})),a)}),e}var Al,uo,gd,TT,WB=(TT=class extends Nu{constructor(){super();Ke(this,Al);Ke(this,uo);Ke(this,gd);Ee(this,gd,t=>{if(!Hl&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){H(this,uo)||this.setEventListener(H(this,gd))}onUnsubscribe(){var t;this.hasListeners()||((t=H(this,uo))==null||t.call(this),Ee(this,uo,void 0))}setEventListener(t){var n;Ee(this,gd,t),(n=H(this,uo))==null||n.call(this),Ee(this,uo,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){H(this,Al)!==t&&(Ee(this,Al,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof H(this,Al)=="boolean"?H(this,Al):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Al=new WeakMap,uo=new WeakMap,gd=new WeakMap,TT),c2=new WB;function $w(){let e,t;const n=new Promise((a,i)=>{e=a,t=i});n.status="pending",n.catch(()=>{});function s(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{s({status:"fulfilled",value:a}),e(a)},n.reject=a=>{s({status:"rejected",reason:a}),t(a)},n}var HB=zB;function KB(){let e=[],t=0,n=l=>{l()},s=l=>{l()},a=HB;const i=l=>{t?e.push(l):a(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{s(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{a=l}}}var Hr=KB(),yd,mo,vd,MT,GB=(MT=class extends Nu{constructor(){super();Ke(this,yd,!0);Ke(this,mo);Ke(this,vd);Ee(this,vd,t=>{if(!Hl&&window.addEventListener){const n=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){H(this,mo)||this.setEventListener(H(this,vd))}onUnsubscribe(){var t;this.hasListeners()||((t=H(this,mo))==null||t.call(this),Ee(this,mo,void 0))}setEventListener(t){var n;Ee(this,vd,t),(n=H(this,mo))==null||n.call(this),Ee(this,mo,t(this.setOnline.bind(this)))}setOnline(t){H(this,yd)!==t&&(Ee(this,yd,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return H(this,yd)}},yd=new WeakMap,mo=new WeakMap,vd=new WeakMap,MT),Px=new GB;function YB(e){return Math.min(1e3*2**e,3e4)}function x5(e){return(e??"online")==="online"?Px.isOnline():!0}var Dw=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function g5(e){let t=!1,n=0,s;const a=$w(),i=()=>a.status!=="pending",o=h=>{var y;if(!i()){const v=new Dw(h);p(v),(y=e.onCancel)==null||y.call(e,v)}},l=()=>{t=!0},c=()=>{t=!1},d=()=>c2.isFocused()&&(e.networkMode==="always"||Px.isOnline())&&e.canRun(),u=()=>x5(e.networkMode)&&e.canRun(),m=h=>{i()||(s==null||s(),a.resolve(h))},p=h=>{i()||(s==null||s(),a.reject(h))},f=()=>new Promise(h=>{var y;s=v=>{(i()||d())&&h(v)},(y=e.onPause)==null||y.call(e)}).then(()=>{var h;s=void 0,i()||(h=e.onContinue)==null||h.call(e)}),x=()=>{if(i())return;let h;const y=n===0?e.initialPromise:void 0;try{h=y??e.fn()}catch(v){h=Promise.reject(v)}Promise.resolve(h).then(m).catch(v=>{var j;if(i())return;const b=e.retry??(Hl?0:3),w=e.retryDelay??YB,S=typeof w=="function"?w(n,v):w,N=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,v);if(t||!N){p(v);return}n++,(j=e.onFail)==null||j.call(e,n,v),UB(S).then(()=>d()?void 0:f()).then(()=>{t?p(v):x()})})};return{promise:a,status:()=>a.status,cancel:o,continue:()=>(s==null||s(),a),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?x():f().then(x),a)}}var Pl,IT,y5=(IT=class{constructor(){Ke(this,Pl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Mw(this.gcTime)&&Ee(this,Pl,bl.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Hl?1/0:5*60*1e3))}clearGcTimeout(){H(this,Pl)&&(bl.clearTimeout(H(this,Pl)),Ee(this,Pl,void 0))}},Pl=new WeakMap,IT),Ol,bd,Es,El,Zr,cp,_l,sa,di,RT,QB=(RT=class extends y5{constructor(t){super();Ke(this,sa);Ke(this,Ol);Ke(this,bd);Ke(this,Es);Ke(this,El);Ke(this,Zr);Ke(this,cp);Ke(this,_l);Ee(this,_l,!1),Ee(this,cp,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ee(this,El,t.client),Ee(this,Es,H(this,El).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ee(this,Ol,XC(this.options)),this.state=t.state??H(this,Ol),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=H(this,Zr))==null?void 0:t.promise}setOptions(t){if(this.options={...H(this,cp),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=XC(this.options);n.data!==void 0&&(this.setState(QC(n.data,n.dataUpdatedAt)),Ee(this,Ol,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&H(this,Es).remove(this)}setData(t,n){const s=Rw(this.state.data,t,this.options);return ut(this,sa,di).call(this,{data:s,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),s}setState(t,n){ut(this,sa,di).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var s,a;const n=(s=H(this,Zr))==null?void 0:s.promise;return(a=H(this,Zr))==null||a.cancel(t),n?n.then(Pn).catch(Pn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(H(this,Ol))}isActive(){return this.observers.some(t=>_s(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===l2||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Mo(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!m5(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=H(this,Zr))==null||n.continue()}onOnline(){var n;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=H(this,Zr))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),H(this,Es).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(H(this,Zr)&&(H(this,_l)?H(this,Zr).cancel({revert:!0}):H(this,Zr).cancelRetry()),this.scheduleGc()),H(this,Es).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ut(this,sa,di).call(this,{type:"invalidate"})}async fetch(t,n){var c,d,u,m,p,f,x,h,y,v,b,w;if(this.state.fetchStatus!=="idle"&&((c=H(this,Zr))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(H(this,Zr))return H(this,Zr).continueRetry(),H(this,Zr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const S=this.observers.find(N=>N.options.queryFn);S&&this.setOptions(S.options)}const s=new AbortController,a=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(Ee(this,_l,!0),s.signal)})},i=()=>{const S=p5(this.options,n),j=(()=>{const C={client:H(this,El),queryKey:this.queryKey,meta:this.meta};return a(C),C})();return Ee(this,_l,!1),this.options.persister?this.options.persister(S,j,this):S(j)},l=(()=>{const S={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:H(this,El),state:this.state,fetchFn:i};return a(S),S})();(d=this.options.behavior)==null||d.onFetch(l,this),Ee(this,bd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=l.fetchOptions)==null?void 0:u.meta))&&ut(this,sa,di).call(this,{type:"fetch",meta:(m=l.fetchOptions)==null?void 0:m.meta}),Ee(this,Zr,g5({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:S=>{S instanceof Dw&&S.revert&&this.setState({...H(this,bd),fetchStatus:"idle"}),s.abort()},onFail:(S,N)=>{ut(this,sa,di).call(this,{type:"failed",failureCount:S,error:N})},onPause:()=>{ut(this,sa,di).call(this,{type:"pause"})},onContinue:()=>{ut(this,sa,di).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const S=await H(this,Zr).start();if(S===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(S),(f=(p=H(this,Es).config).onSuccess)==null||f.call(p,S,this),(h=(x=H(this,Es).config).onSettled)==null||h.call(x,S,this.state.error,this),S}catch(S){if(S instanceof Dw){if(S.silent)return H(this,Zr).promise;if(S.revert){if(this.state.data===void 0)throw S;return this.state.data}}throw ut(this,sa,di).call(this,{type:"error",error:S}),(v=(y=H(this,Es).config).onError)==null||v.call(y,S,this),(w=(b=H(this,Es).config).onSettled)==null||w.call(b,this.state.data,S,this),S}finally{this.scheduleGc()}}},Ol=new WeakMap,bd=new WeakMap,Es=new WeakMap,El=new WeakMap,Zr=new WeakMap,cp=new WeakMap,_l=new WeakMap,sa=new WeakSet,di=function(t){const n=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...v5(s.data,this.options),fetchMeta:t.meta??null};case"success":const a={...s,...QC(t.data,t.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Ee(this,bd,t.manual?a:void 0),a;case"error":const i=t.error;return{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=n(this.state),Hr.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),H(this,Es).notify({query:this,type:"updated",action:t})})},RT);function v5(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:x5(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function QC(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function XC(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,s=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Vn,wt,dp,Sn,Tl,wd,pi,ho,up,jd,Nd,Ml,Il,po,Sd,Rt,Nm,zw,Fw,Lw,Uw,Bw,Vw,qw,b5,$T,XB=($T=class extends Nu{constructor(t,n){super();Ke(this,Rt);Ke(this,Vn);Ke(this,wt);Ke(this,dp);Ke(this,Sn);Ke(this,Tl);Ke(this,wd);Ke(this,pi);Ke(this,ho);Ke(this,up);Ke(this,jd);Ke(this,Nd);Ke(this,Ml);Ke(this,Il);Ke(this,po);Ke(this,Sd,new Set);this.options=n,Ee(this,Vn,t),Ee(this,ho,null),Ee(this,pi,$w()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(H(this,wt).addObserver(this),ZC(H(this,wt),this.options)?ut(this,Rt,Nm).call(this):this.updateResult(),ut(this,Rt,Uw).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ww(H(this,wt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ww(H(this,wt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ut(this,Rt,Bw).call(this),ut(this,Rt,Vw).call(this),H(this,wt).removeObserver(this)}setOptions(t){const n=this.options,s=H(this,wt);if(this.options=H(this,Vn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof _s(this.options.enabled,H(this,wt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ut(this,Rt,qw).call(this),H(this,wt).setOptions(this.options),n._defaulted&&!Ax(this.options,n)&&H(this,Vn).getQueryCache().notify({type:"observerOptionsUpdated",query:H(this,wt),observer:this});const a=this.hasListeners();a&&JC(H(this,wt),s,this.options,n)&&ut(this,Rt,Nm).call(this),this.updateResult(),a&&(H(this,wt)!==s||_s(this.options.enabled,H(this,wt))!==_s(n.enabled,H(this,wt))||Mo(this.options.staleTime,H(this,wt))!==Mo(n.staleTime,H(this,wt)))&&ut(this,Rt,zw).call(this);const i=ut(this,Rt,Fw).call(this);a&&(H(this,wt)!==s||_s(this.options.enabled,H(this,wt))!==_s(n.enabled,H(this,wt))||i!==H(this,po))&&ut(this,Rt,Lw).call(this,i)}getOptimisticResult(t){const n=H(this,Vn).getQueryCache().build(H(this,Vn),t),s=this.createResult(n,t);return JB(this,s)&&(Ee(this,Sn,s),Ee(this,wd,this.options),Ee(this,Tl,H(this,wt).state)),s}getCurrentResult(){return H(this,Sn)}trackResult(t,n){return new Proxy(t,{get:(s,a)=>(this.trackProp(a),n==null||n(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&H(this,pi).status==="pending"&&H(this,pi).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(s,a))})}trackProp(t){H(this,Sd).add(t)}getCurrentQuery(){return H(this,wt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=H(this,Vn).defaultQueryOptions(t),s=H(this,Vn).getQueryCache().build(H(this,Vn),n);return s.fetch().then(()=>this.createResult(s,n))}fetch(t){return ut(this,Rt,Nm).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),H(this,Sn)))}createResult(t,n){var k;const s=H(this,wt),a=this.options,i=H(this,Sn),o=H(this,Tl),l=H(this,wd),d=t!==s?t.state:H(this,dp),{state:u}=t;let m={...u},p=!1,f;if(n._optimisticResults){const O=this.hasListeners(),M=!O&&ZC(t,n),P=O&&JC(t,s,n,a);(M||P)&&(m={...m,...v5(u.data,t.options)}),n._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:x,errorUpdatedAt:h,status:y}=m;f=m.data;let v=!1;if(n.placeholderData!==void 0&&f===void 0&&y==="pending"){let O;i!=null&&i.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(O=i.data,v=!0):O=typeof n.placeholderData=="function"?n.placeholderData((k=H(this,Nd))==null?void 0:k.state.data,H(this,Nd)):n.placeholderData,O!==void 0&&(y="success",f=Rw(i==null?void 0:i.data,O,n),p=!0)}if(n.select&&f!==void 0&&!v)if(i&&f===(o==null?void 0:o.data)&&n.select===H(this,up))f=H(this,jd);else try{Ee(this,up,n.select),f=n.select(f),f=Rw(i==null?void 0:i.data,f,n),Ee(this,jd,f),Ee(this,ho,null)}catch(O){Ee(this,ho,O)}H(this,ho)&&(x=H(this,ho),f=H(this,jd),h=Date.now(),y="error");const b=m.fetchStatus==="fetching",w=y==="pending",S=y==="error",N=w&&b,j=f!==void 0,A={status:y,fetchStatus:m.fetchStatus,isPending:w,isSuccess:y==="success",isError:S,isInitialLoading:N,isLoading:N,data:f,dataUpdatedAt:m.dataUpdatedAt,error:x,errorUpdatedAt:h,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>d.dataUpdateCount||m.errorUpdateCount>d.errorUpdateCount,isFetching:b,isRefetching:b&&!w,isLoadingError:S&&!j,isPaused:m.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:S&&j,isStale:d2(t,n),refetch:this.refetch,promise:H(this,pi),isEnabled:_s(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const O=_=>{A.status==="error"?_.reject(A.error):A.data!==void 0&&_.resolve(A.data)},M=()=>{const _=Ee(this,pi,A.promise=$w());O(_)},P=H(this,pi);switch(P.status){case"pending":t.queryHash===s.queryHash&&O(P);break;case"fulfilled":(A.status==="error"||A.data!==P.value)&&M();break;case"rejected":(A.status!=="error"||A.error!==P.reason)&&M();break}}return A}updateResult(){const t=H(this,Sn),n=this.createResult(H(this,wt),this.options);if(Ee(this,Tl,H(this,wt).state),Ee(this,wd,this.options),H(this,Tl).data!==void 0&&Ee(this,Nd,H(this,wt)),Ax(n,t))return;Ee(this,Sn,n);const s=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!H(this,Sd).size)return!0;const o=new Set(i??H(this,Sd));return this.options.throwOnError&&o.add("error"),Object.keys(H(this,Sn)).some(l=>{const c=l;return H(this,Sn)[c]!==t[c]&&o.has(c)})};ut(this,Rt,b5).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ut(this,Rt,Uw).call(this)}},Vn=new WeakMap,wt=new WeakMap,dp=new WeakMap,Sn=new WeakMap,Tl=new WeakMap,wd=new WeakMap,pi=new WeakMap,ho=new WeakMap,up=new WeakMap,jd=new WeakMap,Nd=new WeakMap,Ml=new WeakMap,Il=new WeakMap,po=new WeakMap,Sd=new WeakMap,Rt=new WeakSet,Nm=function(t){ut(this,Rt,qw).call(this);let n=H(this,wt).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Pn)),n},zw=function(){ut(this,Rt,Bw).call(this);const t=Mo(this.options.staleTime,H(this,wt));if(Hl||H(this,Sn).isStale||!Mw(t))return;const s=m5(H(this,Sn).dataUpdatedAt,t)+1;Ee(this,Ml,bl.setTimeout(()=>{H(this,Sn).isStale||this.updateResult()},s))},Fw=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(H(this,wt)):this.options.refetchInterval)??!1},Lw=function(t){ut(this,Rt,Vw).call(this),Ee(this,po,t),!(Hl||_s(this.options.enabled,H(this,wt))===!1||!Mw(H(this,po))||H(this,po)===0)&&Ee(this,Il,bl.setInterval(()=>{(this.options.refetchIntervalInBackground||c2.isFocused())&&ut(this,Rt,Nm).call(this)},H(this,po)))},Uw=function(){ut(this,Rt,zw).call(this),ut(this,Rt,Lw).call(this,ut(this,Rt,Fw).call(this))},Bw=function(){H(this,Ml)&&(bl.clearTimeout(H(this,Ml)),Ee(this,Ml,void 0))},Vw=function(){H(this,Il)&&(bl.clearInterval(H(this,Il)),Ee(this,Il,void 0))},qw=function(){const t=H(this,Vn).getQueryCache().build(H(this,Vn),this.options);if(t===H(this,wt))return;const n=H(this,wt);Ee(this,wt,t),Ee(this,dp,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},b5=function(t){Hr.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(H(this,Sn))}),H(this,Vn).getQueryCache().notify({query:H(this,wt),type:"observerResultsUpdated"})})},$T);function ZB(e,t){return _s(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function ZC(e,t){return ZB(e,t)||e.state.data!==void 0&&Ww(e,t,t.refetchOnMount)}function Ww(e,t,n){if(_s(t.enabled,e)!==!1&&Mo(t.staleTime,e)!=="static"){const s=typeof n=="function"?n(e):n;return s==="always"||s!==!1&&d2(e,t)}return!1}function JC(e,t,n,s){return(e!==t||_s(s.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&d2(e,n)}function d2(e,t){return _s(t.enabled,e)!==!1&&e.isStaleByTime(Mo(t.staleTime,e))}function JB(e,t){return!Ax(e.getCurrentResult(),t)}function ek(e){return{onFetch:(t,n)=>{var u,m,p,f,x;const s=t.options,a=(p=(m=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:m.fetchMore)==null?void 0:p.direction,i=((f=t.state.data)==null?void 0:f.pages)||[],o=((x=t.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let h=!1;const y=w=>{qB(w,()=>t.signal,()=>h=!0)},v=p5(t.options,t.fetchOptions),b=async(w,S,N)=>{if(h)return Promise.reject();if(S==null&&w.pages.length)return Promise.resolve(w);const C=(()=>{const M={client:t.client,queryKey:t.queryKey,pageParam:S,direction:N?"backward":"forward",meta:t.options.meta};return y(M),M})(),A=await v(C),{maxPages:k}=t.options,O=N?VB:BB;return{pages:O(w.pages,A,k),pageParams:O(w.pageParams,S,k)}};if(a&&i.length){const w=a==="backward",S=w?eV:tk,N={pages:i,pageParams:o},j=S(s,N);l=await b(N,j,w)}else{const w=e??i.length;do{const S=c===0?o[0]??s.initialPageParam:tk(s,l);if(c>0&&S==null)break;l=await b(l,S),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var h,y;return(y=(h=t.options).persister)==null?void 0:y.call(h,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=d}}}function tk(e,{pages:t,pageParams:n}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,n[s],n):void 0}function eV(e,{pages:t,pageParams:n}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,n[0],n):void 0}var mp,Ia,Cn,Rl,Ra,eo,DT,tV=(DT=class extends y5{constructor(t){super();Ke(this,Ra);Ke(this,mp);Ke(this,Ia);Ke(this,Cn);Ke(this,Rl);Ee(this,mp,t.client),this.mutationId=t.mutationId,Ee(this,Cn,t.mutationCache),Ee(this,Ia,[]),this.state=t.state||w5(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){H(this,Ia).includes(t)||(H(this,Ia).push(t),this.clearGcTimeout(),H(this,Cn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ee(this,Ia,H(this,Ia).filter(n=>n!==t)),this.scheduleGc(),H(this,Cn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){H(this,Ia).length||(this.state.status==="pending"?this.scheduleGc():H(this,Cn).remove(this))}continue(){var t;return((t=H(this,Rl))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,d,u,m,p,f,x,h,y,v,b,w,S,N,j,C,A,k;const n=()=>{ut(this,Ra,eo).call(this,{type:"continue"})},s={client:H(this,mp),meta:this.options.meta,mutationKey:this.options.mutationKey};Ee(this,Rl,g5({fn:()=>this.options.mutationFn?this.options.mutationFn(t,s):Promise.reject(new Error("No mutationFn found")),onFail:(O,M)=>{ut(this,Ra,eo).call(this,{type:"failed",failureCount:O,error:M})},onPause:()=>{ut(this,Ra,eo).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>H(this,Cn).canRun(this)}));const a=this.state.status==="pending",i=!H(this,Rl).canStart();try{if(a)n();else{ut(this,Ra,eo).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(o=H(this,Cn).config).onMutate)==null?void 0:l.call(o,t,this,s));const M=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,t,s));M!==this.state.context&&ut(this,Ra,eo).call(this,{type:"pending",context:M,variables:t,isPaused:i})}const O=await H(this,Rl).start();return await((m=(u=H(this,Cn).config).onSuccess)==null?void 0:m.call(u,O,t,this.state.context,this,s)),await((f=(p=this.options).onSuccess)==null?void 0:f.call(p,O,t,this.state.context,s)),await((h=(x=H(this,Cn).config).onSettled)==null?void 0:h.call(x,O,null,this.state.variables,this.state.context,this,s)),await((v=(y=this.options).onSettled)==null?void 0:v.call(y,O,null,t,this.state.context,s)),ut(this,Ra,eo).call(this,{type:"success",data:O}),O}catch(O){try{await((w=(b=H(this,Cn).config).onError)==null?void 0:w.call(b,O,t,this.state.context,this,s))}catch(M){Promise.reject(M)}try{await((N=(S=this.options).onError)==null?void 0:N.call(S,O,t,this.state.context,s))}catch(M){Promise.reject(M)}try{await((C=(j=H(this,Cn).config).onSettled)==null?void 0:C.call(j,void 0,O,this.state.variables,this.state.context,this,s))}catch(M){Promise.reject(M)}try{await((k=(A=this.options).onSettled)==null?void 0:k.call(A,void 0,O,t,this.state.context,s))}catch(M){Promise.reject(M)}throw ut(this,Ra,eo).call(this,{type:"error",error:O}),O}finally{H(this,Cn).runNext(this)}}},mp=new WeakMap,Ia=new WeakMap,Cn=new WeakMap,Rl=new WeakMap,Ra=new WeakSet,eo=function(t){const n=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Hr.batch(()=>{H(this,Ia).forEach(s=>{s.onMutationUpdate(t)}),H(this,Cn).notify({mutation:this,type:"updated",action:t})})},DT);function w5(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var fi,aa,hp,zT,rV=(zT=class extends Nu{constructor(t={}){super();Ke(this,fi);Ke(this,aa);Ke(this,hp);this.config=t,Ee(this,fi,new Set),Ee(this,aa,new Map),Ee(this,hp,0)}build(t,n,s){const a=new tV({client:t,mutationCache:this,mutationId:++qp(this,hp)._,options:t.defaultMutationOptions(n),state:s});return this.add(a),a}add(t){H(this,fi).add(t);const n=df(t);if(typeof n=="string"){const s=H(this,aa).get(n);s?s.push(t):H(this,aa).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(H(this,fi).delete(t)){const n=df(t);if(typeof n=="string"){const s=H(this,aa).get(n);if(s)if(s.length>1){const a=s.indexOf(t);a!==-1&&s.splice(a,1)}else s[0]===t&&H(this,aa).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=df(t);if(typeof n=="string"){const s=H(this,aa).get(n),a=s==null?void 0:s.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var s;const n=df(t);if(typeof n=="string"){const a=(s=H(this,aa).get(n))==null?void 0:s.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Hr.batch(()=>{H(this,fi).forEach(t=>{this.notify({type:"removed",mutation:t})}),H(this,fi).clear(),H(this,aa).clear()})}getAll(){return Array.from(H(this,fi))}find(t){const n={exact:!0,...t};return this.getAll().find(s=>KC(n,s))}findAll(t={}){return this.getAll().filter(n=>KC(t,n))}notify(t){Hr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Hr.batch(()=>Promise.all(t.map(n=>n.continue().catch(Pn))))}},fi=new WeakMap,aa=new WeakMap,hp=new WeakMap,zT);function df(e){var t;return(t=e.options.scope)==null?void 0:t.id}var xi,fo,qn,gi,Mi,Gf,Hw,FT,nV=(FT=class extends Nu{constructor(n,s){super();Ke(this,Mi);Ke(this,xi);Ke(this,fo);Ke(this,qn);Ke(this,gi);Ee(this,xi,n),this.setOptions(s),this.bindMethods(),ut(this,Mi,Gf).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var a;const s=this.options;this.options=H(this,xi).defaultMutationOptions(n),Ax(this.options,s)||H(this,xi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:H(this,qn),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&Kl(s.mutationKey)!==Kl(this.options.mutationKey)?this.reset():((a=H(this,qn))==null?void 0:a.state.status)==="pending"&&H(this,qn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=H(this,qn))==null||n.removeObserver(this)}onMutationUpdate(n){ut(this,Mi,Gf).call(this),ut(this,Mi,Hw).call(this,n)}getCurrentResult(){return H(this,fo)}reset(){var n;(n=H(this,qn))==null||n.removeObserver(this),Ee(this,qn,void 0),ut(this,Mi,Gf).call(this),ut(this,Mi,Hw).call(this)}mutate(n,s){var a;return Ee(this,gi,s),(a=H(this,qn))==null||a.removeObserver(this),Ee(this,qn,H(this,xi).getMutationCache().build(H(this,xi),this.options)),H(this,qn).addObserver(this),H(this,qn).execute(n)}},xi=new WeakMap,fo=new WeakMap,qn=new WeakMap,gi=new WeakMap,Mi=new WeakSet,Gf=function(){var s;const n=((s=H(this,qn))==null?void 0:s.state)??w5();Ee(this,fo,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Hw=function(n){Hr.batch(()=>{var s,a,i,o,l,c,d,u;if(H(this,gi)&&this.hasListeners()){const m=H(this,fo).variables,p=H(this,fo).context,f={client:H(this,xi),meta:this.options.meta,mutationKey:this.options.mutationKey};if((n==null?void 0:n.type)==="success"){try{(a=(s=H(this,gi)).onSuccess)==null||a.call(s,n.data,m,p,f)}catch(x){Promise.reject(x)}try{(o=(i=H(this,gi)).onSettled)==null||o.call(i,n.data,null,m,p,f)}catch(x){Promise.reject(x)}}else if((n==null?void 0:n.type)==="error"){try{(c=(l=H(this,gi)).onError)==null||c.call(l,n.error,m,p,f)}catch(x){Promise.reject(x)}try{(u=(d=H(this,gi)).onSettled)==null||u.call(d,void 0,n.error,m,p,f)}catch(x){Promise.reject(x)}}}this.listeners.forEach(m=>{m(H(this,fo))})})},FT),$a,LT,sV=(LT=class extends Nu{constructor(t={}){super();Ke(this,$a);this.config=t,Ee(this,$a,new Map)}build(t,n,s){const a=n.queryKey,i=n.queryHash??o2(a,n);let o=this.get(i);return o||(o=new QB({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(n),state:s,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){H(this,$a).has(t.queryHash)||(H(this,$a).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=H(this,$a).get(t.queryHash);n&&(t.destroy(),n===t&&H(this,$a).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Hr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return H(this,$a).get(t)}getAll(){return[...H(this,$a).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(s=>HC(n,s))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(s=>HC(t,s)):n}notify(t){Hr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Hr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Hr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},$a=new WeakMap,LT),mr,xo,go,Cd,kd,yo,Ad,Pd,UT,aV=(UT=class{constructor(e={}){Ke(this,mr);Ke(this,xo);Ke(this,go);Ke(this,Cd);Ke(this,kd);Ke(this,yo);Ke(this,Ad);Ke(this,Pd);Ee(this,mr,e.queryCache||new sV),Ee(this,xo,e.mutationCache||new rV),Ee(this,go,e.defaultOptions||{}),Ee(this,Cd,new Map),Ee(this,kd,new Map),Ee(this,yo,0)}mount(){qp(this,yo)._++,H(this,yo)===1&&(Ee(this,Ad,c2.subscribe(async e=>{e&&(await this.resumePausedMutations(),H(this,mr).onFocus())})),Ee(this,Pd,Px.subscribe(async e=>{e&&(await this.resumePausedMutations(),H(this,mr).onOnline())})))}unmount(){var e,t;qp(this,yo)._--,H(this,yo)===0&&((e=H(this,Ad))==null||e.call(this),Ee(this,Ad,void 0),(t=H(this,Pd))==null||t.call(this),Ee(this,Pd,void 0))}isFetching(e){return H(this,mr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return H(this,xo).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=H(this,mr).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=H(this,mr).build(this,t),s=n.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Mo(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return H(this,mr).findAll(e).map(({queryKey:t,state:n})=>{const s=n.data;return[t,s]})}setQueryData(e,t,n){const s=this.defaultQueryOptions({queryKey:e}),a=H(this,mr).get(s.queryHash),i=a==null?void 0:a.state.data,o=FB(t,i);if(o!==void 0)return H(this,mr).build(this,s).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Hr.batch(()=>H(this,mr).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=H(this,mr).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=H(this,mr);Hr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=H(this,mr);return Hr.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},s=Hr.batch(()=>H(this,mr).findAll(e).map(a=>a.cancel(n)));return Promise.all(s).then(Pn).catch(Pn)}invalidateQueries(e,t={}){return Hr.batch(()=>(H(this,mr).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},s=Hr.batch(()=>H(this,mr).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,n);return n.throwOnError||(i=i.catch(Pn)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(Pn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=H(this,mr).build(this,t);return n.isStaleByTime(Mo(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Pn).catch(Pn)}fetchInfiniteQuery(e){return e.behavior=ek(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Pn).catch(Pn)}ensureInfiniteQueryData(e){return e.behavior=ek(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Px.isOnline()?H(this,xo).resumePausedMutations():Promise.resolve()}getQueryCache(){return H(this,mr)}getMutationCache(){return H(this,xo)}getDefaultOptions(){return H(this,go)}setDefaultOptions(e){Ee(this,go,e)}setQueryDefaults(e,t){H(this,Cd).set(Kl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...H(this,Cd).values()],n={};return t.forEach(s=>{uh(e,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(e,t){H(this,kd).set(Kl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...H(this,kd).values()],n={};return t.forEach(s=>{uh(e,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...H(this,go).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=o2(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===l2&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...H(this,go).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){H(this,mr).clear(),H(this,xo).clear()}},mr=new WeakMap,xo=new WeakMap,go=new WeakMap,Cd=new WeakMap,kd=new WeakMap,yo=new WeakMap,Ad=new WeakMap,Pd=new WeakMap,UT),j5=g.createContext(void 0),_t=e=>{const t=g.useContext(j5);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},iV=({client:e,children:t})=>(g.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(j5.Provider,{value:e,children:t})),N5=g.createContext(!1),oV=()=>g.useContext(N5);N5.Provider;function lV(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var cV=g.createContext(lV()),dV=()=>g.useContext(cV),uV=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},mV=e=>{g.useEffect(()=>{e.clearReset()},[e])},hV=({result:e,errorResetBoundary:t,throwOnError:n,query:s,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(a&&e.data===void 0||f5(n,[e.error,s])),pV=e=>{if(e.suspense){const n=a=>a==="static"?a:Math.max(a??1e3,1e3),s=e.staleTime;e.staleTime=typeof s=="function"?(...a)=>n(s(...a)):n(s),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},fV=(e,t)=>e.isLoading&&e.isFetching&&!t,xV=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,rk=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function gV(e,t,n){var m,p,f,x,h;const s=oV(),a=dV(),i=_t(),o=i.defaultQueryOptions(e);(p=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||p.call(m,o),o._optimisticResults=s?"isRestoring":"optimistic",pV(o),uV(o,a),mV(a);const l=!i.getQueryCache().get(o.queryHash),[c]=g.useState(()=>new t(i,o)),d=c.getOptimisticResult(o),u=!s&&e.subscribed!==!1;if(g.useSyncExternalStore(g.useCallback(y=>{const v=u?c.subscribe(Hr.batchCalls(y)):Pn;return c.updateResult(),v},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),g.useEffect(()=>{c.setOptions(o)},[o,c]),xV(o,d))throw rk(o,c,a);if(hV({result:d,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;if((x=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||x.call(f,o,d),o.experimental_prefetchInRender&&!Hl&&fV(d,s)){const y=l?rk(o,c,a):(h=i.getQueryCache().get(o.queryHash))==null?void 0:h.promise;y==null||y.catch(Pn).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function ve(e,t){return gV(e,XB)}function Oe(e,t){const n=_t(),[s]=g.useState(()=>new nV(n,e));g.useEffect(()=>{s.setOptions(e)},[s,e]);const a=g.useSyncExternalStore(g.useCallback(o=>s.subscribe(Hr.batchCalls(o)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),i=g.useCallback((o,l)=>{s.mutate(o,l).catch(Pn)},[s]);if(a.error&&f5(s.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}function S5(){const e=document.cookie.match(/csrf_token=([^;]+)/);return e?e[1]:null}async function yV({queryKey:e}){const t=e[0],n=localStorage.getItem("authToken"),s={"Content-Type":"application/json"};n&&(s.Authorization=`Bearer ${n}`);const a=S5();a&&(s["X-CSRF-Token"]=a);const i=await fetch(t,{headers:s,credentials:"include"});if(!i.ok){const o=await i.json().catch(()=>({error:i.statusText}));throw new Error(o.error||`API request failed: ${i.statusText}`)}return i.json()}const At=new aV({defaultOptions:{queries:{staleTime:5*60*1e3,retry:!1,queryFn:yV}}});async function Te(e,t={}){const{body:n,...s}=t,a=localStorage.getItem("authToken"),i=n instanceof FormData,o={...s.headers};a&&(o.Authorization=`Bearer ${a}`);const l=S5();l&&(o["X-CSRF-Token"]=l),i||(o["Content-Type"]="application/json");const c=await fetch(e,{...s,headers:o,credentials:"include",body:i?n:n?JSON.stringify(n):void 0});if(!c.ok){const d=await c.json().catch(()=>({error:c.statusText}));throw new Error(d.error||`API request failed: ${c.statusText}`)}return c.json()}const vV=1,bV=1e6;let Dv=0;function wV(){return Dv=(Dv+1)%Number.MAX_SAFE_INTEGER,Dv.toString()}const zv=new Map,nk=e=>{if(zv.has(e))return;const t=setTimeout(()=>{zv.delete(e),Dm({type:"REMOVE_TOAST",toastId:e})},bV);zv.set(e,t)},jV=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,vV)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?nk(n):e.toasts.forEach(s=>{nk(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Yf=[];let Qf={toasts:[]};function Dm(e){Qf=jV(Qf,e),Yf.forEach(t=>{t(Qf)})}function NV({...e}){const t=wV(),n=a=>Dm({type:"UPDATE_TOAST",toast:{...a,id:t}}),s=()=>Dm({type:"DISMISS_TOAST",toastId:t});return Dm({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||s()}}}),{id:t,dismiss:s,update:n}}function pt(){const[e,t]=g.useState(Qf);return g.useEffect(()=>(Yf.push(t),()=>{const n=Yf.indexOf(t);n>-1&&Yf.splice(n,1)}),[e]),{...e,toast:NV,dismiss:n=>Dm({type:"DISMISS_TOAST",toastId:n})}}function je(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function sk(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Rn(...e){return t=>{let n=!1;const s=e.map(a=>{const i=sk(a,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let a=0;a<s.length;a++){const i=s[a];typeof i=="function"?i():sk(e[a],null)}}}}function rt(...e){return g.useCallback(Rn(...e),e)}function SV(e,t){const n=g.createContext(t),s=i=>{const{children:o,...l}=i,c=g.useMemo(()=>l,Object.values(l));return r.jsx(n.Provider,{value:c,children:o})};s.displayName=e+"Provider";function a(i){const o=g.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[s,a]}function Fn(e,t=[]){let n=[];function s(i,o){const l=g.createContext(o),c=n.length;n=[...n,o];const d=m=>{var v;const{scope:p,children:f,...x}=m,h=((v=p==null?void 0:p[e])==null?void 0:v[c])||l,y=g.useMemo(()=>x,Object.values(x));return r.jsx(h.Provider,{value:y,children:f})};d.displayName=i+"Provider";function u(m,p){var h;const f=((h=p==null?void 0:p[e])==null?void 0:h[c])||l,x=g.useContext(f);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=n.map(o=>g.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return g.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,CV(a,...t)]}function CV(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const m=c(i)[`__scope${d}`];return{...l,...m}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function ak(e){const t=kV(e),n=g.forwardRef((s,a)=>{const{children:i,...o}=s,l=g.Children.toArray(i),c=l.find(PV);if(c){const d=c.props.children,u=l.map(m=>m===c?g.Children.count(d)>1?g.Children.only(null):g.isValidElement(d)?d.props.children:null:m);return r.jsx(t,{...o,ref:a,children:g.isValidElement(d)?g.cloneElement(d,void 0,u):null})}return r.jsx(t,{...o,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}function kV(e){const t=g.forwardRef((n,s)=>{const{children:a,...i}=n;if(g.isValidElement(a)){const o=EV(a),l=OV(i,a.props);return a.type!==g.Fragment&&(l.ref=s?Rn(s,o):o),g.cloneElement(a,l)}return g.Children.count(a)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var AV=Symbol("radix.slottable");function PV(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===AV}function OV(e,t){const n={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?n[s]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(n[s]=a):s==="style"?n[s]={...a,...i}:s==="className"&&(n[s]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function EV(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function N0(e){const t=e+"CollectionProvider",[n,s]=Fn(t),[a,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=h=>{const{scope:y,children:v}=h,b=L.useRef(null),w=L.useRef(new Map).current;return r.jsx(a,{scope:y,itemMap:w,collectionRef:b,children:v})};o.displayName=t;const l=e+"CollectionSlot",c=ak(l),d=L.forwardRef((h,y)=>{const{scope:v,children:b}=h,w=i(l,v),S=rt(y,w.collectionRef);return r.jsx(c,{ref:S,children:b})});d.displayName=l;const u=e+"CollectionItemSlot",m="data-radix-collection-item",p=ak(u),f=L.forwardRef((h,y)=>{const{scope:v,children:b,...w}=h,S=L.useRef(null),N=rt(y,S),j=i(u,v);return L.useEffect(()=>(j.itemMap.set(S,{ref:S,...w}),()=>void j.itemMap.delete(S))),r.jsx(p,{[m]:"",ref:N,children:b})});f.displayName=u;function x(h){const y=i(e+"CollectionConsumer",h);return L.useCallback(()=>{const b=y.collectionRef.current;if(!b)return[];const w=Array.from(b.querySelectorAll(`[${m}]`));return Array.from(y.itemMap.values()).sort((j,C)=>w.indexOf(j.ref.current)-w.indexOf(C.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:d,ItemSlot:f},x,s]}function _V(e){const t=TV(e),n=g.forwardRef((s,a)=>{const{children:i,...o}=s,l=g.Children.toArray(i),c=l.find(IV);if(c){const d=c.props.children,u=l.map(m=>m===c?g.Children.count(d)>1?g.Children.only(null):g.isValidElement(d)?d.props.children:null:m);return r.jsx(t,{...o,ref:a,children:g.isValidElement(d)?g.cloneElement(d,void 0,u):null})}return r.jsx(t,{...o,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}function TV(e){const t=g.forwardRef((n,s)=>{const{children:a,...i}=n;if(g.isValidElement(a)){const o=$V(a),l=RV(i,a.props);return a.type!==g.Fragment&&(l.ref=s?Rn(s,o):o),g.cloneElement(a,l)}return g.Children.count(a)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var MV=Symbol("radix.slottable");function IV(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===MV}function RV(e,t){const n={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?n[s]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(n[s]=a):s==="style"?n[s]={...a,...i}:s==="className"&&(n[s]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function $V(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var DV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Le=DV.reduce((e,t)=>{const n=_V(`Primitive.${t}`),s=g.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:i})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function u2(e,t){e&&mc.flushSync(()=>e.dispatchEvent(t))}function xr(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}function zV(e,t=globalThis==null?void 0:globalThis.document){const n=xr(e);g.useEffect(()=>{const s=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var FV="DismissableLayer",Kw="dismissableLayer.update",LV="dismissableLayer.pointerDownOutside",UV="dismissableLayer.focusOutside",ik,C5=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),hc=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=g.useContext(C5),[u,m]=g.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=g.useState({}),x=rt(t,C=>m(C)),h=Array.from(d.layers),[y]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),v=h.indexOf(y),b=u?h.indexOf(u):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,S=b>=v,N=VV(C=>{const A=C.target,k=[...d.branches].some(O=>O.contains(A));!S||k||(a==null||a(C),o==null||o(C),C.defaultPrevented||l==null||l())},p),j=qV(C=>{const A=C.target;[...d.branches].some(O=>O.contains(A))||(i==null||i(C),o==null||o(C),C.defaultPrevented||l==null||l())},p);return zV(C=>{b===d.layers.size-1&&(s==null||s(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},p),g.useEffect(()=>{if(u)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(ik=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),ok(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=ik)}},[u,p,n,d]),g.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),ok())},[u,d]),g.useEffect(()=>{const C=()=>f({});return document.addEventListener(Kw,C),()=>document.removeEventListener(Kw,C)},[]),r.jsx(Le.div,{...c,ref:x,style:{pointerEvents:w?S?"auto":"none":void 0,...e.style},onFocusCapture:je(e.onFocusCapture,j.onFocusCapture),onBlurCapture:je(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:je(e.onPointerDownCapture,N.onPointerDownCapture)})});hc.displayName=FV;var BV="DismissableLayerBranch",k5=g.forwardRef((e,t)=>{const n=g.useContext(C5),s=g.useRef(null),a=rt(t,s);return g.useEffect(()=>{const i=s.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),r.jsx(Le.div,{...e,ref:a})});k5.displayName=BV;function VV(e,t=globalThis==null?void 0:globalThis.document){const n=xr(e),s=g.useRef(!1),a=g.useRef(()=>{});return g.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let c=function(){A5(LV,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function qV(e,t=globalThis==null?void 0:globalThis.document){const n=xr(e),s=g.useRef(!1);return g.useEffect(()=>{const a=i=>{i.target&&!s.current&&A5(UV,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function ok(){const e=new CustomEvent(Kw);document.dispatchEvent(e)}function A5(e,t,n,{discrete:s}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),s?u2(a,i):a.dispatchEvent(i)}var WV=hc,HV=k5,Cr=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},KV="Portal",Su=g.forwardRef((e,t)=>{var l;const{container:n,...s}=e,[a,i]=g.useState(!1);Cr(()=>i(!0),[]);const o=n||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?lB.createPortal(r.jsx(Le.div,{...s,ref:t}),o):null});Su.displayName=KV;function GV(e,t){return g.useReducer((n,s)=>t[n][s]??n,e)}var an=e=>{const{present:t,children:n}=e,s=YV(t),a=typeof n=="function"?n({present:s.isPresent}):g.Children.only(n),i=rt(s.ref,QV(a));return typeof n=="function"||s.isPresent?g.cloneElement(a,{ref:i}):null};an.displayName="Presence";function YV(e){const[t,n]=g.useState(),s=g.useRef(null),a=g.useRef(e),i=g.useRef("none"),o=e?"mounted":"unmounted",[l,c]=GV(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const d=uf(s.current);i.current=l==="mounted"?d:"none"},[l]),Cr(()=>{const d=s.current,u=a.current;if(u!==e){const p=i.current,f=uf(d);e?c("MOUNT"):f==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&p!==f?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Cr(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,m=f=>{const h=uf(s.current).includes(CSS.escape(f.animationName));if(f.target===t&&h&&(c("ANIMATION_END"),!a.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},p=f=>{f.target===t&&(i.current=uf(s.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:g.useCallback(d=>{s.current=d?getComputedStyle(d):null,n(d)},[])}}function uf(e){return(e==null?void 0:e.animationName)||"none"}function QV(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var XV=a0[" useInsertionEffect ".trim().toString()]||Cr;function wa({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[a,i,o]=ZV({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:a;{const u=g.useRef(e!==void 0);g.useEffect(()=>{const m=u.current;m!==l&&console.warn(`${s} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,s])}const d=g.useCallback(u=>{var m;if(l){const p=JV(u)?u(e):u;p!==e&&((m=o.current)==null||m.call(o,p))}else i(u)},[l,e,i,o]);return[c,d]}function ZV({defaultProp:e,onChange:t}){const[n,s]=g.useState(e),a=g.useRef(n),i=g.useRef(t);return XV(()=>{i.current=t},[t]),g.useEffect(()=>{var o;a.current!==n&&((o=i.current)==null||o.call(i,n),a.current=n)},[n,a]),[n,s,i]}function JV(e){return typeof e=="function"}var P5=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),eq="VisuallyHidden",S0=g.forwardRef((e,t)=>r.jsx(Le.span,{...e,ref:t,style:{...P5,...e.style}}));S0.displayName=eq;var tq=S0,m2="ToastProvider",[h2,rq,nq]=N0("Toast"),[O5]=Fn("Toast",[nq]),[sq,C0]=O5(m2),E5=e=>{const{__scopeToast:t,label:n="Notification",duration:s=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=g.useState(null),[d,u]=g.useState(0),m=g.useRef(!1),p=g.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${m2}\`. Expected non-empty \`string\`.`),r.jsx(h2.Provider,{scope:t,children:r.jsx(sq,{scope:t,label:n,duration:s,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:g.useCallback(()=>u(f=>f+1),[]),onToastRemove:g.useCallback(()=>u(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:p,children:o})})};E5.displayName=m2;var _5="ToastViewport",aq=["F8"],Gw="toast.viewportPause",Yw="toast.viewportResume",T5=g.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:s=aq,label:a="Notifications ({hotkey})",...i}=e,o=C0(_5,n),l=rq(n),c=g.useRef(null),d=g.useRef(null),u=g.useRef(null),m=g.useRef(null),p=rt(t,m,o.onViewportChange),f=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;g.useEffect(()=>{const y=v=>{var w;s.length!==0&&s.every(S=>v[S]||v.code===S)&&((w=m.current)==null||w.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[s]),g.useEffect(()=>{const y=c.current,v=m.current;if(x&&y&&v){const b=()=>{if(!o.isClosePausedRef.current){const j=new CustomEvent(Gw);v.dispatchEvent(j),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const j=new CustomEvent(Yw);v.dispatchEvent(j),o.isClosePausedRef.current=!1}},S=j=>{!y.contains(j.relatedTarget)&&w()},N=()=>{y.contains(document.activeElement)||w()};return y.addEventListener("focusin",b),y.addEventListener("focusout",S),y.addEventListener("pointermove",b),y.addEventListener("pointerleave",N),window.addEventListener("blur",b),window.addEventListener("focus",w),()=>{y.removeEventListener("focusin",b),y.removeEventListener("focusout",S),y.removeEventListener("pointermove",b),y.removeEventListener("pointerleave",N),window.removeEventListener("blur",b),window.removeEventListener("focus",w)}}},[x,o.isClosePausedRef]);const h=g.useCallback(({tabbingDirection:y})=>{const b=l().map(w=>{const S=w.ref.current,N=[S,...yq(S)];return y==="forwards"?N:N.reverse()});return(y==="forwards"?b.reverse():b).flat()},[l]);return g.useEffect(()=>{const y=m.current;if(y){const v=b=>{var N,j,C;const w=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!w){const A=document.activeElement,k=b.shiftKey;if(b.target===y&&k){(N=d.current)==null||N.focus();return}const P=h({tabbingDirection:k?"backwards":"forwards"}),_=P.findIndex(E=>E===A);Fv(P.slice(_+1))?b.preventDefault():k?(j=d.current)==null||j.focus():(C=u.current)==null||C.focus()}};return y.addEventListener("keydown",v),()=>y.removeEventListener("keydown",v)}},[l,h]),r.jsxs(HV,{ref:c,role:"region","aria-label":a.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&r.jsx(Qw,{ref:d,onFocusFromOutsideViewport:()=>{const y=h({tabbingDirection:"forwards"});Fv(y)}}),r.jsx(h2.Slot,{scope:n,children:r.jsx(Le.ol,{tabIndex:-1,...i,ref:p})}),x&&r.jsx(Qw,{ref:u,onFocusFromOutsideViewport:()=>{const y=h({tabbingDirection:"backwards"});Fv(y)}})]})});T5.displayName=_5;var M5="ToastFocusProxy",Qw=g.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...a}=e,i=C0(M5,n);return r.jsx(S0,{tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&s()}})});Qw.displayName=M5;var vp="Toast",iq="toast.swipeStart",oq="toast.swipeMove",lq="toast.swipeCancel",cq="toast.swipeEnd",I5=g.forwardRef((e,t)=>{const{forceMount:n,open:s,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=wa({prop:s,defaultProp:a??!0,onChange:i,caller:vp});return r.jsx(an,{present:n||l,children:r.jsx(mq,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:xr(e.onPause),onResume:xr(e.onResume),onSwipeStart:je(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:je(e.onSwipeMove,d=>{const{x:u,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:je(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:je(e.onSwipeEnd,d=>{const{x:u,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),c(!1)})})})});I5.displayName=vp;var[dq,uq]=O5(vp,{onClose(){}}),mq=g.forwardRef((e,t)=>{const{__scopeToast:n,type:s="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:m,onSwipeCancel:p,onSwipeEnd:f,...x}=e,h=C0(vp,n),[y,v]=g.useState(null),b=rt(t,E=>v(E)),w=g.useRef(null),S=g.useRef(null),N=a||h.duration,j=g.useRef(0),C=g.useRef(N),A=g.useRef(0),{onToastAdd:k,onToastRemove:O}=h,M=xr(()=>{var T;(y==null?void 0:y.contains(document.activeElement))&&((T=h.viewport)==null||T.focus()),o()}),P=g.useCallback(E=>{!E||E===1/0||(window.clearTimeout(A.current),j.current=new Date().getTime(),A.current=window.setTimeout(M,E))},[M]);g.useEffect(()=>{const E=h.viewport;if(E){const T=()=>{P(C.current),d==null||d()},$=()=>{const q=new Date().getTime()-j.current;C.current=C.current-q,window.clearTimeout(A.current),c==null||c()};return E.addEventListener(Gw,$),E.addEventListener(Yw,T),()=>{E.removeEventListener(Gw,$),E.removeEventListener(Yw,T)}}},[h.viewport,N,c,d,P]),g.useEffect(()=>{i&&!h.isClosePausedRef.current&&P(N)},[i,N,h.isClosePausedRef,P]),g.useEffect(()=>(k(),()=>O()),[k,O]);const _=g.useMemo(()=>y?U5(y):null,[y]);return h.viewport?r.jsxs(r.Fragment,{children:[_&&r.jsx(hq,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite",children:_}),r.jsx(dq,{scope:n,onClose:M,children:mc.createPortal(r.jsx(h2.ItemSlot,{scope:n,children:r.jsx(WV,{asChild:!0,onEscapeKeyDown:je(l,()=>{h.isFocusedToastEscapeKeyDownRef.current||M(),h.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(Le.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":h.swipeDirection,...x,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:je(e.onKeyDown,E=>{E.key==="Escape"&&(l==null||l(E.nativeEvent),E.nativeEvent.defaultPrevented||(h.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:je(e.onPointerDown,E=>{E.button===0&&(w.current={x:E.clientX,y:E.clientY})}),onPointerMove:je(e.onPointerMove,E=>{if(!w.current)return;const T=E.clientX-w.current.x,$=E.clientY-w.current.y,q=!!S.current,R=["left","right"].includes(h.swipeDirection),D=["left","up"].includes(h.swipeDirection)?Math.min:Math.max,V=R?D(0,T):0,F=R?0:D(0,$),z=E.pointerType==="touch"?10:2,Q={x:V,y:F},te={originalEvent:E,delta:Q};q?(S.current=Q,mf(oq,m,te,{discrete:!1})):lk(Q,h.swipeDirection,z)?(S.current=Q,mf(iq,u,te,{discrete:!1}),E.target.setPointerCapture(E.pointerId)):(Math.abs(T)>z||Math.abs($)>z)&&(w.current=null)}),onPointerUp:je(e.onPointerUp,E=>{const T=S.current,$=E.target;if($.hasPointerCapture(E.pointerId)&&$.releasePointerCapture(E.pointerId),S.current=null,w.current=null,T){const q=E.currentTarget,R={originalEvent:E,delta:T};lk(T,h.swipeDirection,h.swipeThreshold)?mf(cq,f,R,{discrete:!0}):mf(lq,p,R,{discrete:!0}),q.addEventListener("click",D=>D.preventDefault(),{once:!0})}})})})}),h.viewport)})]}):null}),hq=e=>{const{__scopeToast:t,children:n,...s}=e,a=C0(vp,t),[i,o]=g.useState(!1),[l,c]=g.useState(!1);return xq(()=>o(!0)),g.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:r.jsx(Su,{asChild:!0,children:r.jsx(S0,{...s,children:i&&r.jsxs(r.Fragment,{children:[a.label," ",n]})})})},pq="ToastTitle",R5=g.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return r.jsx(Le.div,{...s,ref:t})});R5.displayName=pq;var fq="ToastDescription",$5=g.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return r.jsx(Le.div,{...s,ref:t})});$5.displayName=fq;var D5="ToastAction",z5=g.forwardRef((e,t)=>{const{altText:n,...s}=e;return n.trim()?r.jsx(L5,{altText:n,asChild:!0,children:r.jsx(p2,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${D5}\`. Expected non-empty \`string\`.`),null)});z5.displayName=D5;var F5="ToastClose",p2=g.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e,a=uq(F5,n);return r.jsx(L5,{asChild:!0,children:r.jsx(Le.button,{type:"button",...s,ref:t,onClick:je(e.onClick,a.onClose)})})});p2.displayName=F5;var L5=g.forwardRef((e,t)=>{const{__scopeToast:n,altText:s,...a}=e;return r.jsx(Le.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...a,ref:t})});function U5(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),gq(s)){const a=s.ariaHidden||s.hidden||s.style.display==="none",i=s.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=s.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...U5(s))}}),t}function mf(e,t,n,{discrete:s}){const a=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),s?u2(a,i):a.dispatchEvent(i)}var lk=(e,t,n=0)=>{const s=Math.abs(e.x),a=Math.abs(e.y),i=s>a;return t==="left"||t==="right"?i&&s>n:!i&&a>n};function xq(e=()=>{}){const t=xr(e);Cr(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[t])}function gq(e){return e.nodeType===e.ELEMENT_NODE}function yq(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Fv(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var vq=E5,B5=T5,V5=I5,q5=R5,W5=$5,H5=z5,K5=p2;function G5(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=G5(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function ct(){for(var e,t,n=0,s="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=G5(e))&&(s&&(s+=" "),s+=t);return s}const ck=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,dk=ct,bp=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return dk(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(d=>{const u=n==null?void 0:n[d],m=i==null?void 0:i[d];if(u===null)return null;const p=ck(u)||ck(m);return a[d][p]}),l=n&&Object.entries(n).reduce((d,u)=>{let[m,p]=u;return p===void 0||(d[m]=p),d},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((d,u)=>{let{class:m,className:p,...f}=u;return Object.entries(f).every(x=>{let[h,y]=x;return Array.isArray(y)?y.includes({...i,...l}[h]):{...i,...l}[h]===y})?[...d,m,p]:d},[]);return dk(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bq=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Y5=(...e)=>e.filter((t,n,s)=>!!t&&s.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jq=g.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:i,iconNode:o,...l},c)=>g.createElement("svg",{ref:c,...wq,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:Y5("lucide",a),...l},[...o.map(([d,u])=>g.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=(e,t)=>{const n=g.forwardRef(({className:s,...a},i)=>g.createElement(jq,{ref:i,iconNode:t,className:Y5(`lucide-${bq(e)}`,s),...a}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=le("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=le("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=le("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=le("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=le("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=le("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=le("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=le("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=le("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0=le("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=le("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=le("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=le("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=le("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=le("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=le("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nq=le("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=le("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=le("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ld=le("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=le("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=le("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=le("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sq=le("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=le("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=le("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=le("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=le("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=le("CircleMinus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=le("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cq=le("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=le("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=le("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=le("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kq=le("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=le("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aq=le("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pq=le("Compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dd=le("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oq=le("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=le("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=le("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=le("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=le("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eq=le("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=le("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=le("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=le("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=le("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=le("FileChartColumnIncreasing",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=le("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _q=le("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=le("FilePenLine",[["path",{d:"m18 5-2.414-2.414A2 2 0 0 0 14.172 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"142zxg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tq=le("FileSearch",[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4.268 21a2 2 0 0 0 1.727 1H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"ms7g94"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=le("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=le("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mq=le("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=le("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iq=le("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=le("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rq=le("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $q=le("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dq=le("GitCompare",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zq=le("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fq=le("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=le("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=le("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=le("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lq=le("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=le("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=le("LifeBuoy",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=le("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=le("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=le("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=le("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eI=le("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tI=le("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uq=le("MailOpen",[["path",{d:"M21.2 8.4c.5.38.8.97.8 1.6v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V10a2 2 0 0 1 .8-1.6l8-6a2 2 0 0 1 2.4 0l8 6Z",key:"1jhwl8"}],["path",{d:"m22 10-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 10",key:"1qfld7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=le("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bq=le("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vq=le("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=le("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=le("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=le("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=le("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qq=le("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wq=le("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hq=le("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kq=le("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gq=le("MousePointerClick",[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yq=le("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=le("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=le("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=le("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qq=le("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=le("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=le("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=le("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sI=le("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=le("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xq=le("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=le("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=le("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=le("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=le("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=le("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zq=le("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jq=le("Snowflake",[["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"m20 16-4-4 4-4",key:"rquw4f"}],["path",{d:"m4 8 4 4-4 4",key:"12s3z9"}],["path",{d:"m16 4-4 4-4-4",key:"1tumq1"}],["path",{d:"m8 20 4-4 4 4",key:"9p200w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qc=le("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=le("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eW=le("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=le("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tW=le("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rW=le("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nW=le("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sW=le("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=le("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=le("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=le("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=le("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=le("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aW=le("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=le("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=le("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=le("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=le("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=le("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=le("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iW=le("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oW=le("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lW=le("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cW=le("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=le("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=le("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),w2="-",dW=e=>{const t=mW(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{const l=o.split(w2);return l[0]===""&&l.length!==1&&l.shift(),aI(l,t)||uW(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&s[o]?[...c,...s[o]]:c}}},aI=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),a=s?aI(e.slice(1),s):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(w2);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},bk=/^\[(.+)\]$/,uW=e=>{if(bk.test(e)){const t=bk.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},mW=e=>{const{theme:t,prefix:n}=e,s={nextPart:new Map,validators:[]};return pW(Object.entries(e.classGroups),n).forEach(([i,o])=>{rj(o,s,i,t)}),s},rj=(e,t,n,s)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:wk(t,a);i.classGroupId=n;return}if(typeof a=="function"){if(hW(a)){rj(a(s),t,n,s);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([i,o])=>{rj(o,wk(t,i),n,s)})})},wk=(e,t)=>{let n=e;return t.split(w2).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},hW=e=>e.isThemeGetter,pW=(e,t)=>t?e.map(([n,s])=>{const a=s.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[n,a]}):e,fW=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const a=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,s=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return a(i,o),o},set(i,o){n.has(i)?n.set(i,o):a(i,o)}}},iI="!",xW=e=>{const{separator:t,experimentalParseClassName:n}=e,s=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let d=0,u=0,m;for(let y=0;y<l.length;y++){let v=l[y];if(d===0){if(v===a&&(s||l.slice(y,y+i)===t)){c.push(l.slice(u,y)),u=y+i;continue}if(v==="/"){m=y;continue}}v==="["?d++:v==="]"&&d--}const p=c.length===0?l:l.substring(u),f=p.startsWith(iI),x=f?p.substring(1):p,h=m&&m>u?m-u:void 0;return{modifiers:c,hasImportantModifier:f,baseClassName:x,maybePostfixModifierPosition:h}};return n?l=>n({className:l,parseClassName:o}):o},gW=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(s=>{s[0]==="["?(t.push(...n.sort(),s),n=[]):n.push(s)}),t.push(...n.sort()),t},yW=e=>({cache:fW(e.cacheSize),parseClassName:xW(e),...dW(e)}),vW=/\s+/,bW=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(vW);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:m,baseClassName:p,maybePostfixModifierPosition:f}=n(d);let x=!!f,h=s(x?p.substring(0,f):p);if(!h){if(!x){l=d+(l.length>0?" "+l:l);continue}if(h=s(p),!h){l=d+(l.length>0?" "+l:l);continue}x=!1}const y=gW(u).join(":"),v=m?y+iI:y,b=v+h;if(i.includes(b))continue;i.push(b);const w=a(h,x);for(let S=0;S<w.length;++S){const N=w[S];i.push(v+N)}l=d+(l.length>0?" "+l:l)}return l};function wW(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=oI(t))&&(s&&(s+=" "),s+=n);return s}const oI=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=oI(e[s]))&&(n&&(n+=" "),n+=t);return n};function jW(e,...t){let n,s,a,i=o;function o(c){const d=t.reduce((u,m)=>m(u),e());return n=yW(d),s=n.cache.get,a=n.cache.set,i=l,l(c)}function l(c){const d=s(c);if(d)return d;const u=bW(c,n);return a(c,u),u}return function(){return i(wW.apply(null,arguments))}}const Zt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},lI=/^\[(?:([a-z-]+):)?(.+)\]$/i,NW=/^\d+\/\d+$/,SW=new Set(["px","full","screen"]),CW=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,kW=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,AW=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,PW=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,OW=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,oi=e=>dd(e)||SW.has(e)||NW.test(e),Xi=e=>ku(e,"length",DW),dd=e=>!!e&&!Number.isNaN(Number(e)),Lv=e=>ku(e,"number",dd),em=e=>!!e&&Number.isInteger(Number(e)),EW=e=>e.endsWith("%")&&dd(e.slice(0,-1)),dt=e=>lI.test(e),Zi=e=>CW.test(e),_W=new Set(["length","size","percentage"]),TW=e=>ku(e,_W,cI),MW=e=>ku(e,"position",cI),IW=new Set(["image","url"]),RW=e=>ku(e,IW,FW),$W=e=>ku(e,"",zW),tm=()=>!0,ku=(e,t,n)=>{const s=lI.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):n(s[2]):!1},DW=e=>kW.test(e)&&!AW.test(e),cI=()=>!1,zW=e=>PW.test(e),FW=e=>OW.test(e),LW=()=>{const e=Zt("colors"),t=Zt("spacing"),n=Zt("blur"),s=Zt("brightness"),a=Zt("borderColor"),i=Zt("borderRadius"),o=Zt("borderSpacing"),l=Zt("borderWidth"),c=Zt("contrast"),d=Zt("grayscale"),u=Zt("hueRotate"),m=Zt("invert"),p=Zt("gap"),f=Zt("gradientColorStops"),x=Zt("gradientColorStopPositions"),h=Zt("inset"),y=Zt("margin"),v=Zt("opacity"),b=Zt("padding"),w=Zt("saturate"),S=Zt("scale"),N=Zt("sepia"),j=Zt("skew"),C=Zt("space"),A=Zt("translate"),k=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",dt,t],P=()=>[dt,t],_=()=>["",oi,Xi],E=()=>["auto",dd,dt],T=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],D=()=>["","0",dt],V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],F=()=>[dd,dt];return{cacheSize:500,separator:":",theme:{colors:[tm],spacing:[oi,Xi],blur:["none","",Zi,dt],brightness:F(),borderColor:[e],borderRadius:["none","","full",Zi,dt],borderSpacing:P(),borderWidth:_(),contrast:F(),grayscale:D(),hueRotate:F(),invert:D(),gap:P(),gradientColorStops:[e],gradientColorStopPositions:[EW,Xi],inset:M(),margin:M(),opacity:F(),padding:P(),saturate:F(),scale:F(),sepia:D(),skew:F(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",dt]}],container:["container"],columns:[{columns:[Zi]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...T(),dt]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[h]}],"inset-x":[{"inset-x":[h]}],"inset-y":[{"inset-y":[h]}],start:[{start:[h]}],end:[{end:[h]}],top:[{top:[h]}],right:[{right:[h]}],bottom:[{bottom:[h]}],left:[{left:[h]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",em,dt]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",dt]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",em,dt]}],"grid-cols":[{"grid-cols":[tm]}],"col-start-end":[{col:["auto",{span:["full",em,dt]},dt]}],"col-start":[{"col-start":E()}],"col-end":[{"col-end":E()}],"grid-rows":[{"grid-rows":[tm]}],"row-start-end":[{row:["auto",{span:[em,dt]},dt]}],"row-start":[{"row-start":E()}],"row-end":[{"row-end":E()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",dt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",dt]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",dt,t]}],"min-w":[{"min-w":[dt,t,"min","max","fit"]}],"max-w":[{"max-w":[dt,t,"none","full","min","max","fit","prose",{screen:[Zi]},Zi]}],h:[{h:[dt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[dt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[dt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[dt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Zi,Xi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Lv]}],"font-family":[{font:[tm]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",dt]}],"line-clamp":[{"line-clamp":["none",dd,Lv]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",oi,dt]}],"list-image":[{"list-image":["none",dt]}],"list-style-type":[{list:["none","disc","decimal",dt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",oi,Xi]}],"underline-offset":[{"underline-offset":["auto",oi,dt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",dt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",dt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...T(),MW]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",TW]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},RW]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...$(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:$()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...$()]}],"outline-offset":[{"outline-offset":[oi,dt]}],"outline-w":[{outline:[oi,Xi]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:_()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[oi,Xi]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Zi,$W]}],"shadow-color":[{shadow:[tm]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Zi,dt]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[m]}],saturate:[{saturate:[w]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",dt]}],duration:[{duration:F()}],ease:[{ease:["linear","in","out","in-out",dt]}],delay:[{delay:F()}],animate:[{animate:["none","spin","ping","pulse","bounce",dt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[em,dt]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",dt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",dt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",dt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[oi,Xi,Lv]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},UW=jW(LW);function ye(...e){return UW(ct(e))}const BW=vq,dI=g.forwardRef(({className:e,...t},n)=>r.jsx(B5,{ref:n,className:ye("fixed bottom-0 right-0 z-[100] flex max-h-screen w-full flex-col p-4 sm:bottom-4 sm:right-4 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));dI.displayName=B5.displayName;const VW=bp("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border border-yellow-400/30 bg-zinc-900 text-white",destructive:"destructive group border-red-500/50 bg-red-950 text-red-100"}},defaultVariants:{variant:"default"}}),uI=g.forwardRef(({className:e,variant:t,...n},s)=>r.jsx(V5,{ref:s,className:ye(VW({variant:t}),e),...n}));uI.displayName=V5.displayName;const qW=g.forwardRef(({className:e,...t},n)=>r.jsx(H5,{ref:n,className:ye("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));qW.displayName=H5.displayName;const mI=g.forwardRef(({className:e,...t},n)=>r.jsx(K5,{ref:n,className:ye("absolute right-2 top-2 rounded-md p-1 text-zinc-400 opacity-0 transition-opacity hover:text-white focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:r.jsx(br,{className:"h-4 w-4"})}));mI.displayName=K5.displayName;const hI=g.forwardRef(({className:e,...t},n)=>r.jsx(q5,{ref:n,className:ye("text-sm font-semibold",e),...t}));hI.displayName=q5.displayName;const pI=g.forwardRef(({className:e,...t},n)=>r.jsx(W5,{ref:n,className:ye("text-sm opacity-90",e),...t}));pI.displayName=W5.displayName;function WW(){const{toasts:e}=pt();return r.jsxs(BW,{children:[e.map(function({id:t,title:n,description:s,action:a,...i}){return r.jsxs(uI,{...i,children:[r.jsxs("div",{className:"grid gap-1",children:[n&&r.jsx(hI,{children:n}),s&&r.jsx(pI,{children:s})]}),a,r.jsx(mI,{})]},t)}),r.jsx(dI,{})]})}var HW=a0[" useId ".trim().toString()]||(()=>{}),KW=0;function sn(e){const[t,n]=g.useState(HW());return Cr(()=>{n(s=>s??String(KW++))},[e]),t?`radix-${t}`:""}const GW=["top","right","bottom","left"],Uo=Math.min,cs=Math.max,_x=Math.round,hf=Math.floor,Wa=e=>({x:e,y:e}),YW={left:"right",right:"left",bottom:"top",top:"bottom"},QW={start:"end",end:"start"};function nj(e,t,n){return cs(e,Uo(t,n))}function zi(e,t){return typeof e=="function"?e(t):e}function Fi(e){return e.split("-")[0]}function Au(e){return e.split("-")[1]}function j2(e){return e==="x"?"y":"x"}function N2(e){return e==="y"?"height":"width"}const XW=new Set(["top","bottom"]);function La(e){return XW.has(Fi(e))?"y":"x"}function S2(e){return j2(La(e))}function ZW(e,t,n){n===void 0&&(n=!1);const s=Au(e),a=S2(e),i=N2(a);let o=a==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Tx(o)),[o,Tx(o)]}function JW(e){const t=Tx(e);return[sj(e),t,sj(t)]}function sj(e){return e.replace(/start|end/g,t=>QW[t])}const jk=["left","right"],Nk=["right","left"],eH=["top","bottom"],tH=["bottom","top"];function rH(e,t,n){switch(e){case"top":case"bottom":return n?t?Nk:jk:t?jk:Nk;case"left":case"right":return t?eH:tH;default:return[]}}function nH(e,t,n,s){const a=Au(e);let i=rH(Fi(e),n==="start",s);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(sj)))),i}function Tx(e){return e.replace(/left|right|bottom|top/g,t=>YW[t])}function sH(e){return{top:0,right:0,bottom:0,left:0,...e}}function fI(e){return typeof e!="number"?sH(e):{top:e,right:e,bottom:e,left:e}}function Mx(e){const{x:t,y:n,width:s,height:a}=e;return{width:s,height:a,top:n,left:t,right:t+s,bottom:n+a,x:t,y:n}}function Sk(e,t,n){let{reference:s,floating:a}=e;const i=La(t),o=S2(t),l=N2(o),c=Fi(t),d=i==="y",u=s.x+s.width/2-a.width/2,m=s.y+s.height/2-a.height/2,p=s[l]/2-a[l]/2;let f;switch(c){case"top":f={x:u,y:s.y-a.height};break;case"bottom":f={x:u,y:s.y+s.height};break;case"right":f={x:s.x+s.width,y:m};break;case"left":f={x:s.x-a.width,y:m};break;default:f={x:s.x,y:s.y}}switch(Au(t)){case"start":f[o]-=p*(n&&d?-1:1);break;case"end":f[o]+=p*(n&&d?-1:1);break}return f}const aH=async(e,t,n)=>{const{placement:s="bottom",strategy:a="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:m}=Sk(d,s,c),p=s,f={},x=0;for(let h=0;h<l.length;h++){const{name:y,fn:v}=l[h],{x:b,y:w,data:S,reset:N}=await v({x:u,y:m,initialPlacement:s,placement:p,strategy:a,middlewareData:f,rects:d,platform:o,elements:{reference:e,floating:t}});u=b??u,m=w??m,f={...f,[y]:{...f[y],...S}},N&&x<=50&&(x++,typeof N=="object"&&(N.placement&&(p=N.placement),N.rects&&(d=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):N.rects),{x:u,y:m}=Sk(d,p,c)),h=-1)}return{x:u,y:m,placement:p,strategy:a,middlewareData:f}};async function yh(e,t){var n;t===void 0&&(t={});const{x:s,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:m="floating",altBoundary:p=!1,padding:f=0}=zi(t,e),x=fI(f),y=l[p?m==="floating"?"reference":"floating":m],v=Mx(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(y)))==null||n?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),b=m==="floating"?{x:s,y:a,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),S=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},N=Mx(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:w,strategy:c}):b);return{top:(v.top-N.top+x.top)/S.y,bottom:(N.bottom-v.bottom+x.bottom)/S.y,left:(v.left-N.left+x.left)/S.x,right:(N.right-v.right+x.right)/S.x}}const iH=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=zi(e,t)||{};if(d==null)return{};const m=fI(u),p={x:n,y:s},f=S2(a),x=N2(f),h=await o.getDimensions(d),y=f==="y",v=y?"top":"left",b=y?"bottom":"right",w=y?"clientHeight":"clientWidth",S=i.reference[x]+i.reference[f]-p[f]-i.floating[x],N=p[f]-i.reference[f],j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let C=j?j[w]:0;(!C||!await(o.isElement==null?void 0:o.isElement(j)))&&(C=l.floating[w]||i.floating[x]);const A=S/2-N/2,k=C/2-h[x]/2-1,O=Uo(m[v],k),M=Uo(m[b],k),P=O,_=C-h[x]-M,E=C/2-h[x]/2+A,T=nj(P,E,_),$=!c.arrow&&Au(a)!=null&&E!==T&&i.reference[x]/2-(E<P?O:M)-h[x]/2<0,q=$?E<P?E-P:E-_:0;return{[f]:p[f]+q,data:{[f]:T,centerOffset:E-T-q,...$&&{alignmentOffset:q}},reset:$}}}),oH=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:m=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:h=!0,...y}=zi(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=Fi(a),b=La(l),w=Fi(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(d.floating)),N=p||(w||!h?[Tx(l)]:JW(l)),j=x!=="none";!p&&j&&N.push(...nH(l,h,x,S));const C=[l,...N],A=await yh(t,y),k=[];let O=((s=i.flip)==null?void 0:s.overflows)||[];if(u&&k.push(A[v]),m){const E=ZW(a,o,S);k.push(A[E[0]],A[E[1]])}if(O=[...O,{placement:a,overflows:k}],!k.every(E=>E<=0)){var M,P;const E=(((M=i.flip)==null?void 0:M.index)||0)+1,T=C[E];if(T&&(!(m==="alignment"?b!==La(T):!1)||O.every(R=>La(R.placement)===b?R.overflows[0]>0:!0)))return{data:{index:E,overflows:O},reset:{placement:T}};let $=(P=O.filter(q=>q.overflows[0]<=0).sort((q,R)=>q.overflows[1]-R.overflows[1])[0])==null?void 0:P.placement;if(!$)switch(f){case"bestFit":{var _;const q=(_=O.filter(R=>{if(j){const D=La(R.placement);return D===b||D==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(D=>D>0).reduce((D,V)=>D+V,0)]).sort((R,D)=>R[1]-D[1])[0])==null?void 0:_[0];q&&($=q);break}case"initialPlacement":$=l;break}if(a!==$)return{reset:{placement:$}}}return{}}}};function Ck(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function kk(e){return GW.some(t=>e[t]>=0)}const lH=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...a}=zi(e,t);switch(s){case"referenceHidden":{const i=await yh(t,{...a,elementContext:"reference"}),o=Ck(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:kk(o)}}}case"escaped":{const i=await yh(t,{...a,altBoundary:!0}),o=Ck(i,n.floating);return{data:{escapedOffsets:o,escaped:kk(o)}}}default:return{}}}}},xI=new Set(["left","top"]);async function cH(e,t){const{placement:n,platform:s,elements:a}=e,i=await(s.isRTL==null?void 0:s.isRTL(a.floating)),o=Fi(n),l=Au(n),c=La(n)==="y",d=xI.has(o)?-1:1,u=i&&c?-1:1,m=zi(t,e);let{mainAxis:p,crossAxis:f,alignmentAxis:x}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof x=="number"&&(f=l==="end"?x*-1:x),c?{x:f*u,y:p*d}:{x:p*d,y:f*u}}const dH=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await cH(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},uH=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:y=>{let{x:v,y:b}=y;return{x:v,y:b}}},...c}=zi(e,t),d={x:n,y:s},u=await yh(t,c),m=La(Fi(a)),p=j2(m);let f=d[p],x=d[m];if(i){const y=p==="y"?"top":"left",v=p==="y"?"bottom":"right",b=f+u[y],w=f-u[v];f=nj(b,f,w)}if(o){const y=m==="y"?"top":"left",v=m==="y"?"bottom":"right",b=x+u[y],w=x-u[v];x=nj(b,x,w)}const h=l.fn({...t,[p]:f,[m]:x});return{...h,data:{x:h.x-n,y:h.y-s,enabled:{[p]:i,[m]:o}}}}}},mH=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=zi(e,t),u={x:n,y:s},m=La(a),p=j2(m);let f=u[p],x=u[m];const h=zi(l,t),y=typeof h=="number"?{mainAxis:h,crossAxis:0}:{mainAxis:0,crossAxis:0,...h};if(c){const w=p==="y"?"height":"width",S=i.reference[p]-i.floating[w]+y.mainAxis,N=i.reference[p]+i.reference[w]-y.mainAxis;f<S?f=S:f>N&&(f=N)}if(d){var v,b;const w=p==="y"?"width":"height",S=xI.has(Fi(a)),N=i.reference[m]-i.floating[w]+(S&&((v=o.offset)==null?void 0:v[m])||0)+(S?0:y.crossAxis),j=i.reference[m]+i.reference[w]+(S?0:((b=o.offset)==null?void 0:b[m])||0)-(S?y.crossAxis:0);x<N?x=N:x>j&&(x=j)}return{[p]:f,[m]:x}}}},hH=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=zi(e,t),u=await yh(t,d),m=Fi(a),p=Au(a),f=La(a)==="y",{width:x,height:h}=i.floating;let y,v;m==="top"||m==="bottom"?(y=m,v=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(v=m,y=p==="end"?"top":"bottom");const b=h-u.top-u.bottom,w=x-u.left-u.right,S=Uo(h-u[y],b),N=Uo(x-u[v],w),j=!t.middlewareData.shift;let C=S,A=N;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(A=w),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(C=b),j&&!p){const O=cs(u.left,0),M=cs(u.right,0),P=cs(u.top,0),_=cs(u.bottom,0);f?A=x-2*(O!==0||M!==0?O+M:cs(u.left,u.right)):C=h-2*(P!==0||_!==0?P+_:cs(u.top,u.bottom))}await c({...t,availableWidth:A,availableHeight:C});const k=await o.getDimensions(l.floating);return x!==k.width||h!==k.height?{reset:{rects:!0}}:{}}}};function _0(){return typeof window<"u"}function Pu(e){return gI(e)?(e.nodeName||"").toLowerCase():"#document"}function ys(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ri(e){var t;return(t=(gI(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function gI(e){return _0()?e instanceof Node||e instanceof ys(e).Node:!1}function Na(e){return _0()?e instanceof Element||e instanceof ys(e).Element:!1}function Za(e){return _0()?e instanceof HTMLElement||e instanceof ys(e).HTMLElement:!1}function Ak(e){return!_0()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ys(e).ShadowRoot}const pH=new Set(["inline","contents"]);function Np(e){const{overflow:t,overflowX:n,overflowY:s,display:a}=Sa(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!pH.has(a)}const fH=new Set(["table","td","th"]);function xH(e){return fH.has(Pu(e))}const gH=[":popover-open",":modal"];function T0(e){return gH.some(t=>{try{return e.matches(t)}catch{return!1}})}const yH=["transform","translate","scale","rotate","perspective"],vH=["transform","translate","scale","rotate","perspective","filter"],bH=["paint","layout","strict","content"];function C2(e){const t=k2(),n=Na(e)?Sa(e):e;return yH.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||vH.some(s=>(n.willChange||"").includes(s))||bH.some(s=>(n.contain||"").includes(s))}function wH(e){let t=Bo(e);for(;Za(t)&&!Fd(t);){if(C2(t))return t;if(T0(t))return null;t=Bo(t)}return null}function k2(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const jH=new Set(["html","body","#document"]);function Fd(e){return jH.has(Pu(e))}function Sa(e){return ys(e).getComputedStyle(e)}function M0(e){return Na(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Bo(e){if(Pu(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Ak(e)&&e.host||ri(e);return Ak(t)?t.host:t}function yI(e){const t=Bo(e);return Fd(t)?e.ownerDocument?e.ownerDocument.body:e.body:Za(t)&&Np(t)?t:yI(t)}function vh(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=yI(e),i=a===((s=e.ownerDocument)==null?void 0:s.body),o=ys(a);if(i){const l=aj(o);return t.concat(o,o.visualViewport||[],Np(a)?a:[],l&&n?vh(l):[])}return t.concat(a,vh(a,[],n))}function aj(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function vI(e){const t=Sa(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const a=Za(e),i=a?e.offsetWidth:n,o=a?e.offsetHeight:s,l=_x(n)!==i||_x(s)!==o;return l&&(n=i,s=o),{width:n,height:s,$:l}}function A2(e){return Na(e)?e:e.contextElement}function ud(e){const t=A2(e);if(!Za(t))return Wa(1);const n=t.getBoundingClientRect(),{width:s,height:a,$:i}=vI(t);let o=(i?_x(n.width):n.width)/s,l=(i?_x(n.height):n.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const NH=Wa(0);function bI(e){const t=ys(e);return!k2()||!t.visualViewport?NH:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function SH(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ys(e)?!1:t}function Xl(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),i=A2(e);let o=Wa(1);t&&(s?Na(s)&&(o=ud(s)):o=ud(e));const l=SH(i,n,s)?bI(i):Wa(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,u=a.width/o.x,m=a.height/o.y;if(i){const p=ys(i),f=s&&Na(s)?ys(s):s;let x=p,h=aj(x);for(;h&&s&&f!==x;){const y=ud(h),v=h.getBoundingClientRect(),b=Sa(h),w=v.left+(h.clientLeft+parseFloat(b.paddingLeft))*y.x,S=v.top+(h.clientTop+parseFloat(b.paddingTop))*y.y;c*=y.x,d*=y.y,u*=y.x,m*=y.y,c+=w,d+=S,x=ys(h),h=aj(x)}}return Mx({width:u,height:m,x:c,y:d})}function I0(e,t){const n=M0(e).scrollLeft;return t?t.left+n:Xl(ri(e)).left+n}function wI(e,t){const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-I0(e,n),a=n.top+t.scrollTop;return{x:s,y:a}}function CH(e){let{elements:t,rect:n,offsetParent:s,strategy:a}=e;const i=a==="fixed",o=ri(s),l=t?T0(t.floating):!1;if(s===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},d=Wa(1);const u=Wa(0),m=Za(s);if((m||!m&&!i)&&((Pu(s)!=="body"||Np(o))&&(c=M0(s)),Za(s))){const f=Xl(s);d=ud(s),u.x=f.x+s.clientLeft,u.y=f.y+s.clientTop}const p=o&&!m&&!i?wI(o,c):Wa(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+u.x+p.x,y:n.y*d.y-c.scrollTop*d.y+u.y+p.y}}function kH(e){return Array.from(e.getClientRects())}function AH(e){const t=ri(e),n=M0(e),s=e.ownerDocument.body,a=cs(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),i=cs(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let o=-n.scrollLeft+I0(e);const l=-n.scrollTop;return Sa(s).direction==="rtl"&&(o+=cs(t.clientWidth,s.clientWidth)-a),{width:a,height:i,x:o,y:l}}const Pk=25;function PH(e,t){const n=ys(e),s=ri(e),a=n.visualViewport;let i=s.clientWidth,o=s.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const u=k2();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const d=I0(s);if(d<=0){const u=s.ownerDocument,m=u.body,p=getComputedStyle(m),f=u.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,x=Math.abs(s.clientWidth-m.clientWidth-f);x<=Pk&&(i-=x)}else d<=Pk&&(i+=d);return{width:i,height:o,x:l,y:c}}const OH=new Set(["absolute","fixed"]);function EH(e,t){const n=Xl(e,!0,t==="fixed"),s=n.top+e.clientTop,a=n.left+e.clientLeft,i=Za(e)?ud(e):Wa(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=s*i.y;return{width:o,height:l,x:c,y:d}}function Ok(e,t,n){let s;if(t==="viewport")s=PH(e,n);else if(t==="document")s=AH(ri(e));else if(Na(t))s=EH(t,n);else{const a=bI(e);s={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Mx(s)}function jI(e,t){const n=Bo(e);return n===t||!Na(n)||Fd(n)?!1:Sa(n).position==="fixed"||jI(n,t)}function _H(e,t){const n=t.get(e);if(n)return n;let s=vh(e,[],!1).filter(l=>Na(l)&&Pu(l)!=="body"),a=null;const i=Sa(e).position==="fixed";let o=i?Bo(e):e;for(;Na(o)&&!Fd(o);){const l=Sa(o),c=C2(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&OH.has(a.position)||Np(o)&&!c&&jI(e,o))?s=s.filter(u=>u!==o):a=l,o=Bo(o)}return t.set(e,s),s}function TH(e){let{element:t,boundary:n,rootBoundary:s,strategy:a}=e;const o=[...n==="clippingAncestors"?T0(t)?[]:_H(t,this._c):[].concat(n),s],l=o[0],c=o.reduce((d,u)=>{const m=Ok(t,u,a);return d.top=cs(m.top,d.top),d.right=Uo(m.right,d.right),d.bottom=Uo(m.bottom,d.bottom),d.left=cs(m.left,d.left),d},Ok(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function MH(e){const{width:t,height:n}=vI(e);return{width:t,height:n}}function IH(e,t,n){const s=Za(t),a=ri(t),i=n==="fixed",o=Xl(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Wa(0);function d(){c.x=I0(a)}if(s||!s&&!i)if((Pu(t)!=="body"||Np(a))&&(l=M0(t)),s){const f=Xl(t,!0,i,t);c.x=f.x+t.clientLeft,c.y=f.y+t.clientTop}else a&&d();i&&!s&&a&&d();const u=a&&!s&&!i?wI(a,l):Wa(0),m=o.left+l.scrollLeft-c.x-u.x,p=o.top+l.scrollTop-c.y-u.y;return{x:m,y:p,width:o.width,height:o.height}}function Uv(e){return Sa(e).position==="static"}function Ek(e,t){if(!Za(e)||Sa(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ri(e)===n&&(n=n.ownerDocument.body),n}function NI(e,t){const n=ys(e);if(T0(e))return n;if(!Za(e)){let a=Bo(e);for(;a&&!Fd(a);){if(Na(a)&&!Uv(a))return a;a=Bo(a)}return n}let s=Ek(e,t);for(;s&&xH(s)&&Uv(s);)s=Ek(s,t);return s&&Fd(s)&&Uv(s)&&!C2(s)?n:s||wH(e)||n}const RH=async function(e){const t=this.getOffsetParent||NI,n=this.getDimensions,s=await n(e.floating);return{reference:IH(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function $H(e){return Sa(e).direction==="rtl"}const DH={convertOffsetParentRelativeRectToViewportRelativeRect:CH,getDocumentElement:ri,getClippingRect:TH,getOffsetParent:NI,getElementRects:RH,getClientRects:kH,getDimensions:MH,getScale:ud,isElement:Na,isRTL:$H};function SI(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function zH(e,t){let n=null,s;const a=ri(e);function i(){var l;clearTimeout(s),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:u,top:m,width:p,height:f}=d;if(l||t(),!p||!f)return;const x=hf(m),h=hf(a.clientWidth-(u+p)),y=hf(a.clientHeight-(m+f)),v=hf(u),w={rootMargin:-x+"px "+-h+"px "+-y+"px "+-v+"px",threshold:cs(0,Uo(1,c))||1};let S=!0;function N(j){const C=j[0].intersectionRatio;if(C!==c){if(!S)return o();C?o(!1,C):s=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!SI(d,e.getBoundingClientRect())&&o(),S=!1}try{n=new IntersectionObserver(N,{...w,root:a.ownerDocument})}catch{n=new IntersectionObserver(N,w)}n.observe(e)}return o(!0),i}function FH(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,d=A2(e),u=a||i?[...d?vh(d):[],...vh(t)]:[];u.forEach(v=>{a&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const m=d&&l?zH(d,n):null;let p=-1,f=null;o&&(f=new ResizeObserver(v=>{let[b]=v;b&&b.target===d&&f&&(f.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var w;(w=f)==null||w.observe(t)})),n()}),d&&!c&&f.observe(d),f.observe(t));let x,h=c?Xl(e):null;c&&y();function y(){const v=Xl(e);h&&!SI(h,v)&&n(),h=v,x=requestAnimationFrame(y)}return n(),()=>{var v;u.forEach(b=>{a&&b.removeEventListener("scroll",n),i&&b.removeEventListener("resize",n)}),m==null||m(),(v=f)==null||v.disconnect(),f=null,c&&cancelAnimationFrame(x)}}const LH=dH,UH=uH,BH=oH,VH=hH,qH=lH,_k=iH,WH=mH,HH=(e,t,n)=>{const s=new Map,a={platform:DH,...n},i={...a.platform,_c:s};return aH(e,t,{...a,platform:i})};var KH=typeof document<"u",GH=function(){},Jf=KH?g.useLayoutEffect:GH;function Ix(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!Ix(e[s],t[s]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,a[s]))return!1;for(s=n;s--!==0;){const i=a[s];if(!(i==="_owner"&&e.$$typeof)&&!Ix(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function CI(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Tk(e,t){const n=CI(e);return Math.round(t*n)/n}function Bv(e){const t=g.useRef(e);return Jf(()=>{t.current=e}),t}function YH(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,m]=g.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,f]=g.useState(s);Ix(p,s)||f(s);const[x,h]=g.useState(null),[y,v]=g.useState(null),b=g.useCallback(R=>{R!==j.current&&(j.current=R,h(R))},[]),w=g.useCallback(R=>{R!==C.current&&(C.current=R,v(R))},[]),S=i||x,N=o||y,j=g.useRef(null),C=g.useRef(null),A=g.useRef(u),k=c!=null,O=Bv(c),M=Bv(a),P=Bv(d),_=g.useCallback(()=>{if(!j.current||!C.current)return;const R={placement:t,strategy:n,middleware:p};M.current&&(R.platform=M.current),HH(j.current,C.current,R).then(D=>{const V={...D,isPositioned:P.current!==!1};E.current&&!Ix(A.current,V)&&(A.current=V,mc.flushSync(()=>{m(V)}))})},[p,t,n,M,P]);Jf(()=>{d===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,m(R=>({...R,isPositioned:!1})))},[d]);const E=g.useRef(!1);Jf(()=>(E.current=!0,()=>{E.current=!1}),[]),Jf(()=>{if(S&&(j.current=S),N&&(C.current=N),S&&N){if(O.current)return O.current(S,N,_);_()}},[S,N,_,O,k]);const T=g.useMemo(()=>({reference:j,floating:C,setReference:b,setFloating:w}),[b,w]),$=g.useMemo(()=>({reference:S,floating:N}),[S,N]),q=g.useMemo(()=>{const R={position:n,left:0,top:0};if(!$.floating)return R;const D=Tk($.floating,u.x),V=Tk($.floating,u.y);return l?{...R,transform:"translate("+D+"px, "+V+"px)",...CI($.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:D,top:V}},[n,l,$.floating,u.x,u.y]);return g.useMemo(()=>({...u,update:_,refs:T,elements:$,floatingStyles:q}),[u,_,T,$,q])}const QH=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:a}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?_k({element:s.current,padding:a}).fn(n):{}:s?_k({element:s,padding:a}).fn(n):{}}}},XH=(e,t)=>({...LH(e),options:[e,t]}),ZH=(e,t)=>({...UH(e),options:[e,t]}),JH=(e,t)=>({...WH(e),options:[e,t]}),eK=(e,t)=>({...BH(e),options:[e,t]}),tK=(e,t)=>({...VH(e),options:[e,t]}),rK=(e,t)=>({...qH(e),options:[e,t]}),nK=(e,t)=>({...QH(e),options:[e,t]});var sK="Arrow",kI=g.forwardRef((e,t)=>{const{children:n,width:s=10,height:a=5,...i}=e;return r.jsx(Le.svg,{...i,ref:t,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});kI.displayName=sK;var aK=kI;function P2(e){const[t,n]=g.useState(void 0);return Cr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var O2="Popper",[AI,Qo]=Fn(O2),[iK,PI]=AI(O2),OI=e=>{const{__scopePopper:t,children:n}=e,[s,a]=g.useState(null);return r.jsx(iK,{scope:t,anchor:s,onAnchorChange:a,children:n})};OI.displayName=O2;var EI="PopperAnchor",_I=g.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...a}=e,i=PI(EI,n),o=g.useRef(null),l=rt(t,o),c=g.useRef(null);return g.useEffect(()=>{const d=c.current;c.current=(s==null?void 0:s.current)||o.current,d!==c.current&&i.onAnchorChange(c.current)}),s?null:r.jsx(Le.div,{...a,ref:l})});_I.displayName=EI;var E2="PopperContent",[oK,lK]=AI(E2),TI=g.forwardRef((e,t)=>{var he,Ce,se,G,xe,re;const{__scopePopper:n,side:s="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:m="partial",hideWhenDetached:p=!1,updatePositionStrategy:f="optimized",onPlaced:x,...h}=e,y=PI(E2,n),[v,b]=g.useState(null),w=rt(t,We=>b(We)),[S,N]=g.useState(null),j=P2(S),C=(j==null?void 0:j.width)??0,A=(j==null?void 0:j.height)??0,k=s+(i!=="center"?"-"+i:""),O=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},M=Array.isArray(d)?d:[d],P=M.length>0,_={padding:O,boundary:M.filter(dK),altBoundary:P},{refs:E,floatingStyles:T,placement:$,isPositioned:q,middlewareData:R}=YH({strategy:"fixed",placement:k,whileElementsMounted:(...We)=>FH(...We,{animationFrame:f==="always"}),elements:{reference:y.anchor},middleware:[XH({mainAxis:a+A,alignmentAxis:o}),c&&ZH({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?JH():void 0,..._}),c&&eK({..._}),tK({..._,apply:({elements:We,rects:Ue,availableWidth:nt,availableHeight:mt})=>{const{width:Nt,height:wr}=Ue.reference,jr=We.floating.style;jr.setProperty("--radix-popper-available-width",`${nt}px`),jr.setProperty("--radix-popper-available-height",`${mt}px`),jr.setProperty("--radix-popper-anchor-width",`${Nt}px`),jr.setProperty("--radix-popper-anchor-height",`${wr}px`)}}),S&&nK({element:S,padding:l}),uK({arrowWidth:C,arrowHeight:A}),p&&rK({strategy:"referenceHidden",..._})]}),[D,V]=RI($),F=xr(x);Cr(()=>{q&&(F==null||F())},[q,F]);const z=(he=R.arrow)==null?void 0:he.x,Q=(Ce=R.arrow)==null?void 0:Ce.y,te=((se=R.arrow)==null?void 0:se.centerOffset)!==0,[me,ge]=g.useState();return Cr(()=>{v&&ge(window.getComputedStyle(v).zIndex)},[v]),r.jsx("div",{ref:E.setFloating,"data-radix-popper-content-wrapper":"",style:{...T,transform:q?T.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:me,"--radix-popper-transform-origin":[(G=R.transformOrigin)==null?void 0:G.x,(xe=R.transformOrigin)==null?void 0:xe.y].join(" "),...((re=R.hide)==null?void 0:re.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(oK,{scope:n,placedSide:D,onArrowChange:N,arrowX:z,arrowY:Q,shouldHideArrow:te,children:r.jsx(Le.div,{"data-side":D,"data-align":V,...h,ref:w,style:{...h.style,animation:q?void 0:"none"}})})})});TI.displayName=E2;var MI="PopperArrow",cK={top:"bottom",right:"left",bottom:"top",left:"right"},II=g.forwardRef(function(t,n){const{__scopePopper:s,...a}=t,i=lK(MI,s),o=cK[i.placedSide];return r.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:r.jsx(aK,{...a,ref:n,style:{...a.style,display:"block"}})})});II.displayName=MI;function dK(e){return e!==null}var uK=e=>({name:"transformOrigin",options:e,fn(t){var y,v,b;const{placement:n,rects:s,middlewareData:a}=t,o=((y=a.arrow)==null?void 0:y.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=RI(n),m={start:"0%",center:"50%",end:"100%"}[u],p=(((v=a.arrow)==null?void 0:v.x)??0)+l/2,f=(((b=a.arrow)==null?void 0:b.y)??0)+c/2;let x="",h="";return d==="bottom"?(x=o?m:`${p}px`,h=`${-c}px`):d==="top"?(x=o?m:`${p}px`,h=`${s.floating.height+c}px`):d==="right"?(x=`${-c}px`,h=o?m:`${f}px`):d==="left"&&(x=`${s.floating.width+c}px`,h=o?m:`${f}px`),{data:{x,y:h}}}});function RI(e){const[t,n="center"]=e.split("-");return[t,n]}var R0=OI,Sp=_I,$0=TI,D0=II,mK=Symbol("radix.slottable");function hK(e){const t=({children:n})=>r.jsx(r.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=mK,t}var[z0]=Fn("Tooltip",[Qo]),F0=Qo(),$I="TooltipProvider",pK=700,ij="tooltip.open",[fK,_2]=z0($I),DI=e=>{const{__scopeTooltip:t,delayDuration:n=pK,skipDelayDuration:s=300,disableHoverableContent:a=!1,children:i}=e,o=g.useRef(!0),l=g.useRef(!1),c=g.useRef(0);return g.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),r.jsx(fK,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:g.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:g.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,s)},[s]),isPointerInTransitRef:l,onPointerInTransitChange:g.useCallback(d=>{l.current=d},[]),disableHoverableContent:a,children:i})};DI.displayName=$I;var bh="Tooltip",[xK,L0]=z0(bh),zI=e=>{const{__scopeTooltip:t,children:n,open:s,defaultOpen:a,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=_2(bh,e.__scopeTooltip),d=F0(t),[u,m]=g.useState(null),p=sn(),f=g.useRef(0),x=o??c.disableHoverableContent,h=l??c.delayDuration,y=g.useRef(!1),[v,b]=wa({prop:s,defaultProp:a??!1,onChange:C=>{C?(c.onOpen(),document.dispatchEvent(new CustomEvent(ij))):c.onClose(),i==null||i(C)},caller:bh}),w=g.useMemo(()=>v?y.current?"delayed-open":"instant-open":"closed",[v]),S=g.useCallback(()=>{window.clearTimeout(f.current),f.current=0,y.current=!1,b(!0)},[b]),N=g.useCallback(()=>{window.clearTimeout(f.current),f.current=0,b(!1)},[b]),j=g.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>{y.current=!0,b(!0),f.current=0},h)},[h,b]);return g.useEffect(()=>()=>{f.current&&(window.clearTimeout(f.current),f.current=0)},[]),r.jsx(R0,{...d,children:r.jsx(xK,{scope:t,contentId:p,open:v,stateAttribute:w,trigger:u,onTriggerChange:m,onTriggerEnter:g.useCallback(()=>{c.isOpenDelayedRef.current?j():S()},[c.isOpenDelayedRef,j,S]),onTriggerLeave:g.useCallback(()=>{x?N():(window.clearTimeout(f.current),f.current=0)},[N,x]),onOpen:S,onClose:N,disableHoverableContent:x,children:n})})};zI.displayName=bh;var oj="TooltipTrigger",FI=g.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,a=L0(oj,n),i=_2(oj,n),o=F0(n),l=g.useRef(null),c=rt(t,l,a.onTriggerChange),d=g.useRef(!1),u=g.useRef(!1),m=g.useCallback(()=>d.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),r.jsx(Sp,{asChild:!0,...o,children:r.jsx(Le.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...s,ref:c,onPointerMove:je(e.onPointerMove,p=>{p.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),u.current=!0)}),onPointerLeave:je(e.onPointerLeave,()=>{a.onTriggerLeave(),u.current=!1}),onPointerDown:je(e.onPointerDown,()=>{a.open&&a.onClose(),d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:je(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:je(e.onBlur,a.onClose),onClick:je(e.onClick,a.onClose)})})});FI.displayName=oj;var gK="TooltipPortal",[eOe,yK]=z0(gK,{forceMount:void 0}),Ld="TooltipContent",LI=g.forwardRef((e,t)=>{const n=yK(Ld,e.__scopeTooltip),{forceMount:s=n.forceMount,side:a="top",...i}=e,o=L0(Ld,e.__scopeTooltip);return r.jsx(an,{present:s||o.open,children:o.disableHoverableContent?r.jsx(UI,{side:a,...i,ref:t}):r.jsx(vK,{side:a,...i,ref:t})})}),vK=g.forwardRef((e,t)=>{const n=L0(Ld,e.__scopeTooltip),s=_2(Ld,e.__scopeTooltip),a=g.useRef(null),i=rt(t,a),[o,l]=g.useState(null),{trigger:c,onClose:d}=n,u=a.current,{onPointerInTransitChange:m}=s,p=g.useCallback(()=>{l(null),m(!1)},[m]),f=g.useCallback((x,h)=>{const y=x.currentTarget,v={x:x.clientX,y:x.clientY},b=SK(v,y.getBoundingClientRect()),w=CK(v,b),S=kK(h.getBoundingClientRect()),N=PK([...w,...S]);l(N),m(!0)},[m]);return g.useEffect(()=>()=>p(),[p]),g.useEffect(()=>{if(c&&u){const x=y=>f(y,u),h=y=>f(y,c);return c.addEventListener("pointerleave",x),u.addEventListener("pointerleave",h),()=>{c.removeEventListener("pointerleave",x),u.removeEventListener("pointerleave",h)}}},[c,u,f,p]),g.useEffect(()=>{if(o){const x=h=>{const y=h.target,v={x:h.clientX,y:h.clientY},b=(c==null?void 0:c.contains(y))||(u==null?void 0:u.contains(y)),w=!AK(v,o);b?p():w&&(p(),d())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,u,o,d,p]),r.jsx(UI,{...e,ref:i})}),[bK,wK]=z0(bh,{isInside:!1}),jK=hK("TooltipContent"),UI=g.forwardRef((e,t)=>{const{__scopeTooltip:n,children:s,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=L0(Ld,n),d=F0(n),{onClose:u}=c;return g.useEffect(()=>(document.addEventListener(ij,u),()=>document.removeEventListener(ij,u)),[u]),g.useEffect(()=>{if(c.trigger){const m=p=>{const f=p.target;f!=null&&f.contains(c.trigger)&&u()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,u]),r.jsx(hc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:u,children:r.jsxs($0,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[r.jsx(jK,{children:s}),r.jsx(bK,{scope:n,isInside:!0,children:r.jsx(tq,{id:c.contentId,role:"tooltip",children:a||s})})]})})});LI.displayName=Ld;var BI="TooltipArrow",NK=g.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,a=F0(n);return wK(BI,n).isInside?null:r.jsx(D0,{...a,...s,ref:t})});NK.displayName=BI;function SK(e,t){const n=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,s,a,i)){case i:return"left";case a:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function CK(e,t,n=5){const s=[];switch(t){case"top":s.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":s.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":s.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":s.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return s}function kK(e){const{top:t,right:n,bottom:s,left:a}=e;return[{x:a,y:t},{x:n,y:t},{x:n,y:s},{x:a,y:s}]}function AK(e,t){const{x:n,y:s}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],d=l.x,u=l.y,m=c.x,p=c.y;u>s!=p>s&&n<(m-d)*(s-u)/(p-u)+d&&(a=!a)}return a}function PK(e){const t=e.slice();return t.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),OK(t)}function OK(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const a=e[s];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const n=[];for(let s=e.length-1;s>=0;s--){const a=e[s];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))n.pop();else break}n.push(a)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var EK=DI,_K=zI,TK=FI,VI=LI;const ds=EK,Or=_K,Er=TK,Sr=g.forwardRef(({className:e,sideOffset:t=4,...n},s)=>r.jsx(VI,{ref:s,sideOffset:t,className:ye("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n}));Sr.displayName=VI.displayName;var MK=Symbol.for("react.lazy"),Rx=a0[" use ".trim().toString()];function IK(e){return typeof e=="object"&&e!==null&&"then"in e}function qI(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===MK&&"_payload"in e&&IK(e._payload)}function Cp(e){const t=RK(e),n=g.forwardRef((s,a)=>{let{children:i,...o}=s;qI(i)&&typeof Rx=="function"&&(i=Rx(i._payload));const l=g.Children.toArray(i),c=l.find(DK);if(c){const d=c.props.children,u=l.map(m=>m===c?g.Children.count(d)>1?g.Children.only(null):g.isValidElement(d)?d.props.children:null:m);return r.jsx(t,{...o,ref:a,children:g.isValidElement(d)?g.cloneElement(d,void 0,u):null})}return r.jsx(t,{...o,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}var WI=Cp("Slot");function RK(e){const t=g.forwardRef((n,s)=>{let{children:a,...i}=n;if(qI(a)&&typeof Rx=="function"&&(a=Rx(a._payload)),g.isValidElement(a)){const o=FK(a),l=zK(i,a.props);return a.type!==g.Fragment&&(l.ref=s?Rn(s,o):o),g.cloneElement(a,l)}return g.Children.count(a)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var $K=Symbol("radix.slottable");function DK(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===$K}function zK(e,t){const n={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?n[s]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(n[s]=a):s==="style"?n[s]={...a,...i}:s==="className"&&(n[s]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function FK(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const T2=bp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),I=g.forwardRef(({className:e,variant:t,size:n,asChild:s=!1,...a},i)=>{const o=s?WI:"button";return r.jsx(o,{className:ye(T2({variant:t,size:n,className:e})),ref:i,...a})});I.displayName="Button";const HI=g.createContext(void 0);function LK({children:e}){const[t,n]=g.useState(!1),s=()=>n(o=>!o),a=()=>n(!0),i=()=>n(!1);return r.jsx(HI.Provider,{value:{isCollapsed:t,toggleSidebar:s,collapseSidebar:a,expandSidebar:i},children:e})}function UK(){const e=g.useContext(HI);if(e===void 0)throw new Error("useSidebar must be used within a SidebarProvider");return e}function BK({username:e,isAdmin:t,userRole:n="user",onLogout:s}){const{isCollapsed:a,toggleSidebar:i}=UK(),o=n==="SuperAdmin"||t===!0&&n==="user",l=n==="Admin",c=o||l||t,[d]=zn(),[u,m]=g.useState(!1),[p,f]=g.useState(!1),[x,h]=g.useState(!1),y=()=>{m(!u)},v=[{path:"/dashboard",icon:hh,label:"Dashboard"},{path:"/reports",icon:et,label:"Reports"},{path:"/my-tickets",icon:J5,label:"Support"}],b=[{path:"/super-admin",icon:vr,label:"Super Admin"},{path:"/prospects",icon:tj,label:"Prospects"},{path:"/admin/tickets",icon:fa,label:"Tickets"},{path:"/organizations",icon:zq,label:"Organizations"},{path:"/billing",icon:vr,label:"Billing"}],w=[{path:"/data-management",icon:zr,label:"Data Management"},{path:"/reps",icon:St,label:"Rep Management"},{path:"/vendor-management",icon:ja,label:"Vendor Management"},{path:"/audit-issues",icon:et,label:"Audit Issues"}],S=N=>d===N||d.startsWith(N+"/");return r.jsxs(r.Fragment,{children:[r.jsx(I,{variant:"ghost",size:"icon",className:"fixed top-4 left-4 z-50 lg:hidden bg-black/80 text-yellow-400 hover:bg-black/90",onClick:y,children:u?r.jsx(br,{className:"h-5 w-5"}):r.jsx(cd,{className:"h-5 w-5"})}),r.jsx(I,{variant:"ghost",size:"icon",className:`fixed top-4 z-50 hidden lg:flex h-8 w-8 bg-zinc-800 border border-yellow-400/30 text-yellow-400 hover:bg-zinc-700 hover:text-yellow-300 rounded-md shadow-lg transition-all duration-200
          ${a?"left-4":"left-56"}
        `,onClick:i,"data-testid":"sidebar-collapse-toggle",children:a?r.jsx(pa,{className:"h-4 w-4"}):r.jsx(Z5,{className:"h-4 w-4"})}),r.jsxs("div",{className:`
          fixed inset-y-0 left-0 z-40 bg-zinc-900 shadow-lg border-r border-yellow-400/20 transition-all duration-200 ease-in-out overflow-hidden
          ${u?"translate-x-0 w-64":"-translate-x-full w-64"}
          ${a?"lg:w-0":"lg:w-64"}
          lg:translate-x-0 lg:relative
        `,onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),children:[r.jsx("div",{className:"p-6 border-b border-yellow-400/20",children:r.jsx(qt,{href:"/",onClick:()=>m(!1),children:r.jsx("div",{className:"flex items-center justify-center",children:r.jsx("img",{src:"/isohub-logo.png",alt:"ISO Hub Logo",className:"h-20 w-auto"})})})}),r.jsx("nav",{className:"px-4 py-6 flex-1",children:r.jsxs("div",{className:"space-y-2",children:[v.map(N=>r.jsx(qt,{href:N.path,onClick:()=>m(!1),children:r.jsxs("div",{className:`
                    group flex items-center px-3 py-3 text-sm font-medium rounded-md transition-colors
                    ${S(N.path)?"text-yellow-400 bg-yellow-400/10 border-l-4 border-yellow-400":"text-gray-300 hover:text-yellow-400 hover:bg-yellow-400/5 hover:border-l-4 hover:border-yellow-400"}
                  `,children:[r.jsx(N.icon,{className:"h-5 w-5 mr-3 text-gray-400 group-hover:text-yellow-400"}),r.jsx("span",{children:N.label})]})},N.path)),r.jsxs("div",{className:"pt-4 border-t border-yellow-400/20",children:[r.jsx(qt,{href:"/iso-ai",onClick:()=>m(!1),children:r.jsxs("div",{className:`
                  group flex items-center px-3 py-3 text-sm font-medium rounded-md transition-colors
                  ${S("/iso-ai")?"text-yellow-400 bg-yellow-400/10 border-l-4 border-yellow-400":"text-gray-300 hover:text-yellow-400 hover:bg-yellow-400/5 hover:border-l-4 hover:border-yellow-400"}
                `,children:[r.jsx(rn,{className:"h-5 w-5 mr-3 text-yellow-400"}),r.jsx("span",{children:"ISO-AI"}),r.jsx("span",{className:"ml-auto text-xs bg-yellow-400 text-black px-1.5 py-0.5 rounded",children:"NEW"})]})}),r.jsx(qt,{href:"/iso-sign",children:r.jsxs("div",{className:`
                  group flex items-center px-3 py-3 text-sm font-medium rounded-md transition-colors
                  ${S("/iso-sign")?"text-yellow-400 bg-yellow-400/10 border-l-4 border-yellow-400":"text-gray-300 hover:text-yellow-400 hover:bg-yellow-400/5 hover:border-l-4 hover:border-yellow-400"}
                `,children:[r.jsx(Xf,{className:"h-5 w-5 mr-3 text-yellow-400"}),r.jsx("span",{children:"ISO-Sign"}),r.jsx("span",{className:"ml-auto text-xs bg-yellow-400 text-black px-1.5 py-0.5 rounded",children:"NEW"})]})})]}),o&&r.jsxs("div",{className:"pt-4 border-t border-yellow-400/20",children:[r.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"SuperAdmin Tools"}),r.jsx("div",{className:"space-y-1",children:b.map(N=>r.jsx(qt,{href:N.path,onClick:()=>m(!1),children:r.jsxs("div",{className:`
                          group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors
                          ${S(N.path)?"text-yellow-400 bg-yellow-400/10 border-l-4 border-yellow-400":"text-gray-400 hover:text-yellow-400 hover:bg-yellow-400/5 hover:border-l-4 hover:border-yellow-400"}
                        `,children:[r.jsx(N.icon,{className:"h-4 w-4 mr-3 text-gray-400 group-hover:text-yellow-400"}),r.jsx("span",{children:N.label})]})},N.path))})]}),l&&r.jsxs("div",{className:"pt-4 border-t border-yellow-400/20",children:[r.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Account"}),r.jsx("div",{className:"space-y-1",children:r.jsx(qt,{href:"/my-billing",onClick:()=>m(!1),children:r.jsxs("div",{className:`
                        group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors
                        ${S("/my-billing")?"text-yellow-400 bg-yellow-400/10 border-l-4 border-yellow-400":"text-gray-400 hover:text-yellow-400 hover:bg-yellow-400/5 hover:border-l-4 hover:border-yellow-400"}
                      `,children:[r.jsx(Cu,{className:"h-4 w-4 mr-3 text-gray-400 group-hover:text-yellow-400"}),r.jsx("span",{children:"Billing & Invoices"})]})})})]}),c&&r.jsxs("div",{className:"pt-4 border-t border-yellow-400/20",children:[r.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Admin Tools"}),r.jsx("div",{className:"space-y-1",children:w.map(N=>r.jsx(qt,{href:N.path,onClick:()=>m(!1),children:r.jsxs("div",{className:`
                          group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors
                          ${S(N.path)?"text-yellow-400 bg-yellow-400/10 border-l-4 border-yellow-400":"text-gray-400 hover:text-yellow-400 hover:bg-yellow-400/5 hover:border-l-4 hover:border-yellow-400"}
                        `,children:[r.jsx(N.icon,{className:"h-4 w-4 mr-3 text-gray-400 group-hover:text-yellow-400"}),r.jsx("span",{children:N.label})]})},N.path))})]})]})}),r.jsx("div",{className:"p-4 border-t border-yellow-400/20",children:e?r.jsxs("div",{className:"space-y-3",children:[r.jsx(qt,{href:`/user-settings/${e}`,children:r.jsxs("div",{className:"flex items-center px-3 py-2 text-sm font-medium text-gray-300 rounded-md hover:text-yellow-400 hover:bg-yellow-400/5 transition-colors",children:[r.jsx(vr,{className:"h-4 w-4 mr-3 text-gray-400"}),r.jsx("span",{children:e})]})}),r.jsxs(I,{onClick:s,className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 rounded-md flex items-center justify-center gap-2 transition-colors",children:[r.jsx(tI,{className:"h-4 w-4"}),"LOGOUT"]})]}):r.jsx(qt,{href:"/login",children:r.jsx(I,{className:"w-full bg-yellow-400 hover:bg-yellow-500 text-black font-semibold py-3",children:"Login"})})})]}),u&&r.jsx("div",{className:"fixed inset-0 z-30 bg-black/50 lg:hidden",onClick:y})]})}var Mk=1,VK=.9,qK=.8,WK=.17,Vv=.1,qv=.999,HK=.9999,KK=.99,GK=/[\\\/_+.#"@\[\(\{&]/,YK=/[\\\/_+.#"@\[\(\{&]/g,QK=/[\s-]/,KI=/[\s-]/g;function lj(e,t,n,s,a,i,o){if(i===t.length)return a===e.length?Mk:KK;var l=`${a},${i}`;if(o[l]!==void 0)return o[l];for(var c=s.charAt(i),d=n.indexOf(c,a),u=0,m,p,f,x;d>=0;)m=lj(e,t,n,s,d+1,i+1,o),m>u&&(d===a?m*=Mk:GK.test(e.charAt(d-1))?(m*=qK,f=e.slice(a,d-1).match(YK),f&&a>0&&(m*=Math.pow(qv,f.length))):QK.test(e.charAt(d-1))?(m*=VK,x=e.slice(a,d-1).match(KI),x&&a>0&&(m*=Math.pow(qv,x.length))):(m*=WK,a>0&&(m*=Math.pow(qv,d-a))),e.charAt(d)!==t.charAt(i)&&(m*=HK)),(m<Vv&&n.charAt(d-1)===s.charAt(i+1)||s.charAt(i+1)===s.charAt(i)&&n.charAt(d-1)!==s.charAt(i))&&(p=lj(e,t,n,s,d+1,i+2,o),p*Vv>m&&(m=p*Vv)),m>u&&(u=m),d=n.indexOf(c,d+1);return o[l]=u,u}function Ik(e){return e.toLowerCase().replace(KI," ")}function XK(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,lj(e,t,Ik(e),Ik(t),0,0,{})}var Wv="focusScope.autoFocusOnMount",Hv="focusScope.autoFocusOnUnmount",Rk={bubbles:!1,cancelable:!0},ZK="FocusScope",kp=g.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=g.useState(null),d=xr(a),u=xr(i),m=g.useRef(null),p=rt(t,h=>c(h)),f=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(s){let h=function(w){if(f.paused||!l)return;const S=w.target;l.contains(S)?m.current=S:to(m.current,{select:!0})},y=function(w){if(f.paused||!l)return;const S=w.relatedTarget;S!==null&&(l.contains(S)||to(m.current,{select:!0}))},v=function(w){if(document.activeElement===document.body)for(const N of w)N.removedNodes.length>0&&to(l)};document.addEventListener("focusin",h),document.addEventListener("focusout",y);const b=new MutationObserver(v);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",h),document.removeEventListener("focusout",y),b.disconnect()}}},[s,l,f.paused]),g.useEffect(()=>{if(l){Dk.add(f);const h=document.activeElement;if(!l.contains(h)){const v=new CustomEvent(Wv,Rk);l.addEventListener(Wv,d),l.dispatchEvent(v),v.defaultPrevented||(JK(sG(GI(l)),{select:!0}),document.activeElement===h&&to(l))}return()=>{l.removeEventListener(Wv,d),setTimeout(()=>{const v=new CustomEvent(Hv,Rk);l.addEventListener(Hv,u),l.dispatchEvent(v),v.defaultPrevented||to(h??document.body,{select:!0}),l.removeEventListener(Hv,u),Dk.remove(f)},0)}}},[l,d,u,f]);const x=g.useCallback(h=>{if(!n&&!s||f.paused)return;const y=h.key==="Tab"&&!h.altKey&&!h.ctrlKey&&!h.metaKey,v=document.activeElement;if(y&&v){const b=h.currentTarget,[w,S]=eG(b);w&&S?!h.shiftKey&&v===S?(h.preventDefault(),n&&to(w,{select:!0})):h.shiftKey&&v===w&&(h.preventDefault(),n&&to(S,{select:!0})):v===b&&h.preventDefault()}},[n,s,f.paused]);return r.jsx(Le.div,{tabIndex:-1,...o,ref:p,onKeyDown:x})});kp.displayName=ZK;function JK(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(to(s,{select:t}),document.activeElement!==n)return}function eG(e){const t=GI(e),n=$k(t,e),s=$k(t.reverse(),e);return[n,s]}function GI(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function $k(e,t){for(const n of e)if(!tG(n,{upTo:t}))return n}function tG(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function rG(e){return e instanceof HTMLInputElement&&"select"in e}function to(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&rG(e)&&t&&e.select()}}var Dk=nG();function nG(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=zk(e,t),e.unshift(t)},remove(t){var n;e=zk(e,t),(n=e[0])==null||n.resume()}}}function zk(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function sG(e){return e.filter(t=>t.tagName!=="A")}var Kv=0;function U0(){g.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Fk()),document.body.insertAdjacentElement("beforeend",e[1]??Fk()),Kv++,()=>{Kv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Kv--}},[])}function Fk(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Fa=function(){return Fa=Object.assign||function(t){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Fa.apply(this,arguments)};function YI(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n}function fc(e,t,n,s){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(m){o(m)}}function c(u){try{d(s.throw(u))}catch(m){o(m)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})}function aG(e,t,n){if(n||arguments.length===2)for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}var ex="right-scroll-bar-position",tx="width-before-scroll-bar",iG="with-scroll-bars-hidden",oG="--removed-body-scroll-bar-size";function Gv(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function lG(e,t){var n=g.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var a=n.value;a!==s&&(n.value=s,n.callback(s,a))}}}})[0];return n.callback=t,n.facade}var cG=typeof window<"u"?g.useLayoutEffect:g.useEffect,Lk=new WeakMap;function dG(e,t){var n=lG(null,function(s){return e.forEach(function(a){return Gv(a,s)})});return cG(function(){var s=Lk.get(n);if(s){var a=new Set(s),i=new Set(e),o=n.current;a.forEach(function(l){i.has(l)||Gv(l,null)}),i.forEach(function(l){a.has(l)||Gv(l,o)})}Lk.set(n,e)},[e]),n}function uG(e){return e}function mG(e,t){t===void 0&&(t=uG);var n=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,s);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(s=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){s=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),n}}}};return a}function hG(e){e===void 0&&(e={});var t=mG(null);return t.options=Fa({async:!0,ssr:!1},e),t}var QI=function(e){var t=e.sideCar,n=YI(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return g.createElement(s,Fa({},n))};QI.isSideCarExport=!0;function pG(e,t){return e.useMedium(t),QI}var XI=hG(),Yv=function(){},B0=g.forwardRef(function(e,t){var n=g.useRef(null),s=g.useState({onScrollCapture:Yv,onWheelCapture:Yv,onTouchMoveCapture:Yv}),a=s[0],i=s[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,m=e.shards,p=e.sideCar,f=e.noRelative,x=e.noIsolation,h=e.inert,y=e.allowPinchZoom,v=e.as,b=v===void 0?"div":v,w=e.gapMode,S=YI(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=p,j=dG([n,t]),C=Fa(Fa({},S),a);return g.createElement(g.Fragment,null,u&&g.createElement(N,{sideCar:XI,removeScrollBar:d,shards:m,noRelative:f,noIsolation:x,inert:h,setCallbacks:i,allowPinchZoom:!!y,lockRef:n,gapMode:w}),o?g.cloneElement(g.Children.only(l),Fa(Fa({},C),{ref:j})):g.createElement(b,Fa({},C,{className:c,ref:j}),l))});B0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};B0.classNames={fullWidth:tx,zeroRight:ex};var fG=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function xG(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=fG();return t&&e.setAttribute("nonce",t),e}function gG(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function yG(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var vG=function(){var e=0,t=null;return{add:function(n){e==0&&(t=xG())&&(gG(t,n),yG(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},bG=function(){var e=vG();return function(t,n){g.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},ZI=function(){var e=bG(),t=function(n){var s=n.styles,a=n.dynamic;return e(s,a),null};return t},wG={left:0,top:0,right:0,gap:0},Qv=function(e){return parseInt(e||"",10)||0},jG=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Qv(n),Qv(s),Qv(a)]},NG=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return wG;var t=jG(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},SG=ZI(),md="data-scroll-locked",CG=function(e,t,n,s){var a=e.left,i=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(iG,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(md,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ex,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(tx,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(ex," .").concat(ex,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(tx," .").concat(tx,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(md,`] {
    `).concat(oG,": ").concat(l,`px;
  }
`)},Uk=function(){var e=parseInt(document.body.getAttribute(md)||"0",10);return isFinite(e)?e:0},kG=function(){g.useEffect(function(){return document.body.setAttribute(md,(Uk()+1).toString()),function(){var e=Uk()-1;e<=0?document.body.removeAttribute(md):document.body.setAttribute(md,e.toString())}},[])},AG=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;kG();var i=g.useMemo(function(){return NG(a)},[a]);return g.createElement(SG,{styles:CG(i,!t,a,n?"":"!important")})},cj=!1;if(typeof window<"u")try{var pf=Object.defineProperty({},"passive",{get:function(){return cj=!0,!0}});window.addEventListener("test",pf,pf),window.removeEventListener("test",pf,pf)}catch{cj=!1}var Sc=cj?{passive:!1}:!1,PG=function(e){return e.tagName==="TEXTAREA"},JI=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!PG(e)&&n[t]==="visible")},OG=function(e){return JI(e,"overflowY")},EG=function(e){return JI(e,"overflowX")},Bk=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=eR(e,s);if(a){var i=tR(e,s),o=i[1],l=i[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},_G=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},TG=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},eR=function(e,t){return e==="v"?OG(t):EG(t)},tR=function(e,t){return e==="v"?_G(t):TG(t)},MG=function(e,t){return e==="h"&&t==="rtl"?-1:1},IG=function(e,t,n,s,a){var i=MG(e,window.getComputedStyle(t).direction),o=i*s,l=n.target,c=t.contains(l),d=!1,u=o>0,m=0,p=0;do{if(!l)break;var f=tR(e,l),x=f[0],h=f[1],y=f[2],v=h-y-i*x;(x||v)&&eR(e,l)&&(m+=v,p+=x);var b=l.parentNode;l=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&Math.abs(m)<1||!u&&Math.abs(p)<1)&&(d=!0),d},ff=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Vk=function(e){return[e.deltaX,e.deltaY]},qk=function(e){return e&&"current"in e?e.current:e},RG=function(e,t){return e[0]===t[0]&&e[1]===t[1]},$G=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},DG=0,Cc=[];function zG(e){var t=g.useRef([]),n=g.useRef([0,0]),s=g.useRef(),a=g.useState(DG++)[0],i=g.useState(ZI)[0],o=g.useRef(e);g.useEffect(function(){o.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var h=aG([e.lockRef.current],(e.shards||[]).map(qk),!0).filter(Boolean);return h.forEach(function(y){return y.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),h.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=g.useCallback(function(h,y){if("touches"in h&&h.touches.length===2||h.type==="wheel"&&h.ctrlKey)return!o.current.allowPinchZoom;var v=ff(h),b=n.current,w="deltaX"in h?h.deltaX:b[0]-v[0],S="deltaY"in h?h.deltaY:b[1]-v[1],N,j=h.target,C=Math.abs(w)>Math.abs(S)?"h":"v";if("touches"in h&&C==="h"&&j.type==="range")return!1;var A=window.getSelection(),k=A&&A.anchorNode,O=k?k===j||k.contains(j):!1;if(O)return!1;var M=Bk(C,j);if(!M)return!0;if(M?N=C:(N=C==="v"?"h":"v",M=Bk(C,j)),!M)return!1;if(!s.current&&"changedTouches"in h&&(w||S)&&(s.current=N),!N)return!0;var P=s.current||N;return IG(P,y,h,P==="h"?w:S)},[]),c=g.useCallback(function(h){var y=h;if(!(!Cc.length||Cc[Cc.length-1]!==i)){var v="deltaY"in y?Vk(y):ff(y),b=t.current.filter(function(N){return N.name===y.type&&(N.target===y.target||y.target===N.shadowParent)&&RG(N.delta,v)})[0];if(b&&b.should){y.cancelable&&y.preventDefault();return}if(!b){var w=(o.current.shards||[]).map(qk).filter(Boolean).filter(function(N){return N.contains(y.target)}),S=w.length>0?l(y,w[0]):!o.current.noIsolation;S&&y.cancelable&&y.preventDefault()}}},[]),d=g.useCallback(function(h,y,v,b){var w={name:h,delta:y,target:v,should:b,shadowParent:FG(v)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(S){return S!==w})},1)},[]),u=g.useCallback(function(h){n.current=ff(h),s.current=void 0},[]),m=g.useCallback(function(h){d(h.type,Vk(h),h.target,l(h,e.lockRef.current))},[]),p=g.useCallback(function(h){d(h.type,ff(h),h.target,l(h,e.lockRef.current))},[]);g.useEffect(function(){return Cc.push(i),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Sc),document.addEventListener("touchmove",c,Sc),document.addEventListener("touchstart",u,Sc),function(){Cc=Cc.filter(function(h){return h!==i}),document.removeEventListener("wheel",c,Sc),document.removeEventListener("touchmove",c,Sc),document.removeEventListener("touchstart",u,Sc)}},[]);var f=e.removeScrollBar,x=e.inert;return g.createElement(g.Fragment,null,x?g.createElement(i,{styles:$G(a)}):null,f?g.createElement(AG,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function FG(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const LG=pG(XI,zG);var Ap=g.forwardRef(function(e,t){return g.createElement(B0,Fa({},e,{ref:t,sideCar:LG}))});Ap.classNames=B0.classNames;var UG=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},kc=new WeakMap,xf=new WeakMap,gf={},Xv=0,rR=function(e){return e&&(e.host||rR(e.parentNode))},BG=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=rR(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},VG=function(e,t,n,s){var a=BG(t,Array.isArray(e)?e:[e]);gf[n]||(gf[n]=new WeakMap);var i=gf[n],o=[],l=new Set,c=new Set(a),d=function(m){!m||l.has(m)||(l.add(m),d(m.parentNode))};a.forEach(d);var u=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(p){if(l.has(p))u(p);else try{var f=p.getAttribute(s),x=f!==null&&f!=="false",h=(kc.get(p)||0)+1,y=(i.get(p)||0)+1;kc.set(p,h),i.set(p,y),o.push(p),h===1&&x&&xf.set(p,!0),y===1&&p.setAttribute(n,"true"),x||p.setAttribute(s,"true")}catch(v){console.error("aria-hidden: cannot operate on ",p,v)}})};return u(t),l.clear(),Xv++,function(){o.forEach(function(m){var p=kc.get(m)-1,f=i.get(m)-1;kc.set(m,p),i.set(m,f),p||(xf.has(m)||m.removeAttribute(s),xf.delete(m)),f||m.removeAttribute(n)}),Xv--,Xv||(kc=new WeakMap,kc=new WeakMap,xf=new WeakMap,gf={})}},V0=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=UG(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live], script"))),VG(s,a,n,"aria-hidden")):function(){return null}};function qG(e){const t=WG(e),n=g.forwardRef((s,a)=>{const{children:i,...o}=s,l=g.Children.toArray(i),c=l.find(KG);if(c){const d=c.props.children,u=l.map(m=>m===c?g.Children.count(d)>1?g.Children.only(null):g.isValidElement(d)?d.props.children:null:m);return r.jsx(t,{...o,ref:a,children:g.isValidElement(d)?g.cloneElement(d,void 0,u):null})}return r.jsx(t,{...o,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}function WG(e){const t=g.forwardRef((n,s)=>{const{children:a,...i}=n;if(g.isValidElement(a)){const o=YG(a),l=GG(i,a.props);return a.type!==g.Fragment&&(l.ref=s?Rn(s,o):o),g.cloneElement(a,l)}return g.Children.count(a)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var HG=Symbol("radix.slottable");function KG(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===HG}function GG(e,t){const n={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?n[s]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(n[s]=a):s==="style"?n[s]={...a,...i}:s==="className"&&(n[s]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function YG(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var q0="Dialog",[nR,sR]=Fn(q0),[QG,Aa]=nR(q0),aR=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=g.useRef(null),c=g.useRef(null),[d,u]=wa({prop:s,defaultProp:a??!1,onChange:i,caller:q0});return r.jsx(QG,{scope:t,triggerRef:l,contentRef:c,contentId:sn(),titleId:sn(),descriptionId:sn(),open:d,onOpenChange:u,onOpenToggle:g.useCallback(()=>u(m=>!m),[u]),modal:o,children:n})};aR.displayName=q0;var iR="DialogTrigger",oR=g.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Aa(iR,n),i=rt(t,a.triggerRef);return r.jsx(Le.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":R2(a.open),...s,ref:i,onClick:je(e.onClick,a.onOpenToggle)})});oR.displayName=iR;var M2="DialogPortal",[XG,lR]=nR(M2,{forceMount:void 0}),cR=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:a}=e,i=Aa(M2,t);return r.jsx(XG,{scope:t,forceMount:n,children:g.Children.map(s,o=>r.jsx(an,{present:n||i.open,children:r.jsx(Su,{asChild:!0,container:a,children:o})}))})};cR.displayName=M2;var $x="DialogOverlay",dR=g.forwardRef((e,t)=>{const n=lR($x,e.__scopeDialog),{forceMount:s=n.forceMount,...a}=e,i=Aa($x,e.__scopeDialog);return i.modal?r.jsx(an,{present:s||i.open,children:r.jsx(JG,{...a,ref:t})}):null});dR.displayName=$x;var ZG=qG("DialogOverlay.RemoveScroll"),JG=g.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Aa($x,n);return r.jsx(Ap,{as:ZG,allowPinchZoom:!0,shards:[a.contentRef],children:r.jsx(Le.div,{"data-state":R2(a.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),Zl="DialogContent",uR=g.forwardRef((e,t)=>{const n=lR(Zl,e.__scopeDialog),{forceMount:s=n.forceMount,...a}=e,i=Aa(Zl,e.__scopeDialog);return r.jsx(an,{present:s||i.open,children:i.modal?r.jsx(eY,{...a,ref:t}):r.jsx(tY,{...a,ref:t})})});uR.displayName=Zl;var eY=g.forwardRef((e,t)=>{const n=Aa(Zl,e.__scopeDialog),s=g.useRef(null),a=rt(t,n.contentRef,s);return g.useEffect(()=>{const i=s.current;if(i)return V0(i)},[]),r.jsx(mR,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:je(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:je(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:je(e.onFocusOutside,i=>i.preventDefault())})}),tY=g.forwardRef((e,t)=>{const n=Aa(Zl,e.__scopeDialog),s=g.useRef(!1),a=g.useRef(!1);return r.jsx(mR,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),mR=g.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Aa(Zl,n),c=g.useRef(null),d=rt(t,c);return U0(),r.jsxs(r.Fragment,{children:[r.jsx(kp,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:r.jsx(hc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":R2(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(nY,{titleId:l.titleId}),r.jsx(aY,{contentRef:c,descriptionId:l.descriptionId})]})]})}),I2="DialogTitle",hR=g.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Aa(I2,n);return r.jsx(Le.h2,{id:a.titleId,...s,ref:t})});hR.displayName=I2;var pR="DialogDescription",fR=g.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Aa(pR,n);return r.jsx(Le.p,{id:a.descriptionId,...s,ref:t})});fR.displayName=pR;var xR="DialogClose",gR=g.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Aa(xR,n);return r.jsx(Le.button,{type:"button",...s,ref:t,onClick:je(e.onClick,()=>a.onOpenChange(!1))})});gR.displayName=xR;function R2(e){return e?"open":"closed"}var yR="DialogTitleWarning",[rY,vR]=SV(yR,{contentName:Zl,titleName:I2,docsSlug:"dialog"}),nY=({titleId:e})=>{const t=vR(yR),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return g.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},sY="DialogDescriptionWarning",aY=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${vR(sY).contentName}}.`;return g.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},$2=aR,bR=oR,D2=cR,W0=dR,H0=uR,z2=hR,F2=fR,L2=gR,rm='[cmdk-group=""]',Zv='[cmdk-group-items=""]',iY='[cmdk-group-heading=""]',wR='[cmdk-item=""]',Wk=`${wR}:not([aria-disabled="true"])`,dj="cmdk-item-select",Ic="data-value",oY=(e,t,n)=>XK(e,t,n),jR=g.createContext(void 0),Pp=()=>g.useContext(jR),NR=g.createContext(void 0),U2=()=>g.useContext(NR),SR=g.createContext(void 0),CR=g.forwardRef((e,t)=>{let n=Rc(()=>{var z,Q;return{search:"",value:(Q=(z=e.value)!=null?z:e.defaultValue)!=null?Q:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),s=Rc(()=>new Set),a=Rc(()=>new Map),i=Rc(()=>new Map),o=Rc(()=>new Set),l=kR(e),{label:c,children:d,value:u,onValueChange:m,filter:p,shouldFilter:f,loop:x,disablePointerSelection:h=!1,vimBindings:y=!0,...v}=e,b=sn(),w=sn(),S=sn(),N=g.useRef(null),j=yY();Jl(()=>{if(u!==void 0){let z=u.trim();n.current.value=z,C.emit()}},[u]),Jl(()=>{j(6,_)},[]);let C=g.useMemo(()=>({subscribe:z=>(o.current.add(z),()=>o.current.delete(z)),snapshot:()=>n.current,setState:(z,Q,te)=>{var me,ge,he,Ce;if(!Object.is(n.current[z],Q)){if(n.current[z]=Q,z==="search")P(),O(),j(1,M);else if(z==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let se=document.getElementById(S);se?se.focus():(me=document.getElementById(b))==null||me.focus()}if(j(7,()=>{var se;n.current.selectedItemId=(se=E())==null?void 0:se.id,C.emit()}),te||j(5,_),((ge=l.current)==null?void 0:ge.value)!==void 0){let se=Q??"";(Ce=(he=l.current).onValueChange)==null||Ce.call(he,se);return}}C.emit()}},emit:()=>{o.current.forEach(z=>z())}}),[]),A=g.useMemo(()=>({value:(z,Q,te)=>{var me;Q!==((me=i.current.get(z))==null?void 0:me.value)&&(i.current.set(z,{value:Q,keywords:te}),n.current.filtered.items.set(z,k(Q,te)),j(2,()=>{O(),C.emit()}))},item:(z,Q)=>(s.current.add(z),Q&&(a.current.has(Q)?a.current.get(Q).add(z):a.current.set(Q,new Set([z]))),j(3,()=>{P(),O(),n.current.value||M(),C.emit()}),()=>{i.current.delete(z),s.current.delete(z),n.current.filtered.items.delete(z);let te=E();j(4,()=>{P(),(te==null?void 0:te.getAttribute("id"))===z&&M(),C.emit()})}),group:z=>(a.current.has(z)||a.current.set(z,new Set),()=>{i.current.delete(z),a.current.delete(z)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:b,inputId:S,labelId:w,listInnerRef:N}),[]);function k(z,Q){var te,me;let ge=(me=(te=l.current)==null?void 0:te.filter)!=null?me:oY;return z?ge(z,n.current.search,Q):0}function O(){if(!n.current.search||l.current.shouldFilter===!1)return;let z=n.current.filtered.items,Q=[];n.current.filtered.groups.forEach(me=>{let ge=a.current.get(me),he=0;ge.forEach(Ce=>{let se=z.get(Ce);he=Math.max(se,he)}),Q.push([me,he])});let te=N.current;T().sort((me,ge)=>{var he,Ce;let se=me.getAttribute("id"),G=ge.getAttribute("id");return((he=z.get(G))!=null?he:0)-((Ce=z.get(se))!=null?Ce:0)}).forEach(me=>{let ge=me.closest(Zv);ge?ge.appendChild(me.parentElement===ge?me:me.closest(`${Zv} > *`)):te.appendChild(me.parentElement===te?me:me.closest(`${Zv} > *`))}),Q.sort((me,ge)=>ge[1]-me[1]).forEach(me=>{var ge;let he=(ge=N.current)==null?void 0:ge.querySelector(`${rm}[${Ic}="${encodeURIComponent(me[0])}"]`);he==null||he.parentElement.appendChild(he)})}function M(){let z=T().find(te=>te.getAttribute("aria-disabled")!=="true"),Q=z==null?void 0:z.getAttribute(Ic);C.setState("value",Q||void 0)}function P(){var z,Q,te,me;if(!n.current.search||l.current.shouldFilter===!1){n.current.filtered.count=s.current.size;return}n.current.filtered.groups=new Set;let ge=0;for(let he of s.current){let Ce=(Q=(z=i.current.get(he))==null?void 0:z.value)!=null?Q:"",se=(me=(te=i.current.get(he))==null?void 0:te.keywords)!=null?me:[],G=k(Ce,se);n.current.filtered.items.set(he,G),G>0&&ge++}for(let[he,Ce]of a.current)for(let se of Ce)if(n.current.filtered.items.get(se)>0){n.current.filtered.groups.add(he);break}n.current.filtered.count=ge}function _(){var z,Q,te;let me=E();me&&(((z=me.parentElement)==null?void 0:z.firstChild)===me&&((te=(Q=me.closest(rm))==null?void 0:Q.querySelector(iY))==null||te.scrollIntoView({block:"nearest"})),me.scrollIntoView({block:"nearest"}))}function E(){var z;return(z=N.current)==null?void 0:z.querySelector(`${wR}[aria-selected="true"]`)}function T(){var z;return Array.from(((z=N.current)==null?void 0:z.querySelectorAll(Wk))||[])}function $(z){let Q=T()[z];Q&&C.setState("value",Q.getAttribute(Ic))}function q(z){var Q;let te=E(),me=T(),ge=me.findIndex(Ce=>Ce===te),he=me[ge+z];(Q=l.current)!=null&&Q.loop&&(he=ge+z<0?me[me.length-1]:ge+z===me.length?me[0]:me[ge+z]),he&&C.setState("value",he.getAttribute(Ic))}function R(z){let Q=E(),te=Q==null?void 0:Q.closest(rm),me;for(;te&&!me;)te=z>0?xY(te,rm):gY(te,rm),me=te==null?void 0:te.querySelector(Wk);me?C.setState("value",me.getAttribute(Ic)):q(z)}let D=()=>$(T().length-1),V=z=>{z.preventDefault(),z.metaKey?D():z.altKey?R(1):q(1)},F=z=>{z.preventDefault(),z.metaKey?$(0):z.altKey?R(-1):q(-1)};return g.createElement(Le.div,{ref:t,tabIndex:-1,...v,"cmdk-root":"",onKeyDown:z=>{var Q;(Q=v.onKeyDown)==null||Q.call(v,z);let te=z.nativeEvent.isComposing||z.keyCode===229;if(!(z.defaultPrevented||te))switch(z.key){case"n":case"j":{y&&z.ctrlKey&&V(z);break}case"ArrowDown":{V(z);break}case"p":case"k":{y&&z.ctrlKey&&F(z);break}case"ArrowUp":{F(z);break}case"Home":{z.preventDefault(),$(0);break}case"End":{z.preventDefault(),D();break}case"Enter":{z.preventDefault();let me=E();if(me){let ge=new Event(dj);me.dispatchEvent(ge)}}}}},g.createElement("label",{"cmdk-label":"",htmlFor:A.inputId,id:A.labelId,style:bY},c),K0(e,z=>g.createElement(NR.Provider,{value:C},g.createElement(jR.Provider,{value:A},z))))}),lY=g.forwardRef((e,t)=>{var n,s;let a=sn(),i=g.useRef(null),o=g.useContext(SR),l=Pp(),c=kR(e),d=(s=(n=c.current)==null?void 0:n.forceMount)!=null?s:o==null?void 0:o.forceMount;Jl(()=>{if(!d)return l.item(a,o==null?void 0:o.id)},[d]);let u=AR(a,i,[e.value,e.children,i],e.keywords),m=U2(),p=Vo(j=>j.value&&j.value===u.current),f=Vo(j=>d||l.filter()===!1?!0:j.search?j.filtered.items.get(a)>0:!0);g.useEffect(()=>{let j=i.current;if(!(!j||e.disabled))return j.addEventListener(dj,x),()=>j.removeEventListener(dj,x)},[f,e.onSelect,e.disabled]);function x(){var j,C;h(),(C=(j=c.current).onSelect)==null||C.call(j,u.current)}function h(){m.setState("value",u.current,!0)}if(!f)return null;let{disabled:y,value:v,onSelect:b,forceMount:w,keywords:S,...N}=e;return g.createElement(Le.div,{ref:Rn(i,t),...N,id:a,"cmdk-item":"",role:"option","aria-disabled":!!y,"aria-selected":!!p,"data-disabled":!!y,"data-selected":!!p,onPointerMove:y||l.getDisablePointerSelection()?void 0:h,onClick:y?void 0:x},e.children)}),cY=g.forwardRef((e,t)=>{let{heading:n,children:s,forceMount:a,...i}=e,o=sn(),l=g.useRef(null),c=g.useRef(null),d=sn(),u=Pp(),m=Vo(f=>a||u.filter()===!1?!0:f.search?f.filtered.groups.has(o):!0);Jl(()=>u.group(o),[]),AR(o,l,[e.value,e.heading,c]);let p=g.useMemo(()=>({id:o,forceMount:a}),[a]);return g.createElement(Le.div,{ref:Rn(l,t),...i,"cmdk-group":"",role:"presentation",hidden:m?void 0:!0},n&&g.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:d},n),K0(e,f=>g.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?d:void 0},g.createElement(SR.Provider,{value:p},f))))}),dY=g.forwardRef((e,t)=>{let{alwaysRender:n,...s}=e,a=g.useRef(null),i=Vo(o=>!o.search);return!n&&!i?null:g.createElement(Le.div,{ref:Rn(a,t),...s,"cmdk-separator":"",role:"separator"})}),uY=g.forwardRef((e,t)=>{let{onValueChange:n,...s}=e,a=e.value!=null,i=U2(),o=Vo(d=>d.search),l=Vo(d=>d.selectedItemId),c=Pp();return g.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),g.createElement(Le.input,{ref:t,...s,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:a?e.value:o,onChange:d=>{a||i.setState("search",d.target.value),n==null||n(d.target.value)}})}),mY=g.forwardRef((e,t)=>{let{children:n,label:s="Suggestions",...a}=e,i=g.useRef(null),o=g.useRef(null),l=Vo(d=>d.selectedItemId),c=Pp();return g.useEffect(()=>{if(o.current&&i.current){let d=o.current,u=i.current,m,p=new ResizeObserver(()=>{m=requestAnimationFrame(()=>{let f=d.offsetHeight;u.style.setProperty("--cmdk-list-height",f.toFixed(1)+"px")})});return p.observe(d),()=>{cancelAnimationFrame(m),p.unobserve(d)}}},[]),g.createElement(Le.div,{ref:Rn(i,t),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":s,id:c.listId},K0(e,d=>g.createElement("div",{ref:Rn(o,c.listInnerRef),"cmdk-list-sizer":""},d)))}),hY=g.forwardRef((e,t)=>{let{open:n,onOpenChange:s,overlayClassName:a,contentClassName:i,container:o,...l}=e;return g.createElement($2,{open:n,onOpenChange:s},g.createElement(D2,{container:o},g.createElement(W0,{"cmdk-overlay":"",className:a}),g.createElement(H0,{"aria-label":e.label,"cmdk-dialog":"",className:i},g.createElement(CR,{ref:t,...l}))))}),pY=g.forwardRef((e,t)=>Vo(n=>n.filtered.count===0)?g.createElement(Le.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),fY=g.forwardRef((e,t)=>{let{progress:n,children:s,label:a="Loading...",...i}=e;return g.createElement(Le.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},K0(e,o=>g.createElement("div",{"aria-hidden":!0},o)))}),ts=Object.assign(CR,{List:mY,Item:lY,Input:uY,Group:cY,Separator:dY,Dialog:hY,Empty:pY,Loading:fY});function xY(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function gY(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function kR(e){let t=g.useRef(e);return Jl(()=>{t.current=e}),t}var Jl=typeof window>"u"?g.useEffect:g.useLayoutEffect;function Rc(e){let t=g.useRef();return t.current===void 0&&(t.current=e()),t}function Vo(e){let t=U2(),n=()=>e(t.snapshot());return g.useSyncExternalStore(t.subscribe,n,n)}function AR(e,t,n,s=[]){let a=g.useRef(),i=Pp();return Jl(()=>{var o;let l=(()=>{var d;for(let u of n){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(d=u.current.textContent)==null?void 0:d.trim():a.current}})(),c=s.map(d=>d.trim());i.value(e,l,c),(o=t.current)==null||o.setAttribute(Ic,l),a.current=l}),a}var yY=()=>{let[e,t]=g.useState(),n=Rc(()=>new Map);return Jl(()=>{n.current.forEach(s=>s()),n.current=new Map},[e]),(s,a)=>{n.current.set(s,a),t({})}};function vY(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function K0({asChild:e,children:t},n){return e&&g.isValidElement(t)?g.cloneElement(vY(t),{ref:t.ref},n(t.props.children)):n(t)}var bY={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const jt=$2,pn=bR,wY=D2,PR=g.forwardRef(({className:e,...t},n)=>r.jsx(W0,{ref:n,className:ye("fixed inset-0 z-50 bg-black/90 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));PR.displayName=W0.displayName;const yt=g.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(wY,{children:[r.jsx(PR,{}),r.jsxs(H0,{ref:s,className:ye("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-6 shadow-2xl duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,r.jsxs(L2,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(br,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));yt.displayName=H0.displayName;const vt=({className:e,...t})=>r.jsx("div",{className:ye("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});vt.displayName="DialogHeader";const Pi=({className:e,...t})=>r.jsx("div",{className:ye("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Pi.displayName="DialogFooter";const bt=g.forwardRef(({className:e,...t},n)=>r.jsx(z2,{ref:n,className:ye("text-lg font-semibold leading-none tracking-tight",e),...t}));bt.displayName=z2.displayName;const jn=g.forwardRef(({className:e,...t},n)=>r.jsx(F2,{ref:n,className:ye("text-sm text-muted-foreground",e),...t}));jn.displayName=F2.displayName;const OR=g.forwardRef(({className:e,...t},n)=>r.jsx(ts,{ref:n,className:ye("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));OR.displayName=ts.displayName;const ER=g.forwardRef(({className:e,...t},n)=>r.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[r.jsx(js,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),r.jsx(ts.Input,{ref:n,className:ye("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));ER.displayName=ts.Input.displayName;const jY=g.forwardRef(({className:e,...t},n)=>r.jsx(ts.List,{ref:n,className:ye("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));jY.displayName=ts.List.displayName;const _R=g.forwardRef((e,t)=>r.jsx(ts.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));_R.displayName=ts.Empty.displayName;const TR=g.forwardRef(({className:e,...t},n)=>r.jsx(ts.Group,{ref:n,className:ye("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));TR.displayName=ts.Group.displayName;const NY=g.forwardRef(({className:e,...t},n)=>r.jsx(ts.Separator,{ref:n,className:ye("-mx-1 h-px bg-border",e),...t}));NY.displayName=ts.Separator.displayName;const MR=g.forwardRef(({className:e,...t},n)=>r.jsx(ts.Item,{ref:n,className:ye("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...t}));MR.displayName=ts.Item.displayName;function SY(e){const t=CY(e),n=g.forwardRef((s,a)=>{const{children:i,...o}=s,l=g.Children.toArray(i),c=l.find(AY);if(c){const d=c.props.children,u=l.map(m=>m===c?g.Children.count(d)>1?g.Children.only(null):g.isValidElement(d)?d.props.children:null:m);return r.jsx(t,{...o,ref:a,children:g.isValidElement(d)?g.cloneElement(d,void 0,u):null})}return r.jsx(t,{...o,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}function CY(e){const t=g.forwardRef((n,s)=>{const{children:a,...i}=n;if(g.isValidElement(a)){const o=OY(a),l=PY(i,a.props);return a.type!==g.Fragment&&(l.ref=s?Rn(s,o):o),g.cloneElement(a,l)}return g.Children.count(a)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var kY=Symbol("radix.slottable");function AY(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===kY}function PY(e,t){const n={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?n[s]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(n[s]=a):s==="style"?n[s]={...a,...i}:s==="className"&&(n[s]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function OY(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var G0="Popover",[IR]=Fn(G0,[Qo]),Op=Qo(),[EY,Xo]=IR(G0),RR=e=>{const{__scopePopover:t,children:n,open:s,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=Op(t),c=g.useRef(null),[d,u]=g.useState(!1),[m,p]=wa({prop:s,defaultProp:a??!1,onChange:i,caller:G0});return r.jsx(R0,{...l,children:r.jsx(EY,{scope:t,contentId:sn(),triggerRef:c,open:m,onOpenChange:p,onOpenToggle:g.useCallback(()=>p(f=>!f),[p]),hasCustomAnchor:d,onCustomAnchorAdd:g.useCallback(()=>u(!0),[]),onCustomAnchorRemove:g.useCallback(()=>u(!1),[]),modal:o,children:n})})};RR.displayName=G0;var $R="PopoverAnchor",_Y=g.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,a=Xo($R,n),i=Op(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return g.useEffect(()=>(o(),()=>l()),[o,l]),r.jsx(Sp,{...i,...s,ref:t})});_Y.displayName=$R;var DR="PopoverTrigger",zR=g.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,a=Xo(DR,n),i=Op(n),o=rt(t,a.triggerRef),l=r.jsx(Le.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":VR(a.open),...s,ref:o,onClick:je(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:r.jsx(Sp,{asChild:!0,...i,children:l})});zR.displayName=DR;var B2="PopoverPortal",[TY,MY]=IR(B2,{forceMount:void 0}),FR=e=>{const{__scopePopover:t,forceMount:n,children:s,container:a}=e,i=Xo(B2,t);return r.jsx(TY,{scope:t,forceMount:n,children:r.jsx(an,{present:n||i.open,children:r.jsx(Su,{asChild:!0,container:a,children:s})})})};FR.displayName=B2;var Ud="PopoverContent",LR=g.forwardRef((e,t)=>{const n=MY(Ud,e.__scopePopover),{forceMount:s=n.forceMount,...a}=e,i=Xo(Ud,e.__scopePopover);return r.jsx(an,{present:s||i.open,children:i.modal?r.jsx(RY,{...a,ref:t}):r.jsx($Y,{...a,ref:t})})});LR.displayName=Ud;var IY=SY("PopoverContent.RemoveScroll"),RY=g.forwardRef((e,t)=>{const n=Xo(Ud,e.__scopePopover),s=g.useRef(null),a=rt(t,s),i=g.useRef(!1);return g.useEffect(()=>{const o=s.current;if(o)return V0(o)},[]),r.jsx(Ap,{as:IY,allowPinchZoom:!0,children:r.jsx(UR,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:je(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:je(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:je(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),$Y=g.forwardRef((e,t)=>{const n=Xo(Ud,e.__scopePopover),s=g.useRef(!1),a=g.useRef(!1);return r.jsx(UR,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),UR=g.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...m}=e,p=Xo(Ud,n),f=Op(n);return U0(),r.jsx(kp,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:r.jsx(hc,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>p.onOpenChange(!1),children:r.jsx($0,{"data-state":VR(p.open),role:"dialog",id:p.contentId,...f,...m,ref:t,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),BR="PopoverClose",DY=g.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,a=Xo(BR,n);return r.jsx(Le.button,{type:"button",...s,ref:t,onClick:je(e.onClick,()=>a.onOpenChange(!1))})});DY.displayName=BR;var zY="PopoverArrow",FY=g.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,a=Op(n);return r.jsx(D0,{...a,...s,ref:t})});FY.displayName=zY;function VR(e){return e?"open":"closed"}var LY=RR,UY=zR,BY=FR,qR=LR;const VY=LY,qY=UY,WR=g.forwardRef(({className:e,align:t="center",sideOffset:n=4,...s},a)=>r.jsx(BY,{children:r.jsx(qR,{ref:a,align:t,sideOffset:n,className:ye("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...s})}));WR.displayName=qR.displayName;function WY({selectedOrganization:e,onOrganizationSelect:t,placeholder:n="Select organization..."}){const[s,a]=g.useState(!1),[i,o]=g.useState(""),{data:l=[],isLoading:c}=ve({queryKey:["/api/onboarding/organizations"],queryFn:()=>Te("/api/onboarding/organizations")}),d=l.filter(u=>{var m,p,f,x,h,y;return((p=(m=u==null?void 0:u.name)==null?void 0:m.toLowerCase())==null?void 0:p.includes(i.toLowerCase()))||((x=(f=u==null?void 0:u.organizationId)==null?void 0:f.toLowerCase())==null?void 0:x.includes(i.toLowerCase()))||((y=(h=u==null?void 0:u.industry)==null?void 0:h.toLowerCase())==null?void 0:y.includes(i.toLowerCase()))});return r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Yt,{className:"h-4 w-4 text-yellow-400"}),r.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Organization:"})]}),r.jsxs(VY,{open:s,onOpenChange:a,children:[r.jsx(qY,{asChild:!0,children:r.jsxs("button",{role:"combobox","aria-expanded":s,className:"w-[400px] flex items-center justify-between px-4 py-2 rounded-md bg-zinc-800 border border-yellow-400/30 text-white hover:bg-zinc-700 hover:text-white hover:border-yellow-400/50 transition-colors",children:[e?r.jsx("div",{className:"flex items-center space-x-2",children:r.jsxs("div",{className:"flex flex-col items-start",children:[r.jsx("span",{className:"font-medium",children:e.name}),r.jsxs("span",{className:"text-xs text-gray-400",children:[e.organizationId,"  ",e.industry||"No industry set"]})]})}):r.jsx("span",{className:"text-gray-400",children:n}),r.jsx(Sq,{className:"ml-2 h-4 w-4 shrink-0 text-gray-400"})]})}),r.jsx(WR,{className:"w-[400px] p-0 bg-zinc-900 border border-yellow-400/30 shadow-lg",align:"start",children:r.jsxs(OR,{className:"bg-zinc-900",children:[r.jsxs("div",{className:"flex items-center border-b border-yellow-400/20 px-3",children:[r.jsx(js,{className:"mr-2 h-4 w-4 shrink-0 text-gray-400"}),r.jsx(ER,{placeholder:"Search organizations...",value:i,onValueChange:o,className:"border-0 focus:ring-0 bg-transparent text-white"})]}),r.jsx(_R,{className:"text-gray-400",children:"No organizations found."}),r.jsxs(TR,{className:"max-h-[300px] overflow-y-auto",children:[r.jsx("div",{className:"px-2 py-1.5",children:r.jsxs("div",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wide",children:["All Accounts (",d.length,")"]})}),d.map(u=>r.jsxs(MR,{value:`${u.name} ${u.organizationId} ${u.industry||""}`,onSelect:()=>{t(u),a(!1)},className:"flex items-center justify-between p-3 cursor-pointer hover:bg-zinc-800",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"w-8 h-8 bg-yellow-400/20 rounded-full flex items-center justify-center",children:r.jsx(Yt,{className:"w-4 h-4 text-yellow-400"})})}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("div",{className:"font-medium text-white",children:u.name}),r.jsxs("div",{className:"text-sm text-gray-400",children:[u.organizationId,"  ",u.industry||"No industry set"]}),r.jsxs("div",{className:"text-xs text-gray-500",children:[u.adminContactName||"No contact","  ",u.status]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:ye("w-2 h-2 rounded-full",u.status==="active"?"bg-green-500":u.status==="inactive"?"bg-yellow-500":"bg-red-500")}),r.jsx(Zn,{className:ye("mr-2 h-4 w-4 text-yellow-400",(e==null?void 0:e.id)===u.id?"opacity-100":"opacity-0")})]})]},u.id))]}),!c&&d.length===0&&i&&r.jsxs("div",{className:"p-4 text-center text-gray-400",children:[r.jsx(Yt,{className:"mx-auto h-8 w-8 mb-2 opacity-50"}),r.jsxs("p",{children:['No organizations match "',i,'"']})]})]})})]}),e&&r.jsx("button",{onClick:()=>t(null),className:"px-3 py-1.5 text-sm text-gray-400 hover:text-yellow-400 hover:bg-zinc-800 rounded-md transition-colors",children:"Clear Selection"})]})}const HY=bp("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function oe({className:e,variant:t,...n}){return r.jsx("div",{className:ye(HY({variant:t}),e),...n})}var KY=g.createContext(void 0);function Ep(e){const t=g.useContext(KY);return e||t||"ltr"}var Jv="rovingFocusGroup.onEntryFocus",GY={bubbles:!1,cancelable:!0},_p="RovingFocusGroup",[uj,HR,YY]=N0(_p),[QY,Y0]=Fn(_p,[YY]),[XY,ZY]=QY(_p),KR=g.forwardRef((e,t)=>r.jsx(uj.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(uj.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(JY,{...e,ref:t})})}));KR.displayName=_p;var JY=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...m}=e,p=g.useRef(null),f=rt(t,p),x=Ep(i),[h,y]=wa({prop:o,defaultProp:l??null,onChange:c,caller:_p}),[v,b]=g.useState(!1),w=xr(d),S=HR(n),N=g.useRef(!1),[j,C]=g.useState(0);return g.useEffect(()=>{const A=p.current;if(A)return A.addEventListener(Jv,w),()=>A.removeEventListener(Jv,w)},[w]),r.jsx(XY,{scope:n,orientation:s,dir:x,loop:a,currentTabStopId:h,onItemFocus:g.useCallback(A=>y(A),[y]),onItemShiftTab:g.useCallback(()=>b(!0),[]),onFocusableItemAdd:g.useCallback(()=>C(A=>A+1),[]),onFocusableItemRemove:g.useCallback(()=>C(A=>A-1),[]),children:r.jsx(Le.div,{tabIndex:v||j===0?-1:0,"data-orientation":s,...m,ref:f,style:{outline:"none",...e.style},onMouseDown:je(e.onMouseDown,()=>{N.current=!0}),onFocus:je(e.onFocus,A=>{const k=!N.current;if(A.target===A.currentTarget&&k&&!v){const O=new CustomEvent(Jv,GY);if(A.currentTarget.dispatchEvent(O),!O.defaultPrevented){const M=S().filter($=>$.focusable),P=M.find($=>$.active),_=M.find($=>$.id===h),T=[P,_,...M].filter(Boolean).map($=>$.ref.current);QR(T,u)}}N.current=!1}),onBlur:je(e.onBlur,()=>b(!1))})})}),GR="RovingFocusGroupItem",YR=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=sn(),d=i||c,u=ZY(GR,n),m=u.currentTabStopId===d,p=HR(n),{onFocusableItemAdd:f,onFocusableItemRemove:x,currentTabStopId:h}=u;return g.useEffect(()=>{if(s)return f(),()=>x()},[s,f,x]),r.jsx(uj.ItemSlot,{scope:n,id:d,focusable:s,active:a,children:r.jsx(Le.span,{tabIndex:m?0:-1,"data-orientation":u.orientation,...l,ref:t,onMouseDown:je(e.onMouseDown,y=>{s?u.onItemFocus(d):y.preventDefault()}),onFocus:je(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:je(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const v=rQ(y,u.orientation,u.dir);if(v!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let w=p().filter(S=>S.focusable).map(S=>S.ref.current);if(v==="last")w.reverse();else if(v==="prev"||v==="next"){v==="prev"&&w.reverse();const S=w.indexOf(y.currentTarget);w=u.loop?nQ(w,S+1):w.slice(S+1)}setTimeout(()=>QR(w))}}),children:typeof o=="function"?o({isCurrentTabStop:m,hasTabStop:h!=null}):o})})});YR.displayName=GR;var eQ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function tQ(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function rQ(e,t,n){const s=tQ(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return eQ[s]}function QR(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function nQ(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var XR=KR,ZR=YR;function sQ(e){const t=aQ(e),n=g.forwardRef((s,a)=>{const{children:i,...o}=s,l=g.Children.toArray(i),c=l.find(oQ);if(c){const d=c.props.children,u=l.map(m=>m===c?g.Children.count(d)>1?g.Children.only(null):g.isValidElement(d)?d.props.children:null:m);return r.jsx(t,{...o,ref:a,children:g.isValidElement(d)?g.cloneElement(d,void 0,u):null})}return r.jsx(t,{...o,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}function aQ(e){const t=g.forwardRef((n,s)=>{const{children:a,...i}=n;if(g.isValidElement(a)){const o=cQ(a),l=lQ(i,a.props);return a.type!==g.Fragment&&(l.ref=s?Rn(s,o):o),g.cloneElement(a,l)}return g.Children.count(a)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var iQ=Symbol("radix.slottable");function oQ(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===iQ}function lQ(e,t){const n={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?n[s]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(n[s]=a):s==="style"?n[s]={...a,...i}:s==="className"&&(n[s]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function cQ(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var mj=["Enter"," "],dQ=["ArrowDown","PageUp","Home"],JR=["ArrowUp","PageDown","End"],uQ=[...dQ,...JR],mQ={ltr:[...mj,"ArrowRight"],rtl:[...mj,"ArrowLeft"]},hQ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Tp="Menu",[wh,pQ,fQ]=N0(Tp),[xc,e$]=Fn(Tp,[fQ,Qo,Y0]),Q0=Qo(),t$=Y0(),[xQ,gc]=xc(Tp),[gQ,Mp]=xc(Tp),r$=e=>{const{__scopeMenu:t,open:n=!1,children:s,dir:a,onOpenChange:i,modal:o=!0}=e,l=Q0(t),[c,d]=g.useState(null),u=g.useRef(!1),m=xr(i),p=Ep(a);return g.useEffect(()=>{const f=()=>{u.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>u.current=!1;return document.addEventListener("keydown",f,{capture:!0}),()=>{document.removeEventListener("keydown",f,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),r.jsx(R0,{...l,children:r.jsx(xQ,{scope:t,open:n,onOpenChange:m,content:c,onContentChange:d,children:r.jsx(gQ,{scope:t,onClose:g.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:u,dir:p,modal:o,children:s})})})};r$.displayName=Tp;var yQ="MenuAnchor",V2=g.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,a=Q0(n);return r.jsx(Sp,{...a,...s,ref:t})});V2.displayName=yQ;var q2="MenuPortal",[vQ,n$]=xc(q2,{forceMount:void 0}),s$=e=>{const{__scopeMenu:t,forceMount:n,children:s,container:a}=e,i=gc(q2,t);return r.jsx(vQ,{scope:t,forceMount:n,children:r.jsx(an,{present:n||i.open,children:r.jsx(Su,{asChild:!0,container:a,children:s})})})};s$.displayName=q2;var Vs="MenuContent",[bQ,W2]=xc(Vs),a$=g.forwardRef((e,t)=>{const n=n$(Vs,e.__scopeMenu),{forceMount:s=n.forceMount,...a}=e,i=gc(Vs,e.__scopeMenu),o=Mp(Vs,e.__scopeMenu);return r.jsx(wh.Provider,{scope:e.__scopeMenu,children:r.jsx(an,{present:s||i.open,children:r.jsx(wh.Slot,{scope:e.__scopeMenu,children:o.modal?r.jsx(wQ,{...a,ref:t}):r.jsx(jQ,{...a,ref:t})})})})}),wQ=g.forwardRef((e,t)=>{const n=gc(Vs,e.__scopeMenu),s=g.useRef(null),a=rt(t,s);return g.useEffect(()=>{const i=s.current;if(i)return V0(i)},[]),r.jsx(H2,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:je(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),jQ=g.forwardRef((e,t)=>{const n=gc(Vs,e.__scopeMenu);return r.jsx(H2,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),NQ=sQ("MenuContent.ScrollLock"),H2=g.forwardRef((e,t)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:m,onInteractOutside:p,onDismiss:f,disableOutsideScroll:x,...h}=e,y=gc(Vs,n),v=Mp(Vs,n),b=Q0(n),w=t$(n),S=pQ(n),[N,j]=g.useState(null),C=g.useRef(null),A=rt(t,C,y.onContentChange),k=g.useRef(0),O=g.useRef(""),M=g.useRef(0),P=g.useRef(null),_=g.useRef("right"),E=g.useRef(0),T=x?Ap:g.Fragment,$=x?{as:NQ,allowPinchZoom:!0}:void 0,q=D=>{var he,Ce;const V=O.current+D,F=S().filter(se=>!se.disabled),z=document.activeElement,Q=(he=F.find(se=>se.ref.current===z))==null?void 0:he.textValue,te=F.map(se=>se.textValue),me=RQ(te,V,Q),ge=(Ce=F.find(se=>se.textValue===me))==null?void 0:Ce.ref.current;(function se(G){O.current=G,window.clearTimeout(k.current),G!==""&&(k.current=window.setTimeout(()=>se(""),1e3))})(V),ge&&setTimeout(()=>ge.focus())};g.useEffect(()=>()=>window.clearTimeout(k.current),[]),U0();const R=g.useCallback(D=>{var F,z;return _.current===((F=P.current)==null?void 0:F.side)&&DQ(D,(z=P.current)==null?void 0:z.area)},[]);return r.jsx(bQ,{scope:n,searchRef:O,onItemEnter:g.useCallback(D=>{R(D)&&D.preventDefault()},[R]),onItemLeave:g.useCallback(D=>{var V;R(D)||((V=C.current)==null||V.focus(),j(null))},[R]),onTriggerLeave:g.useCallback(D=>{R(D)&&D.preventDefault()},[R]),pointerGraceTimerRef:M,onPointerGraceIntentChange:g.useCallback(D=>{P.current=D},[]),children:r.jsx(T,{...$,children:r.jsx(kp,{asChild:!0,trapped:a,onMountAutoFocus:je(i,D=>{var V;D.preventDefault(),(V=C.current)==null||V.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:r.jsx(hc,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:m,onInteractOutside:p,onDismiss:f,children:r.jsx(XR,{asChild:!0,...w,dir:v.dir,orientation:"vertical",loop:s,currentTabStopId:N,onCurrentTabStopIdChange:j,onEntryFocus:je(c,D=>{v.isUsingKeyboardRef.current||D.preventDefault()}),preventScrollOnEntryFocus:!0,children:r.jsx($0,{role:"menu","aria-orientation":"vertical","data-state":w$(y.open),"data-radix-menu-content":"",dir:v.dir,...b,...h,ref:A,style:{outline:"none",...h.style},onKeyDown:je(h.onKeyDown,D=>{const F=D.target.closest("[data-radix-menu-content]")===D.currentTarget,z=D.ctrlKey||D.altKey||D.metaKey,Q=D.key.length===1;F&&(D.key==="Tab"&&D.preventDefault(),!z&&Q&&q(D.key));const te=C.current;if(D.target!==te||!uQ.includes(D.key))return;D.preventDefault();const ge=S().filter(he=>!he.disabled).map(he=>he.ref.current);JR.includes(D.key)&&ge.reverse(),MQ(ge)}),onBlur:je(e.onBlur,D=>{D.currentTarget.contains(D.target)||(window.clearTimeout(k.current),O.current="")}),onPointerMove:je(e.onPointerMove,jh(D=>{const V=D.target,F=E.current!==D.clientX;if(D.currentTarget.contains(V)&&F){const z=D.clientX>E.current?"right":"left";_.current=z,E.current=D.clientX}}))})})})})})})});a$.displayName=Vs;var SQ="MenuGroup",K2=g.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(Le.div,{role:"group",...s,ref:t})});K2.displayName=SQ;var CQ="MenuLabel",i$=g.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(Le.div,{...s,ref:t})});i$.displayName=CQ;var Dx="MenuItem",Hk="menu.itemSelect",X0=g.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:s,...a}=e,i=g.useRef(null),o=Mp(Dx,e.__scopeMenu),l=W2(Dx,e.__scopeMenu),c=rt(t,i),d=g.useRef(!1),u=()=>{const m=i.current;if(!n&&m){const p=new CustomEvent(Hk,{bubbles:!0,cancelable:!0});m.addEventListener(Hk,f=>s==null?void 0:s(f),{once:!0}),u2(m,p),p.defaultPrevented?d.current=!1:o.onClose()}};return r.jsx(o$,{...a,ref:c,disabled:n,onClick:je(e.onClick,u),onPointerDown:m=>{var p;(p=e.onPointerDown)==null||p.call(e,m),d.current=!0},onPointerUp:je(e.onPointerUp,m=>{var p;d.current||(p=m.currentTarget)==null||p.click()}),onKeyDown:je(e.onKeyDown,m=>{const p=l.searchRef.current!=="";n||p&&m.key===" "||mj.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});X0.displayName=Dx;var o$=g.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:s=!1,textValue:a,...i}=e,o=W2(Dx,n),l=t$(n),c=g.useRef(null),d=rt(t,c),[u,m]=g.useState(!1),[p,f]=g.useState("");return g.useEffect(()=>{const x=c.current;x&&f((x.textContent??"").trim())},[i.children]),r.jsx(wh.ItemSlot,{scope:n,disabled:s,textValue:a??p,children:r.jsx(ZR,{asChild:!0,...l,focusable:!s,children:r.jsx(Le.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...i,ref:d,onPointerMove:je(e.onPointerMove,jh(x=>{s?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:je(e.onPointerLeave,jh(x=>o.onItemLeave(x))),onFocus:je(e.onFocus,()=>m(!0)),onBlur:je(e.onBlur,()=>m(!1))})})})}),kQ="MenuCheckboxItem",l$=g.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:s,...a}=e;return r.jsx(h$,{scope:e.__scopeMenu,checked:n,children:r.jsx(X0,{role:"menuitemcheckbox","aria-checked":zx(n)?"mixed":n,...a,ref:t,"data-state":Y2(n),onSelect:je(a.onSelect,()=>s==null?void 0:s(zx(n)?!0:!n),{checkForDefaultPrevented:!1})})})});l$.displayName=kQ;var c$="MenuRadioGroup",[AQ,PQ]=xc(c$,{value:void 0,onValueChange:()=>{}}),d$=g.forwardRef((e,t)=>{const{value:n,onValueChange:s,...a}=e,i=xr(s);return r.jsx(AQ,{scope:e.__scopeMenu,value:n,onValueChange:i,children:r.jsx(K2,{...a,ref:t})})});d$.displayName=c$;var u$="MenuRadioItem",m$=g.forwardRef((e,t)=>{const{value:n,...s}=e,a=PQ(u$,e.__scopeMenu),i=n===a.value;return r.jsx(h$,{scope:e.__scopeMenu,checked:i,children:r.jsx(X0,{role:"menuitemradio","aria-checked":i,...s,ref:t,"data-state":Y2(i),onSelect:je(s.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,n)},{checkForDefaultPrevented:!1})})})});m$.displayName=u$;var G2="MenuItemIndicator",[h$,OQ]=xc(G2,{checked:!1}),p$=g.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:s,...a}=e,i=OQ(G2,n);return r.jsx(an,{present:s||zx(i.checked)||i.checked===!0,children:r.jsx(Le.span,{...a,ref:t,"data-state":Y2(i.checked)})})});p$.displayName=G2;var EQ="MenuSeparator",f$=g.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(Le.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});f$.displayName=EQ;var _Q="MenuArrow",x$=g.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,a=Q0(n);return r.jsx(D0,{...a,...s,ref:t})});x$.displayName=_Q;var TQ="MenuSub",[tOe,g$]=xc(TQ),Sm="MenuSubTrigger",y$=g.forwardRef((e,t)=>{const n=gc(Sm,e.__scopeMenu),s=Mp(Sm,e.__scopeMenu),a=g$(Sm,e.__scopeMenu),i=W2(Sm,e.__scopeMenu),o=g.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,d={__scopeMenu:e.__scopeMenu},u=g.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return g.useEffect(()=>u,[u]),g.useEffect(()=>{const m=l.current;return()=>{window.clearTimeout(m),c(null)}},[l,c]),r.jsx(V2,{asChild:!0,...d,children:r.jsx(o$,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":w$(n.open),...e,ref:Rn(t,a.onTriggerChange),onClick:m=>{var p;(p=e.onClick)==null||p.call(e,m),!(e.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:je(e.onPointerMove,jh(m=>{i.onItemEnter(m),!m.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:je(e.onPointerLeave,jh(m=>{var f,x;u();const p=(f=n.content)==null?void 0:f.getBoundingClientRect();if(p){const h=(x=n.content)==null?void 0:x.dataset.side,y=h==="right",v=y?-5:5,b=p[y?"left":"right"],w=p[y?"right":"left"];i.onPointerGraceIntentChange({area:[{x:m.clientX+v,y:m.clientY},{x:b,y:p.top},{x:w,y:p.top},{x:w,y:p.bottom},{x:b,y:p.bottom}],side:h}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(m),m.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:je(e.onKeyDown,m=>{var f;const p=i.searchRef.current!=="";e.disabled||p&&m.key===" "||mQ[s.dir].includes(m.key)&&(n.onOpenChange(!0),(f=n.content)==null||f.focus(),m.preventDefault())})})})});y$.displayName=Sm;var v$="MenuSubContent",b$=g.forwardRef((e,t)=>{const n=n$(Vs,e.__scopeMenu),{forceMount:s=n.forceMount,...a}=e,i=gc(Vs,e.__scopeMenu),o=Mp(Vs,e.__scopeMenu),l=g$(v$,e.__scopeMenu),c=g.useRef(null),d=rt(t,c);return r.jsx(wh.Provider,{scope:e.__scopeMenu,children:r.jsx(an,{present:s||i.open,children:r.jsx(wh.Slot,{scope:e.__scopeMenu,children:r.jsx(H2,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var m;o.isUsingKeyboardRef.current&&((m=c.current)==null||m.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:je(e.onFocusOutside,u=>{u.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:je(e.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:je(e.onKeyDown,u=>{var f;const m=u.currentTarget.contains(u.target),p=hQ[o.dir].includes(u.key);m&&p&&(i.onOpenChange(!1),(f=l.trigger)==null||f.focus(),u.preventDefault())})})})})})});b$.displayName=v$;function w$(e){return e?"open":"closed"}function zx(e){return e==="indeterminate"}function Y2(e){return zx(e)?"indeterminate":e?"checked":"unchecked"}function MQ(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function IQ(e,t){return e.map((n,s)=>e[(t+s)%e.length])}function RQ(e,t,n){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=IQ(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function $Q(e,t){const{x:n,y:s}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],d=l.x,u=l.y,m=c.x,p=c.y;u>s!=p>s&&n<(m-d)*(s-u)/(p-u)+d&&(a=!a)}return a}function DQ(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return $Q(n,t)}function jh(e){return t=>t.pointerType==="mouse"?e(t):void 0}var zQ=r$,FQ=V2,LQ=s$,UQ=a$,BQ=K2,VQ=i$,qQ=X0,WQ=l$,HQ=d$,KQ=m$,GQ=p$,YQ=f$,QQ=x$,XQ=y$,ZQ=b$,Z0="DropdownMenu",[JQ]=Fn(Z0,[e$]),Ln=e$(),[eX,j$]=JQ(Z0),N$=e=>{const{__scopeDropdownMenu:t,children:n,dir:s,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=Ln(t),d=g.useRef(null),[u,m]=wa({prop:a,defaultProp:i??!1,onChange:o,caller:Z0});return r.jsx(eX,{scope:t,triggerId:sn(),triggerRef:d,contentId:sn(),open:u,onOpenChange:m,onOpenToggle:g.useCallback(()=>m(p=>!p),[m]),modal:l,children:r.jsx(zQ,{...c,open:u,onOpenChange:m,dir:s,modal:l,children:n})})};N$.displayName=Z0;var S$="DropdownMenuTrigger",C$=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...a}=e,i=j$(S$,n),o=Ln(n);return r.jsx(FQ,{asChild:!0,...o,children:r.jsx(Le.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...a,ref:Rn(t,i.triggerRef),onPointerDown:je(e.onPointerDown,l=>{!s&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:je(e.onKeyDown,l=>{s||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});C$.displayName=S$;var tX="DropdownMenuPortal",k$=e=>{const{__scopeDropdownMenu:t,...n}=e,s=Ln(t);return r.jsx(LQ,{...s,...n})};k$.displayName=tX;var A$="DropdownMenuContent",P$=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=j$(A$,n),i=Ln(n),o=g.useRef(!1);return r.jsx(UQ,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...s,ref:t,onCloseAutoFocus:je(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:je(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!a.modal||u)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});P$.displayName=A$;var rX="DropdownMenuGroup",nX=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=Ln(n);return r.jsx(BQ,{...a,...s,ref:t})});nX.displayName=rX;var sX="DropdownMenuLabel",O$=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=Ln(n);return r.jsx(VQ,{...a,...s,ref:t})});O$.displayName=sX;var aX="DropdownMenuItem",E$=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=Ln(n);return r.jsx(qQ,{...a,...s,ref:t})});E$.displayName=aX;var iX="DropdownMenuCheckboxItem",_$=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=Ln(n);return r.jsx(WQ,{...a,...s,ref:t})});_$.displayName=iX;var oX="DropdownMenuRadioGroup",lX=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=Ln(n);return r.jsx(HQ,{...a,...s,ref:t})});lX.displayName=oX;var cX="DropdownMenuRadioItem",T$=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=Ln(n);return r.jsx(KQ,{...a,...s,ref:t})});T$.displayName=cX;var dX="DropdownMenuItemIndicator",M$=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=Ln(n);return r.jsx(GQ,{...a,...s,ref:t})});M$.displayName=dX;var uX="DropdownMenuSeparator",I$=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=Ln(n);return r.jsx(YQ,{...a,...s,ref:t})});I$.displayName=uX;var mX="DropdownMenuArrow",hX=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=Ln(n);return r.jsx(QQ,{...a,...s,ref:t})});hX.displayName=mX;var pX="DropdownMenuSubTrigger",R$=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=Ln(n);return r.jsx(XQ,{...a,...s,ref:t})});R$.displayName=pX;var fX="DropdownMenuSubContent",$$=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=Ln(n);return r.jsx(ZQ,{...a,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});$$.displayName=fX;var xX=N$,gX=C$,yX=k$,D$=P$,z$=O$,F$=E$,L$=_$,U$=T$,B$=M$,V$=I$,q$=R$,W$=$$;const Q2=xX,X2=gX,vX=g.forwardRef(({className:e,inset:t,children:n,...s},a)=>r.jsxs(q$,{ref:a,className:ye("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...s,children:[n,r.jsx(pa,{className:"ml-auto"})]}));vX.displayName=q$.displayName;const bX=g.forwardRef(({className:e,...t},n)=>r.jsx(W$,{ref:n,className:ye("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));bX.displayName=W$.displayName;const J0=g.forwardRef(({className:e,sideOffset:t=4,...n},s)=>r.jsx(yX,{children:r.jsx(D$,{ref:s,sideOffset:t,className:ye("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...n})}));J0.displayName=D$.displayName;const jo=g.forwardRef(({className:e,inset:t,...n},s)=>r.jsx(F$,{ref:s,className:ye("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n}));jo.displayName=F$.displayName;const wX=g.forwardRef(({className:e,children:t,checked:n,...s},a)=>r.jsxs(L$,{ref:a,className:ye("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(B$,{children:r.jsx(Zn,{className:"h-4 w-4"})})}),t]}));wX.displayName=L$.displayName;const jX=g.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(U$,{ref:s,className:ye("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(B$,{children:r.jsx(v2,{className:"h-2 w-2 fill-current"})})}),t]}));jX.displayName=U$.displayName;const H$=g.forwardRef(({className:e,inset:t,...n},s)=>r.jsx(z$,{ref:s,className:ye("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));H$.displayName=z$.displayName;const hj=g.forwardRef(({className:e,...t},n)=>r.jsx(V$,{ref:n,className:ye("-mx-1 my-1 h-px bg-muted",e),...t}));hj.displayName=V$.displayName;function NX({username:e,onLogout:t}){const[n]=zn(),[s,a]=g.useState(null),[i,o]=g.useState([{id:"1",type:"success",title:"Data Upload Complete",message:"November 2025 residuals processed successfully",time:"2 hours ago",read:!1},{id:"2",type:"warning",title:"Audit Review Needed",message:"3 merchants require attention in October data",time:"5 hours ago",read:!1},{id:"3",type:"info",title:"New Report Available",message:"Monthly summary report is ready for download",time:"1 day ago",read:!1}]);g.useEffect(()=>{const x=localStorage.getItem("organizationID"),h=localStorage.getItem("selectedOrganization");if(x&&h)try{const y=JSON.parse(h);a(y)}catch(y){console.error("Failed to parse saved organization:",y)}},[]);const l=i.filter(x=>!x.read).length,c=x=>{a(x),x?(localStorage.setItem("organizationID",x.organizationId),localStorage.setItem("selectedOrganization",JSON.stringify(x)),console.log("Organization selected and saved:",x.organizationId,x.name)):(localStorage.removeItem("organizationID"),localStorage.removeItem("selectedOrganization"),console.log("Organization selection cleared")),window.dispatchEvent(new CustomEvent("organizationChanged")),At.invalidateQueries()},d=x=>{o(h=>h.map(y=>y.id===x?{...y,read:!0}:y))},u=()=>{o(x=>x.map(h=>({...h,read:!0})))},m=(x,h)=>{h.stopPropagation(),o(y=>y.filter(v=>v.id!==x))},p=x=>{switch(x){case"success":return r.jsx(qe,{className:"h-4 w-4 text-green-400"});case"warning":return r.jsx(cr,{className:"h-4 w-4 text-yellow-400"});case"info":return r.jsx(ph,{className:"h-4 w-4 text-blue-400"})}},f=[{label:"Logins",icon:eI,href:"/login-portal",description:"Access processor logins"},{label:"Pre-Applications",icon:Q5,href:"/pre-applications",description:"Application management"},{label:"Secured Doc Portal",icon:Bs,href:"/secured-docs",description:"Secure document access"},{label:"Marketing",icon:E0,href:"/marketing",description:"Marketing resources"}];return r.jsx("header",{className:"bg-[#0a0a0f] border-b border-yellow-400/20 shadow-lg",children:r.jsxs("div",{className:"px-6 py-3",children:[r.jsx("div",{className:"mb-4 border-b border-yellow-400/10 pb-3",children:r.jsx(WY,{selectedOrganization:s,onOrganizationSelect:c,placeholder:"Switch to Organization View..."})}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("nav",{className:"flex items-center space-x-1",children:f.map(x=>{const h=n===x.href;return r.jsx(qt,{href:x.href,children:r.jsxs("button",{className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors ${h?"text-yellow-400 bg-yellow-400/10 border border-yellow-400/30":"text-gray-400 hover:text-yellow-400 hover:bg-yellow-400/5"}`,children:[r.jsx(x.icon,{className:"h-4 w-4"}),x.label]})},x.label)})}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(qt,{href:"/help",children:r.jsx(I,{variant:"ghost",size:"icon",children:r.jsx(gs,{className:"h-5 w-5 text-gray-400 hover:text-yellow-400"})})}),r.jsxs(Q2,{children:[r.jsx(X2,{asChild:!0,children:r.jsxs(I,{variant:"ghost",size:"icon",className:"relative","data-testid":"button-notifications",children:[r.jsx(uk,{className:"h-5 w-5 text-gray-400 hover:text-yellow-400"}),l>0&&r.jsx(oe,{className:"absolute -top-1 -right-1 h-5 w-5 p-0 flex items-center justify-center text-xs bg-yellow-400 text-black",children:l})]})}),r.jsxs(J0,{align:"end",className:"w-80 bg-zinc-900 border-yellow-400/20",children:[r.jsxs(H$,{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-white font-semibold",children:"Notifications"}),l>0&&r.jsx(I,{variant:"ghost",size:"sm",className:"text-xs text-yellow-400 hover:text-yellow-300 h-auto py-1",onClick:u,children:"Mark all as read"})]}),r.jsx(hj,{className:"bg-yellow-400/20"}),i.length===0?r.jsxs("div",{className:"py-8 text-center text-gray-500",children:[r.jsx(uk,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),r.jsx("p",{className:"text-sm",children:"No notifications"})]}):r.jsx("div",{className:"max-h-80 overflow-y-auto",children:i.map(x=>r.jsxs(jo,{className:`flex items-start gap-3 p-3 cursor-pointer focus:bg-zinc-800 ${x.read?"opacity-60":""}`,onClick:()=>d(x.id),children:[r.jsx("div",{className:"mt-0.5",children:p(x.type)}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-white truncate",children:x.title}),r.jsx("p",{className:"text-xs text-gray-400 line-clamp-2",children:x.message}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:x.time})]}),r.jsx(I,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0 text-gray-500 hover:text-red-400",onClick:h=>m(x.id,h),children:r.jsx(br,{className:"h-3 w-3"})})]},x.id))}),r.jsx(hj,{className:"bg-yellow-400/20"}),r.jsx(qt,{href:"/notifications",children:r.jsx(jo,{className:"justify-center text-yellow-400 hover:text-yellow-300 cursor-pointer focus:bg-zinc-800",children:"View all notifications"})})]})]}),e&&r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-8 h-8 bg-yellow-400 rounded-full flex items-center justify-center",children:r.jsx(pc,{className:"h-4 w-4 text-black"})}),r.jsxs("div",{className:"text-sm",children:[r.jsx("div",{className:"font-medium text-white",children:e}),r.jsx("div",{className:"text-gray-500",children:"Admin"})]})]}),t&&r.jsx(I,{variant:"outline",size:"sm",onClick:t,className:"text-yellow-400 border-yellow-400/50 hover:bg-yellow-400 hover:text-black",children:"Logout"})]})]})]})]})})}function SX({username:e,onLogout:t}){const[n]=zn(),[s,a]=g.useState(!1),[i,o]=g.useState(!0);g.useEffect(()=>{typeof navigator<"u"&&o(navigator.onLine);const u=()=>o(!0),m=()=>o(!1);if(typeof window<"u")return window.addEventListener("online",u),window.addEventListener("offline",m),()=>{window.removeEventListener("online",u),window.removeEventListener("offline",m)}},[]);const l=[{label:"Home",icon:hh,href:"/dashboard"},{label:"Reports",icon:et,href:"/reports"},{label:"ISO-AI",icon:rn,href:"/iso-ai",highlight:!0},{label:"Upload",icon:rr,href:"/residuals-workflow"},{label:"More",icon:cd,href:"#menu",isMenu:!0}],c=[{label:"Dashboard",icon:hh,href:"/dashboard"},{label:"Residuals",icon:zr,href:"/residuals-workflow"},{label:"Reports",icon:et,href:"/reports"},{label:"ISO-AI",icon:rn,href:"/iso-ai"},{label:"Admin",icon:vr,href:"/admin"}],d=[{label:"Logins",icon:eI,href:"/login-portal"},{label:"Documents",icon:et,href:"/documents"},{label:"Pre-Applications",icon:Q5,href:"/pre-applications"},{label:"Secured Docs",icon:Bs,href:"/secured-docs"},{label:"Marketing",icon:E0,href:"/marketing"}];return r.jsxs(r.Fragment,{children:[r.jsxs("nav",{className:"md:hidden bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 px-4 py-3 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(I,{variant:"ghost",size:"sm",onClick:()=>a(!s),className:"p-2",children:s?r.jsx(br,{className:"h-5 w-5"}):r.jsx(cd,{className:"h-5 w-5"})}),r.jsx("div",{className:"flex items-center",children:r.jsx("img",{src:"/isohub-logo.png",alt:"ISO Hub Logo",className:"h-8 w-auto"})})]}),e&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:e}),r.jsx(I,{variant:"ghost",size:"sm",onClick:t,className:"text-red-600",children:"Logout"})]})]}),s&&r.jsxs("div",{className:"fixed inset-0 z-50 md:hidden",children:[r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:()=>a(!1)}),r.jsxs("div",{className:"fixed left-0 top-0 h-full w-64 bg-white dark:bg-gray-900 shadow-xl",children:[r.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-8 h-8 bg-yellow-500 rounded flex items-center justify-center",children:r.jsx("span",{className:"text-black font-bold text-sm",children:"ISO"})}),r.jsx("span",{className:"font-semibold text-black dark:text-white",children:"ISOHub"})]})}),r.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-3",children:"Quick Access"}),r.jsx("div",{className:"space-y-1",children:d.map(u=>{const m=u.icon,p=n===u.href;return r.jsx(qt,{href:u.href,children:r.jsxs(I,{variant:"ghost",className:`w-full justify-start ${p?"bg-yellow-50 dark:bg-yellow-900/20 text-yellow-600 dark:text-yellow-400":"text-gray-700 dark:text-gray-300"}`,onClick:()=>a(!1),children:[r.jsx(m,{className:"h-4 w-4 mr-3"}),u.label]})},u.label)})})]}),r.jsxs("div",{className:"p-4",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-3",children:"Main Menu"}),r.jsx("div",{className:"space-y-1",children:c.map(u=>{const m=u.icon,p=n===u.href;return r.jsx(qt,{href:u.href,children:r.jsxs(I,{variant:"ghost",className:`w-full justify-start ${p?"bg-yellow-50 dark:bg-yellow-900/20 text-yellow-600 dark:text-yellow-400":"text-gray-700 dark:text-gray-300"}`,onClick:()=>a(!1),children:[r.jsx(m,{className:"h-4 w-4 mr-3"}),u.label]})},u.label)})})]})]})]}),!i&&r.jsxs("div",{className:"fixed top-14 left-0 right-0 md:hidden bg-yellow-500 text-black px-4 py-2 z-50 flex items-center justify-center gap-2",children:[r.jsx(cW,{className:"h-4 w-4"}),r.jsx("span",{className:"text-sm font-medium",children:"You're offline - Some features may be limited"})]}),r.jsx("nav",{className:"fixed bottom-0 left-0 right-0 md:hidden bg-black/95 backdrop-blur-lg border-t border-gray-800 z-40",style:{paddingBottom:"env(safe-area-inset-bottom, 0px)"},"data-testid":"mobile-bottom-nav",children:r.jsx("div",{className:"flex justify-around items-center px-1 py-2",children:l.map(u=>{const m=u.icon,p=n===u.href||u.href==="/dashboard"&&n==="/";return u.isMenu?r.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>a(!s),className:"flex flex-col items-center gap-0.5 p-2 min-w-[60px] h-auto text-gray-400 hover:text-white active:scale-95 transition-all","data-testid":"nav-more-menu",children:[r.jsx(m,{className:"h-5 w-5"}),r.jsx("span",{className:"text-[10px] font-medium",children:u.label})]},u.label):r.jsx(qt,{href:u.href,children:r.jsxs(I,{variant:"ghost",size:"sm",className:`flex flex-col items-center gap-0.5 p-2 min-w-[60px] h-auto active:scale-95 transition-all ${u.highlight?p?"text-yellow-400":"text-yellow-500/80 hover:text-yellow-400":p?"text-white":"text-gray-400 hover:text-white"}`,"data-testid":`nav-${u.label.toLowerCase().replace(/\s+/g,"-")}`,children:[u.highlight?r.jsx("div",{className:`p-1.5 rounded-full ${p?"bg-yellow-500":"bg-yellow-500/20"}`,children:r.jsx(m,{className:`h-5 w-5 ${p?"text-black":"text-yellow-400"}`})}):r.jsx(m,{className:"h-5 w-5"}),r.jsx("span",{className:"text-[10px] font-medium",children:u.label})]})},u.label)})})}),r.jsx("div",{className:"md:hidden h-20",style:{paddingBottom:"env(safe-area-inset-bottom, 0px)"},"aria-hidden":"true"})]})}const U=g.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:ye("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));U.displayName="Card";const X=g.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:ye("flex flex-col space-y-1.5 p-6",e),...t}));X.displayName="CardHeader";const J=g.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:ye("text-2xl font-semibold leading-none tracking-tight",e),...t}));J.displayName="CardTitle";const tt=g.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:ye("text-sm text-muted-foreground",e),...t}));tt.displayName="CardDescription";const B=g.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:ye("p-6 pt-0",e),...t}));B.displayName="CardContent";const CX=g.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:ye("flex items-center p-6 pt-0",e),...t}));CX.displayName="CardFooter";function kX(){const[e,t]=g.useState(null),[n,s]=g.useState(!1),[a,i]=g.useState(!1),[o,l]=g.useState(!1);g.useEffect(()=>{const m=/iPad|iPhone|iPod/.test(navigator.userAgent);i(m);const p=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0;l(p);const f=x=>{x.preventDefault(),t(x),s(!0)};return window.addEventListener("beforeinstallprompt",f),m&&!p&&setTimeout(()=>s(!0),3e3),()=>{window.removeEventListener("beforeinstallprompt",f)}},[]);const c=async()=>{if(e){e.prompt();const{outcome:m}=await e.userChoice;m==="accepted"&&(t(null),s(!1))}},d=()=>{s(!1),localStorage.setItem("install-prompt-dismissed",Date.now().toString())};if(o)return null;const u=localStorage.getItem("install-prompt-dismissed");return u&&Date.now()-parseInt(u)<24*60*60*1e3||!n?null:r.jsx(U,{className:"fixed bottom-4 left-4 right-4 z-50 bg-white border border-gray-200 shadow-lg sm:max-w-md sm:left-auto sm:right-4",children:r.jsx(B,{className:"p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:r.jsx(Zq,{className:"h-5 w-5 text-primary"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-medium text-black text-sm",children:"Install ISO Hub App"}),r.jsx("p",{className:"text-xs text-gray-600 mt-1",children:a?"Add to your home screen for quick access to your reports":"Install the app for faster access and offline capabilities"}),r.jsxs("div",{className:"flex gap-2 mt-3",children:[a?r.jsxs("div",{className:"text-xs text-gray-500",children:["Tap ",r.jsx("span",{className:"inline-block w-4 h-4 bg-blue-500 rounded text-white text-center leading-4",children:""}),' then "Add to Home Screen"']}):r.jsxs(I,{size:"sm",onClick:c,className:"bg-primary hover:bg-primary/90 text-black text-xs h-8",children:[r.jsx(Jn,{className:"h-3 w-3 mr-1"}),"Install"]}),r.jsxs(I,{size:"sm",variant:"ghost",onClick:d,className:"text-gray-500 hover:text-gray-700 text-xs h-8",children:[r.jsx(br,{className:"h-3 w-3 mr-1"}),"Dismiss"]})]})]})]})})})}function AX({organizationName:e,adminUsername:t,onExitImpersonation:n}){const{toast:s}=pt(),a=async()=>{try{await Te("/api/organizations/exit-impersonation",{method:"POST"});const i=sessionStorage.getItem("superAdminContext");if(i){const o=JSON.parse(i);localStorage.setItem("username",o.username),localStorage.setItem("authToken",o.token),localStorage.setItem("organization",o.organization),sessionStorage.removeItem("superAdminContext"),sessionStorage.removeItem("impersonatingOrganization"),s({title:"Impersonation Ended",description:"Restored to super admin account. Redirecting to organization management..."}),setTimeout(()=>{window.location.href="/organizations"},1e3)}else sessionStorage.removeItem("impersonatingOrganization"),s({title:"Session Ended",description:"Returning to organization management. You may need to log in again."}),setTimeout(()=>{window.location.href="/organizations"},1e3)}catch(i){s({title:"Exit Failed",description:i.message||"Failed to exit impersonation mode",variant:"destructive"})}};return r.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 text-white px-4 py-3 shadow-lg border-b",children:r.jsxs("div",{className:"flex items-center justify-between max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(zd,{className:"h-5 w-5"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(oe,{variant:"secondary",className:"bg-white/20 text-white border-white/30",children:"IMPERSONATING"}),r.jsxs("span",{className:"font-medium",children:["Logged in as ",r.jsx("strong",{children:t})," for ",r.jsx("strong",{children:e})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm opacity-90",children:"Super Admin troubleshooting mode"}),r.jsxs(I,{size:"sm",variant:"outline",className:"bg-white/10 border-white/30 text-white hover:bg-white/20 hover:text-white",onClick:a,children:[r.jsx(Xq,{className:"h-4 w-4 mr-2"}),"Exit & Return to Admin"]})]})]})})}const ee=g.forwardRef(({className:e,type:t,...n},s)=>r.jsx("input",{type:t,className:ye("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...n}));ee.displayName="Input";var PX=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],OX=PX.reduce((e,t)=>{const n=Cp(`Primitive.${t}`),s=g.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:i})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),EX="Label",K$=g.forwardRef((e,t)=>r.jsx(OX.label,{...e,ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));K$.displayName=EX;var G$=K$;const _X=bp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),K=g.forwardRef(({className:e,...t},n)=>r.jsx(G$,{ref:n,className:ye(_X(),e),...t}));K.displayName=G$.displayName;function Kk({title:e,type:t,month:n,processorId:s,isUploaded:a,recordCount:i}){const[o,l]=g.useState(null),[c,d]=g.useState(!1),{toast:u}=pt(),m=_t(),p=Oe({mutationFn:async h=>{const y=new FormData;y.append("file",h),y.append("type",t),s&&y.append("processorId",s.toString());const v=await fetch(`/api/upload/${n}`,{method:"POST",body:y});if(!v.ok){const b=await v.json();throw new Error(b.error||"Upload failed")}return v.json()},onSuccess:h=>{u({title:"Upload successful",description:`Processed ${h.result.matched+h.result.created+h.result.updated} records`}),m.invalidateQueries({queryKey:["/api/file-uploads",n]}),m.invalidateQueries({queryKey:["/api/monthly-data",n]}),m.invalidateQueries({queryKey:["/api/monthly-stats",n]}),m.invalidateQueries({queryKey:["/api/real-data/status",n]}),m.invalidateQueries({queryKey:["/api/reports/residuals"]}),m.invalidateQueries({queryKey:["/api/residuals-workflow/progress",n]}),m.refetchQueries({queryKey:["/api/real-data/status",n]}),l(null),d(!1)},onError:h=>{u({title:"Upload failed",description:h.message,variant:"destructive"}),d(!1)}}),f=h=>{var v;const y=(v=h.target.files)==null?void 0:v[0];if(y){if(y.type!=="text/csv"&&!y.name.endsWith(".csv")){u({title:"Invalid file type",description:"Please select a CSV file",variant:"destructive"});return}l(y)}},x=()=>{o&&(d(!0),p.mutate(o))};return a?r.jsx(U,{className:"border-2 border-green-500/30 bg-green-500/10",children:r.jsx(B,{className:"p-4",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"mb-3",children:r.jsx(qe,{className:"mx-auto h-8 w-8 text-green-400"})}),r.jsx("h3",{className:"font-semibold text-white",children:e}),r.jsx("p",{className:"text-xs text-green-400 mt-1",children:i?`${i} records processed`:"Processing complete"})]})})}):r.jsx(U,{className:"border-2 border-dashed border-yellow-400/30 bg-zinc-800/50 hover:border-yellow-400/60 hover:bg-zinc-800 transition-colors",children:r.jsx(B,{className:"p-4",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"mb-3",children:c?r.jsx("div",{className:"mx-auto text-center text-gray-400",children:"Processing..."}):r.jsx(rr,{className:"mx-auto h-8 w-8 text-gray-500"})}),r.jsx("h3",{className:"font-semibold text-white mb-2",children:e}),o?r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-300",children:[r.jsx(et,{className:"h-4 w-4"}),r.jsx("span",{className:"truncate",children:o.name})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(I,{size:"sm",onClick:x,disabled:c,className:"flex-1 bg-yellow-400 text-black hover:bg-yellow-500",children:c?"Uploading...":"Upload"}),r.jsx(I,{size:"sm",variant:"outline",onClick:()=>l(null),disabled:c,className:"border-gray-600 text-gray-300 hover:bg-zinc-700",children:"Cancel"})]})]}):r.jsxs("div",{className:"space-y-3",children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Click to upload CSV file"}),r.jsxs("div",{children:[r.jsx(ee,{type:"file",accept:".csv",onChange:f,className:"hidden",id:`file-${e.replace(/\s+/g,"-")}`}),r.jsx(K,{htmlFor:`file-${e.replace(/\s+/g,"-")}`,children:r.jsx(I,{size:"sm",className:"cursor-pointer bg-yellow-400 text-black hover:bg-yellow-500",asChild:!0,children:r.jsx("span",{children:"Select File"})})})]})]})]})})})}function pj(e,[t,n]){return Math.min(n,Math.max(t,e))}function TX(e){const t=MX(e),n=g.forwardRef((s,a)=>{const{children:i,...o}=s,l=g.Children.toArray(i),c=l.find(RX);if(c){const d=c.props.children,u=l.map(m=>m===c?g.Children.count(d)>1?g.Children.only(null):g.isValidElement(d)?d.props.children:null:m);return r.jsx(t,{...o,ref:a,children:g.isValidElement(d)?g.cloneElement(d,void 0,u):null})}return r.jsx(t,{...o,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}function MX(e){const t=g.forwardRef((n,s)=>{const{children:a,...i}=n;if(g.isValidElement(a)){const o=DX(a),l=$X(i,a.props);return a.type!==g.Fragment&&(l.ref=s?Rn(s,o):o),g.cloneElement(a,l)}return g.Children.count(a)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var IX=Symbol("radix.slottable");function RX(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===IX}function $X(e,t){const n={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?n[s]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(n[s]=a):s==="style"?n[s]={...a,...i}:s==="className"&&(n[s]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function DX(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Z2(e){const t=g.useRef({value:e,previous:e});return g.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var zX=[" ","Enter","ArrowUp","ArrowDown"],FX=[" ","Enter"],ec="Select",[ey,ty,LX]=N0(ec),[Ou]=Fn(ec,[LX,Qo]),ry=Qo(),[UX,Zo]=Ou(ec),[BX,VX]=Ou(ec),Y$=e=>{const{__scopeSelect:t,children:n,open:s,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:m,disabled:p,required:f,form:x}=e,h=ry(t),[y,v]=g.useState(null),[b,w]=g.useState(null),[S,N]=g.useState(!1),j=Ep(d),[C,A]=wa({prop:s,defaultProp:a??!1,onChange:i,caller:ec}),[k,O]=wa({prop:o,defaultProp:l,onChange:c,caller:ec}),M=g.useRef(null),P=y?x||!!y.closest("form"):!0,[_,E]=g.useState(new Set),T=Array.from(_).map($=>$.props.value).join(";");return r.jsx(R0,{...h,children:r.jsxs(UX,{required:f,scope:t,trigger:y,onTriggerChange:v,valueNode:b,onValueNodeChange:w,valueNodeHasChildren:S,onValueNodeHasChildrenChange:N,contentId:sn(),value:k,onValueChange:O,open:C,onOpenChange:A,dir:j,triggerPointerDownPosRef:M,disabled:p,children:[r.jsx(ey.Provider,{scope:t,children:r.jsx(BX,{scope:e.__scopeSelect,onNativeOptionAdd:g.useCallback($=>{E(q=>new Set(q).add($))},[]),onNativeOptionRemove:g.useCallback($=>{E(q=>{const R=new Set(q);return R.delete($),R})},[]),children:n})}),P?r.jsxs(vD,{"aria-hidden":!0,required:f,tabIndex:-1,name:u,autoComplete:m,value:k,onChange:$=>O($.target.value),disabled:p,form:x,children:[k===void 0?r.jsx("option",{value:""}):null,Array.from(_)]},T):null]})})};Y$.displayName=ec;var Q$="SelectTrigger",X$=g.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:s=!1,...a}=e,i=ry(n),o=Zo(Q$,n),l=o.disabled||s,c=rt(t,o.onTriggerChange),d=ty(n),u=g.useRef("touch"),[m,p,f]=wD(h=>{const y=d().filter(w=>!w.disabled),v=y.find(w=>w.value===o.value),b=jD(y,h,v);b!==void 0&&o.onValueChange(b.value)}),x=h=>{l||(o.onOpenChange(!0),f()),h&&(o.triggerPointerDownPosRef.current={x:Math.round(h.pageX),y:Math.round(h.pageY)})};return r.jsx(Sp,{asChild:!0,...i,children:r.jsx(Le.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":bD(o.value)?"":void 0,...a,ref:c,onClick:je(a.onClick,h=>{h.currentTarget.focus(),u.current!=="mouse"&&x(h)}),onPointerDown:je(a.onPointerDown,h=>{u.current=h.pointerType;const y=h.target;y.hasPointerCapture(h.pointerId)&&y.releasePointerCapture(h.pointerId),h.button===0&&h.ctrlKey===!1&&h.pointerType==="mouse"&&(x(h),h.preventDefault())}),onKeyDown:je(a.onKeyDown,h=>{const y=m.current!=="";!(h.ctrlKey||h.altKey||h.metaKey)&&h.key.length===1&&p(h.key),!(y&&h.key===" ")&&zX.includes(h.key)&&(x(),h.preventDefault())})})})});X$.displayName=Q$;var Z$="SelectValue",J$=g.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:a,children:i,placeholder:o="",...l}=e,c=Zo(Z$,n),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,m=rt(t,c.onValueNodeChange);return Cr(()=>{d(u)},[d,u]),r.jsx(Le.span,{...l,ref:m,style:{pointerEvents:"none"},children:bD(c.value)?r.jsx(r.Fragment,{children:o}):i})});J$.displayName=Z$;var qX="SelectIcon",eD=g.forwardRef((e,t)=>{const{__scopeSelect:n,children:s,...a}=e;return r.jsx(Le.span,{"aria-hidden":!0,...a,ref:t,children:s||""})});eD.displayName=qX;var WX="SelectPortal",tD=e=>r.jsx(Su,{asChild:!0,...e});tD.displayName=WX;var tc="SelectContent",rD=g.forwardRef((e,t)=>{const n=Zo(tc,e.__scopeSelect),[s,a]=g.useState();if(Cr(()=>{a(new DocumentFragment)},[]),!n.open){const i=s;return i?mc.createPortal(r.jsx(nD,{scope:e.__scopeSelect,children:r.jsx(ey.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),i):null}return r.jsx(sD,{...e,ref:t})});rD.displayName=tc;var ra=10,[nD,Jo]=Ou(tc),HX="SelectContentImpl",KX=TX("SelectContent.RemoveScroll"),sD=g.forwardRef((e,t)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:m,collisionBoundary:p,collisionPadding:f,sticky:x,hideWhenDetached:h,avoidCollisions:y,...v}=e,b=Zo(tc,n),[w,S]=g.useState(null),[N,j]=g.useState(null),C=rt(t,he=>S(he)),[A,k]=g.useState(null),[O,M]=g.useState(null),P=ty(n),[_,E]=g.useState(!1),T=g.useRef(!1);g.useEffect(()=>{if(w)return V0(w)},[w]),U0();const $=g.useCallback(he=>{const[Ce,...se]=P().map(re=>re.ref.current),[G]=se.slice(-1),xe=document.activeElement;for(const re of he)if(re===xe||(re==null||re.scrollIntoView({block:"nearest"}),re===Ce&&N&&(N.scrollTop=0),re===G&&N&&(N.scrollTop=N.scrollHeight),re==null||re.focus(),document.activeElement!==xe))return},[P,N]),q=g.useCallback(()=>$([A,w]),[$,A,w]);g.useEffect(()=>{_&&q()},[_,q]);const{onOpenChange:R,triggerPointerDownPosRef:D}=b;g.useEffect(()=>{if(w){let he={x:0,y:0};const Ce=G=>{var xe,re;he={x:Math.abs(Math.round(G.pageX)-(((xe=D.current)==null?void 0:xe.x)??0)),y:Math.abs(Math.round(G.pageY)-(((re=D.current)==null?void 0:re.y)??0))}},se=G=>{he.x<=10&&he.y<=10?G.preventDefault():w.contains(G.target)||R(!1),document.removeEventListener("pointermove",Ce),D.current=null};return D.current!==null&&(document.addEventListener("pointermove",Ce),document.addEventListener("pointerup",se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ce),document.removeEventListener("pointerup",se,{capture:!0})}}},[w,R,D]),g.useEffect(()=>{const he=()=>R(!1);return window.addEventListener("blur",he),window.addEventListener("resize",he),()=>{window.removeEventListener("blur",he),window.removeEventListener("resize",he)}},[R]);const[V,F]=wD(he=>{const Ce=P().filter(xe=>!xe.disabled),se=Ce.find(xe=>xe.ref.current===document.activeElement),G=jD(Ce,he,se);G&&setTimeout(()=>G.ref.current.focus())}),z=g.useCallback((he,Ce,se)=>{const G=!T.current&&!se;(b.value!==void 0&&b.value===Ce||G)&&(k(he),G&&(T.current=!0))},[b.value]),Q=g.useCallback(()=>w==null?void 0:w.focus(),[w]),te=g.useCallback((he,Ce,se)=>{const G=!T.current&&!se;(b.value!==void 0&&b.value===Ce||G)&&M(he)},[b.value]),me=s==="popper"?fj:aD,ge=me===fj?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:m,collisionBoundary:p,collisionPadding:f,sticky:x,hideWhenDetached:h,avoidCollisions:y}:{};return r.jsx(nD,{scope:n,content:w,viewport:N,onViewportChange:j,itemRefCallback:z,selectedItem:A,onItemLeave:Q,itemTextRefCallback:te,focusSelectedItem:q,selectedItemText:O,position:s,isPositioned:_,searchRef:V,children:r.jsx(Ap,{as:KX,allowPinchZoom:!0,children:r.jsx(kp,{asChild:!0,trapped:b.open,onMountAutoFocus:he=>{he.preventDefault()},onUnmountAutoFocus:je(a,he=>{var Ce;(Ce=b.trigger)==null||Ce.focus({preventScroll:!0}),he.preventDefault()}),children:r.jsx(hc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:he=>he.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:r.jsx(me,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:he=>he.preventDefault(),...v,...ge,onPlaced:()=>E(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:je(v.onKeyDown,he=>{const Ce=he.ctrlKey||he.altKey||he.metaKey;if(he.key==="Tab"&&he.preventDefault(),!Ce&&he.key.length===1&&F(he.key),["ArrowUp","ArrowDown","Home","End"].includes(he.key)){let G=P().filter(xe=>!xe.disabled).map(xe=>xe.ref.current);if(["ArrowUp","End"].includes(he.key)&&(G=G.slice().reverse()),["ArrowUp","ArrowDown"].includes(he.key)){const xe=he.target,re=G.indexOf(xe);G=G.slice(re+1)}setTimeout(()=>$(G)),he.preventDefault()}})})})})})})});sD.displayName=HX;var GX="SelectItemAlignedPosition",aD=g.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:s,...a}=e,i=Zo(tc,n),o=Jo(tc,n),[l,c]=g.useState(null),[d,u]=g.useState(null),m=rt(t,C=>u(C)),p=ty(n),f=g.useRef(!1),x=g.useRef(!0),{viewport:h,selectedItem:y,selectedItemText:v,focusSelectedItem:b}=o,w=g.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&h&&y&&v){const C=i.trigger.getBoundingClientRect(),A=d.getBoundingClientRect(),k=i.valueNode.getBoundingClientRect(),O=v.getBoundingClientRect();if(i.dir!=="rtl"){const xe=O.left-A.left,re=k.left-xe,We=C.left-re,Ue=C.width+We,nt=Math.max(Ue,A.width),mt=window.innerWidth-ra,Nt=pj(re,[ra,Math.max(ra,mt-nt)]);l.style.minWidth=Ue+"px",l.style.left=Nt+"px"}else{const xe=A.right-O.right,re=window.innerWidth-k.right-xe,We=window.innerWidth-C.right-re,Ue=C.width+We,nt=Math.max(Ue,A.width),mt=window.innerWidth-ra,Nt=pj(re,[ra,Math.max(ra,mt-nt)]);l.style.minWidth=Ue+"px",l.style.right=Nt+"px"}const M=p(),P=window.innerHeight-ra*2,_=h.scrollHeight,E=window.getComputedStyle(d),T=parseInt(E.borderTopWidth,10),$=parseInt(E.paddingTop,10),q=parseInt(E.borderBottomWidth,10),R=parseInt(E.paddingBottom,10),D=T+$+_+R+q,V=Math.min(y.offsetHeight*5,D),F=window.getComputedStyle(h),z=parseInt(F.paddingTop,10),Q=parseInt(F.paddingBottom,10),te=C.top+C.height/2-ra,me=P-te,ge=y.offsetHeight/2,he=y.offsetTop+ge,Ce=T+$+he,se=D-Ce;if(Ce<=te){const xe=M.length>0&&y===M[M.length-1].ref.current;l.style.bottom="0px";const re=d.clientHeight-h.offsetTop-h.offsetHeight,We=Math.max(me,ge+(xe?Q:0)+re+q),Ue=Ce+We;l.style.height=Ue+"px"}else{const xe=M.length>0&&y===M[0].ref.current;l.style.top="0px";const We=Math.max(te,T+h.offsetTop+(xe?z:0)+ge)+se;l.style.height=We+"px",h.scrollTop=Ce-te+h.offsetTop}l.style.margin=`${ra}px 0`,l.style.minHeight=V+"px",l.style.maxHeight=P+"px",s==null||s(),requestAnimationFrame(()=>f.current=!0)}},[p,i.trigger,i.valueNode,l,d,h,y,v,i.dir,s]);Cr(()=>w(),[w]);const[S,N]=g.useState();Cr(()=>{d&&N(window.getComputedStyle(d).zIndex)},[d]);const j=g.useCallback(C=>{C&&x.current===!0&&(w(),b==null||b(),x.current=!1)},[w,b]);return r.jsx(QX,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:f,onScrollButtonChange:j,children:r.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:r.jsx(Le.div,{...a,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});aD.displayName=GX;var YX="SelectPopperPosition",fj=g.forwardRef((e,t)=>{const{__scopeSelect:n,align:s="start",collisionPadding:a=ra,...i}=e,o=ry(n);return r.jsx($0,{...o,...i,ref:t,align:s,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});fj.displayName=YX;var[QX,J2]=Ou(tc,{}),xj="SelectViewport",iD=g.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:s,...a}=e,i=Jo(xj,n),o=J2(xj,n),l=rt(t,i.onViewportChange),c=g.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),r.jsx(ey.Slot,{scope:n,children:r.jsx(Le.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:je(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&m){const f=Math.abs(c.current-u.scrollTop);if(f>0){const x=window.innerHeight-ra*2,h=parseFloat(m.style.minHeight),y=parseFloat(m.style.height),v=Math.max(h,y);if(v<x){const b=v+f,w=Math.min(x,b),S=b-w;m.style.height=w+"px",m.style.bottom==="0px"&&(u.scrollTop=S>0?S:0,m.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});iD.displayName=xj;var oD="SelectGroup",[XX,ZX]=Ou(oD),JX=g.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,a=sn();return r.jsx(XX,{scope:n,id:a,children:r.jsx(Le.div,{role:"group","aria-labelledby":a,...s,ref:t})})});JX.displayName=oD;var lD="SelectLabel",cD=g.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,a=ZX(lD,n);return r.jsx(Le.div,{id:a.id,...s,ref:t})});cD.displayName=lD;var Fx="SelectItem",[eZ,dD]=Ou(Fx),uD=g.forwardRef((e,t)=>{const{__scopeSelect:n,value:s,disabled:a=!1,textValue:i,...o}=e,l=Zo(Fx,n),c=Jo(Fx,n),d=l.value===s,[u,m]=g.useState(i??""),[p,f]=g.useState(!1),x=rt(t,b=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,b,s,a)}),h=sn(),y=g.useRef("touch"),v=()=>{a||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(eZ,{scope:n,value:s,disabled:a,textId:h,isSelected:d,onItemTextChange:g.useCallback(b=>{m(w=>w||((b==null?void 0:b.textContent)??"").trim())},[]),children:r.jsx(ey.ItemSlot,{scope:n,value:s,disabled:a,textValue:u,children:r.jsx(Le.div,{role:"option","aria-labelledby":h,"data-highlighted":p?"":void 0,"aria-selected":d&&p,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:x,onFocus:je(o.onFocus,()=>f(!0)),onBlur:je(o.onBlur,()=>f(!1)),onClick:je(o.onClick,()=>{y.current!=="mouse"&&v()}),onPointerUp:je(o.onPointerUp,()=>{y.current==="mouse"&&v()}),onPointerDown:je(o.onPointerDown,b=>{y.current=b.pointerType}),onPointerMove:je(o.onPointerMove,b=>{var w;y.current=b.pointerType,a?(w=c.onItemLeave)==null||w.call(c):y.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:je(o.onPointerLeave,b=>{var w;b.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:je(o.onKeyDown,b=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&b.key===" "||(FX.includes(b.key)&&v(),b.key===" "&&b.preventDefault())})})})})});uD.displayName=Fx;var Cm="SelectItemText",mD=g.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:a,...i}=e,o=Zo(Cm,n),l=Jo(Cm,n),c=dD(Cm,n),d=VX(Cm,n),[u,m]=g.useState(null),p=rt(t,v=>m(v),c.onItemTextChange,v=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,v,c.value,c.disabled)}),f=u==null?void 0:u.textContent,x=g.useMemo(()=>r.jsx("option",{value:c.value,disabled:c.disabled,children:f},c.value),[c.disabled,c.value,f]),{onNativeOptionAdd:h,onNativeOptionRemove:y}=d;return Cr(()=>(h(x),()=>y(x)),[h,y,x]),r.jsxs(r.Fragment,{children:[r.jsx(Le.span,{id:c.textId,...i,ref:p}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?mc.createPortal(i.children,o.valueNode):null]})});mD.displayName=Cm;var hD="SelectItemIndicator",pD=g.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return dD(hD,n).isSelected?r.jsx(Le.span,{"aria-hidden":!0,...s,ref:t}):null});pD.displayName=hD;var gj="SelectScrollUpButton",fD=g.forwardRef((e,t)=>{const n=Jo(gj,e.__scopeSelect),s=J2(gj,e.__scopeSelect),[a,i]=g.useState(!1),o=rt(t,s.onScrollButtonChange);return Cr(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?r.jsx(gD,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});fD.displayName=gj;var yj="SelectScrollDownButton",xD=g.forwardRef((e,t)=>{const n=Jo(yj,e.__scopeSelect),s=J2(yj,e.__scopeSelect),[a,i]=g.useState(!1),o=rt(t,s.onScrollButtonChange);return Cr(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?r.jsx(gD,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});xD.displayName=yj;var gD=g.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:s,...a}=e,i=Jo("SelectScrollButton",n),o=g.useRef(null),l=ty(n),c=g.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return g.useEffect(()=>()=>c(),[c]),Cr(()=>{var u;const d=l().find(m=>m.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),r.jsx(Le.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:je(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:je(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:je(a.onPointerLeave,()=>{c()})})}),tZ="SelectSeparator",yD=g.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return r.jsx(Le.div,{"aria-hidden":!0,...s,ref:t})});yD.displayName=tZ;var vj="SelectArrow",rZ=g.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,a=ry(n),i=Zo(vj,n),o=Jo(vj,n);return i.open&&o.position==="popper"?r.jsx(D0,{...a,...s,ref:t}):null});rZ.displayName=vj;var nZ="SelectBubbleInput",vD=g.forwardRef(({__scopeSelect:e,value:t,...n},s)=>{const a=g.useRef(null),i=rt(s,a),o=Z2(t);return g.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&u){const m=new Event("change",{bubbles:!0});u.call(l,t),l.dispatchEvent(m)}},[o,t]),r.jsx(Le.select,{...n,style:{...P5,...n.style},ref:i,defaultValue:t})});vD.displayName=nZ;function bD(e){return e===""||e===void 0}function wD(e){const t=xr(e),n=g.useRef(""),s=g.useRef(0),a=g.useCallback(o=>{const l=n.current+o;t(l),function c(d){n.current=d,window.clearTimeout(s.current),d!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=g.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,a,i]}function jD(e,t,n){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=sZ(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function sZ(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var aZ=Y$,ND=X$,iZ=J$,oZ=eD,lZ=tD,SD=rD,cZ=iD,CD=cD,kD=uD,dZ=mD,uZ=pD,AD=fD,PD=xD,OD=yD;const ze=aZ,Fe=iZ,Re=g.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(ND,{ref:s,className:ye("flex h-10 w-full items-center justify-between rounded-md border border-zinc-700 bg-zinc-900 text-white px-3 py-2 text-sm ring-offset-zinc-900 data-[placeholder]:text-zinc-400 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 hover:border-yellow-400/40",e),...n,children:[t,r.jsx(oZ,{asChild:!0,children:r.jsx(ld,{className:"h-4 w-4 text-zinc-400"})})]}));Re.displayName=ND.displayName;const ED=g.forwardRef(({className:e,...t},n)=>r.jsx(AD,{ref:n,className:ye("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(y2,{className:"h-4 w-4"})}));ED.displayName=AD.displayName;const _D=g.forwardRef(({className:e,...t},n)=>r.jsx(PD,{ref:n,className:ye("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(ld,{className:"h-4 w-4"})}));_D.displayName=PD.displayName;const $e=g.forwardRef(({className:e,children:t,position:n="popper",...s},a)=>r.jsx(lZ,{children:r.jsxs(SD,{ref:a,className:ye("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border border-zinc-700 bg-zinc-900 text-white shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...s,children:[r.jsx(ED,{}),r.jsx(cZ,{className:ye("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx(_D,{})]})}));$e.displayName=SD.displayName;const mZ=g.forwardRef(({className:e,...t},n)=>r.jsx(CD,{ref:n,className:ye("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));mZ.displayName=CD.displayName;const Y=g.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(kD,{ref:s,className:ye("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none bg-zinc-900 text-white hover:bg-zinc-800 focus:bg-zinc-800 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(uZ,{children:r.jsx(Zn,{className:"h-4 w-4 text-yellow-400"})})}),r.jsx(dZ,{children:t})]}));Y.displayName=kD.displayName;const hZ=g.forwardRef(({className:e,...t},n)=>r.jsx(OD,{ref:n,className:ye("-mx-1 my-1 h-px bg-muted",e),...t}));hZ.displayName=OD.displayName;var ny="Checkbox",[pZ]=Fn(ny),[fZ,eS]=pZ(ny);function xZ(e){const{__scopeCheckbox:t,checked:n,children:s,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:d,value:u="on",internal_do_not_use_render:m}=e,[p,f]=wa({prop:n,defaultProp:a??!1,onChange:c,caller:ny}),[x,h]=g.useState(null),[y,v]=g.useState(null),b=g.useRef(!1),w=x?!!o||!!x.closest("form"):!0,S={checked:p,disabled:i,setChecked:f,control:x,setControl:h,name:l,form:o,value:u,hasConsumerStoppedPropagationRef:b,required:d,defaultChecked:Ro(a)?!1:a,isFormControl:w,bubbleInput:y,setBubbleInput:v};return r.jsx(fZ,{scope:t,...S,children:gZ(m)?m(S):s})}var TD="CheckboxTrigger",MD=g.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...s},a)=>{const{control:i,value:o,disabled:l,checked:c,required:d,setControl:u,setChecked:m,hasConsumerStoppedPropagationRef:p,isFormControl:f,bubbleInput:x}=eS(TD,e),h=rt(a,u),y=g.useRef(c);return g.useEffect(()=>{const v=i==null?void 0:i.form;if(v){const b=()=>m(y.current);return v.addEventListener("reset",b),()=>v.removeEventListener("reset",b)}},[i,m]),r.jsx(Le.button,{type:"button",role:"checkbox","aria-checked":Ro(c)?"mixed":c,"aria-required":d,"data-state":zD(c),"data-disabled":l?"":void 0,disabled:l,value:o,...s,ref:h,onKeyDown:je(t,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:je(n,v=>{m(b=>Ro(b)?!0:!b),x&&f&&(p.current=v.isPropagationStopped(),p.current||v.stopPropagation())})})});MD.displayName=TD;var tS=g.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:d,form:u,...m}=e;return r.jsx(xZ,{__scopeCheckbox:n,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:d,name:s,form:u,value:c,internal_do_not_use_render:({isFormControl:p})=>r.jsxs(r.Fragment,{children:[r.jsx(MD,{...m,ref:t,__scopeCheckbox:n}),p&&r.jsx(DD,{__scopeCheckbox:n})]})})});tS.displayName=ny;var ID="CheckboxIndicator",RD=g.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:s,...a}=e,i=eS(ID,n);return r.jsx(an,{present:s||Ro(i.checked)||i.checked===!0,children:r.jsx(Le.span,{"data-state":zD(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});RD.displayName=ID;var $D="CheckboxBubbleInput",DD=g.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:s,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:d,value:u,form:m,bubbleInput:p,setBubbleInput:f}=eS($D,e),x=rt(n,f),h=Z2(i),y=P2(s);g.useEffect(()=>{const b=p;if(!b)return;const w=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(w,"checked").set,j=!a.current;if(h!==i&&N){const C=new Event("click",{bubbles:j});b.indeterminate=Ro(i),N.call(b,Ro(i)?!1:i),b.dispatchEvent(C)}},[p,h,i,a]);const v=g.useRef(Ro(i)?!1:i);return r.jsx(Le.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??v.current,required:l,disabled:c,name:d,value:u,form:m,...t,tabIndex:-1,ref:x,style:{...t.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});DD.displayName=$D;function gZ(e){return typeof e=="function"}function Ro(e){return e==="indeterminate"}function zD(e){return Ro(e)?"indeterminate":e?"checked":"unchecked"}const xa=g.forwardRef(({className:e,...t},n)=>r.jsx(tS,{ref:n,className:ye("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:r.jsx(RD,{className:ye("flex items-center justify-center text-current"),children:r.jsx(Zn,{className:"h-4 w-4"})})}));xa.displayName=tS.displayName;const yZ=[{name:"Standard Split",icon:"",assignments:[{roleName:"Company",percentage:50},{roleName:"Agent",percentage:30},{roleName:"Sales Manager",percentage:20}]},{name:"Agent Only",icon:"",assignments:[{roleName:"Company",percentage:70},{roleName:"Agent",percentage:30}]},{name:"Partnership",icon:"",assignments:[{roleName:"Company",percentage:40},{roleName:"Partner",percentage:35},{roleName:"Agent",percentage:25}]},{name:"Association",icon:"",assignments:[{roleName:"Company",percentage:45},{roleName:"Association",percentage:30},{roleName:"Agent",percentage:25}]}];function vZ({merchant:e,monthlyData:t,month:n,isOpen:s,onClose:a,onSuccess:i}){var M;const[o,l]=g.useState([]),[c,d]=g.useState(!0),{toast:u}=pt(),m=_t(),{data:p}=ve({queryKey:["/api/roles"]}),{data:f}=ve({queryKey:["/api/assignments",e==null?void 0:e.id,n],queryFn:()=>Te(`/api/assignments/${e==null?void 0:e.id}/${n}`),enabled:!!(e!=null&&e.id)&&!!n&&s}),x=Oe({mutationFn:async P=>{const _=await fetch("/api/assignments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({assignments:P.map(E=>({merchantId:e.id,roleId:E.roleId,percentage:E.percentage.toString(),month:n}))})});if(!_.ok){const E=await _.json();throw new Error(E.error||"Failed to save assignments")}return _.json()},onSuccess:()=>{u({title:"Assignments saved successfully"}),m.invalidateQueries({queryKey:["/api/assignments"]}),m.invalidateQueries({queryKey:["/api/audit-issues"]}),m.invalidateQueries({queryKey:["/api/assignments/merchants"]}),m.invalidateQueries({queryKey:["/api/monthly-data"]}),i()},onError:P=>{u({title:"Failed to save assignments",description:P.message,variant:"destructive"})}});g.useEffect(()=>{f&&f.length>0?l(f.map(P=>({roleId:P.roleId,percentage:parseFloat(P.percentage),role:P.role}))):l([{roleId:0,percentage:0}])},[f]);const h=()=>{l([...o,{roleId:0,percentage:0}])},y=P=>{o.length>1&&l(o.filter((_,E)=>E!==P))},v=(P,_,E)=>{const T=[...o];T[P]={...T[P],[_]:E},l(T)},b=()=>o.reduce((P,_)=>P+(_.percentage||0),0),w=()=>{const P=b();return Math.abs(P-100)<.01?{isValid:!0,message:"Split validation passed - all percentages total 100%"}:{isValid:!1,message:`Split total is ${P.toFixed(2)}% - must equal 100%`}},S=()=>{const P=w(),_=o.every(E=>E.roleId>0&&E.percentage>0);return P.isValid&&_},N=()=>{S()&&x.mutate(o)},j=P=>{const _=P.assignments.map(E=>{const T=p==null?void 0:p.find($=>$.name.toLowerCase().includes(E.roleName.toLowerCase()));return{roleId:(T==null?void 0:T.id)||0,percentage:E.percentage,role:T}});l(_),d(!1),u({title:`Applied ${P.name} template`})},C=()=>{const P=o.filter($=>$.roleId>0);if(P.length===0)return;const E=100-P.reduce(($,q)=>$+q.percentage,0),T=o.filter($=>$.roleId>0&&$.percentage===0);if(T.length>0){const $=E/T.length,q=o.map(R=>R.roleId>0&&R.percentage===0?{...R,percentage:Math.max(0,$)}:R);l(q),u({title:"Auto-balanced remaining percentage"})}},A=(P,_)=>{v(P,"percentage",_)},k=P=>(p==null?void 0:p.filter(_=>_.type===P))||[],O=w();return console.log("RoleAssignmentModal - merchant:",e),console.log("RoleAssignmentModal - monthlyData:",t),r.jsx(jt,{open:s,onOpenChange:a,children:r.jsxs(yt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto bg-zinc-900 border-yellow-400/20",children:[r.jsx(vt,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(bt,{className:"text-lg text-white",children:["Edit Role Assignments - ",e==null?void 0:e.mid]}),r.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Manage commission splits for this MID. Total must equal 100% of monthly revenue."})]}),r.jsx(I,{variant:"ghost",size:"sm",onClick:a,className:"text-gray-400 hover:text-white hover:bg-zinc-800",children:r.jsx(br,{className:"h-4 w-4"})})]})}),r.jsxs("div",{className:"space-y-6",children:[c&&r.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"text-sm font-semibold text-blue-400",children:"Quick Assignment Templates"}),r.jsx(I,{variant:"ghost",size:"sm",onClick:()=>d(!1),className:"text-blue-400 hover:text-blue-300 hover:bg-blue-500/10",children:r.jsx(br,{className:"h-4 w-4"})})]}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:yZ.map((P,_)=>r.jsx(I,{variant:"outline",size:"sm",onClick:()=>j(P),className:"justify-start h-auto p-3 bg-zinc-800 hover:bg-zinc-700 border-blue-500/30 text-white",children:r.jsxs("div",{className:"text-left",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"mr-2",children:P.icon}),r.jsx("span",{className:"font-medium",children:P.name})]}),r.jsx("div",{className:"text-xs text-gray-400 mt-1",children:P.assignments.map(E=>`${E.roleName}: ${E.percentage}%`).join(", ")})]})},_))})]}),r.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 p-4 rounded-lg",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-semibold text-white",children:(e==null?void 0:e.dba)||(e==null?void 0:e.legalName)||"Unknown Merchant"}),r.jsxs("div",{className:"text-sm text-gray-400",children:["MID: ",r.jsx("span",{className:"font-mono text-yellow-400",children:e==null?void 0:e.mid})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-sm text-gray-400",children:"Processor"}),r.jsx("div",{className:"font-medium text-white",children:((M=t==null?void 0:t.processor)==null?void 0:M.name)||"Unknown"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-3 border-t border-yellow-500/30",children:[r.jsxs("div",{className:"bg-zinc-800/50 p-3 rounded border border-yellow-500/20",children:[r.jsx("div",{className:"text-xs text-gray-400 uppercase tracking-wider",children:"Transactions"}),r.jsx("div",{className:"text-2xl font-bold text-white mt-1",children:(t==null?void 0:t.transactionCount)||(t==null?void 0:t.txnCount)||"0"})]}),r.jsxs("div",{className:"bg-zinc-800/50 p-3 rounded border border-yellow-500/20",children:[r.jsx("div",{className:"text-xs text-gray-400 uppercase tracking-wider",children:"Net Revenue"}),r.jsxs("div",{className:"text-2xl font-bold text-green-400 mt-1",children:["$",parseFloat((t==null?void 0:t.net)||(t==null?void 0:t.netRevenue)||"0").toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Role Assignments"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(I,{onClick:C,size:"sm",variant:"outline",title:"Auto-balance empty percentages",className:"border-gray-600 text-gray-300 hover:bg-zinc-700",children:[r.jsx(Ex,{className:"mr-2 h-4 w-4"}),"Auto Balance"]}),!c&&r.jsxs(I,{onClick:()=>d(!0),size:"sm",variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-zinc-700",children:[r.jsx(wo,{className:"mr-2 h-4 w-4"}),"Templates"]}),r.jsxs(I,{onClick:h,size:"sm",variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-zinc-700",children:[r.jsx(ir,{className:"mr-2 h-4 w-4"}),"Add Role"]})]})]}),r.jsx("div",{className:"space-y-3",children:o.map((P,_)=>r.jsxs("div",{className:"flex items-center space-x-3 p-3 border border-yellow-400/20 rounded-lg bg-zinc-800/50",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx(K,{className:"text-sm text-gray-300",children:"Role"}),r.jsxs(ze,{value:P.roleId.toString(),onValueChange:E=>{const T=parseInt(E),$=p==null?void 0:p.find(q=>q.id===T);v(_,"roleId",T),v(_,"role",$)},children:[r.jsx(Re,{className:"bg-zinc-800 border-yellow-400/30 text-white",children:r.jsx(Fe,{placeholder:"Select role"})}),r.jsxs($e,{className:"bg-zinc-800 border-yellow-400/30",children:[r.jsx("optgroup",{label:"Company",children:k("company").map(E=>r.jsx(Y,{value:E.id.toString(),children:E.name},E.id))}),r.jsx("optgroup",{label:"Sales Manager",children:k("sales_manager").map(E=>r.jsx(Y,{value:E.id.toString(),children:E.name},E.id))}),r.jsx("optgroup",{label:"Agent",children:k("agent").map(E=>r.jsx(Y,{value:E.id.toString(),children:E.name},E.id))}),r.jsx("optgroup",{label:"Partner",children:k("partner").map(E=>r.jsx(Y,{value:E.id.toString(),children:E.name},E.id))}),r.jsx("optgroup",{label:"Association",children:k("association").map(E=>r.jsx(Y,{value:E.id.toString(),children:E.name},E.id))})]})]})]}),r.jsxs("div",{className:"w-32",children:[r.jsx(K,{className:"text-sm text-gray-300",children:"Percentage"}),r.jsxs("div",{className:"space-y-1",children:[r.jsx(ee,{type:"number",placeholder:"0",min:"0",max:"100",step:"0.01",value:P.percentage||"",onChange:E=>v(_,"percentage",parseFloat(E.target.value)||0),className:"bg-zinc-800 border-yellow-400/30 text-white"}),r.jsx("div",{className:"flex flex-wrap gap-1",children:[10,20,25,30,50].map(E=>r.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>A(_,E),className:"text-xs h-6 px-2 bg-zinc-700 hover:bg-zinc-600 text-gray-300",children:[E,"%"]},E))})]})]}),r.jsx("div",{className:"flex items-center",children:o.length>1&&r.jsx(I,{variant:"ghost",size:"sm",onClick:()=>y(_),className:"text-red-400 hover:text-red-300 hover:bg-red-500/10",children:r.jsx(es,{className:"h-4 w-4"})})})]},_))})]}),r.jsxs("div",{className:`border rounded-lg p-4 ${O.isValid?"bg-green-500/10 border-green-500/30":"bg-yellow-500/10 border-yellow-500/30"}`,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(g2,{className:`mr-2 h-5 w-5 ${O.isValid?"text-green-400":"text-yellow-400"}`}),r.jsx("span",{className:"text-sm font-medium text-white",children:"Total Split:"})]}),r.jsxs("div",{className:`text-lg font-bold ${O.isValid?"text-green-400":"text-yellow-400"}`,children:[b().toFixed(2),"%"]})]}),r.jsxs("div",{className:`mt-2 text-xs ${O.isValid?"text-green-300":"text-yellow-300"}`,children:[O.isValid?" ":" ",O.message]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-yellow-400/20",children:[r.jsx(I,{variant:"outline",onClick:a,className:"border-gray-600 text-gray-300 hover:bg-zinc-700",children:"Cancel"}),r.jsx(I,{onClick:N,disabled:!S()||x.isPending,className:"bg-yellow-400 text-black hover:bg-yellow-500",children:x.isPending?"Saving...":"Save Assignment"})]})]})]})})}const bZ=[{name:"Standard Company Split",assignments:[{roleName:"Company",percentage:60},{roleName:"Agent",percentage:40}]},{name:"Agent Heavy",assignments:[{roleName:"Company",percentage:50},{roleName:"Agent",percentage:50}]},{name:"Three-Way Split",assignments:[{roleName:"Company",percentage:50},{roleName:"Agent",percentage:30},{roleName:"Sales Manager",percentage:20}]}];function wZ({merchants:e,month:t,isOpen:n,onClose:s,onSuccess:a}){const[i,o]=g.useState([]),[l,c]=g.useState([{roleId:0,percentage:0}]),{toast:d}=pt(),u=_t(),{data:m}=ve({queryKey:["/api/roles"]}),p=Oe({mutationFn:async()=>{const j=i.map(k=>fetch("/api/assignments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({assignments:l.map(O=>({merchantId:k,roleId:O.roleId,percentage:O.percentage.toString(),month:t}))})})),A=(await Promise.all(j)).filter(k=>!k.ok);if(A.length>0)throw new Error(`Failed to assign roles to ${A.length} merchants`);return{success:!0,count:i.length}},onSuccess:j=>{d({title:"Bulk assignment completed",description:`Applied role splits to ${j.count} merchants`}),u.invalidateQueries({queryKey:["/api/assignments"]}),u.invalidateQueries({queryKey:["/api/audit-issues"]}),u.invalidateQueries({queryKey:["/api/monthly-data"]}),a()},onError:j=>{d({title:"Bulk assignment failed",description:j.message,variant:"destructive"})}}),f=j=>{const C=j.assignments.map(A=>{const k=m==null?void 0:m.find(O=>O.name.toLowerCase().includes(A.roleName.toLowerCase()));return{roleId:(k==null?void 0:k.id)||0,percentage:A.percentage,role:k}});c(C),d({title:`Applied ${j.name} template`})},x=j=>{o(C=>C.includes(j)?C.filter(A=>A!==j):[...C,j])},h=()=>{const j=e.map(C=>{var A,k;return((A=C.merchants)==null?void 0:A.id)||((k=C.merchant)==null?void 0:k.id)||C.id});o(j)},y=()=>{o([])},v=()=>{c([...l,{roleId:0,percentage:0}])},b=(j,C,A)=>{const k=[...l];k[j]={...k[j],[C]:A},c(k)},w=()=>l.reduce((j,C)=>j+(C.percentage||0),0),S=()=>{const j=w(),C=l.every(k=>k.roleId>0&&k.percentage>0),A=i.length>0;return Math.abs(j-100)<.01&&C&&A},N=()=>{S()&&p.mutate()};return r.jsx(jt,{open:n,onOpenChange:s,children:r.jsxs(yt,{className:"max-w-5xl max-h-[85vh] overflow-y-auto bg-zinc-900 border-yellow-400/20",children:[r.jsx(vt,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(bt,{className:"flex items-center text-white",children:[r.jsx(St,{className:"mr-2 h-5 w-5"}),"Bulk Role Assignment"]}),r.jsx(I,{variant:"ghost",size:"sm",onClick:s,className:"text-gray-400 hover:text-white hover:bg-zinc-800",children:r.jsx(br,{className:"h-4 w-4"})})]})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-purple-500/10 border border-purple-500/30 rounded-lg p-4",children:[r.jsx("h3",{className:"text-sm font-semibold text-purple-400 mb-3",children:"Quick Bulk Templates"}),r.jsx("div",{className:"grid grid-cols-3 gap-2",children:bZ.map((j,C)=>r.jsx(I,{variant:"outline",size:"sm",onClick:()=>f(j),className:"justify-start h-auto p-3 bg-zinc-800 hover:bg-zinc-700 border-purple-500/30 text-white",children:r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"font-medium",children:j.name}),r.jsx("div",{className:"text-xs text-gray-400 mt-1",children:j.assignments.map(A=>`${A.percentage}%`).join(" / ")})]})},C))})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Configure Role Split"}),r.jsxs("div",{className:"space-y-3",children:[l.map((j,C)=>r.jsxs("div",{className:"flex items-center space-x-3 p-3 border border-yellow-400/20 rounded-lg bg-zinc-800/50",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx(K,{className:"text-sm text-gray-300",children:"Role"}),r.jsxs(ze,{value:j.roleId.toString(),onValueChange:A=>{const k=parseInt(A),O=m==null?void 0:m.find(M=>M.id===k);b(C,"roleId",k),b(C,"role",O)},children:[r.jsx(Re,{className:"bg-zinc-800 border-yellow-400/30 text-white",children:r.jsx(Fe,{placeholder:"Select role"})}),r.jsx($e,{className:"bg-zinc-800 border-yellow-400/30",children:["company","sales_manager","agent","partner","association"].map(A=>r.jsx("optgroup",{label:A.charAt(0).toUpperCase()+A.slice(1).replace("_"," "),children:m==null?void 0:m.filter(k=>k.type===A).map(k=>r.jsx(Y,{value:k.id.toString(),children:k.name},k.id))},A))})]})]}),r.jsxs("div",{className:"w-32",children:[r.jsx(K,{className:"text-sm text-gray-300",children:"Percentage"}),r.jsxs("div",{className:"space-y-1",children:[r.jsx(ee,{type:"number",placeholder:"0",min:"0",max:"100",step:"0.01",value:j.percentage||"",onChange:A=>b(C,"percentage",parseFloat(A.target.value)||0),className:"bg-zinc-800 border-yellow-400/30 text-white"}),r.jsx("div",{className:"flex flex-wrap gap-1",children:[10,20,25,30,50].map(A=>r.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>b(C,"percentage",A),className:"text-xs h-6 px-2 bg-zinc-700 hover:bg-zinc-600 text-gray-300",children:[A,"%"]},A))})]})]}),l.length>1&&r.jsx(I,{variant:"ghost",size:"sm",onClick:()=>c(l.filter((A,k)=>k!==C)),className:"text-red-400 hover:text-red-300 hover:bg-red-500/10",children:r.jsx(br,{className:"h-4 w-4"})})]},C)),r.jsx(I,{onClick:v,variant:"outline",size:"sm",className:"border-gray-600 text-gray-300 hover:bg-zinc-700",children:"Add Role"})]}),r.jsx("div",{className:`border rounded-lg p-3 ${Math.abs(w()-100)<.01?"bg-green-500/10 border-green-500/30":"bg-yellow-500/10 border-yellow-500/30"}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(g2,{className:`mr-2 h-4 w-4 ${Math.abs(w()-100)<.01?"text-green-400":"text-yellow-400"}`}),r.jsx("span",{className:"text-sm font-medium text-white",children:"Total Split:"})]}),r.jsxs("div",{className:`text-lg font-bold ${Math.abs(w()-100)<.01?"text-green-400":"text-yellow-400"}`,children:[w().toFixed(2),"%"]})]})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-lg font-semibold text-white",children:["Select Merchants (",i.length," selected)"]}),r.jsxs("div",{className:"space-x-2",children:[r.jsx(I,{onClick:h,variant:"outline",size:"sm",className:"border-gray-600 text-gray-300 hover:bg-zinc-700",children:"Select All"}),r.jsx(I,{onClick:y,variant:"outline",size:"sm",className:"border-gray-600 text-gray-300 hover:bg-zinc-700",children:"Clear All"})]})]}),r.jsxs("div",{className:"max-h-64 overflow-y-auto border border-yellow-400/20 rounded-lg bg-zinc-800/50",children:[r.jsx("div",{className:"grid gap-2 p-4",children:e.slice(0,50).map(j=>{const C=j.merchants||j.merchant,A=j.monthly_data||j,k=C==null?void 0:C.id;return r.jsxs("div",{className:"flex items-center space-x-3 p-2 hover:bg-zinc-700 rounded cursor-pointer",onClick:()=>k&&x(k),children:[r.jsx(xa,{checked:i.includes(k),onCheckedChange:()=>k&&x(k),className:"border-yellow-400/50"}),r.jsxs("div",{className:"flex-1 grid grid-cols-3 gap-2 text-sm",children:[r.jsx("span",{className:"font-mono text-white",children:C==null?void 0:C.mid}),r.jsx("span",{className:"text-gray-300",children:(C==null?void 0:C.dba)||(C==null?void 0:C.legalName)||"Unknown"}),r.jsxs("span",{className:"text-right text-white",children:["$",parseFloat((A==null?void 0:A.net)||"0").toFixed(2)]})]})]},k)})}),e.length>50&&r.jsx("div",{className:"p-4 border-t border-yellow-400/20 bg-zinc-800 text-sm text-gray-400 text-center",children:"Showing first 50 merchants. Use filters to narrow down the list."})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-yellow-400/20",children:[r.jsx(I,{variant:"outline",onClick:s,className:"border-gray-600 text-gray-300 hover:bg-zinc-700",children:"Cancel"}),r.jsx(I,{onClick:N,disabled:!S()||p.isPending,className:"bg-yellow-400 text-black hover:bg-yellow-500",children:p.isPending?"Applying...":`Apply to ${i.length} Merchants`})]})]})]})})}function jZ({data:e,month:t}){var A,k,O,M;const[n,s]=g.useState(null),[a,i]=g.useState(!1),[o,l]=g.useState([]),[c,d]=g.useState("all"),[u,m]=g.useState(1),p=10,{data:f}=ve({queryKey:["/api/processors"]}),{data:x,refetch:h}=ve({queryKey:["/api/assignments",((A=n==null?void 0:n.merchants)==null?void 0:A.id)||((k=n==null?void 0:n.merchant)==null?void 0:k.id)||(n==null?void 0:n.merchantId),t],enabled:!!((O=n==null?void 0:n.merchants)!=null&&O.id||(M=n==null?void 0:n.merchant)!=null&&M.id||n!=null&&n.merchantId)}),y=e.filter(P=>{var _,E,T;return c==="all"||((T=((_=P.processors)==null?void 0:_.id)||((E=P.processor)==null?void 0:E.id)||P.processorId)==null?void 0:T.toString())===c}),v=y.slice((u-1)*p,u*p),b=Math.ceil(y.length/p),w=P=>{var E;return parseFloat(((E=P.monthly_data)==null?void 0:E.net)||P.net||"0")>0?r.jsxs(oe,{className:"status-badge status-warning",children:[r.jsx(cr,{className:"mr-1 h-3 w-3"}),"Pending Assignment"]}):r.jsxs(oe,{className:"status-badge status-neutral",children:[r.jsx(Rr,{className:"mr-1 h-3 w-3"}),"No Revenue"]})},S=P=>({"Payment Advisors":"status-badge processor-payment-advisors",Clearent:"status-badge processor-clearent","Micamp Solutions":"status-badge processor-micamp","Global Payments TSYS":"status-badge processor-global-payments","Merchant Lynx":"status-badge processor-merchant-lynx"})[P]||"status-badge status-neutral",N=P=>{l(_=>_.includes(P)?_.filter(E=>E!==P):[..._,P])},j=()=>{const P=v.map(_=>{var E,T;return((E=_.merchants)==null?void 0:E.id)||((T=_.merchant)==null?void 0:T.id)}).filter(Boolean);l(_=>Array.from(new Set([..._,...P])))},C=()=>{l([])};return r.jsxs(r.Fragment,{children:[r.jsxs(U,{className:"bg-zinc-900/80 rounded-lg border border-yellow-400/20 shadow-sm",children:[r.jsx(X,{className:"px-4 sm:px-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(J,{className:"text-lg sm:text-xl font-semibold text-white",children:"MID Matching & Assignment Status"}),o.length>0&&r.jsxs("p",{className:"text-sm text-yellow-400 mt-2 font-medium",children:[o.length," merchant",o.length!==1?"s":""," selected"]})]}),r.jsxs("div",{className:"flex flex-col space-y-3 sm:flex-row sm:items-center sm:justify-between sm:space-y-0 sm:space-x-3",children:[o.length>0&&r.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2",children:[r.jsxs(I,{onClick:()=>i(!0),className:"bg-yellow-400 hover:bg-yellow-500 text-black px-3 sm:px-4 py-2 rounded-md text-sm font-medium w-full sm:w-auto",children:[r.jsx(St,{className:"mr-2 h-4 w-4"}),r.jsxs("span",{className:"hidden sm:inline",children:["Bulk Assign (",o.length,")"]}),r.jsxs("span",{className:"sm:hidden",children:["Assign (",o.length,")"]})]}),r.jsx(I,{onClick:C,className:"border border-gray-600 text-gray-300 hover:bg-zinc-700 px-3 sm:px-4 py-2 rounded-md text-sm font-medium w-full sm:w-auto",size:"sm",children:"Clear"})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2 sm:ml-auto",children:[r.jsxs(ze,{value:c,onValueChange:d,children:[r.jsx(Re,{className:"w-full sm:w-48 border-yellow-400/30 bg-zinc-800 text-gray-200 focus:border-yellow-400 focus:ring-yellow-400",children:r.jsx(Fe,{placeholder:"Filter by processor"})}),r.jsxs($e,{className:"bg-zinc-800 border-yellow-400/30",children:[r.jsx(Y,{value:"all",children:"All Processors"}),f==null?void 0:f.map(P=>r.jsx(Y,{value:P.id.toString(),children:P.name},P.id))]})]}),r.jsxs(I,{className:"border border-gray-600 text-gray-300 hover:bg-zinc-700 px-3 sm:px-4 py-2 rounded-md text-sm font-medium w-full sm:w-auto",children:[r.jsx(Jn,{className:"mr-2 h-4 w-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Export"}),r.jsx("span",{className:"sm:hidden",children:"Export"})]})]})]})]})}),r.jsxs(B,{className:"p-0",children:[r.jsxs("div",{className:"block sm:hidden",children:[r.jsx("div",{className:"px-4 py-3 border-b border-yellow-400/20 bg-zinc-800/80",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(xa,{checked:v.length>0&&v.every(P=>{var _,E;return o.includes(((_=P.merchants)==null?void 0:_.id)||((E=P.merchant)==null?void 0:E.id))}),onCheckedChange:P=>{P?j():C()},className:"rounded border-yellow-400/50 text-yellow-400 focus:ring-yellow-400"}),r.jsx("span",{className:"text-sm font-medium text-gray-400",children:"Select All"})]})}),r.jsx("div",{className:"divide-y divide-yellow-400/10",children:v.map(P=>{var T,$,q,R,D,V,F,z,Q,te,me,ge,he,Ce,se;const _=((T=P.merchants)==null?void 0:T.id)||(($=P.merchant)==null?void 0:$.id),E=o.includes(_);return r.jsxs("div",{className:`p-4 space-y-3 ${E?"bg-yellow-400/5":""}`,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(xa,{checked:E,onCheckedChange:()=>_&&N(_),className:"rounded border-yellow-400/50 text-yellow-400 focus:ring-yellow-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-mono text-white font-medium",children:((q=P.merchants)==null?void 0:q.mid)||((R=P.merchant)==null?void 0:R.mid)||P.merchantId||"N/A"}),r.jsx("p",{className:"text-xs text-gray-400",children:"MID"})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-sm font-semibold text-white",children:["$",parseFloat(((D=P.monthly_data)==null?void 0:D.net)||P.net||"0").toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),r.jsx("p",{className:"text-xs text-gray-400",children:"Revenue"})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-white",children:((V=P.merchants)==null?void 0:V.dba)||((F=P.merchants)==null?void 0:F.legalName)||((z=P.merchant)==null?void 0:z.dba)||((Q=P.merchant)==null?void 0:Q.legalName)||P.merchantName||"Unknown"}),r.jsx("p",{className:"text-xs text-gray-400",children:"Merchant Name"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{children:r.jsx(oe,{className:S(((te=P.processors)==null?void 0:te.name)||((me=P.processor)==null?void 0:me.name)||P.processorName||"Unknown"),children:((ge=P.processors)==null?void 0:ge.name)||((he=P.processor)==null?void 0:he.name)||P.processorName||"Unknown"})}),r.jsx("div",{children:w(P)})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>s(P),className:"text-yellow-400 hover:bg-yellow-400/10 flex-1",children:[r.jsx(vr,{className:"mr-1 h-4 w-4"}),"Assign"]}),r.jsxs(I,{variant:"ghost",size:"sm",className:"text-gray-400 hover:bg-zinc-700 flex-1",children:[r.jsx(yr,{className:"mr-1 h-4 w-4"}),"View"]})]})]},`mobile-${_}-${((Ce=P.processors)==null?void 0:Ce.id)||((se=P.processor)==null?void 0:se.id)||P.processorId}`)})})]}),r.jsx("div",{className:"hidden sm:block overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-yellow-400/20",children:[r.jsx("thead",{className:"bg-zinc-800/80",children:r.jsxs("tr",{children:[r.jsx("th",{className:"w-16 px-4 lg:px-6 py-3 text-left",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(xa,{checked:v.length>0&&v.every(P=>{var _,E;return o.includes(((_=P.merchants)==null?void 0:_.id)||((E=P.merchant)==null?void 0:E.id))}),onCheckedChange:P=>{P?j():C()},className:"rounded border-yellow-400/50 text-yellow-400 focus:ring-yellow-400"}),r.jsx("span",{className:"hidden lg:inline text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Select"})]})}),r.jsx("th",{className:"px-4 lg:px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"MID"}),r.jsx("th",{className:"px-4 lg:px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Merchant Name"}),r.jsx("th",{className:"px-4 lg:px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Processor"}),r.jsx("th",{className:"px-4 lg:px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Revenue"}),r.jsx("th",{className:"px-4 lg:px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-4 lg:px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-zinc-900/50 divide-y divide-yellow-400/10",children:v.map(P=>{var T,$,q,R,D,V,F,z,Q,te,me,ge,he,Ce,se;const _=((T=P.merchants)==null?void 0:T.id)||(($=P.merchant)==null?void 0:$.id),E=o.includes(_);return r.jsxs("tr",{className:`hover:bg-zinc-800/50 transition-colors duration-150 ${E?"bg-yellow-400/5":""}`,children:[r.jsx("td",{className:"px-4 lg:px-6 py-4 whitespace-nowrap",children:r.jsx(xa,{checked:E,onCheckedChange:()=>_&&N(_),className:"rounded border-yellow-400/50 text-yellow-400 focus:ring-yellow-400"})}),r.jsx("td",{className:"px-4 lg:px-6 py-4 whitespace-nowrap text-sm font-mono text-white",children:((q=P.merchants)==null?void 0:q.mid)||((R=P.merchant)==null?void 0:R.mid)||P.merchantId||"N/A"}),r.jsx("td",{className:"px-4 lg:px-6 py-4 whitespace-nowrap text-sm font-medium text-white max-w-xs truncate",children:((D=P.merchants)==null?void 0:D.dba)||((V=P.merchants)==null?void 0:V.legalName)||((F=P.merchant)==null?void 0:F.dba)||((z=P.merchant)==null?void 0:z.legalName)||P.merchantName||"Unknown"}),r.jsx("td",{className:"px-4 lg:px-6 py-4 whitespace-nowrap",children:r.jsx(oe,{className:S(((Q=P.processors)==null?void 0:Q.name)||((te=P.processor)==null?void 0:te.name)||P.processorName||"Unknown"),children:((me=P.processors)==null?void 0:me.name)||((ge=P.processor)==null?void 0:ge.name)||P.processorName||"Unknown"})}),r.jsxs("td",{className:"px-4 lg:px-6 py-4 whitespace-nowrap text-sm font-semibold text-white",children:["$",parseFloat(((he=P.monthly_data)==null?void 0:he.net)||P.net||"0").toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),r.jsx("td",{className:"px-4 lg:px-6 py-4 whitespace-nowrap",children:w(P)}),r.jsx("td",{className:"px-4 lg:px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center space-x-1 lg:space-x-2",children:[r.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>s(P),className:"text-yellow-400 hover:bg-yellow-400/10 px-2 lg:px-3",children:[r.jsx(vr,{className:"mr-1 h-4 w-4"}),r.jsx("span",{className:"hidden lg:inline",children:"Assign"})]}),r.jsxs(I,{variant:"ghost",size:"sm",className:"text-gray-400 hover:bg-zinc-700 px-2 lg:px-3",children:[r.jsx(yr,{className:"mr-1 h-4 w-4"}),r.jsx("span",{className:"hidden lg:inline",children:"View"})]})]})})]},`desktop-${_}-${((Ce=P.processors)==null?void 0:Ce.id)||((se=P.processor)==null?void 0:se.id)||P.processorId}`)})})]})}),r.jsx("div",{className:"px-4 sm:px-6 py-4 border-t border-yellow-400/20 bg-zinc-800/50",children:r.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between space-y-3 sm:space-y-0",children:[r.jsxs("div",{className:"text-sm text-gray-300 text-center sm:text-left",children:["Showing"," ",r.jsx("span",{className:"font-medium text-white",children:(u-1)*p+1})," to"," ",r.jsx("span",{className:"font-medium text-white",children:Math.min(u*p,y.length)})," ","of ",r.jsx("span",{className:"font-medium",children:y.length})," results"]}),r.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[r.jsxs(I,{variant:"outline",size:"sm",onClick:()=>m(Math.max(1,u-1)),disabled:u===1,className:"border-gray-600 text-gray-300 hover:bg-zinc-700 disabled:opacity-50 px-2 sm:px-3",children:[r.jsx("span",{className:"hidden sm:inline",children:"Previous"}),r.jsx("span",{className:"sm:hidden",children:"Prev"})]}),r.jsx("div",{className:"hidden sm:flex items-center space-x-1",children:[...Array(Math.min(5,b))].map((P,_)=>{const E=_+1;return r.jsx(I,{variant:u===E?"default":"outline",size:"sm",onClick:()=>m(E),className:u===E?"bg-yellow-400 text-black hover:bg-yellow-500":"border-gray-600 text-gray-300 hover:bg-zinc-700",children:E},E)})}),r.jsxs("span",{className:"sm:hidden text-sm text-gray-300 px-2 py-1 whitespace-nowrap",children:[u,"/",b]}),r.jsxs(I,{variant:"outline",size:"sm",onClick:()=>m(Math.min(b,u+1)),disabled:u===b,className:"border-gray-600 text-gray-300 hover:bg-zinc-700 disabled:opacity-50 px-2 sm:px-3",children:[r.jsx("span",{className:"hidden sm:inline",children:"Next"}),r.jsx("span",{className:"sm:hidden",children:"Next"})]})]})]})})]})]}),n&&r.jsx(vZ,{merchant:n.merchants||n.merchant,monthlyData:n.monthly_data||n,month:t,isOpen:!!n,onClose:()=>s(null),onSuccess:()=>{s(null),h()}}),a&&r.jsx(wZ,{merchants:o.map(P=>e.find(_=>{var E,T;return(((E=_.merchants)==null?void 0:E.id)||((T=_.merchant)==null?void 0:T.id))===P})).filter(Boolean),month:t,isOpen:a,onClose:()=>i(!1),onSuccess:()=>{i(!1),l([]),h()}})]})}function NZ({month:e,title:t,isActive:n=!0,processors:s,data:a,issues:i}){var v;const o=t||`${e} Data Processing`;if(a!==void 0)return r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:[r.jsx(X,{className:"bg-yellow-400 text-black rounded-t-lg",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold",children:o}),r.jsx("p",{className:"text-black/70 mt-1",children:"Monthly data summary and processing"})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-2xl font-bold",children:(a==null?void 0:a.length)||0}),r.jsx("div",{className:"text-black/70",children:"Records Processed"})]})]})}),r.jsx(B,{className:"p-6",children:r.jsx("div",{className:"text-center py-6",children:r.jsx("p",{className:"text-gray-400",children:"Monthly data processing complete"})})})]});const{data:l}=ve({queryKey:["/api/file-uploads",e],enabled:n}),{data:c}=ve({queryKey:["/api/monthly-stats",e],enabled:n}),{data:d}=ve({queryKey:["/api/monthly-data",e],enabled:n}),u=(l==null?void 0:l.filter(b=>b.file_uploads.status==="completed"))||[],m=new Set(u.filter(b=>b.file_uploads.type==="processor"&&b.file_uploads.processorId).map(b=>b.file_uploads.processorId)).size,p=u.some(b=>b.file_uploads.type==="lead_sheet"),f=m+(p?1:0),x=s.length+1,h=()=>n?"bg-yellow-400":"bg-zinc-700",y=()=>n?"opacity-100":"opacity-60";return n?r.jsxs(U,{className:`${y()} bg-zinc-900/80 border-yellow-400/20`,children:[r.jsx(X,{className:`${h()} text-black rounded-t-lg`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold",children:o}),r.jsx("p",{className:"text-black/70 mt-1",children:"Upload processor files and lead sheets for matching"})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-2xl font-bold",children:[f,"/",x]}),r.jsx("div",{className:"text-black/70",children:"Files Uploaded"})]})]})}),r.jsxs(B,{className:"p-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[r.jsx(Kk,{title:"Lead Sheet (CRM)",type:"lead_sheet",month:e,processorId:null,isUploaded:p,recordCount:(v=u.find(b=>b.file_uploads.type==="lead_sheet"))==null?void 0:v.file_uploads.recordsProcessed}),s.map(b=>{const w=u.find(S=>S.file_uploads.type==="processor"&&S.file_uploads.processorId===b.id&&S.file_uploads.status==="completed");return r.jsx(Kk,{title:b.name,type:"processor",month:e,processorId:b.id,isUploaded:!!w,recordCount:w==null?void 0:w.file_uploads.recordsProcessed},b.id)})]}),c&&r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[r.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 p-6 rounded-lg",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-blue-300",children:"Total MIDs Matched"}),r.jsx("p",{className:"text-3xl font-bold text-blue-400",children:c.totalMids})]}),r.jsx(St,{className:"h-8 w-8 text-blue-400"})]})}),r.jsx("div",{className:"bg-green-500/10 border border-green-500/30 p-6 rounded-lg",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-green-300",children:"Revenue Processed"}),r.jsxs("p",{className:"text-3xl font-bold text-green-400",children:["$",parseFloat(c.totalRevenue).toLocaleString()]})]}),r.jsx(zr,{className:"h-8 w-8 text-green-400"})]})}),r.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 p-6 rounded-lg",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-yellow-300",children:"Pending Assignments"}),r.jsx("p",{className:"text-3xl font-bold text-yellow-400",children:c.pendingAssignments})]}),r.jsx(cr,{className:"h-8 w-8 text-yellow-400"})]})})]}),d&&d.length>0&&r.jsx(jZ,{data:d,month:e})]})]}):r.jsxs(U,{className:`${y()} bg-zinc-900/80 border-yellow-400/20`,children:[r.jsx(X,{className:`${h()} text-white rounded-t-lg`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold",children:o}),r.jsx("p",{className:"text-gray-300 mt-1",children:"Available after previous month processing complete"})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-2xl font-bold",children:["0/",x]}),r.jsx("div",{className:"text-gray-300",children:"Files Uploaded"})]})]})}),r.jsx(B,{className:"p-6",children:r.jsxs("div",{className:"text-center py-12",children:[r.jsx(fh,{className:"mx-auto h-12 w-12 text-gray-500 mb-4"}),r.jsxs("p",{className:"text-gray-400",children:["Complete previous month processing to unlock ",o?o.split(" ").slice(0,2).join(" "):"this month"]})]})})]})}function SZ({month:e}){const{toast:t}=pt(),n=_t(),{data:s,isLoading:a}=ve({queryKey:["/api/audit-issues",e]}),i=Oe({mutationFn:async()=>{const x=await fetch(`/api/audit/run/${e}`,{method:"POST"});if(!x.ok)throw new Error("Audit failed");return x.json()},onSuccess:x=>{t({title:"Audit completed",description:`Found ${x.splitErrors+x.missingAssignments+x.unmatchedMids} issues`}),n.invalidateQueries({queryKey:["/api/audit-issues",e]})},onError:x=>{t({title:"Audit failed",description:x.message,variant:"destructive"})}}),o=Oe({mutationFn:async x=>{const h=await fetch(`/api/audit-issues/${x}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"resolved"})});if(!h.ok)throw new Error("Failed to resolve issue");return h.json()},onSuccess:()=>{t({title:"Issue resolved"}),n.invalidateQueries({queryKey:["/api/audit-issues",e]})}}),l=x=>{switch(x){case"split_error":return r.jsx(ht,{className:"h-6 w-6 text-red-500"});case"missing_assignment":return r.jsx(gs,{className:"h-6 w-6 text-yellow-500"});case"unmatched_mid":return r.jsx(vk,{className:"h-6 w-6 text-blue-500"});default:return r.jsx(cr,{className:"h-6 w-6 text-gray-500"})}},c=x=>{switch(x){case"high":return r.jsx(oe,{className:"bg-red-500/20 text-red-400 border border-red-500/30",children:"High"});case"medium":return r.jsx(oe,{className:"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30",children:"Medium"});case"low":return r.jsx(oe,{className:"bg-blue-500/20 text-blue-400 border border-blue-500/30",children:"Low"});default:return r.jsx(oe,{className:"bg-zinc-700 text-gray-300",children:"Unknown"})}},d=(s==null?void 0:s.reduce((x,h)=>{var v;const y=((v=h==null?void 0:h.audit_issues)==null?void 0:v.issueType)||"unknown";return x[y]=(x[y]||0)+1,x},{}))||{},u=d.split_error||0,m=d.missing_assignment||0,p=d.unmatched_mid||0;return r.jsxs(U,{className:"mt-12 bg-zinc-900/80 border-yellow-400/20",children:[r.jsx(X,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(J,{className:"text-white",children:"Data Audit & Validation"}),r.jsxs(I,{onClick:()=>i.mutate(),disabled:i.isPending,className:"bg-yellow-400 text-black hover:bg-yellow-500",children:[r.jsx(js,{className:"mr-2 h-4 w-4"}),i.isPending?"Running...":"Run Full Audit"]})]})}),r.jsxs(B,{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(ht,{className:"h-6 w-6 text-red-400 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-lg font-semibold text-red-400",children:u}),r.jsx("p",{className:"text-sm text-red-300",children:"Split Errors"})]})]})}),r.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(gs,{className:"h-6 w-6 text-yellow-400 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-lg font-semibold text-yellow-400",children:m}),r.jsx("p",{className:"text-sm text-yellow-300",children:"Missing Assignments"})]})]})}),r.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(vk,{className:"h-6 w-6 text-blue-400 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-lg font-semibold text-blue-400",children:p}),r.jsx("p",{className:"text-sm text-blue-300",children:"Unmatched MIDs"})]})]})}),r.jsx("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(qe,{className:"h-6 w-6 text-green-400 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-lg font-semibold text-green-400",children:0}),r.jsx("p",{className:"text-sm text-green-300",children:"Valid Records"})]})]})})]}),s&&s.length>0&&r.jsxs(U,{className:"bg-zinc-800/50 border-yellow-400/10",children:[r.jsx(X,{children:r.jsx(J,{className:"text-white",children:"Issues Requiring Attention"})}),r.jsx(B,{children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-yellow-400/20",children:[r.jsx("thead",{className:"bg-zinc-800/80",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Priority"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"MID"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Issue Type"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Description"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-zinc-900/50 divide-y divide-yellow-400/10",children:s.map(x=>{var v;const h=x==null?void 0:x.audit_issues,y=x==null?void 0:x.merchants;return r.jsxs("tr",{className:"hover:bg-zinc-800/50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c((h==null?void 0:h.priority)||"unknown")}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-white",children:(y==null?void 0:y.mid)||"N/A"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:r.jsxs("div",{className:"flex items-center",children:[l((h==null?void 0:h.issueType)||"unknown"),r.jsx("span",{className:"ml-2 capitalize",children:((v=h==null?void 0:h.issueType)==null?void 0:v.replace("_"," "))||"Unknown"})]})}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-300",children:(h==null?void 0:h.description)||"No description"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsx(I,{variant:"ghost",size:"sm",className:"text-yellow-400 hover:text-yellow-300 hover:bg-yellow-400/10",onClick:()=>o.mutate(h==null?void 0:h.id),disabled:o.isPending,children:(h==null?void 0:h.issueType)==="split_error"?"Fix Split":"Resolve"})})]},(h==null?void 0:h.id)||Math.random())})})]})})})]}),(!s||s.length===0)&&!a&&r.jsx(U,{className:"bg-zinc-800/50 border-yellow-400/10",children:r.jsxs(B,{className:"p-12 text-center",children:[r.jsx(qe,{className:"mx-auto h-12 w-12 text-green-400 mb-4"}),r.jsx("p",{className:"text-gray-400",children:"No audit issues found. All data appears to be valid."})]})})]})]})}function fs({items:e,className:t=""}){const n=(e||[]).filter(s=>{var a;return((a=s==null?void 0:s.label)==null?void 0:a.toLowerCase())!=="dashboard"});return r.jsxs("nav",{className:ye("flex items-center space-x-1 text-sm text-gray-400 mb-6",t),children:[r.jsxs(qt,{href:"/dashboard",className:"flex items-center gap-1 hover:text-yellow-400 transition-colors p-1 rounded hover:bg-zinc-800",children:[r.jsx(hh,{className:"h-4 w-4"}),r.jsx("span",{children:"Dashboard"})]}),n.map((s,a)=>r.jsxs("div",{className:"flex items-center",children:[r.jsx(pa,{className:"h-4 w-4 text-gray-600 mx-1"}),s.isActive?r.jsx("span",{className:"font-medium text-white",children:s.label}):r.jsx(qt,{href:s.href,className:"hover:text-yellow-400 transition-colors p-1 rounded hover:bg-zinc-800",children:s.label})]},a))]})}const _r=g.forwardRef(({className:e,...t},n)=>r.jsx("div",{className:"relative w-full overflow-auto",children:r.jsx("table",{ref:n,className:ye("w-full caption-bottom text-sm",e),...t})}));_r.displayName="Table";const Tr=g.forwardRef(({className:e,...t},n)=>r.jsx("thead",{ref:n,className:ye("[&_tr]:border-b",e),...t}));Tr.displayName="TableHeader";const Mr=g.forwardRef(({className:e,...t},n)=>r.jsx("tbody",{ref:n,className:ye("[&_tr:last-child]:border-0",e),...t}));Mr.displayName="TableBody";const CZ=g.forwardRef(({className:e,...t},n)=>r.jsx("tfoot",{ref:n,className:ye("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));CZ.displayName="TableFooter";const Ze=g.forwardRef(({className:e,...t},n)=>r.jsx("tr",{ref:n,className:ye("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Ze.displayName="TableRow";const be=g.forwardRef(({className:e,...t},n)=>r.jsx("th",{ref:n,className:ye("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));be.displayName="TableHead";const de=g.forwardRef(({className:e,...t},n)=>r.jsx("td",{ref:n,className:ye("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));de.displayName="TableCell";const kZ=g.forwardRef(({className:e,...t},n)=>r.jsx("caption",{ref:n,className:ye("mt-4 text-sm text-muted-foreground",e),...t}));kZ.displayName="TableCaption";var AZ=Array.isArray,rs=AZ,PZ=typeof Wp=="object"&&Wp&&Wp.Object===Object&&Wp,FD=PZ,OZ=FD,EZ=typeof self=="object"&&self&&self.Object===Object&&self,_Z=OZ||EZ||Function("return this")(),ni=_Z,TZ=ni,MZ=TZ.Symbol,Ip=MZ,Gk=Ip,LD=Object.prototype,IZ=LD.hasOwnProperty,RZ=LD.toString,nm=Gk?Gk.toStringTag:void 0;function $Z(e){var t=IZ.call(e,nm),n=e[nm];try{e[nm]=void 0;var s=!0}catch{}var a=RZ.call(e);return s&&(t?e[nm]=n:delete e[nm]),a}var DZ=$Z,zZ=Object.prototype,FZ=zZ.toString;function LZ(e){return FZ.call(e)}var UZ=LZ,Yk=Ip,BZ=DZ,VZ=UZ,qZ="[object Null]",WZ="[object Undefined]",Qk=Yk?Yk.toStringTag:void 0;function HZ(e){return e==null?e===void 0?WZ:qZ:Qk&&Qk in Object(e)?BZ(e):VZ(e)}var Wi=HZ;function KZ(e){return e!=null&&typeof e=="object"}var Hi=KZ,GZ=Wi,YZ=Hi,QZ="[object Symbol]";function XZ(e){return typeof e=="symbol"||YZ(e)&&GZ(e)==QZ}var Eu=XZ,ZZ=rs,JZ=Eu,eJ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,tJ=/^\w*$/;function rJ(e,t){if(ZZ(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||JZ(e)?!0:tJ.test(e)||!eJ.test(e)||t!=null&&e in Object(t)}var rS=rJ;function nJ(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var el=nJ;const _u=$t(el);var sJ=Wi,aJ=el,iJ="[object AsyncFunction]",oJ="[object Function]",lJ="[object GeneratorFunction]",cJ="[object Proxy]";function dJ(e){if(!aJ(e))return!1;var t=sJ(e);return t==oJ||t==lJ||t==iJ||t==cJ}var nS=dJ;const Je=$t(nS);var uJ=ni,mJ=uJ["__core-js_shared__"],hJ=mJ,eb=hJ,Xk=function(){var e=/[^.]+$/.exec(eb&&eb.keys&&eb.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function pJ(e){return!!Xk&&Xk in e}var fJ=pJ,xJ=Function.prototype,gJ=xJ.toString;function yJ(e){if(e!=null){try{return gJ.call(e)}catch{}try{return e+""}catch{}}return""}var UD=yJ,vJ=nS,bJ=fJ,wJ=el,jJ=UD,NJ=/[\\^$.*+?()[\]{}|]/g,SJ=/^\[object .+?Constructor\]$/,CJ=Function.prototype,kJ=Object.prototype,AJ=CJ.toString,PJ=kJ.hasOwnProperty,OJ=RegExp("^"+AJ.call(PJ).replace(NJ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function EJ(e){if(!wJ(e)||bJ(e))return!1;var t=vJ(e)?OJ:SJ;return t.test(jJ(e))}var _J=EJ;function TJ(e,t){return e==null?void 0:e[t]}var MJ=TJ,IJ=_J,RJ=MJ;function $J(e,t){var n=RJ(e,t);return IJ(n)?n:void 0}var yc=$J,DJ=yc,zJ=DJ(Object,"create"),sy=zJ,Zk=sy;function FJ(){this.__data__=Zk?Zk(null):{},this.size=0}var LJ=FJ;function UJ(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var BJ=UJ,VJ=sy,qJ="__lodash_hash_undefined__",WJ=Object.prototype,HJ=WJ.hasOwnProperty;function KJ(e){var t=this.__data__;if(VJ){var n=t[e];return n===qJ?void 0:n}return HJ.call(t,e)?t[e]:void 0}var GJ=KJ,YJ=sy,QJ=Object.prototype,XJ=QJ.hasOwnProperty;function ZJ(e){var t=this.__data__;return YJ?t[e]!==void 0:XJ.call(t,e)}var JJ=ZJ,eee=sy,tee="__lodash_hash_undefined__";function ree(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=eee&&t===void 0?tee:t,this}var nee=ree,see=LJ,aee=BJ,iee=GJ,oee=JJ,lee=nee;function Tu(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}Tu.prototype.clear=see;Tu.prototype.delete=aee;Tu.prototype.get=iee;Tu.prototype.has=oee;Tu.prototype.set=lee;var cee=Tu;function dee(){this.__data__=[],this.size=0}var uee=dee;function mee(e,t){return e===t||e!==e&&t!==t}var sS=mee,hee=sS;function pee(e,t){for(var n=e.length;n--;)if(hee(e[n][0],t))return n;return-1}var ay=pee,fee=ay,xee=Array.prototype,gee=xee.splice;function yee(e){var t=this.__data__,n=fee(t,e);if(n<0)return!1;var s=t.length-1;return n==s?t.pop():gee.call(t,n,1),--this.size,!0}var vee=yee,bee=ay;function wee(e){var t=this.__data__,n=bee(t,e);return n<0?void 0:t[n][1]}var jee=wee,Nee=ay;function See(e){return Nee(this.__data__,e)>-1}var Cee=See,kee=ay;function Aee(e,t){var n=this.__data__,s=kee(n,e);return s<0?(++this.size,n.push([e,t])):n[s][1]=t,this}var Pee=Aee,Oee=uee,Eee=vee,_ee=jee,Tee=Cee,Mee=Pee;function Mu(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}Mu.prototype.clear=Oee;Mu.prototype.delete=Eee;Mu.prototype.get=_ee;Mu.prototype.has=Tee;Mu.prototype.set=Mee;var iy=Mu,Iee=yc,Ree=ni,$ee=Iee(Ree,"Map"),aS=$ee,Jk=cee,Dee=iy,zee=aS;function Fee(){this.size=0,this.__data__={hash:new Jk,map:new(zee||Dee),string:new Jk}}var Lee=Fee;function Uee(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Bee=Uee,Vee=Bee;function qee(e,t){var n=e.__data__;return Vee(t)?n[typeof t=="string"?"string":"hash"]:n.map}var oy=qee,Wee=oy;function Hee(e){var t=Wee(this,e).delete(e);return this.size-=t?1:0,t}var Kee=Hee,Gee=oy;function Yee(e){return Gee(this,e).get(e)}var Qee=Yee,Xee=oy;function Zee(e){return Xee(this,e).has(e)}var Jee=Zee,ete=oy;function tte(e,t){var n=ete(this,e),s=n.size;return n.set(e,t),this.size+=n.size==s?0:1,this}var rte=tte,nte=Lee,ste=Kee,ate=Qee,ite=Jee,ote=rte;function Iu(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}Iu.prototype.clear=nte;Iu.prototype.delete=ste;Iu.prototype.get=ate;Iu.prototype.has=ite;Iu.prototype.set=ote;var iS=Iu,BD=iS,lte="Expected a function";function oS(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(lte);var n=function(){var s=arguments,a=t?t.apply(this,s):s[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,s);return n.cache=i.set(a,o)||i,o};return n.cache=new(oS.Cache||BD),n}oS.Cache=BD;var VD=oS;const cte=$t(VD);var dte=VD,ute=500;function mte(e){var t=dte(e,function(s){return n.size===ute&&n.clear(),s}),n=t.cache;return t}var hte=mte,pte=hte,fte=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xte=/\\(\\)?/g,gte=pte(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(fte,function(n,s,a,i){t.push(a?i.replace(xte,"$1"):s||n)}),t}),yte=gte;function vte(e,t){for(var n=-1,s=e==null?0:e.length,a=Array(s);++n<s;)a[n]=t(e[n],n,e);return a}var lS=vte,eA=Ip,bte=lS,wte=rs,jte=Eu,tA=eA?eA.prototype:void 0,rA=tA?tA.toString:void 0;function qD(e){if(typeof e=="string")return e;if(wte(e))return bte(e,qD)+"";if(jte(e))return rA?rA.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Nte=qD,Ste=Nte;function Cte(e){return e==null?"":Ste(e)}var WD=Cte,kte=rs,Ate=rS,Pte=yte,Ote=WD;function Ete(e,t){return kte(e)?e:Ate(e,t)?[e]:Pte(Ote(e))}var HD=Ete,_te=Eu;function Tte(e){if(typeof e=="string"||_te(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var ly=Tte,Mte=HD,Ite=ly;function Rte(e,t){t=Mte(t,e);for(var n=0,s=t.length;e!=null&&n<s;)e=e[Ite(t[n++])];return n&&n==s?e:void 0}var cS=Rte,$te=cS;function Dte(e,t,n){var s=e==null?void 0:$te(e,t);return s===void 0?n:s}var KD=Dte;const vs=$t(KD);function zte(e){return e==null}var Fte=zte;const it=$t(Fte);var Lte=Wi,Ute=rs,Bte=Hi,Vte="[object String]";function qte(e){return typeof e=="string"||!Ute(e)&&Bte(e)&&Lte(e)==Vte}var Wte=qte;const rc=$t(Wte);var GD={exports:{}},Bt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dS=Symbol.for("react.element"),uS=Symbol.for("react.portal"),cy=Symbol.for("react.fragment"),dy=Symbol.for("react.strict_mode"),uy=Symbol.for("react.profiler"),my=Symbol.for("react.provider"),hy=Symbol.for("react.context"),Hte=Symbol.for("react.server_context"),py=Symbol.for("react.forward_ref"),fy=Symbol.for("react.suspense"),xy=Symbol.for("react.suspense_list"),gy=Symbol.for("react.memo"),yy=Symbol.for("react.lazy"),Kte=Symbol.for("react.offscreen"),YD;YD=Symbol.for("react.module.reference");function Ys(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case dS:switch(e=e.type,e){case cy:case uy:case dy:case fy:case xy:return e;default:switch(e=e&&e.$$typeof,e){case Hte:case hy:case py:case yy:case gy:case my:return e;default:return t}}case uS:return t}}}Bt.ContextConsumer=hy;Bt.ContextProvider=my;Bt.Element=dS;Bt.ForwardRef=py;Bt.Fragment=cy;Bt.Lazy=yy;Bt.Memo=gy;Bt.Portal=uS;Bt.Profiler=uy;Bt.StrictMode=dy;Bt.Suspense=fy;Bt.SuspenseList=xy;Bt.isAsyncMode=function(){return!1};Bt.isConcurrentMode=function(){return!1};Bt.isContextConsumer=function(e){return Ys(e)===hy};Bt.isContextProvider=function(e){return Ys(e)===my};Bt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===dS};Bt.isForwardRef=function(e){return Ys(e)===py};Bt.isFragment=function(e){return Ys(e)===cy};Bt.isLazy=function(e){return Ys(e)===yy};Bt.isMemo=function(e){return Ys(e)===gy};Bt.isPortal=function(e){return Ys(e)===uS};Bt.isProfiler=function(e){return Ys(e)===uy};Bt.isStrictMode=function(e){return Ys(e)===dy};Bt.isSuspense=function(e){return Ys(e)===fy};Bt.isSuspenseList=function(e){return Ys(e)===xy};Bt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===cy||e===uy||e===dy||e===fy||e===xy||e===Kte||typeof e=="object"&&e!==null&&(e.$$typeof===yy||e.$$typeof===gy||e.$$typeof===my||e.$$typeof===hy||e.$$typeof===py||e.$$typeof===YD||e.getModuleId!==void 0)};Bt.typeOf=Ys;GD.exports=Bt;var Gte=GD.exports,Yte=Wi,Qte=Hi,Xte="[object Number]";function Zte(e){return typeof e=="number"||Qte(e)&&Yte(e)==Xte}var QD=Zte;const Jte=$t(QD);var ere=QD;function tre(e){return ere(e)&&e!=+e}var rre=tre;const Rp=$t(rre);var _n=function(t){return t===0?0:t>0?1:-1},wl=function(t){return rc(t)&&t.indexOf("%")===t.length-1},Se=function(t){return Jte(t)&&!Rp(t)},nre=function(t){return it(t)},Yr=function(t){return Se(t)||rc(t)},sre=0,Ru=function(t){var n=++sre;return"".concat(t||"").concat(n)},Tn=function(t,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Se(t)&&!rc(t))return s;var i;if(wl(t)){var o=t.indexOf("%");i=n*parseFloat(t.slice(0,o))/100}else i=+t;return Rp(i)&&(i=s),a&&i>n&&(i=n),i},lo=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},are=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,s={},a=0;a<n;a++)if(!s[t[a]])s[t[a]]=!0;else return!0;return!1},us=function(t,n){return Se(t)&&Se(n)?function(s){return t+s*(n-t)}:function(){return n}};function Lx(e,t,n){return!e||!e.length?null:e.find(function(s){return s&&(typeof t=="function"?t(s):vs(s,t))===n})}var ire=function(t,n){return Se(t)&&Se(n)?t-n:rc(t)&&rc(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function hd(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var s in t)if({}.hasOwnProperty.call(t,s)&&!{}.hasOwnProperty.call(e,s))return!1;return!0}function bj(e){"@babel/helpers - typeof";return bj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bj(e)}var ore=["viewBox","children"],lre=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],nA=["points","pathLength"],tb={svg:ore,polygon:nA,polyline:nA},mS=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Ux=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(g.isValidElement(t)&&(s=t.props),!_u(s))return null;var a={};return Object.keys(s).forEach(function(i){mS.includes(i)&&(a[i]=n||function(o){return s[i](s,o)})}),a},cre=function(t,n,s){return function(a){return t(n,s,a),null}},nc=function(t,n,s){if(!_u(t)||bj(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];mS.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=cre(o,n,s))}),a},dre=["children"],ure=["children"];function sA(e,t){if(e==null)return{};var n=mre(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function mre(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function wj(e){"@babel/helpers - typeof";return wj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wj(e)}var aA={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Oi=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},iA=null,rb=null,hS=function e(t){if(t===iA&&Array.isArray(rb))return rb;var n=[];return g.Children.forEach(t,function(s){it(s)||(Gte.isFragment(s)?n=n.concat(e(s.props.children)):n.push(s))}),rb=n,iA=t,n};function bs(e,t){var n=[],s=[];return Array.isArray(t)?s=t.map(function(a){return Oi(a)}):s=[Oi(t)],hS(e).forEach(function(a){var i=vs(a,"type.displayName")||vs(a,"type.name");s.indexOf(i)!==-1&&n.push(a)}),n}function os(e,t){var n=bs(e,t);return n&&n[0]}var oA=function(t){if(!t||!t.props)return!1;var n=t.props,s=n.width,a=n.height;return!(!Se(s)||s<=0||!Se(a)||a<=0)},hre=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],pre=function(t){return t&&t.type&&rc(t.type)&&hre.indexOf(t.type)>=0},fre=function(t){return t&&wj(t)==="object"&&"clipDot"in t},xre=function(t,n,s,a){var i,o=(i=tb==null?void 0:tb[a])!==null&&i!==void 0?i:[];return n.startsWith("data-")||!Je(t)&&(a&&o.includes(n)||lre.includes(n))||s&&mS.includes(n)},Ye=function(t,n,s){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(g.isValidElement(t)&&(a=t.props),!_u(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;xre((l=a)===null||l===void 0?void 0:l[o],o,n,s)&&(i[o]=a[o])}),i},jj=function e(t,n){if(t===n)return!0;var s=g.Children.count(t);if(s!==g.Children.count(n))return!1;if(s===0)return!0;if(s===1)return lA(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var a=0;a<s;a++){var i=t[a],o=n[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!lA(i,o))return!1}return!0},lA=function(t,n){if(it(t)&&it(n))return!0;if(!it(t)&&!it(n)){var s=t.props||{},a=s.children,i=sA(s,dre),o=n.props||{},l=o.children,c=sA(o,ure);return a&&l?hd(i,c)&&jj(a,l):!a&&!l?hd(i,c):!1}return!1},cA=function(t,n){var s=[],a={};return hS(t).forEach(function(i,o){if(pre(i))s.push(i);else if(i){var l=Oi(i.type),c=n[l]||{},d=c.handler,u=c.once;if(d&&(!u||!a[l])){var m=d(i,l,o);s.push(m),a[l]=!0}}}),s},gre=function(t){var n=t&&t.type;return n&&aA[n]?aA[n]:null},yre=function(t,n){return hS(n).indexOf(t)},vre=["children","width","height","viewBox","className","style","title","desc"];function Nj(){return Nj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Nj.apply(this,arguments)}function bre(e,t){if(e==null)return{};var n=wre(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function wre(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function Sj(e){var t=e.children,n=e.width,s=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,d=bre(e,vre),u=a||{width:n,height:s,x:0,y:0},m=ct("recharts-surface",i);return L.createElement("svg",Nj({},Ye(d,!0,"svg"),{className:m,width:n,height:s,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),L.createElement("title",null,l),L.createElement("desc",null,c),t)}var jre=["children","className"];function Cj(){return Cj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Cj.apply(this,arguments)}function Nre(e,t){if(e==null)return{};var n=Sre(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Sre(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var Ot=L.forwardRef(function(e,t){var n=e.children,s=e.className,a=Nre(e,jre),i=ct("recharts-layer",s);return L.createElement("g",Cj({className:i},Ye(a,!0),{ref:t}),n)}),va=function(t,n){for(var s=arguments.length,a=new Array(s>2?s-2:0),i=2;i<s;i++)a[i-2]=arguments[i]};function Cre(e,t,n){var s=-1,a=e.length;t<0&&(t=-t>a?0:a+t),n=n>a?a:n,n<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(a);++s<a;)i[s]=e[s+t];return i}var kre=Cre,Are=kre;function Pre(e,t,n){var s=e.length;return n=n===void 0?s:n,!t&&n>=s?e:Are(e,t,n)}var Ore=Pre,Ere="\\ud800-\\udfff",_re="\\u0300-\\u036f",Tre="\\ufe20-\\ufe2f",Mre="\\u20d0-\\u20ff",Ire=_re+Tre+Mre,Rre="\\ufe0e\\ufe0f",$re="\\u200d",Dre=RegExp("["+$re+Ere+Ire+Rre+"]");function zre(e){return Dre.test(e)}var XD=zre;function Fre(e){return e.split("")}var Lre=Fre,ZD="\\ud800-\\udfff",Ure="\\u0300-\\u036f",Bre="\\ufe20-\\ufe2f",Vre="\\u20d0-\\u20ff",qre=Ure+Bre+Vre,Wre="\\ufe0e\\ufe0f",Hre="["+ZD+"]",kj="["+qre+"]",Aj="\\ud83c[\\udffb-\\udfff]",Kre="(?:"+kj+"|"+Aj+")",JD="[^"+ZD+"]",ez="(?:\\ud83c[\\udde6-\\uddff]){2}",tz="[\\ud800-\\udbff][\\udc00-\\udfff]",Gre="\\u200d",rz=Kre+"?",nz="["+Wre+"]?",Yre="(?:"+Gre+"(?:"+[JD,ez,tz].join("|")+")"+nz+rz+")*",Qre=nz+rz+Yre,Xre="(?:"+[JD+kj+"?",kj,ez,tz,Hre].join("|")+")",Zre=RegExp(Aj+"(?="+Aj+")|"+Xre+Qre,"g");function Jre(e){return e.match(Zre)||[]}var ene=Jre,tne=Lre,rne=XD,nne=ene;function sne(e){return rne(e)?nne(e):tne(e)}var ane=sne,ine=Ore,one=XD,lne=ane,cne=WD;function dne(e){return function(t){t=cne(t);var n=one(t)?lne(t):void 0,s=n?n[0]:t.charAt(0),a=n?ine(n,1).join(""):t.slice(1);return s[e]()+a}}var une=dne,mne=une,hne=mne("toUpperCase"),pne=hne;const vy=$t(pne);function Gt(e){return function(){return e}}const sz=Math.cos,Bx=Math.sin,Pa=Math.sqrt,Vx=Math.PI,by=2*Vx,Pj=Math.PI,Oj=2*Pj,ul=1e-6,fne=Oj-ul;function az(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function xne(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return az;const n=10**t;return function(s){this._+=s[0];for(let a=1,i=s.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+s[a]}}class gne{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?az:xne(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,s,a){this._append`Q${+t},${+n},${this._x1=+s},${this._y1=+a}`}bezierCurveTo(t,n,s,a,i,o){this._append`C${+t},${+n},${+s},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,s,a,i){if(t=+t,n=+n,s=+s,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=s-t,d=a-n,u=o-t,m=l-n,p=u*u+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(p>ul)if(!(Math.abs(m*c-d*u)>ul)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let f=s-o,x=a-l,h=c*c+d*d,y=f*f+x*x,v=Math.sqrt(h),b=Math.sqrt(p),w=i*Math.tan((Pj-Math.acos((h+p-y)/(2*v*b)))/2),S=w/b,N=w/v;Math.abs(S-1)>ul&&this._append`L${t+S*u},${n+S*m}`,this._append`A${i},${i},0,0,${+(m*f>u*x)},${this._x1=t+N*c},${this._y1=n+N*d}`}}arc(t,n,s,a,i,o){if(t=+t,n=+n,s=+s,o=!!o,s<0)throw new Error(`negative radius: ${s}`);let l=s*Math.cos(a),c=s*Math.sin(a),d=t+l,u=n+c,m=1^o,p=o?a-i:i-a;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>ul||Math.abs(this._y1-u)>ul)&&this._append`L${d},${u}`,s&&(p<0&&(p=p%Oj+Oj),p>fne?this._append`A${s},${s},0,1,${m},${t-l},${n-c}A${s},${s},0,1,${m},${this._x1=d},${this._y1=u}`:p>ul&&this._append`A${s},${s},0,${+(p>=Pj)},${m},${this._x1=t+s*Math.cos(i)},${this._y1=n+s*Math.sin(i)}`)}rect(t,n,s,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${s=+s}v${+a}h${-s}Z`}toString(){return this._}}function pS(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const s=Math.floor(n);if(!(s>=0))throw new RangeError(`invalid digits: ${n}`);t=s}return e},()=>new gne(t)}function fS(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function iz(e){this._context=e}iz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function wy(e){return new iz(e)}function oz(e){return e[0]}function lz(e){return e[1]}function cz(e,t){var n=Gt(!0),s=null,a=wy,i=null,o=pS(l);e=typeof e=="function"?e:e===void 0?oz:Gt(e),t=typeof t=="function"?t:t===void 0?lz:Gt(t);function l(c){var d,u=(c=fS(c)).length,m,p=!1,f;for(s==null&&(i=a(f=o())),d=0;d<=u;++d)!(d<u&&n(m=c[d],d,c))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(m,d,c),+t(m,d,c));if(f)return i=null,f+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Gt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Gt(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Gt(!!c),l):n},l.curve=function(c){return arguments.length?(a=c,s!=null&&(i=a(s)),l):a},l.context=function(c){return arguments.length?(c==null?s=i=null:i=a(s=c),l):s},l}function yf(e,t,n){var s=null,a=Gt(!0),i=null,o=wy,l=null,c=pS(d);e=typeof e=="function"?e:e===void 0?oz:Gt(+e),t=typeof t=="function"?t:Gt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?lz:Gt(+n);function d(m){var p,f,x,h=(m=fS(m)).length,y,v=!1,b,w=new Array(h),S=new Array(h);for(i==null&&(l=o(b=c())),p=0;p<=h;++p){if(!(p<h&&a(y=m[p],p,m))===v)if(v=!v)f=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=p-1;x>=f;--x)l.point(w[x],S[x]);l.lineEnd(),l.areaEnd()}v&&(w[p]=+e(y,p,m),S[p]=+t(y,p,m),l.point(s?+s(y,p,m):w[p],n?+n(y,p,m):S[p]))}if(b)return l=null,b+""||null}function u(){return cz().defined(a).curve(o).context(i)}return d.x=function(m){return arguments.length?(e=typeof m=="function"?m:Gt(+m),s=null,d):e},d.x0=function(m){return arguments.length?(e=typeof m=="function"?m:Gt(+m),d):e},d.x1=function(m){return arguments.length?(s=m==null?null:typeof m=="function"?m:Gt(+m),d):s},d.y=function(m){return arguments.length?(t=typeof m=="function"?m:Gt(+m),n=null,d):t},d.y0=function(m){return arguments.length?(t=typeof m=="function"?m:Gt(+m),d):t},d.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Gt(+m),d):n},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(n)},d.lineX1=function(){return u().x(s).y(t)},d.defined=function(m){return arguments.length?(a=typeof m=="function"?m:Gt(!!m),d):a},d.curve=function(m){return arguments.length?(o=m,i!=null&&(l=o(i)),d):o},d.context=function(m){return arguments.length?(m==null?i=l=null:l=o(i=m),d):i},d}class dz{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function yne(e){return new dz(e,!0)}function vne(e){return new dz(e,!1)}const xS={draw(e,t){const n=Pa(t/Vx);e.moveTo(n,0),e.arc(0,0,n,0,by)}},bne={draw(e,t){const n=Pa(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},uz=Pa(1/3),wne=uz*2,jne={draw(e,t){const n=Pa(t/wne),s=n*uz;e.moveTo(0,-n),e.lineTo(s,0),e.lineTo(0,n),e.lineTo(-s,0),e.closePath()}},Nne={draw(e,t){const n=Pa(t),s=-n/2;e.rect(s,s,n,n)}},Sne=.8908130915292852,mz=Bx(Vx/10)/Bx(7*Vx/10),Cne=Bx(by/10)*mz,kne=-sz(by/10)*mz,Ane={draw(e,t){const n=Pa(t*Sne),s=Cne*n,a=kne*n;e.moveTo(0,-n),e.lineTo(s,a);for(let i=1;i<5;++i){const o=by*i/5,l=sz(o),c=Bx(o);e.lineTo(c*n,-l*n),e.lineTo(l*s-c*a,c*s+l*a)}e.closePath()}},nb=Pa(3),Pne={draw(e,t){const n=-Pa(t/(nb*3));e.moveTo(0,n*2),e.lineTo(-nb*n,-n),e.lineTo(nb*n,-n),e.closePath()}},As=-.5,Ps=Pa(3)/2,Ej=1/Pa(12),One=(Ej/2+1)*3,Ene={draw(e,t){const n=Pa(t/One),s=n/2,a=n*Ej,i=s,o=n*Ej+n,l=-i,c=o;e.moveTo(s,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(As*s-Ps*a,Ps*s+As*a),e.lineTo(As*i-Ps*o,Ps*i+As*o),e.lineTo(As*l-Ps*c,Ps*l+As*c),e.lineTo(As*s+Ps*a,As*a-Ps*s),e.lineTo(As*i+Ps*o,As*o-Ps*i),e.lineTo(As*l+Ps*c,As*c-Ps*l),e.closePath()}};function _ne(e,t){let n=null,s=pS(a);e=typeof e=="function"?e:Gt(e||xS),t=typeof t=="function"?t:Gt(t===void 0?64:+t);function a(){let i;if(n||(n=i=s()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Gt(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Gt(+i),a):t},a.context=function(i){return arguments.length?(n=i??null,a):n},a}function qx(){}function Wx(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function hz(e){this._context=e}hz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Wx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Wx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Tne(e){return new hz(e)}function pz(e){this._context=e}pz.prototype={areaStart:qx,areaEnd:qx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Wx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Mne(e){return new pz(e)}function fz(e){this._context=e}fz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,s=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,s):this._context.moveTo(n,s);break;case 3:this._point=4;default:Wx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Ine(e){return new fz(e)}function xz(e){this._context=e}xz.prototype={areaStart:qx,areaEnd:qx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Rne(e){return new xz(e)}function dA(e){return e<0?-1:1}function uA(e,t,n){var s=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(s||a<0&&-0),o=(n-e._y1)/(a||s<0&&-0),l=(i*a+o*s)/(s+a);return(dA(i)+dA(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function mA(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function sb(e,t,n){var s=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-s)/3;e._context.bezierCurveTo(s+l,a+l*t,i-l,o-l*n,i,o)}function Hx(e){this._context=e}Hx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:sb(this,this._t0,mA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,sb(this,mA(this,n=uA(this,e,t)),n);break;default:sb(this,this._t0,n=uA(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function gz(e){this._context=new yz(e)}(gz.prototype=Object.create(Hx.prototype)).point=function(e,t){Hx.prototype.point.call(this,t,e)};function yz(e){this._context=e}yz.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,s,a,i){this._context.bezierCurveTo(t,e,s,n,i,a)}};function $ne(e){return new Hx(e)}function Dne(e){return new gz(e)}function vz(e){this._context=e}vz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var s=hA(e),a=hA(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(s[0][i],a[0][i],s[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function hA(e){var t,n=e.length-1,s,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)s=a[t]/i[t-1],i[t]-=s,o[t]-=s*o[t-1];for(a[n-1]=o[n-1]/i[n-1],t=n-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function zne(e){return new vz(e)}function jy(e,t){this._context=e,this._t=t}jy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Fne(e){return new jy(e,.5)}function Lne(e){return new jy(e,0)}function Une(e){return new jy(e,1)}function Bd(e,t){if((o=e.length)>1)for(var n=1,s,a,i=e[t[0]],o,l=i.length;n<o;++n)for(a=i,i=e[t[n]],s=0;s<l;++s)i[s][1]+=i[s][0]=isNaN(a[s][1])?a[s][0]:a[s][1]}function _j(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Bne(e,t){return e[t]}function Vne(e){const t=[];return t.key=e,t}function qne(){var e=Gt([]),t=_j,n=Bd,s=Bne;function a(i){var o=Array.from(e.apply(this,arguments),Vne),l,c=o.length,d=-1,u;for(const m of i)for(l=0,++d;l<c;++l)(o[l][d]=[0,+s(m,o[l].key,d,i)]).data=m;for(l=0,u=fS(t(o));l<c;++l)o[u[l]].index=l;return n(o,u),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Gt(Array.from(i)),a):e},a.value=function(i){return arguments.length?(s=typeof i=="function"?i:Gt(+i),a):s},a.order=function(i){return arguments.length?(t=i==null?_j:typeof i=="function"?i:Gt(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(n=i??Bd,a):n},a}function Wne(e,t){if((s=e.length)>0){for(var n,s,a=0,i=e[0].length,o;a<i;++a){for(o=n=0;n<s;++n)o+=e[n][a][1]||0;if(o)for(n=0;n<s;++n)e[n][a][1]/=o}Bd(e,t)}}function Hne(e,t){if((a=e.length)>0){for(var n=0,s=e[t[0]],a,i=s.length;n<i;++n){for(var o=0,l=0;o<a;++o)l+=e[o][n][1]||0;s[n][1]+=s[n][0]=-l/2}Bd(e,t)}}function Kne(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var n=0,s=1,a,i,o;s<i;++s){for(var l=0,c=0,d=0;l<o;++l){for(var u=e[t[l]],m=u[s][1]||0,p=u[s-1][1]||0,f=(m-p)/2,x=0;x<l;++x){var h=e[t[x]],y=h[s][1]||0,v=h[s-1][1]||0;f+=y-v}c+=m,d+=f*m}a[s-1][1]+=a[s-1][0]=n,c&&(n-=d/c)}a[s-1][1]+=a[s-1][0]=n,Bd(e,t)}}function Nh(e){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nh(e)}var Gne=["type","size","sizeType"];function Tj(){return Tj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Tj.apply(this,arguments)}function pA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function fA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pA(Object(n),!0).forEach(function(s){Yne(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pA(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Yne(e,t,n){return t=Qne(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qne(e){var t=Xne(e,"string");return Nh(t)=="symbol"?t:t+""}function Xne(e,t){if(Nh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Nh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zne(e,t){if(e==null)return{};var n=Jne(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Jne(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var bz={symbolCircle:xS,symbolCross:bne,symbolDiamond:jne,symbolSquare:Nne,symbolStar:Ane,symbolTriangle:Pne,symbolWye:Ene},ese=Math.PI/180,tse=function(t){var n="symbol".concat(vy(t));return bz[n]||xS},rse=function(t,n,s){if(n==="area")return t;switch(s){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*ese;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},nse=function(t,n){bz["symbol".concat(vy(t))]=n},gS=function(t){var n=t.type,s=n===void 0?"circle":n,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=Zne(t,Gne),d=fA(fA({},c),{},{type:s,size:i,sizeType:l}),u=function(){var y=tse(s),v=_ne().type(y).size(rse(i,l,s));return v()},m=d.className,p=d.cx,f=d.cy,x=Ye(d,!0);return p===+p&&f===+f&&i===+i?L.createElement("path",Tj({},x,{className:ct("recharts-symbols",m),transform:"translate(".concat(p,", ").concat(f,")"),d:u()})):null};gS.registerSymbol=nse;function Vd(e){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vd(e)}function Mj(){return Mj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Mj.apply(this,arguments)}function xA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function sse(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xA(Object(n),!0).forEach(function(s){Sh(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xA(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function ase(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ise(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,jz(s.key),s)}}function ose(e,t,n){return t&&ise(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lse(e,t,n){return t=Kx(t),cse(e,wz()?Reflect.construct(t,n||[],Kx(e).constructor):t.apply(e,n))}function cse(e,t){if(t&&(Vd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dse(e)}function dse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wz=function(){return!!e})()}function Kx(e){return Kx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kx(e)}function use(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ij(e,t)}function Ij(e,t){return Ij=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Ij(e,t)}function Sh(e,t,n){return t=jz(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jz(e){var t=mse(e,"string");return Vd(t)=="symbol"?t:t+""}function mse(e,t){if(Vd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Vd(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Os=32,yS=function(e){function t(){return ase(this,t),lse(this,t,arguments)}return use(t,e),ose(t,[{key:"renderIcon",value:function(s){var a=this.props.inactiveColor,i=Os/2,o=Os/6,l=Os/3,c=s.inactive?a:s.color;if(s.type==="plainline")return L.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:s.payload.strokeDasharray,x1:0,y1:i,x2:Os,y2:i,className:"recharts-legend-icon"});if(s.type==="line")return L.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Os,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(s.type==="rect")return L.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Os/8,"h").concat(Os,"v").concat(Os*3/4,"h").concat(-Os,"z"),className:"recharts-legend-icon"});if(L.isValidElement(s.legendIcon)){var d=sse({},s);return delete d.legendIcon,L.cloneElement(s.legendIcon,d)}return L.createElement(gS,{fill:c,cx:i,cy:i,size:Os,sizeType:"diameter",type:s.type})}},{key:"renderItems",value:function(){var s=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,d=a.inactiveColor,u={x:0,y:0,width:Os,height:Os},m={display:l==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(f,x){var h=f.formatter||c,y=ct(Sh(Sh({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",f.inactive));if(f.type==="none")return null;var v=Je(f.value)?null:f.value;va(!Je(f.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=f.inactive?d:f.color;return L.createElement("li",Mj({className:y,style:m,key:"legend-item-".concat(x)},nc(s.props,f,x)),L.createElement(Sj,{width:o,height:o,viewBox:u,style:p},s.renderIcon(f)),L.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},h?h(v,f,x):v))})}},{key:"render",value:function(){var s=this.props,a=s.payload,i=s.layout,o=s.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return L.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(g.PureComponent);Sh(yS,"displayName","Legend");Sh(yS,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var hse=iy;function pse(){this.__data__=new hse,this.size=0}var fse=pse;function xse(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var gse=xse;function yse(e){return this.__data__.get(e)}var vse=yse;function bse(e){return this.__data__.has(e)}var wse=bse,jse=iy,Nse=aS,Sse=iS,Cse=200;function kse(e,t){var n=this.__data__;if(n instanceof jse){var s=n.__data__;if(!Nse||s.length<Cse-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new Sse(s)}return n.set(e,t),this.size=n.size,this}var Ase=kse,Pse=iy,Ose=fse,Ese=gse,_se=vse,Tse=wse,Mse=Ase;function $u(e){var t=this.__data__=new Pse(e);this.size=t.size}$u.prototype.clear=Ose;$u.prototype.delete=Ese;$u.prototype.get=_se;$u.prototype.has=Tse;$u.prototype.set=Mse;var Nz=$u,Ise="__lodash_hash_undefined__";function Rse(e){return this.__data__.set(e,Ise),this}var $se=Rse;function Dse(e){return this.__data__.has(e)}var zse=Dse,Fse=iS,Lse=$se,Use=zse;function Gx(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Fse;++t<n;)this.add(e[t])}Gx.prototype.add=Gx.prototype.push=Lse;Gx.prototype.has=Use;var Sz=Gx;function Bse(e,t){for(var n=-1,s=e==null?0:e.length;++n<s;)if(t(e[n],n,e))return!0;return!1}var Cz=Bse;function Vse(e,t){return e.has(t)}var kz=Vse,qse=Sz,Wse=Cz,Hse=kz,Kse=1,Gse=2;function Yse(e,t,n,s,a,i){var o=n&Kse,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var d=i.get(e),u=i.get(t);if(d&&u)return d==t&&u==e;var m=-1,p=!0,f=n&Gse?new qse:void 0;for(i.set(e,t),i.set(t,e);++m<l;){var x=e[m],h=t[m];if(s)var y=o?s(h,x,m,t,e,i):s(x,h,m,e,t,i);if(y!==void 0){if(y)continue;p=!1;break}if(f){if(!Wse(t,function(v,b){if(!Hse(f,b)&&(x===v||a(x,v,n,s,i)))return f.push(b)})){p=!1;break}}else if(!(x===h||a(x,h,n,s,i))){p=!1;break}}return i.delete(e),i.delete(t),p}var Az=Yse,Qse=ni,Xse=Qse.Uint8Array,Zse=Xse;function Jse(e){var t=-1,n=Array(e.size);return e.forEach(function(s,a){n[++t]=[a,s]}),n}var eae=Jse;function tae(e){var t=-1,n=Array(e.size);return e.forEach(function(s){n[++t]=s}),n}var vS=tae,gA=Ip,yA=Zse,rae=sS,nae=Az,sae=eae,aae=vS,iae=1,oae=2,lae="[object Boolean]",cae="[object Date]",dae="[object Error]",uae="[object Map]",mae="[object Number]",hae="[object RegExp]",pae="[object Set]",fae="[object String]",xae="[object Symbol]",gae="[object ArrayBuffer]",yae="[object DataView]",vA=gA?gA.prototype:void 0,ab=vA?vA.valueOf:void 0;function vae(e,t,n,s,a,i,o){switch(n){case yae:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case gae:return!(e.byteLength!=t.byteLength||!i(new yA(e),new yA(t)));case lae:case cae:case mae:return rae(+e,+t);case dae:return e.name==t.name&&e.message==t.message;case hae:case fae:return e==t+"";case uae:var l=sae;case pae:var c=s&iae;if(l||(l=aae),e.size!=t.size&&!c)return!1;var d=o.get(e);if(d)return d==t;s|=oae,o.set(e,t);var u=nae(l(e),l(t),s,a,i,o);return o.delete(e),u;case xae:if(ab)return ab.call(e)==ab.call(t)}return!1}var bae=vae;function wae(e,t){for(var n=-1,s=t.length,a=e.length;++n<s;)e[a+n]=t[n];return e}var Pz=wae,jae=Pz,Nae=rs;function Sae(e,t,n){var s=t(e);return Nae(e)?s:jae(s,n(e))}var Cae=Sae;function kae(e,t){for(var n=-1,s=e==null?0:e.length,a=0,i=[];++n<s;){var o=e[n];t(o,n,e)&&(i[a++]=o)}return i}var Aae=kae;function Pae(){return[]}var Oae=Pae,Eae=Aae,_ae=Oae,Tae=Object.prototype,Mae=Tae.propertyIsEnumerable,bA=Object.getOwnPropertySymbols,Iae=bA?function(e){return e==null?[]:(e=Object(e),Eae(bA(e),function(t){return Mae.call(e,t)}))}:_ae,Rae=Iae;function $ae(e,t){for(var n=-1,s=Array(e);++n<e;)s[n]=t(n);return s}var Dae=$ae,zae=Wi,Fae=Hi,Lae="[object Arguments]";function Uae(e){return Fae(e)&&zae(e)==Lae}var Bae=Uae,wA=Bae,Vae=Hi,Oz=Object.prototype,qae=Oz.hasOwnProperty,Wae=Oz.propertyIsEnumerable,Hae=wA(function(){return arguments}())?wA:function(e){return Vae(e)&&qae.call(e,"callee")&&!Wae.call(e,"callee")},bS=Hae,Yx={exports:{}};function Kae(){return!1}var Gae=Kae;Yx.exports;(function(e,t){var n=ni,s=Gae,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||s;e.exports=d})(Yx,Yx.exports);var Ez=Yx.exports,Yae=9007199254740991,Qae=/^(?:0|[1-9]\d*)$/;function Xae(e,t){var n=typeof e;return t=t??Yae,!!t&&(n=="number"||n!="symbol"&&Qae.test(e))&&e>-1&&e%1==0&&e<t}var wS=Xae,Zae=9007199254740991;function Jae(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Zae}var jS=Jae,eie=Wi,tie=jS,rie=Hi,nie="[object Arguments]",sie="[object Array]",aie="[object Boolean]",iie="[object Date]",oie="[object Error]",lie="[object Function]",cie="[object Map]",die="[object Number]",uie="[object Object]",mie="[object RegExp]",hie="[object Set]",pie="[object String]",fie="[object WeakMap]",xie="[object ArrayBuffer]",gie="[object DataView]",yie="[object Float32Array]",vie="[object Float64Array]",bie="[object Int8Array]",wie="[object Int16Array]",jie="[object Int32Array]",Nie="[object Uint8Array]",Sie="[object Uint8ClampedArray]",Cie="[object Uint16Array]",kie="[object Uint32Array]",er={};er[yie]=er[vie]=er[bie]=er[wie]=er[jie]=er[Nie]=er[Sie]=er[Cie]=er[kie]=!0;er[nie]=er[sie]=er[xie]=er[aie]=er[gie]=er[iie]=er[oie]=er[lie]=er[cie]=er[die]=er[uie]=er[mie]=er[hie]=er[pie]=er[fie]=!1;function Aie(e){return rie(e)&&tie(e.length)&&!!er[eie(e)]}var Pie=Aie;function Oie(e){return function(t){return e(t)}}var _z=Oie,Qx={exports:{}};Qx.exports;(function(e,t){var n=FD,s=t&&!t.nodeType&&t,a=s&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===s,o=i&&n.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(Qx,Qx.exports);var Eie=Qx.exports,_ie=Pie,Tie=_z,jA=Eie,NA=jA&&jA.isTypedArray,Mie=NA?Tie(NA):_ie,Tz=Mie,Iie=Dae,Rie=bS,$ie=rs,Die=Ez,zie=wS,Fie=Tz,Lie=Object.prototype,Uie=Lie.hasOwnProperty;function Bie(e,t){var n=$ie(e),s=!n&&Rie(e),a=!n&&!s&&Die(e),i=!n&&!s&&!a&&Fie(e),o=n||s||a||i,l=o?Iie(e.length,String):[],c=l.length;for(var d in e)(t||Uie.call(e,d))&&!(o&&(d=="length"||a&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||zie(d,c)))&&l.push(d);return l}var Vie=Bie,qie=Object.prototype;function Wie(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||qie;return e===n}var Hie=Wie;function Kie(e,t){return function(n){return e(t(n))}}var Mz=Kie,Gie=Mz,Yie=Gie(Object.keys,Object),Qie=Yie,Xie=Hie,Zie=Qie,Jie=Object.prototype,eoe=Jie.hasOwnProperty;function toe(e){if(!Xie(e))return Zie(e);var t=[];for(var n in Object(e))eoe.call(e,n)&&n!="constructor"&&t.push(n);return t}var roe=toe,noe=nS,soe=jS;function aoe(e){return e!=null&&soe(e.length)&&!noe(e)}var $p=aoe,ioe=Vie,ooe=roe,loe=$p;function coe(e){return loe(e)?ioe(e):ooe(e)}var Ny=coe,doe=Cae,uoe=Rae,moe=Ny;function hoe(e){return doe(e,moe,uoe)}var poe=hoe,SA=poe,foe=1,xoe=Object.prototype,goe=xoe.hasOwnProperty;function yoe(e,t,n,s,a,i){var o=n&foe,l=SA(e),c=l.length,d=SA(t),u=d.length;if(c!=u&&!o)return!1;for(var m=c;m--;){var p=l[m];if(!(o?p in t:goe.call(t,p)))return!1}var f=i.get(e),x=i.get(t);if(f&&x)return f==t&&x==e;var h=!0;i.set(e,t),i.set(t,e);for(var y=o;++m<c;){p=l[m];var v=e[p],b=t[p];if(s)var w=o?s(b,v,p,t,e,i):s(v,b,p,e,t,i);if(!(w===void 0?v===b||a(v,b,n,s,i):w)){h=!1;break}y||(y=p=="constructor")}if(h&&!y){var S=e.constructor,N=t.constructor;S!=N&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof N=="function"&&N instanceof N)&&(h=!1)}return i.delete(e),i.delete(t),h}var voe=yoe,boe=yc,woe=ni,joe=boe(woe,"DataView"),Noe=joe,Soe=yc,Coe=ni,koe=Soe(Coe,"Promise"),Aoe=koe,Poe=yc,Ooe=ni,Eoe=Poe(Ooe,"Set"),Iz=Eoe,_oe=yc,Toe=ni,Moe=_oe(Toe,"WeakMap"),Ioe=Moe,Rj=Noe,$j=aS,Dj=Aoe,zj=Iz,Fj=Ioe,Rz=Wi,Du=UD,CA="[object Map]",Roe="[object Object]",kA="[object Promise]",AA="[object Set]",PA="[object WeakMap]",OA="[object DataView]",$oe=Du(Rj),Doe=Du($j),zoe=Du(Dj),Foe=Du(zj),Loe=Du(Fj),ml=Rz;(Rj&&ml(new Rj(new ArrayBuffer(1)))!=OA||$j&&ml(new $j)!=CA||Dj&&ml(Dj.resolve())!=kA||zj&&ml(new zj)!=AA||Fj&&ml(new Fj)!=PA)&&(ml=function(e){var t=Rz(e),n=t==Roe?e.constructor:void 0,s=n?Du(n):"";if(s)switch(s){case $oe:return OA;case Doe:return CA;case zoe:return kA;case Foe:return AA;case Loe:return PA}return t});var Uoe=ml,ib=Nz,Boe=Az,Voe=bae,qoe=voe,EA=Uoe,_A=rs,TA=Ez,Woe=Tz,Hoe=1,MA="[object Arguments]",IA="[object Array]",vf="[object Object]",Koe=Object.prototype,RA=Koe.hasOwnProperty;function Goe(e,t,n,s,a,i){var o=_A(e),l=_A(t),c=o?IA:EA(e),d=l?IA:EA(t);c=c==MA?vf:c,d=d==MA?vf:d;var u=c==vf,m=d==vf,p=c==d;if(p&&TA(e)){if(!TA(t))return!1;o=!0,u=!1}if(p&&!u)return i||(i=new ib),o||Woe(e)?Boe(e,t,n,s,a,i):Voe(e,t,c,n,s,a,i);if(!(n&Hoe)){var f=u&&RA.call(e,"__wrapped__"),x=m&&RA.call(t,"__wrapped__");if(f||x){var h=f?e.value():e,y=x?t.value():t;return i||(i=new ib),a(h,y,n,s,i)}}return p?(i||(i=new ib),qoe(e,t,n,s,a,i)):!1}var Yoe=Goe,Qoe=Yoe,$A=Hi;function $z(e,t,n,s,a){return e===t?!0:e==null||t==null||!$A(e)&&!$A(t)?e!==e&&t!==t:Qoe(e,t,n,s,$z,a)}var NS=$z,Xoe=Nz,Zoe=NS,Joe=1,ele=2;function tle(e,t,n,s){var a=n.length,i=a,o=!s;if(e==null)return!i;for(e=Object(e);a--;){var l=n[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=n[a];var c=l[0],d=e[c],u=l[1];if(o&&l[2]){if(d===void 0&&!(c in e))return!1}else{var m=new Xoe;if(s)var p=s(d,u,c,e,t,m);if(!(p===void 0?Zoe(u,d,Joe|ele,s,m):p))return!1}}return!0}var rle=tle,nle=el;function sle(e){return e===e&&!nle(e)}var Dz=sle,ale=Dz,ile=Ny;function ole(e){for(var t=ile(e),n=t.length;n--;){var s=t[n],a=e[s];t[n]=[s,a,ale(a)]}return t}var lle=ole;function cle(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var zz=cle,dle=rle,ule=lle,mle=zz;function hle(e){var t=ule(e);return t.length==1&&t[0][2]?mle(t[0][0],t[0][1]):function(n){return n===e||dle(n,e,t)}}var ple=hle;function fle(e,t){return e!=null&&t in Object(e)}var xle=fle,gle=HD,yle=bS,vle=rs,ble=wS,wle=jS,jle=ly;function Nle(e,t,n){t=gle(t,e);for(var s=-1,a=t.length,i=!1;++s<a;){var o=jle(t[s]);if(!(i=e!=null&&n(e,o)))break;e=e[o]}return i||++s!=a?i:(a=e==null?0:e.length,!!a&&wle(a)&&ble(o,a)&&(vle(e)||yle(e)))}var Sle=Nle,Cle=xle,kle=Sle;function Ale(e,t){return e!=null&&kle(e,t,Cle)}var Ple=Ale,Ole=NS,Ele=KD,_le=Ple,Tle=rS,Mle=Dz,Ile=zz,Rle=ly,$le=1,Dle=2;function zle(e,t){return Tle(e)&&Mle(t)?Ile(Rle(e),t):function(n){var s=Ele(n,e);return s===void 0&&s===t?_le(n,e):Ole(t,s,$le|Dle)}}var Fle=zle;function Lle(e){return e}var zu=Lle;function Ule(e){return function(t){return t==null?void 0:t[e]}}var Ble=Ule,Vle=cS;function qle(e){return function(t){return Vle(t,e)}}var Wle=qle,Hle=Ble,Kle=Wle,Gle=rS,Yle=ly;function Qle(e){return Gle(e)?Hle(Yle(e)):Kle(e)}var Xle=Qle,Zle=ple,Jle=Fle,ece=zu,tce=rs,rce=Xle;function nce(e){return typeof e=="function"?e:e==null?ece:typeof e=="object"?tce(e)?Jle(e[0],e[1]):Zle(e):rce(e)}var si=nce;function sce(e,t,n,s){for(var a=e.length,i=n+(s?1:-1);s?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var Fz=sce;function ace(e){return e!==e}var ice=ace;function oce(e,t,n){for(var s=n-1,a=e.length;++s<a;)if(e[s]===t)return s;return-1}var lce=oce,cce=Fz,dce=ice,uce=lce;function mce(e,t,n){return t===t?uce(e,t,n):cce(e,dce,n)}var hce=mce,pce=hce;function fce(e,t){var n=e==null?0:e.length;return!!n&&pce(e,t,0)>-1}var xce=fce;function gce(e,t,n){for(var s=-1,a=e==null?0:e.length;++s<a;)if(n(t,e[s]))return!0;return!1}var yce=gce;function vce(){}var bce=vce,ob=Iz,wce=bce,jce=vS,Nce=1/0,Sce=ob&&1/jce(new ob([,-0]))[1]==Nce?function(e){return new ob(e)}:wce,Cce=Sce,kce=Sz,Ace=xce,Pce=yce,Oce=kz,Ece=Cce,_ce=vS,Tce=200;function Mce(e,t,n){var s=-1,a=Ace,i=e.length,o=!0,l=[],c=l;if(n)o=!1,a=Pce;else if(i>=Tce){var d=t?null:Ece(e);if(d)return _ce(d);o=!1,a=Oce,c=new kce}else c=t?[]:l;e:for(;++s<i;){var u=e[s],m=t?t(u):u;if(u=n||u!==0?u:0,o&&m===m){for(var p=c.length;p--;)if(c[p]===m)continue e;t&&c.push(m),l.push(u)}else a(c,m,n)||(c!==l&&c.push(m),l.push(u))}return l}var Ice=Mce,Rce=si,$ce=Ice;function Dce(e,t){return e&&e.length?$ce(e,Rce(t)):[]}var zce=Dce;const DA=$t(zce);function Lz(e,t,n){return t===!0?DA(e,n):Je(t)?DA(e,t):e}function qd(e){"@babel/helpers - typeof";return qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qd(e)}var Fce=["ref"];function zA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function li(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zA(Object(n),!0).forEach(function(s){Sy(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zA(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Lce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FA(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,Bz(s.key),s)}}function Uce(e,t,n){return t&&FA(e.prototype,t),n&&FA(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bce(e,t,n){return t=Xx(t),Vce(e,Uz()?Reflect.construct(t,n||[],Xx(e).constructor):t.apply(e,n))}function Vce(e,t){if(t&&(qd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qce(e)}function qce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Uz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Uz=function(){return!!e})()}function Xx(e){return Xx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xx(e)}function Wce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lj(e,t)}function Lj(e,t){return Lj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Lj(e,t)}function Sy(e,t,n){return t=Bz(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bz(e){var t=Hce(e,"string");return qd(t)=="symbol"?t:t+""}function Hce(e,t){if(qd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(qd(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Kce(e,t){if(e==null)return{};var n=Gce(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Gce(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function Yce(e){return e.value}function Qce(e,t){if(L.isValidElement(e))return L.cloneElement(e,t);if(typeof e=="function")return L.createElement(e,t);t.ref;var n=Kce(t,Fce);return L.createElement(yS,n)}var LA=1,Ei=function(e){function t(){var n;Lce(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return n=Bce(this,t,[].concat(a)),Sy(n,"lastBoundingBox",{width:-1,height:-1}),n}return Wce(t,e),Uce(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();return s.height=this.wrapperNode.offsetHeight,s.width=this.wrapperNode.offsetWidth,s}return null}},{key:"updateBBox",value:function(){var s=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>LA||Math.abs(a.height-this.lastBoundingBox.height)>LA)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,s&&s(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,s&&s(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?li({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(s){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,d=a.chartWidth,u=a.chartHeight,m,p;if(!s||(s.left===void 0||s.left===null)&&(s.right===void 0||s.right===null))if(o==="center"&&i==="vertical"){var f=this.getBBoxSnapshot();m={left:((d||0)-f.width)/2}}else m=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!s||(s.top===void 0||s.top===null)&&(s.bottom===void 0||s.bottom===null))if(l==="middle"){var x=this.getBBoxSnapshot();p={top:((u||0)-x.height)/2}}else p=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return li(li({},m),p)}},{key:"render",value:function(){var s=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,d=a.payloadUniqBy,u=a.payload,m=li(li({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return L.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(f){s.wrapperNode=f}},Qce(i,li(li({},this.props),{},{payload:Lz(u,d,Yce)})))}}],[{key:"getWithHeight",value:function(s,a){var i=li(li({},this.defaultProps),s.props),o=i.layout;return o==="vertical"&&Se(s.props.height)?{height:s.props.height}:o==="horizontal"?{width:s.props.width||a}:null}}])}(g.PureComponent);Sy(Ei,"displayName","Legend");Sy(Ei,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var UA=Ip,Xce=bS,Zce=rs,BA=UA?UA.isConcatSpreadable:void 0;function Jce(e){return Zce(e)||Xce(e)||!!(BA&&e&&e[BA])}var ede=Jce,tde=Pz,rde=ede;function Vz(e,t,n,s,a){var i=-1,o=e.length;for(n||(n=rde),a||(a=[]);++i<o;){var l=e[i];t>0&&n(l)?t>1?Vz(l,t-1,n,s,a):tde(a,l):s||(a[a.length]=l)}return a}var qz=Vz;function nde(e){return function(t,n,s){for(var a=-1,i=Object(t),o=s(t),l=o.length;l--;){var c=o[e?l:++a];if(n(i[c],c,i)===!1)break}return t}}var sde=nde,ade=sde,ide=ade(),ode=ide,lde=ode,cde=Ny;function dde(e,t){return e&&lde(e,t,cde)}var Wz=dde,ude=$p;function mde(e,t){return function(n,s){if(n==null)return n;if(!ude(n))return e(n,s);for(var a=n.length,i=t?a:-1,o=Object(n);(t?i--:++i<a)&&s(o[i],i,o)!==!1;);return n}}var hde=mde,pde=Wz,fde=hde,xde=fde(pde),SS=xde,gde=SS,yde=$p;function vde(e,t){var n=-1,s=yde(e)?Array(e.length):[];return gde(e,function(a,i,o){s[++n]=t(a,i,o)}),s}var Hz=vde;function bde(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var wde=bde,VA=Eu;function jde(e,t){if(e!==t){var n=e!==void 0,s=e===null,a=e===e,i=VA(e),o=t!==void 0,l=t===null,c=t===t,d=VA(t);if(!l&&!d&&!i&&e>t||i&&o&&c&&!l&&!d||s&&o&&c||!n&&c||!a)return 1;if(!s&&!i&&!d&&e<t||d&&n&&a&&!s&&!i||l&&n&&a||!o&&a||!c)return-1}return 0}var Nde=jde,Sde=Nde;function Cde(e,t,n){for(var s=-1,a=e.criteria,i=t.criteria,o=a.length,l=n.length;++s<o;){var c=Sde(a[s],i[s]);if(c){if(s>=l)return c;var d=n[s];return c*(d=="desc"?-1:1)}}return e.index-t.index}var kde=Cde,lb=lS,Ade=cS,Pde=si,Ode=Hz,Ede=wde,_de=_z,Tde=kde,Mde=zu,Ide=rs;function Rde(e,t,n){t.length?t=lb(t,function(i){return Ide(i)?function(o){return Ade(o,i.length===1?i[0]:i)}:i}):t=[Mde];var s=-1;t=lb(t,_de(Pde));var a=Ode(e,function(i,o,l){var c=lb(t,function(d){return d(i)});return{criteria:c,index:++s,value:i}});return Ede(a,function(i,o){return Tde(i,o,n)})}var $de=Rde;function Dde(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var zde=Dde,Fde=zde,qA=Math.max;function Lde(e,t,n){return t=qA(t===void 0?e.length-1:t,0),function(){for(var s=arguments,a=-1,i=qA(s.length-t,0),o=Array(i);++a<i;)o[a]=s[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=s[a];return l[t]=n(o),Fde(e,this,l)}}var Ude=Lde;function Bde(e){return function(){return e}}var Vde=Bde,qde=yc,Wde=function(){try{var e=qde(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Kz=Wde,Hde=Vde,WA=Kz,Kde=zu,Gde=WA?function(e,t){return WA(e,"toString",{configurable:!0,enumerable:!1,value:Hde(t),writable:!0})}:Kde,Yde=Gde,Qde=800,Xde=16,Zde=Date.now;function Jde(e){var t=0,n=0;return function(){var s=Zde(),a=Xde-(s-n);if(n=s,a>0){if(++t>=Qde)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var eue=Jde,tue=Yde,rue=eue,nue=rue(tue),sue=nue,aue=zu,iue=Ude,oue=sue;function lue(e,t){return oue(iue(e,t,aue),e+"")}var cue=lue,due=sS,uue=$p,mue=wS,hue=el;function pue(e,t,n){if(!hue(n))return!1;var s=typeof t;return(s=="number"?uue(n)&&mue(t,n.length):s=="string"&&t in n)?due(n[t],e):!1}var Cy=pue,fue=qz,xue=$de,gue=cue,HA=Cy,yue=gue(function(e,t){if(e==null)return[];var n=t.length;return n>1&&HA(e,t[0],t[1])?t=[]:n>2&&HA(t[0],t[1],t[2])&&(t=[t[0]]),xue(e,fue(t,1),[])}),vue=yue;const CS=$t(vue);function Ch(e){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ch(e)}function Uj(){return Uj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Uj.apply(this,arguments)}function bue(e,t){return Sue(e)||Nue(e,t)||jue(e,t)||wue()}function wue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jue(e,t){if(e){if(typeof e=="string")return KA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KA(e,t)}}function KA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function Nue(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Sue(e){if(Array.isArray(e))return e}function GA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function cb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GA(Object(n),!0).forEach(function(s){Cue(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GA(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Cue(e,t,n){return t=kue(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kue(e){var t=Aue(e,"string");return Ch(t)=="symbol"?t:t+""}function Aue(e,t){if(Ch(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Ch(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pue(e){return Array.isArray(e)&&Yr(e[0])&&Yr(e[1])?e.join(" ~ "):e}var Oue=function(t){var n=t.separator,s=n===void 0?" : ":n,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,d=c===void 0?{}:c,u=t.payload,m=t.formatter,p=t.itemSorter,f=t.wrapperClassName,x=t.labelClassName,h=t.label,y=t.labelFormatter,v=t.accessibilityLayer,b=v===void 0?!1:v,w=function(){if(u&&u.length){var P={padding:0,margin:0},_=(p?CS(u,p):u).map(function(E,T){if(E.type==="none")return null;var $=cb({display:"block",paddingTop:4,paddingBottom:4,color:E.color||"#000"},l),q=E.formatter||m||Pue,R=E.value,D=E.name,V=R,F=D;if(q&&V!=null&&F!=null){var z=q(R,D,E,T,u);if(Array.isArray(z)){var Q=bue(z,2);V=Q[0],F=Q[1]}else V=z}return L.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(T),style:$},Yr(F)?L.createElement("span",{className:"recharts-tooltip-item-name"},F):null,Yr(F)?L.createElement("span",{className:"recharts-tooltip-item-separator"},s):null,L.createElement("span",{className:"recharts-tooltip-item-value"},V),L.createElement("span",{className:"recharts-tooltip-item-unit"},E.unit||""))});return L.createElement("ul",{className:"recharts-tooltip-item-list",style:P},_)}return null},S=cb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),N=cb({margin:0},d),j=!it(h),C=j?h:"",A=ct("recharts-default-tooltip",f),k=ct("recharts-tooltip-label",x);j&&y&&u!==void 0&&u!==null&&(C=y(h,u));var O=b?{role:"status","aria-live":"assertive"}:{};return L.createElement("div",Uj({className:A,style:S},O),L.createElement("p",{className:k,style:N},L.isValidElement(C)?C:"".concat(C)),w())};function kh(e){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kh(e)}function bf(e,t,n){return t=Eue(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eue(e){var t=_ue(e,"string");return kh(t)=="symbol"?t:t+""}function _ue(e,t){if(kh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(kh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sm="recharts-tooltip-wrapper",Tue={visibility:"hidden"};function Mue(e){var t=e.coordinate,n=e.translateX,s=e.translateY;return ct(sm,bf(bf(bf(bf({},"".concat(sm,"-right"),Se(n)&&t&&Se(t.x)&&n>=t.x),"".concat(sm,"-left"),Se(n)&&t&&Se(t.x)&&n<t.x),"".concat(sm,"-bottom"),Se(s)&&t&&Se(t.y)&&s>=t.y),"".concat(sm,"-top"),Se(s)&&t&&Se(t.y)&&s<t.y))}function YA(e){var t=e.allowEscapeViewBox,n=e.coordinate,s=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,d=e.viewBoxDimension;if(i&&Se(i[s]))return i[s];var u=n[s]-l-a,m=n[s]+a;if(t[s])return o[s]?u:m;if(o[s]){var p=u,f=c[s];return p<f?Math.max(m,c[s]):Math.max(u,c[s])}var x=m+l,h=c[s]+d;return x>h?Math.max(u,c[s]):Math.max(m,c[s])}function Iue(e){var t=e.translateX,n=e.translateY,s=e.useTranslate3d;return{transform:s?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function Rue(e){var t=e.allowEscapeViewBox,n=e.coordinate,s=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,d,u,m;return o.height>0&&o.width>0&&n?(u=YA({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),m=YA({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=Iue({translateX:u,translateY:m,useTranslate3d:l})):d=Tue,{cssProperties:d,cssClasses:Mue({translateX:u,translateY:m,coordinate:n})}}function Wd(e){"@babel/helpers - typeof";return Wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wd(e)}function QA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function XA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QA(Object(n),!0).forEach(function(s){Vj(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QA(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function $ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Due(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,Yz(s.key),s)}}function zue(e,t,n){return t&&Due(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fue(e,t,n){return t=Zx(t),Lue(e,Gz()?Reflect.construct(t,n||[],Zx(e).constructor):t.apply(e,n))}function Lue(e,t){if(t&&(Wd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uue(e)}function Uue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gz=function(){return!!e})()}function Zx(e){return Zx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zx(e)}function Bue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bj(e,t)}function Bj(e,t){return Bj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Bj(e,t)}function Vj(e,t,n){return t=Yz(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yz(e){var t=Vue(e,"string");return Wd(t)=="symbol"?t:t+""}function Vue(e,t){if(Wd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Wd(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ZA=1,que=function(e){function t(){var n;$ue(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return n=Fue(this,t,[].concat(a)),Vj(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Vj(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,u;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(u=n.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&d!==void 0?d:0}})}}),n}return Bue(t,e),zue(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();(Math.abs(s.width-this.state.lastBoundingBox.width)>ZA||Math.abs(s.height-this.state.lastBoundingBox.height)>ZA)&&this.setState({lastBoundingBox:{width:s.width,height:s.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var s,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((s=this.props.coordinate)===null||s===void 0?void 0:s.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var s=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.children,u=a.coordinate,m=a.hasPayload,p=a.isAnimationActive,f=a.offset,x=a.position,h=a.reverseDirection,y=a.useTranslate3d,v=a.viewBox,b=a.wrapperStyle,w=Rue({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:f,position:x,reverseDirection:h,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:v}),S=w.cssClasses,N=w.cssProperties,j=XA(XA({transition:p&&i?"transform ".concat(l,"ms ").concat(c):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&m?"visible":"hidden",position:"absolute",top:0,left:0},b);return L.createElement("div",{tabIndex:-1,className:S,style:j,ref:function(A){s.wrapperNode=A}},d)}}])}(g.PureComponent),Wue=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},vc={isSsr:Wue()};function Hd(e){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hd(e)}function JA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function eP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JA(Object(n),!0).forEach(function(s){kS(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JA(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Hue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kue(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,Xz(s.key),s)}}function Gue(e,t,n){return t&&Kue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yue(e,t,n){return t=Jx(t),Que(e,Qz()?Reflect.construct(t,n||[],Jx(e).constructor):t.apply(e,n))}function Que(e,t){if(t&&(Hd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xue(e)}function Xue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qz=function(){return!!e})()}function Jx(e){return Jx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jx(e)}function Zue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qj(e,t)}function qj(e,t){return qj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},qj(e,t)}function kS(e,t,n){return t=Xz(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xz(e){var t=Jue(e,"string");return Hd(t)=="symbol"?t:t+""}function Jue(e,t){if(Hd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Hd(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function eme(e){return e.dataKey}function tme(e,t){return L.isValidElement(e)?L.cloneElement(e,t):typeof e=="function"?L.createElement(e,t):L.createElement(Oue,t)}var dn=function(e){function t(){return Hue(this,t),Yue(this,t,arguments)}return Zue(t,e),Gue(t,[{key:"render",value:function(){var s=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.content,u=a.coordinate,m=a.filterNull,p=a.isAnimationActive,f=a.offset,x=a.payload,h=a.payloadUniqBy,y=a.position,v=a.reverseDirection,b=a.useTranslate3d,w=a.viewBox,S=a.wrapperStyle,N=x??[];m&&N.length&&(N=Lz(x.filter(function(C){return C.value!=null&&(C.hide!==!0||s.props.includeHidden)}),h,eme));var j=N.length>0;return L.createElement(que,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:p,active:i,coordinate:u,hasPayload:j,offset:f,position:y,reverseDirection:v,useTranslate3d:b,viewBox:w,wrapperStyle:S},tme(d,eP(eP({},this.props),{},{payload:N})))}}])}(g.PureComponent);kS(dn,"displayName","Tooltip");kS(dn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!vc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var rme=ni,nme=function(){return rme.Date.now()},sme=nme,ame=/\s/;function ime(e){for(var t=e.length;t--&&ame.test(e.charAt(t)););return t}var ome=ime,lme=ome,cme=/^\s+/;function dme(e){return e&&e.slice(0,lme(e)+1).replace(cme,"")}var ume=dme,mme=ume,tP=el,hme=Eu,rP=NaN,pme=/^[-+]0x[0-9a-f]+$/i,fme=/^0b[01]+$/i,xme=/^0o[0-7]+$/i,gme=parseInt;function yme(e){if(typeof e=="number")return e;if(hme(e))return rP;if(tP(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=tP(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=mme(e);var n=fme.test(e);return n||xme.test(e)?gme(e.slice(2),n?2:8):pme.test(e)?rP:+e}var Zz=yme,vme=el,db=sme,nP=Zz,bme="Expected a function",wme=Math.max,jme=Math.min;function Nme(e,t,n){var s,a,i,o,l,c,d=0,u=!1,m=!1,p=!0;if(typeof e!="function")throw new TypeError(bme);t=nP(t)||0,vme(n)&&(u=!!n.leading,m="maxWait"in n,i=m?wme(nP(n.maxWait)||0,t):i,p="trailing"in n?!!n.trailing:p);function f(j){var C=s,A=a;return s=a=void 0,d=j,o=e.apply(A,C),o}function x(j){return d=j,l=setTimeout(v,t),u?f(j):o}function h(j){var C=j-c,A=j-d,k=t-C;return m?jme(k,i-A):k}function y(j){var C=j-c,A=j-d;return c===void 0||C>=t||C<0||m&&A>=i}function v(){var j=db();if(y(j))return b(j);l=setTimeout(v,h(j))}function b(j){return l=void 0,p&&s?f(j):(s=a=void 0,o)}function w(){l!==void 0&&clearTimeout(l),d=0,s=c=a=l=void 0}function S(){return l===void 0?o:b(db())}function N(){var j=db(),C=y(j);if(s=arguments,a=this,c=j,C){if(l===void 0)return x(c);if(m)return clearTimeout(l),l=setTimeout(v,t),f(c)}return l===void 0&&(l=setTimeout(v,t)),o}return N.cancel=w,N.flush=S,N}var Sme=Nme,Cme=Sme,kme=el,Ame="Expected a function";function Pme(e,t,n){var s=!0,a=!0;if(typeof e!="function")throw new TypeError(Ame);return kme(n)&&(s="leading"in n?!!n.leading:s,a="trailing"in n?!!n.trailing:a),Cme(e,t,{leading:s,maxWait:t,trailing:a})}var Ome=Pme;const Jz=$t(Ome);function Ah(e){"@babel/helpers - typeof";return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ah(e)}function sP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function wf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sP(Object(n),!0).forEach(function(s){Eme(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sP(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Eme(e,t,n){return t=_me(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _me(e){var t=Tme(e,"string");return Ah(t)=="symbol"?t:t+""}function Tme(e,t){if(Ah(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Ah(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mme(e,t){return Dme(e)||$me(e,t)||Rme(e,t)||Ime()}function Ime(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rme(e,t){if(e){if(typeof e=="string")return aP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aP(e,t)}}function aP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function $me(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Dme(e){if(Array.isArray(e))return e}var $o=g.forwardRef(function(e,t){var n=e.aspect,s=e.initialDimension,a=s===void 0?{width:-1,height:-1}:s,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,d=e.minWidth,u=d===void 0?0:d,m=e.minHeight,p=e.maxHeight,f=e.children,x=e.debounce,h=x===void 0?0:x,y=e.id,v=e.className,b=e.onResize,w=e.style,S=w===void 0?{}:w,N=g.useRef(null),j=g.useRef();j.current=b,g.useImperativeHandle(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var C=g.useState({containerWidth:a.width,containerHeight:a.height}),A=Mme(C,2),k=A[0],O=A[1],M=g.useCallback(function(_,E){O(function(T){var $=Math.round(_),q=Math.round(E);return T.containerWidth===$&&T.containerHeight===q?T:{containerWidth:$,containerHeight:q}})},[]);g.useEffect(function(){var _=function(D){var V,F=D[0].contentRect,z=F.width,Q=F.height;M(z,Q),(V=j.current)===null||V===void 0||V.call(j,z,Q)};h>0&&(_=Jz(_,h,{trailing:!0,leading:!1}));var E=new ResizeObserver(_),T=N.current.getBoundingClientRect(),$=T.width,q=T.height;return M($,q),E.observe(N.current),function(){E.disconnect()}},[M,h]);var P=g.useMemo(function(){var _=k.containerWidth,E=k.containerHeight;if(_<0||E<0)return null;va(wl(o)||wl(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),va(!n||n>0,"The aspect(%s) must be greater than zero.",n);var T=wl(o)?_:o,$=wl(c)?E:c;n&&n>0&&(T?$=T/n:$&&(T=$*n),p&&$>p&&($=p)),va(T>0||$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,T,$,o,c,u,m,n);var q=!Array.isArray(f)&&Oi(f.type).endsWith("Chart");return L.Children.map(f,function(R){return L.isValidElement(R)?g.cloneElement(R,wf({width:T,height:$},q?{style:wf({height:"100%",width:"100%",maxHeight:$,maxWidth:T},R.props.style)}:{})):R})},[n,f,c,p,m,u,k,o]);return L.createElement("div",{id:y?"".concat(y):void 0,className:ct("recharts-responsive-container",v),style:wf(wf({},S),{},{width:o,height:c,minWidth:u,minHeight:m,maxHeight:p}),ref:N},P)}),ky=function(t){return null};ky.displayName="Cell";function Ph(e){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ph(e)}function iP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Wj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iP(Object(n),!0).forEach(function(s){zme(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iP(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function zme(e,t,n){return t=Fme(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fme(e){var t=Lme(e,"string");return Ph(t)=="symbol"?t:t+""}function Lme(e,t){if(Ph(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Ph(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ac={widthCache:{},cacheCount:0},Ume=2e3,Bme={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},oP="recharts_measurement_span";function Vme(e){var t=Wj({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var Fm=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||vc.isSsr)return{width:0,height:0};var s=Vme(n),a=JSON.stringify({text:t,copyStyle:s});if(Ac.widthCache[a])return Ac.widthCache[a];try{var i=document.getElementById(oP);i||(i=document.createElement("span"),i.setAttribute("id",oP),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=Wj(Wj({},Bme),s);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Ac.widthCache[a]=c,++Ac.cacheCount>Ume&&(Ac.cacheCount=0,Ac.widthCache={}),c}catch{return{width:0,height:0}}},qme=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Oh(e){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oh(e)}function eg(e,t){return Gme(e)||Kme(e,t)||Hme(e,t)||Wme()}function Wme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hme(e,t){if(e){if(typeof e=="string")return lP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lP(e,t)}}function lP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function Kme(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Gme(e){if(Array.isArray(e))return e}function Yme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cP(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,Xme(s.key),s)}}function Qme(e,t,n){return t&&cP(e.prototype,t),n&&cP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xme(e){var t=Zme(e,"string");return Oh(t)=="symbol"?t:t+""}function Zme(e,t){if(Oh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Oh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var dP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,uP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Jme=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,ehe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,eF={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},the=Object.keys(eF),Xc="NaN";function rhe(e,t){return e*eF[t]}var jf=function(){function e(t,n){Yme(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!Jme.test(n)&&(this.num=NaN,this.unit=""),the.includes(n)&&(this.num=rhe(t,n),this.unit="px")}return Qme(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var s,a=(s=ehe.exec(n))!==null&&s!==void 0?s:[],i=eg(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function tF(e){if(e.includes(Xc))return Xc;for(var t=e;t.includes("*")||t.includes("/");){var n,s=(n=dP.exec(t))!==null&&n!==void 0?n:[],a=eg(s,4),i=a[1],o=a[2],l=a[3],c=jf.parse(i??""),d=jf.parse(l??""),u=o==="*"?c.multiply(d):c.divide(d);if(u.isNaN())return Xc;t=t.replace(dP,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,p=(m=uP.exec(t))!==null&&m!==void 0?m:[],f=eg(p,4),x=f[1],h=f[2],y=f[3],v=jf.parse(x??""),b=jf.parse(y??""),w=h==="+"?v.add(b):v.subtract(b);if(w.isNaN())return Xc;t=t.replace(uP,w.toString())}return t}var mP=/\(([^()]*)\)/;function nhe(e){for(var t=e;t.includes("(");){var n=mP.exec(t),s=eg(n,2),a=s[1];t=t.replace(mP,tF(a))}return t}function she(e){var t=e.replace(/\s+/g,"");return t=nhe(t),t=tF(t),t}function ahe(e){try{return she(e)}catch{return Xc}}function ub(e){var t=ahe(e.slice(5,-1));return t===Xc?"":t}var ihe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],ohe=["dx","dy","angle","className","breakAll"];function Hj(){return Hj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Hj.apply(this,arguments)}function hP(e,t){if(e==null)return{};var n=lhe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function lhe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function pP(e,t){return mhe(e)||uhe(e,t)||dhe(e,t)||che()}function che(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dhe(e,t){if(e){if(typeof e=="string")return fP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fP(e,t)}}function fP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function uhe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function mhe(e){if(Array.isArray(e))return e}var rF=/[ \f\n\r\t\v\u2028\u2029]+/,nF=function(t){var n=t.children,s=t.breakAll,a=t.style;try{var i=[];it(n)||(s?i=n.toString().split(""):i=n.toString().split(rF));var o=i.map(function(c){return{word:c,width:Fm(c,a).width}}),l=s?0:Fm("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},hhe=function(t,n,s,a,i){var o=t.maxLines,l=t.children,c=t.style,d=t.breakAll,u=Se(o),m=l,p=function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return T.reduce(function($,q){var R=q.word,D=q.width,V=$[$.length-1];if(V&&(a==null||i||V.width+D+s<Number(a)))V.words.push(R),V.width+=D+s;else{var F={words:[R],width:D};$.push(F)}return $},[])},f=p(n),x=function(T){return T.reduce(function($,q){return $.width>q.width?$:q})};if(!u)return f;for(var h="",y=function(T){var $=m.slice(0,T),q=nF({breakAll:d,style:c,children:$+h}).wordsWithComputedWidth,R=p(q),D=R.length>o||x(R).width>Number(a);return[D,R]},v=0,b=m.length-1,w=0,S;v<=b&&w<=m.length-1;){var N=Math.floor((v+b)/2),j=N-1,C=y(j),A=pP(C,2),k=A[0],O=A[1],M=y(N),P=pP(M,1),_=P[0];if(!k&&!_&&(v=N+1),k&&_&&(b=N-1),!k&&_){S=O;break}w++}return S||f},xP=function(t){var n=it(t)?[]:t.toString().split(rF);return[{words:n}]},phe=function(t){var n=t.width,s=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((n||s)&&!vc.isSsr){var c,d,u=nF({breakAll:o,children:a,style:i});if(u){var m=u.wordsWithComputedWidth,p=u.spaceWidth;c=m,d=p}else return xP(a);return hhe({breakAll:o,children:a,maxLines:l,style:i},c,d,n,s)}return xP(a)},gP="#808080",sc=function(t){var n=t.x,s=n===void 0?0:n,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,d=c===void 0?"0.71em":c,u=t.scaleToFit,m=u===void 0?!1:u,p=t.textAnchor,f=p===void 0?"start":p,x=t.verticalAnchor,h=x===void 0?"end":x,y=t.fill,v=y===void 0?gP:y,b=hP(t,ihe),w=g.useMemo(function(){return phe({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:m,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,m,b.style,b.width]),S=b.dx,N=b.dy,j=b.angle,C=b.className,A=b.breakAll,k=hP(b,ohe);if(!Yr(s)||!Yr(i))return null;var O=s+(Se(S)?S:0),M=i+(Se(N)?N:0),P;switch(h){case"start":P=ub("calc(".concat(d,")"));break;case"middle":P=ub("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:P=ub("calc(".concat(w.length-1," * -").concat(l,")"));break}var _=[];if(m){var E=w[0].width,T=b.width;_.push("scale(".concat((Se(T)?T/E:1)/E,")"))}return j&&_.push("rotate(".concat(j,", ").concat(O,", ").concat(M,")")),_.length&&(k.transform=_.join(" ")),L.createElement("text",Hj({},Ye(k,!0),{x:O,y:M,className:ct("recharts-text",C),textAnchor:f,fill:v.includes("url")?gP:v}),w.map(function($,q){var R=$.words.join(A?"":" ");return L.createElement("tspan",{x:O,dy:q===0?P:l,key:"".concat(R,"-").concat(q)},R)}))};function Do(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function fhe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function AS(e){let t,n,s;e.length!==2?(t=Do,n=(l,c)=>Do(e(l),c),s=(l,c)=>e(l)-c):(t=e===Do||e===fhe?e:xhe,n=e,s=e);function a(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const m=d+u>>>1;n(l[m],c)<0?d=m+1:u=m}while(d<u)}return d}function i(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const m=d+u>>>1;n(l[m],c)<=0?d=m+1:u=m}while(d<u)}return d}function o(l,c,d=0,u=l.length){const m=a(l,c,d,u-1);return m>d&&s(l[m-1],c)>-s(l[m],c)?m-1:m}return{left:a,center:o,right:i}}function xhe(){return 0}function sF(e){return e===null?NaN:+e}function*ghe(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const yhe=AS(Do),Dp=yhe.right;AS(sF).center;class yP extends Map{constructor(t,n=whe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[s,a]of t)this.set(s,a)}get(t){return super.get(vP(this,t))}has(t){return super.has(vP(this,t))}set(t,n){return super.set(vhe(this,t),n)}delete(t){return super.delete(bhe(this,t))}}function vP({_intern:e,_key:t},n){const s=t(n);return e.has(s)?e.get(s):n}function vhe({_intern:e,_key:t},n){const s=t(n);return e.has(s)?e.get(s):(e.set(s,n),n)}function bhe({_intern:e,_key:t},n){const s=t(n);return e.has(s)&&(n=e.get(s),e.delete(s)),n}function whe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function jhe(e=Do){if(e===Do)return aF;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const s=e(t,n);return s||s===0?s:(e(n,n)===0)-(e(t,t)===0)}}function aF(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Nhe=Math.sqrt(50),She=Math.sqrt(10),Che=Math.sqrt(2);function tg(e,t,n){const s=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(s)),i=s/Math.pow(10,a),o=i>=Nhe?10:i>=She?5:i>=Che?2:1;let l,c,d;return a<0?(d=Math.pow(10,-a)/o,l=Math.round(e*d),c=Math.round(t*d),l/d<e&&++l,c/d>t&&--c,d=-d):(d=Math.pow(10,a)*o,l=Math.round(e/d),c=Math.round(t/d),l*d<e&&++l,c*d>t&&--c),c<l&&.5<=n&&n<2?tg(e,t,n*2):[l,c,d]}function Kj(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const s=t<e,[a,i,o]=s?tg(t,e,n):tg(e,t,n);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(s)if(o<0)for(let d=0;d<l;++d)c[d]=(i-d)/-o;else for(let d=0;d<l;++d)c[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(a+d)/-o;else for(let d=0;d<l;++d)c[d]=(a+d)*o;return c}function Gj(e,t,n){return t=+t,e=+e,n=+n,tg(e,t,n)[2]}function Yj(e,t,n){t=+t,e=+e,n=+n;const s=t<e,a=s?Gj(t,e,n):Gj(e,t,n);return(s?-1:1)*(a<0?1/-a:a)}function bP(e,t){let n;for(const s of e)s!=null&&(n<s||n===void 0&&s>=s)&&(n=s);return n}function wP(e,t){let n;for(const s of e)s!=null&&(n>s||n===void 0&&s>=s)&&(n=s);return n}function iF(e,t,n=0,s=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),s=Math.floor(Math.min(e.length-1,s)),!(n<=t&&t<=s))return e;for(a=a===void 0?aF:jhe(a);s>n;){if(s-n>600){const c=s-n+1,d=t-n+1,u=Math.log(c),m=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*m*(c-m)/c)*(d-c/2<0?-1:1),f=Math.max(n,Math.floor(t-d*m/c+p)),x=Math.min(s,Math.floor(t+(c-d)*m/c+p));iF(e,t,f,x,a)}const i=e[t];let o=n,l=s;for(am(e,n,t),a(e[s],i)>0&&am(e,n,s);o<l;){for(am(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[n],i)===0?am(e,n,l):(++l,am(e,l,s)),l<=t&&(n=l+1),t<=l&&(s=l-1)}return e}function am(e,t,n){const s=e[t];e[t]=e[n],e[n]=s}function khe(e,t,n){if(e=Float64Array.from(ghe(e)),!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return wP(e);if(t>=1)return bP(e);var s,a=(s-1)*t,i=Math.floor(a),o=bP(iF(e,i).subarray(0,i+1)),l=wP(e.subarray(i+1));return o+(l-o)*(a-i)}}function Ahe(e,t,n=sF){if(!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return+n(e[0],0,e);if(t>=1)return+n(e[s-1],s-1,e);var s,a=(s-1)*t,i=Math.floor(a),o=+n(e[i],i,e),l=+n(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function Phe(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var s=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(a);++s<a;)i[s]=e+s*n;return i}function Qs(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ki(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Qj=Symbol("implicit");function PS(){var e=new yP,t=[],n=[],s=Qj;function a(i){let o=e.get(i);if(o===void 0){if(s!==Qj)return s;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new yP;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return PS(t,n).unknown(s)},Qs.apply(a,arguments),a}function Eh(){var e=PS().unknown(void 0),t=e.domain,n=e.range,s=0,a=1,i,o,l=!1,c=0,d=0,u=.5;delete e.unknown;function m(){var p=t().length,f=a<s,x=f?a:s,h=f?s:a;i=(h-x)/Math.max(1,p-c+d*2),l&&(i=Math.floor(i)),x+=(h-x-i*(p-c))*u,o=i*(1-c),l&&(x=Math.round(x),o=Math.round(o));var y=Phe(p).map(function(v){return x+i*v});return n(f?y.reverse():y)}return e.domain=function(p){return arguments.length?(t(p),m()):t()},e.range=function(p){return arguments.length?([s,a]=p,s=+s,a=+a,m()):[s,a]},e.rangeRound=function(p){return[s,a]=p,s=+s,a=+a,l=!0,m()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(p){return arguments.length?(l=!!p,m()):l},e.padding=function(p){return arguments.length?(c=Math.min(1,d=+p),m()):c},e.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),m()):c},e.paddingOuter=function(p){return arguments.length?(d=+p,m()):d},e.align=function(p){return arguments.length?(u=Math.max(0,Math.min(1,p)),m()):u},e.copy=function(){return Eh(t(),[s,a]).round(l).paddingInner(c).paddingOuter(d).align(u)},Qs.apply(m(),arguments)}function oF(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return oF(t())},e}function Lm(){return oF(Eh.apply(null,arguments).paddingInner(1))}function OS(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function lF(e,t){var n=Object.create(e.prototype);for(var s in t)n[s]=t[s];return n}function zp(){}var _h=.7,rg=1/_h,pd="\\s*([+-]?\\d+)\\s*",Th="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ha="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ohe=/^#([0-9a-f]{3,8})$/,Ehe=new RegExp(`^rgb\\(${pd},${pd},${pd}\\)$`),_he=new RegExp(`^rgb\\(${Ha},${Ha},${Ha}\\)$`),The=new RegExp(`^rgba\\(${pd},${pd},${pd},${Th}\\)$`),Mhe=new RegExp(`^rgba\\(${Ha},${Ha},${Ha},${Th}\\)$`),Ihe=new RegExp(`^hsl\\(${Th},${Ha},${Ha}\\)$`),Rhe=new RegExp(`^hsla\\(${Th},${Ha},${Ha},${Th}\\)$`),jP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};OS(zp,Mh,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:NP,formatHex:NP,formatHex8:$he,formatHsl:Dhe,formatRgb:SP,toString:SP});function NP(){return this.rgb().formatHex()}function $he(){return this.rgb().formatHex8()}function Dhe(){return cF(this).formatHsl()}function SP(){return this.rgb().formatRgb()}function Mh(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Ohe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?CP(t):n===3?new Gn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Nf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Nf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Ehe.exec(e))?new Gn(t[1],t[2],t[3],1):(t=_he.exec(e))?new Gn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=The.exec(e))?Nf(t[1],t[2],t[3],t[4]):(t=Mhe.exec(e))?Nf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Ihe.exec(e))?PP(t[1],t[2]/100,t[3]/100,1):(t=Rhe.exec(e))?PP(t[1],t[2]/100,t[3]/100,t[4]):jP.hasOwnProperty(e)?CP(jP[e]):e==="transparent"?new Gn(NaN,NaN,NaN,0):null}function CP(e){return new Gn(e>>16&255,e>>8&255,e&255,1)}function Nf(e,t,n,s){return s<=0&&(e=t=n=NaN),new Gn(e,t,n,s)}function zhe(e){return e instanceof zp||(e=Mh(e)),e?(e=e.rgb(),new Gn(e.r,e.g,e.b,e.opacity)):new Gn}function Xj(e,t,n,s){return arguments.length===1?zhe(e):new Gn(e,t,n,s??1)}function Gn(e,t,n,s){this.r=+e,this.g=+t,this.b=+n,this.opacity=+s}OS(Gn,Xj,lF(zp,{brighter(e){return e=e==null?rg:Math.pow(rg,e),new Gn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?_h:Math.pow(_h,e),new Gn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Gn(zl(this.r),zl(this.g),zl(this.b),ng(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:kP,formatHex:kP,formatHex8:Fhe,formatRgb:AP,toString:AP}));function kP(){return`#${jl(this.r)}${jl(this.g)}${jl(this.b)}`}function Fhe(){return`#${jl(this.r)}${jl(this.g)}${jl(this.b)}${jl((isNaN(this.opacity)?1:this.opacity)*255)}`}function AP(){const e=ng(this.opacity);return`${e===1?"rgb(":"rgba("}${zl(this.r)}, ${zl(this.g)}, ${zl(this.b)}${e===1?")":`, ${e})`}`}function ng(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function zl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function jl(e){return e=zl(e),(e<16?"0":"")+e.toString(16)}function PP(e,t,n,s){return s<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ua(e,t,n,s)}function cF(e){if(e instanceof ua)return new ua(e.h,e.s,e.l,e.opacity);if(e instanceof zp||(e=Mh(e)),!e)return new ua;if(e instanceof ua)return e;e=e.rgb();var t=e.r/255,n=e.g/255,s=e.b/255,a=Math.min(t,n,s),i=Math.max(t,n,s),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(n-s)/l+(n<s)*6:n===i?o=(s-t)/l+2:o=(t-n)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new ua(o,l,c,e.opacity)}function Lhe(e,t,n,s){return arguments.length===1?cF(e):new ua(e,t,n,s??1)}function ua(e,t,n,s){this.h=+e,this.s=+t,this.l=+n,this.opacity=+s}OS(ua,Lhe,lF(zp,{brighter(e){return e=e==null?rg:Math.pow(rg,e),new ua(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?_h:Math.pow(_h,e),new ua(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,s=n+(n<.5?n:1-n)*t,a=2*n-s;return new Gn(mb(e>=240?e-240:e+120,a,s),mb(e,a,s),mb(e<120?e+240:e-120,a,s),this.opacity)},clamp(){return new ua(OP(this.h),Sf(this.s),Sf(this.l),ng(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ng(this.opacity);return`${e===1?"hsl(":"hsla("}${OP(this.h)}, ${Sf(this.s)*100}%, ${Sf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function OP(e){return e=(e||0)%360,e<0?e+360:e}function Sf(e){return Math.max(0,Math.min(1,e||0))}function mb(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const ES=e=>()=>e;function Uhe(e,t){return function(n){return e+n*t}}function Bhe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(s){return Math.pow(e+s*t,n)}}function Vhe(e){return(e=+e)==1?dF:function(t,n){return n-t?Bhe(t,n,e):ES(isNaN(t)?n:t)}}function dF(e,t){var n=t-e;return n?Uhe(e,n):ES(isNaN(e)?t:e)}const EP=function e(t){var n=Vhe(t);function s(a,i){var o=n((a=Xj(a)).r,(i=Xj(i)).r),l=n(a.g,i.g),c=n(a.b,i.b),d=dF(a.opacity,i.opacity);return function(u){return a.r=o(u),a.g=l(u),a.b=c(u),a.opacity=d(u),a+""}}return s.gamma=e,s}(1);function qhe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,s=t.slice(),a;return function(i){for(a=0;a<n;++a)s[a]=e[a]*(1-i)+t[a]*i;return s}}function Whe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Hhe(e,t){var n=t?t.length:0,s=e?Math.min(n,e.length):0,a=new Array(s),i=new Array(n),o;for(o=0;o<s;++o)a[o]=Fu(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(l){for(o=0;o<s;++o)i[o]=a[o](l);return i}}function Khe(e,t){var n=new Date;return e=+e,t=+t,function(s){return n.setTime(e*(1-s)+t*s),n}}function sg(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Ghe(e,t){var n={},s={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=Fu(e[a],t[a]):s[a]=t[a];return function(i){for(a in n)s[a]=n[a](i);return s}}var Zj=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hb=new RegExp(Zj.source,"g");function Yhe(e){return function(){return e}}function Qhe(e){return function(t){return e(t)+""}}function Xhe(e,t){var n=Zj.lastIndex=hb.lastIndex=0,s,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(s=Zj.exec(e))&&(a=hb.exec(t));)(i=a.index)>n&&(i=t.slice(n,i),l[o]?l[o]+=i:l[++o]=i),(s=s[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:sg(s,a)})),n=hb.lastIndex;return n<t.length&&(i=t.slice(n),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?Qhe(c[0].x):Yhe(t):(t=c.length,function(d){for(var u=0,m;u<t;++u)l[(m=c[u]).i]=m.x(d);return l.join("")})}function Fu(e,t){var n=typeof t,s;return t==null||n==="boolean"?ES(t):(n==="number"?sg:n==="string"?(s=Mh(t))?(t=s,EP):Xhe:t instanceof Mh?EP:t instanceof Date?Khe:Whe(t)?qhe:Array.isArray(t)?Hhe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Ghe:sg)(e,t)}function _S(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Zhe(e,t){t===void 0&&(t=e,e=Fu);for(var n=0,s=t.length-1,a=t[0],i=new Array(s<0?0:s);n<s;)i[n]=e(a,a=t[++n]);return function(o){var l=Math.max(0,Math.min(s-1,Math.floor(o*=s)));return i[l](o-l)}}function Jhe(e){return function(){return e}}function ag(e){return+e}var _P=[0,1];function Mn(e){return e}function Jj(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Jhe(isNaN(t)?NaN:.5)}function epe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(s){return Math.max(e,Math.min(t,s))}}function tpe(e,t,n){var s=e[0],a=e[1],i=t[0],o=t[1];return a<s?(s=Jj(a,s),i=n(o,i)):(s=Jj(s,a),i=n(i,o)),function(l){return i(s(l))}}function rpe(e,t,n){var s=Math.min(e.length,t.length)-1,a=new Array(s),i=new Array(s),o=-1;for(e[s]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<s;)a[o]=Jj(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(l){var c=Dp(e,l,1,s)-1;return i[c](a[c](l))}}function Fp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ay(){var e=_P,t=_P,n=Fu,s,a,i,o=Mn,l,c,d;function u(){var p=Math.min(e.length,t.length);return o!==Mn&&(o=epe(e[0],e[p-1])),l=p>2?rpe:tpe,c=d=null,m}function m(p){return p==null||isNaN(p=+p)?i:(c||(c=l(e.map(s),t,n)))(s(o(p)))}return m.invert=function(p){return o(a((d||(d=l(t,e.map(s),sg)))(p)))},m.domain=function(p){return arguments.length?(e=Array.from(p,ag),u()):e.slice()},m.range=function(p){return arguments.length?(t=Array.from(p),u()):t.slice()},m.rangeRound=function(p){return t=Array.from(p),n=_S,u()},m.clamp=function(p){return arguments.length?(o=p?!0:Mn,u()):o!==Mn},m.interpolate=function(p){return arguments.length?(n=p,u()):n},m.unknown=function(p){return arguments.length?(i=p,m):i},function(p,f){return s=p,a=f,u()}}function TS(){return Ay()(Mn,Mn)}function npe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ig(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,s=e.slice(0,n);return[s.length>1?s[0]+s.slice(2):s,+e.slice(n+1)]}function Kd(e){return e=ig(Math.abs(e)),e?e[1]:NaN}function spe(e,t){return function(n,s){for(var a=n.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>s&&(l=Math.max(1,s-c)),i.push(n.substring(a-=l,a+l)),!((c+=l+1)>s));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function ape(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var ipe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ih(e){if(!(t=ipe.exec(e)))throw new Error("invalid format: "+e);var t;return new MS({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ih.prototype=MS.prototype;function MS(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}MS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ope(e){e:for(var t=e.length,n=1,s=-1,a;n<t;++n)switch(e[n]){case".":s=a=n;break;case"0":s===0&&(s=n),a=n;break;default:if(!+e[n])break e;s>0&&(s=0);break}return s>0?e.slice(0,s)+e.slice(a+1):e}var uF;function lpe(e,t){var n=ig(e,t);if(!n)return e+"";var s=n[0],a=n[1],i=a-(uF=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=s.length;return i===o?s:i>o?s+new Array(i-o+1).join("0"):i>0?s.slice(0,i)+"."+s.slice(i):"0."+new Array(1-i).join("0")+ig(e,Math.max(0,t+i-1))[0]}function TP(e,t){var n=ig(e,t);if(!n)return e+"";var s=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+s:s.length>a+1?s.slice(0,a+1)+"."+s.slice(a+1):s+new Array(a-s.length+2).join("0")}const MP={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:npe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>TP(e*100,t),r:TP,s:lpe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function IP(e){return e}var RP=Array.prototype.map,$P=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function cpe(e){var t=e.grouping===void 0||e.thousands===void 0?IP:spe(RP.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",s=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?IP:ape(RP.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(m){m=Ih(m);var p=m.fill,f=m.align,x=m.sign,h=m.symbol,y=m.zero,v=m.width,b=m.comma,w=m.precision,S=m.trim,N=m.type;N==="n"?(b=!0,N="g"):MP[N]||(w===void 0&&(w=12),S=!0,N="g"),(y||p==="0"&&f==="=")&&(y=!0,p="0",f="=");var j=h==="$"?n:h==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",C=h==="$"?s:/[%p]/.test(N)?o:"",A=MP[N],k=/[defgprs%]/.test(N);w=w===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function O(M){var P=j,_=C,E,T,$;if(N==="c")_=A(M)+_,M="";else{M=+M;var q=M<0||1/M<0;if(M=isNaN(M)?c:A(Math.abs(M),w),S&&(M=ope(M)),q&&+M==0&&x!=="+"&&(q=!1),P=(q?x==="("?x:l:x==="-"||x==="("?"":x)+P,_=(N==="s"?$P[8+uF/3]:"")+_+(q&&x==="("?")":""),k){for(E=-1,T=M.length;++E<T;)if($=M.charCodeAt(E),48>$||$>57){_=($===46?a+M.slice(E+1):M.slice(E))+_,M=M.slice(0,E);break}}}b&&!y&&(M=t(M,1/0));var R=P.length+M.length+_.length,D=R<v?new Array(v-R+1).join(p):"";switch(b&&y&&(M=t(D+M,D.length?v-_.length:1/0),D=""),f){case"<":M=P+M+_+D;break;case"=":M=P+D+M+_;break;case"^":M=D.slice(0,R=D.length>>1)+P+M+_+D.slice(R);break;default:M=D+P+M+_;break}return i(M)}return O.toString=function(){return m+""},O}function u(m,p){var f=d((m=Ih(m),m.type="f",m)),x=Math.max(-8,Math.min(8,Math.floor(Kd(p)/3)))*3,h=Math.pow(10,-x),y=$P[8+x/3];return function(v){return f(h*v)+y}}return{format:d,formatPrefix:u}}var Cf,IS,mF;dpe({thousands:",",grouping:[3],currency:["$",""]});function dpe(e){return Cf=cpe(e),IS=Cf.format,mF=Cf.formatPrefix,Cf}function upe(e){return Math.max(0,-Kd(Math.abs(e)))}function mpe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Kd(t)/3)))*3-Kd(Math.abs(e)))}function hpe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Kd(t)-Kd(e))+1}function hF(e,t,n,s){var a=Yj(e,t,n),i;switch(s=Ih(s??",f"),s.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return s.precision==null&&!isNaN(i=mpe(a,o))&&(s.precision=i),mF(s,o)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(i=hpe(a,Math.max(Math.abs(e),Math.abs(t))))&&(s.precision=i-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(i=upe(a))&&(s.precision=i-(s.type==="%")*2);break}}return IS(s)}function tl(e){var t=e.domain;return e.ticks=function(n){var s=t();return Kj(s[0],s[s.length-1],n??10)},e.tickFormat=function(n,s){var a=t();return hF(a[0],a[a.length-1],n??10,s)},e.nice=function(n){n==null&&(n=10);var s=t(),a=0,i=s.length-1,o=s[a],l=s[i],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=a,a=i,i=d);u-- >0;){if(d=Gj(o,l,n),d===c)return s[a]=o,s[i]=l,t(s);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return e},e}function og(){var e=TS();return e.copy=function(){return Fp(e,og())},Qs.apply(e,arguments),tl(e)}function pF(e){var t;function n(s){return s==null||isNaN(s=+s)?t:s}return n.invert=n,n.domain=n.range=function(s){return arguments.length?(e=Array.from(s,ag),n):e.slice()},n.unknown=function(s){return arguments.length?(t=s,n):t},n.copy=function(){return pF(e).unknown(t)},e=arguments.length?Array.from(e,ag):[0,1],tl(n)}function fF(e,t){e=e.slice();var n=0,s=e.length-1,a=e[n],i=e[s],o;return i<a&&(o=n,n=s,s=o,o=a,a=i,i=o),e[n]=t.floor(a),e[s]=t.ceil(i),e}function DP(e){return Math.log(e)}function zP(e){return Math.exp(e)}function ppe(e){return-Math.log(-e)}function fpe(e){return-Math.exp(-e)}function xpe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function gpe(e){return e===10?xpe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function ype(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function FP(e){return(t,n)=>-e(-t,n)}function RS(e){const t=e(DP,zP),n=t.domain;let s=10,a,i;function o(){return a=ype(s),i=gpe(s),n()[0]<0?(a=FP(a),i=FP(i),e(ppe,fpe)):e(DP,zP),t}return t.base=function(l){return arguments.length?(s=+l,o()):s},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const c=n();let d=c[0],u=c[c.length-1];const m=u<d;m&&([d,u]=[u,d]);let p=a(d),f=a(u),x,h;const y=l==null?10:+l;let v=[];if(!(s%1)&&f-p<y){if(p=Math.floor(p),f=Math.ceil(f),d>0){for(;p<=f;++p)for(x=1;x<s;++x)if(h=p<0?x/i(-p):x*i(p),!(h<d)){if(h>u)break;v.push(h)}}else for(;p<=f;++p)for(x=s-1;x>=1;--x)if(h=p>0?x/i(-p):x*i(p),!(h<d)){if(h>u)break;v.push(h)}v.length*2<y&&(v=Kj(d,u,y))}else v=Kj(p,f,Math.min(f-p,y)).map(i);return m?v.reverse():v},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=s===10?"s":","),typeof c!="function"&&(!(s%1)&&(c=Ih(c)).precision==null&&(c.trim=!0),c=IS(c)),l===1/0)return c;const d=Math.max(1,s*l/t.ticks().length);return u=>{let m=u/i(Math.round(a(u)));return m*s<s-.5&&(m*=s),m<=d?c(u):""}},t.nice=()=>n(fF(n(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function xF(){const e=RS(Ay()).domain([1,10]);return e.copy=()=>Fp(e,xF()).base(e.base()),Qs.apply(e,arguments),e}function LP(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function UP(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function $S(e){var t=1,n=e(LP(t),UP(t));return n.constant=function(s){return arguments.length?e(LP(t=+s),UP(t)):t},tl(n)}function gF(){var e=$S(Ay());return e.copy=function(){return Fp(e,gF()).constant(e.constant())},Qs.apply(e,arguments)}function BP(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function vpe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function bpe(e){return e<0?-e*e:e*e}function DS(e){var t=e(Mn,Mn),n=1;function s(){return n===1?e(Mn,Mn):n===.5?e(vpe,bpe):e(BP(n),BP(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,s()):n},tl(t)}function zS(){var e=DS(Ay());return e.copy=function(){return Fp(e,zS()).exponent(e.exponent())},Qs.apply(e,arguments),e}function wpe(){return zS.apply(null,arguments).exponent(.5)}function VP(e){return Math.sign(e)*e*e}function jpe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function yF(){var e=TS(),t=[0,1],n=!1,s;function a(i){var o=jpe(e(i));return isNaN(o)?s:n?Math.round(o):o}return a.invert=function(i){return e.invert(VP(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,ag)).map(VP)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(n=!!i,a):n},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return yF(e.domain(),t).round(n).clamp(e.clamp()).unknown(s)},Qs.apply(a,arguments),tl(a)}function vF(){var e=[],t=[],n=[],s;function a(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=Ahe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?s:t[Dp(n,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Do),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(s=o,i):s},i.quantiles=function(){return n.slice()},i.copy=function(){return vF().domain(e).range(t).unknown(s)},Qs.apply(i,arguments)}function bF(){var e=0,t=1,n=1,s=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[Dp(s,c,0,n)]:i}function l(){var c=-1;for(s=new Array(n);++c<n;)s[c]=((c+1)*t-(c-n)*e)/(n+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(n=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var d=a.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,s[0]]:d>=n?[s[n-1],t]:[s[d-1],s[d]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return s.slice()},o.copy=function(){return bF().domain([e,t]).range(a).unknown(i)},Qs.apply(tl(o),arguments)}function wF(){var e=[.5],t=[0,1],n,s=1;function a(i){return i!=null&&i<=i?t[Dp(e,i,0,s)]:n}return a.domain=function(i){return arguments.length?(e=Array.from(i),s=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),s=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return wF().domain(e).range(t).unknown(n)},Qs.apply(a,arguments)}const pb=new Date,fb=new Date;function Xr(e,t,n,s){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let d;do c.push(d=new Date(+i)),t(i,l),e(i);while(d<i&&i<o);return c},a.filter=i=>Xr(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),n&&(a.count=(i,o)=>(pb.setTime(+i),fb.setTime(+o),e(pb),e(fb),Math.floor(n(pb,fb))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(s?o=>s(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const lg=Xr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);lg.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Xr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):lg);lg.range;const ji=1e3,Ls=ji*60,Ni=Ls*60,Li=Ni*24,FS=Li*7,qP=Li*30,xb=Li*365,Nl=Xr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ji)},(e,t)=>(t-e)/ji,e=>e.getUTCSeconds());Nl.range;const LS=Xr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ji)},(e,t)=>{e.setTime(+e+t*Ls)},(e,t)=>(t-e)/Ls,e=>e.getMinutes());LS.range;const US=Xr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ls)},(e,t)=>(t-e)/Ls,e=>e.getUTCMinutes());US.range;const BS=Xr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ji-e.getMinutes()*Ls)},(e,t)=>{e.setTime(+e+t*Ni)},(e,t)=>(t-e)/Ni,e=>e.getHours());BS.range;const VS=Xr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ni)},(e,t)=>(t-e)/Ni,e=>e.getUTCHours());VS.range;const Lp=Xr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ls)/Li,e=>e.getDate()-1);Lp.range;const Py=Xr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Li,e=>e.getUTCDate()-1);Py.range;const jF=Xr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Li,e=>Math.floor(e/Li));jF.range;function bc(e){return Xr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ls)/FS)}const Oy=bc(0),cg=bc(1),Npe=bc(2),Spe=bc(3),Gd=bc(4),Cpe=bc(5),kpe=bc(6);Oy.range;cg.range;Npe.range;Spe.range;Gd.range;Cpe.range;kpe.range;function wc(e){return Xr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/FS)}const Ey=wc(0),dg=wc(1),Ape=wc(2),Ppe=wc(3),Yd=wc(4),Ope=wc(5),Epe=wc(6);Ey.range;dg.range;Ape.range;Ppe.range;Yd.range;Ope.range;Epe.range;const qS=Xr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());qS.range;const WS=Xr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());WS.range;const Ui=Xr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ui.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Xr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ui.range;const Bi=Xr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Bi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Xr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Bi.range;function NF(e,t,n,s,a,i){const o=[[Nl,1,ji],[Nl,5,5*ji],[Nl,15,15*ji],[Nl,30,30*ji],[i,1,Ls],[i,5,5*Ls],[i,15,15*Ls],[i,30,30*Ls],[a,1,Ni],[a,3,3*Ni],[a,6,6*Ni],[a,12,12*Ni],[s,1,Li],[s,2,2*Li],[n,1,FS],[t,1,qP],[t,3,3*qP],[e,1,xb]];function l(d,u,m){const p=u<d;p&&([d,u]=[u,d]);const f=m&&typeof m.range=="function"?m:c(d,u,m),x=f?f.range(d,+u+1):[];return p?x.reverse():x}function c(d,u,m){const p=Math.abs(u-d)/m,f=AS(([,,y])=>y).right(o,p);if(f===o.length)return e.every(Yj(d/xb,u/xb,m));if(f===0)return lg.every(Math.max(Yj(d,u,m),1));const[x,h]=o[p/o[f-1][2]<o[f][2]/p?f-1:f];return x.every(h)}return[l,c]}const[_pe,Tpe]=NF(Bi,WS,Ey,jF,VS,US),[Mpe,Ipe]=NF(Ui,qS,Oy,Lp,BS,LS);function gb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function yb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function im(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Rpe(e){var t=e.dateTime,n=e.date,s=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,d=om(a),u=lm(a),m=om(i),p=lm(i),f=om(o),x=lm(o),h=om(l),y=lm(l),v=om(c),b=lm(c),w={a:q,A:R,b:D,B:V,c:null,d:QP,e:QP,f:sfe,g:pfe,G:xfe,H:tfe,I:rfe,j:nfe,L:SF,m:afe,M:ife,p:F,q:z,Q:JP,s:eO,S:ofe,u:lfe,U:cfe,V:dfe,w:ufe,W:mfe,x:null,X:null,y:hfe,Y:ffe,Z:gfe,"%":ZP},S={a:Q,A:te,b:me,B:ge,c:null,d:XP,e:XP,f:wfe,g:_fe,G:Mfe,H:yfe,I:vfe,j:bfe,L:kF,m:jfe,M:Nfe,p:he,q:Ce,Q:JP,s:eO,S:Sfe,u:Cfe,U:kfe,V:Afe,w:Pfe,W:Ofe,x:null,X:null,y:Efe,Y:Tfe,Z:Ife,"%":ZP},N={a:O,A:M,b:P,B:_,c:E,d:GP,e:GP,f:Xpe,g:KP,G:HP,H:YP,I:YP,j:Kpe,L:Qpe,m:Hpe,M:Gpe,p:k,q:Wpe,Q:Jpe,s:efe,S:Ype,u:Lpe,U:Upe,V:Bpe,w:Fpe,W:Vpe,x:T,X:$,y:KP,Y:HP,Z:qpe,"%":Zpe};w.x=j(n,w),w.X=j(s,w),w.c=j(t,w),S.x=j(n,S),S.X=j(s,S),S.c=j(t,S);function j(se,G){return function(xe){var re=[],We=-1,Ue=0,nt=se.length,mt,Nt,wr;for(xe instanceof Date||(xe=new Date(+xe));++We<nt;)se.charCodeAt(We)===37&&(re.push(se.slice(Ue,We)),(Nt=WP[mt=se.charAt(++We)])!=null?mt=se.charAt(++We):Nt=mt==="e"?" ":"0",(wr=G[mt])&&(mt=wr(xe,Nt)),re.push(mt),Ue=We+1);return re.push(se.slice(Ue,We)),re.join("")}}function C(se,G){return function(xe){var re=im(1900,void 0,1),We=A(re,se,xe+="",0),Ue,nt;if(We!=xe.length)return null;if("Q"in re)return new Date(re.Q);if("s"in re)return new Date(re.s*1e3+("L"in re?re.L:0));if(G&&!("Z"in re)&&(re.Z=0),"p"in re&&(re.H=re.H%12+re.p*12),re.m===void 0&&(re.m="q"in re?re.q:0),"V"in re){if(re.V<1||re.V>53)return null;"w"in re||(re.w=1),"Z"in re?(Ue=yb(im(re.y,0,1)),nt=Ue.getUTCDay(),Ue=nt>4||nt===0?dg.ceil(Ue):dg(Ue),Ue=Py.offset(Ue,(re.V-1)*7),re.y=Ue.getUTCFullYear(),re.m=Ue.getUTCMonth(),re.d=Ue.getUTCDate()+(re.w+6)%7):(Ue=gb(im(re.y,0,1)),nt=Ue.getDay(),Ue=nt>4||nt===0?cg.ceil(Ue):cg(Ue),Ue=Lp.offset(Ue,(re.V-1)*7),re.y=Ue.getFullYear(),re.m=Ue.getMonth(),re.d=Ue.getDate()+(re.w+6)%7)}else("W"in re||"U"in re)&&("w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),nt="Z"in re?yb(im(re.y,0,1)).getUTCDay():gb(im(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+re.W*7-(nt+5)%7:re.w+re.U*7-(nt+6)%7);return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,yb(re)):gb(re)}}function A(se,G,xe,re){for(var We=0,Ue=G.length,nt=xe.length,mt,Nt;We<Ue;){if(re>=nt)return-1;if(mt=G.charCodeAt(We++),mt===37){if(mt=G.charAt(We++),Nt=N[mt in WP?G.charAt(We++):mt],!Nt||(re=Nt(se,xe,re))<0)return-1}else if(mt!=xe.charCodeAt(re++))return-1}return re}function k(se,G,xe){var re=d.exec(G.slice(xe));return re?(se.p=u.get(re[0].toLowerCase()),xe+re[0].length):-1}function O(se,G,xe){var re=f.exec(G.slice(xe));return re?(se.w=x.get(re[0].toLowerCase()),xe+re[0].length):-1}function M(se,G,xe){var re=m.exec(G.slice(xe));return re?(se.w=p.get(re[0].toLowerCase()),xe+re[0].length):-1}function P(se,G,xe){var re=v.exec(G.slice(xe));return re?(se.m=b.get(re[0].toLowerCase()),xe+re[0].length):-1}function _(se,G,xe){var re=h.exec(G.slice(xe));return re?(se.m=y.get(re[0].toLowerCase()),xe+re[0].length):-1}function E(se,G,xe){return A(se,t,G,xe)}function T(se,G,xe){return A(se,n,G,xe)}function $(se,G,xe){return A(se,s,G,xe)}function q(se){return o[se.getDay()]}function R(se){return i[se.getDay()]}function D(se){return c[se.getMonth()]}function V(se){return l[se.getMonth()]}function F(se){return a[+(se.getHours()>=12)]}function z(se){return 1+~~(se.getMonth()/3)}function Q(se){return o[se.getUTCDay()]}function te(se){return i[se.getUTCDay()]}function me(se){return c[se.getUTCMonth()]}function ge(se){return l[se.getUTCMonth()]}function he(se){return a[+(se.getUTCHours()>=12)]}function Ce(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var G=j(se+="",w);return G.toString=function(){return se},G},parse:function(se){var G=C(se+="",!1);return G.toString=function(){return se},G},utcFormat:function(se){var G=j(se+="",S);return G.toString=function(){return se},G},utcParse:function(se){var G=C(se+="",!0);return G.toString=function(){return se},G}}}var WP={"-":"",_:" ",0:"0"},on=/^\s*\d+/,$pe=/^%/,Dpe=/[\\^$*+?|[\]().{}]/g;function Et(e,t,n){var s=e<0?"-":"",a=(s?-e:e)+"",i=a.length;return s+(i<n?new Array(n-i+1).join(t)+a:a)}function zpe(e){return e.replace(Dpe,"\\$&")}function om(e){return new RegExp("^(?:"+e.map(zpe).join("|")+")","i")}function lm(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Fpe(e,t,n){var s=on.exec(t.slice(n,n+1));return s?(e.w=+s[0],n+s[0].length):-1}function Lpe(e,t,n){var s=on.exec(t.slice(n,n+1));return s?(e.u=+s[0],n+s[0].length):-1}function Upe(e,t,n){var s=on.exec(t.slice(n,n+2));return s?(e.U=+s[0],n+s[0].length):-1}function Bpe(e,t,n){var s=on.exec(t.slice(n,n+2));return s?(e.V=+s[0],n+s[0].length):-1}function Vpe(e,t,n){var s=on.exec(t.slice(n,n+2));return s?(e.W=+s[0],n+s[0].length):-1}function HP(e,t,n){var s=on.exec(t.slice(n,n+4));return s?(e.y=+s[0],n+s[0].length):-1}function KP(e,t,n){var s=on.exec(t.slice(n,n+2));return s?(e.y=+s[0]+(+s[0]>68?1900:2e3),n+s[0].length):-1}function qpe(e,t,n){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return s?(e.Z=s[1]?0:-(s[2]+(s[3]||"00")),n+s[0].length):-1}function Wpe(e,t,n){var s=on.exec(t.slice(n,n+1));return s?(e.q=s[0]*3-3,n+s[0].length):-1}function Hpe(e,t,n){var s=on.exec(t.slice(n,n+2));return s?(e.m=s[0]-1,n+s[0].length):-1}function GP(e,t,n){var s=on.exec(t.slice(n,n+2));return s?(e.d=+s[0],n+s[0].length):-1}function Kpe(e,t,n){var s=on.exec(t.slice(n,n+3));return s?(e.m=0,e.d=+s[0],n+s[0].length):-1}function YP(e,t,n){var s=on.exec(t.slice(n,n+2));return s?(e.H=+s[0],n+s[0].length):-1}function Gpe(e,t,n){var s=on.exec(t.slice(n,n+2));return s?(e.M=+s[0],n+s[0].length):-1}function Ype(e,t,n){var s=on.exec(t.slice(n,n+2));return s?(e.S=+s[0],n+s[0].length):-1}function Qpe(e,t,n){var s=on.exec(t.slice(n,n+3));return s?(e.L=+s[0],n+s[0].length):-1}function Xpe(e,t,n){var s=on.exec(t.slice(n,n+6));return s?(e.L=Math.floor(s[0]/1e3),n+s[0].length):-1}function Zpe(e,t,n){var s=$pe.exec(t.slice(n,n+1));return s?n+s[0].length:-1}function Jpe(e,t,n){var s=on.exec(t.slice(n));return s?(e.Q=+s[0],n+s[0].length):-1}function efe(e,t,n){var s=on.exec(t.slice(n));return s?(e.s=+s[0],n+s[0].length):-1}function QP(e,t){return Et(e.getDate(),t,2)}function tfe(e,t){return Et(e.getHours(),t,2)}function rfe(e,t){return Et(e.getHours()%12||12,t,2)}function nfe(e,t){return Et(1+Lp.count(Ui(e),e),t,3)}function SF(e,t){return Et(e.getMilliseconds(),t,3)}function sfe(e,t){return SF(e,t)+"000"}function afe(e,t){return Et(e.getMonth()+1,t,2)}function ife(e,t){return Et(e.getMinutes(),t,2)}function ofe(e,t){return Et(e.getSeconds(),t,2)}function lfe(e){var t=e.getDay();return t===0?7:t}function cfe(e,t){return Et(Oy.count(Ui(e)-1,e),t,2)}function CF(e){var t=e.getDay();return t>=4||t===0?Gd(e):Gd.ceil(e)}function dfe(e,t){return e=CF(e),Et(Gd.count(Ui(e),e)+(Ui(e).getDay()===4),t,2)}function ufe(e){return e.getDay()}function mfe(e,t){return Et(cg.count(Ui(e)-1,e),t,2)}function hfe(e,t){return Et(e.getFullYear()%100,t,2)}function pfe(e,t){return e=CF(e),Et(e.getFullYear()%100,t,2)}function ffe(e,t){return Et(e.getFullYear()%1e4,t,4)}function xfe(e,t){var n=e.getDay();return e=n>=4||n===0?Gd(e):Gd.ceil(e),Et(e.getFullYear()%1e4,t,4)}function gfe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Et(t/60|0,"0",2)+Et(t%60,"0",2)}function XP(e,t){return Et(e.getUTCDate(),t,2)}function yfe(e,t){return Et(e.getUTCHours(),t,2)}function vfe(e,t){return Et(e.getUTCHours()%12||12,t,2)}function bfe(e,t){return Et(1+Py.count(Bi(e),e),t,3)}function kF(e,t){return Et(e.getUTCMilliseconds(),t,3)}function wfe(e,t){return kF(e,t)+"000"}function jfe(e,t){return Et(e.getUTCMonth()+1,t,2)}function Nfe(e,t){return Et(e.getUTCMinutes(),t,2)}function Sfe(e,t){return Et(e.getUTCSeconds(),t,2)}function Cfe(e){var t=e.getUTCDay();return t===0?7:t}function kfe(e,t){return Et(Ey.count(Bi(e)-1,e),t,2)}function AF(e){var t=e.getUTCDay();return t>=4||t===0?Yd(e):Yd.ceil(e)}function Afe(e,t){return e=AF(e),Et(Yd.count(Bi(e),e)+(Bi(e).getUTCDay()===4),t,2)}function Pfe(e){return e.getUTCDay()}function Ofe(e,t){return Et(dg.count(Bi(e)-1,e),t,2)}function Efe(e,t){return Et(e.getUTCFullYear()%100,t,2)}function _fe(e,t){return e=AF(e),Et(e.getUTCFullYear()%100,t,2)}function Tfe(e,t){return Et(e.getUTCFullYear()%1e4,t,4)}function Mfe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Yd(e):Yd.ceil(e),Et(e.getUTCFullYear()%1e4,t,4)}function Ife(){return"+0000"}function ZP(){return"%"}function JP(e){return+e}function eO(e){return Math.floor(+e/1e3)}var Pc,PF,OF;Rfe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Rfe(e){return Pc=Rpe(e),PF=Pc.format,Pc.parse,OF=Pc.utcFormat,Pc.utcParse,Pc}function $fe(e){return new Date(e)}function Dfe(e){return e instanceof Date?+e:+new Date(+e)}function HS(e,t,n,s,a,i,o,l,c,d){var u=TS(),m=u.invert,p=u.domain,f=d(".%L"),x=d(":%S"),h=d("%I:%M"),y=d("%I %p"),v=d("%a %d"),b=d("%b %d"),w=d("%B"),S=d("%Y");function N(j){return(c(j)<j?f:l(j)<j?x:o(j)<j?h:i(j)<j?y:s(j)<j?a(j)<j?v:b:n(j)<j?w:S)(j)}return u.invert=function(j){return new Date(m(j))},u.domain=function(j){return arguments.length?p(Array.from(j,Dfe)):p().map($fe)},u.ticks=function(j){var C=p();return e(C[0],C[C.length-1],j??10)},u.tickFormat=function(j,C){return C==null?N:d(C)},u.nice=function(j){var C=p();return(!j||typeof j.range!="function")&&(j=t(C[0],C[C.length-1],j??10)),j?p(fF(C,j)):u},u.copy=function(){return Fp(u,HS(e,t,n,s,a,i,o,l,c,d))},u}function zfe(){return Qs.apply(HS(Mpe,Ipe,Ui,qS,Oy,Lp,BS,LS,Nl,PF).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ffe(){return Qs.apply(HS(_pe,Tpe,Bi,WS,Ey,Py,VS,US,Nl,OF).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function _y(){var e=0,t=1,n,s,a,i,o=Mn,l=!1,c;function d(m){return m==null||isNaN(m=+m)?c:o(a===0?.5:(m=(i(m)-n)*a,l?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([e,t]=m,n=i(e=+e),s=i(t=+t),a=n===s?0:1/(s-n),d):[e,t]},d.clamp=function(m){return arguments.length?(l=!!m,d):l},d.interpolator=function(m){return arguments.length?(o=m,d):o};function u(m){return function(p){var f,x;return arguments.length?([f,x]=p,o=m(f,x),d):[o(0),o(1)]}}return d.range=u(Fu),d.rangeRound=u(_S),d.unknown=function(m){return arguments.length?(c=m,d):c},function(m){return i=m,n=m(e),s=m(t),a=n===s?0:1/(s-n),d}}function rl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function EF(){var e=tl(_y()(Mn));return e.copy=function(){return rl(e,EF())},Ki.apply(e,arguments)}function _F(){var e=RS(_y()).domain([1,10]);return e.copy=function(){return rl(e,_F()).base(e.base())},Ki.apply(e,arguments)}function TF(){var e=$S(_y());return e.copy=function(){return rl(e,TF()).constant(e.constant())},Ki.apply(e,arguments)}function KS(){var e=DS(_y());return e.copy=function(){return rl(e,KS()).exponent(e.exponent())},Ki.apply(e,arguments)}function Lfe(){return KS.apply(null,arguments).exponent(.5)}function MF(){var e=[],t=Mn;function n(s){if(s!=null&&!isNaN(s=+s))return t((Dp(e,s,1)-1)/(e.length-1))}return n.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Do),n},n.interpolator=function(s){return arguments.length?(t=s,n):t},n.range=function(){return e.map((s,a)=>t(a/(e.length-1)))},n.quantiles=function(s){return Array.from({length:s+1},(a,i)=>khe(e,i/s))},n.copy=function(){return MF(t).domain(e)},Ki.apply(n,arguments)}function Ty(){var e=0,t=.5,n=1,s=1,a,i,o,l,c,d=Mn,u,m=!1,p;function f(h){return isNaN(h=+h)?p:(h=.5+((h=+u(h))-i)*(s*h<s*i?l:c),d(m?Math.max(0,Math.min(1,h)):h))}f.domain=function(h){return arguments.length?([e,t,n]=h,a=u(e=+e),i=u(t=+t),o=u(n=+n),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),s=i<a?-1:1,f):[e,t,n]},f.clamp=function(h){return arguments.length?(m=!!h,f):m},f.interpolator=function(h){return arguments.length?(d=h,f):d};function x(h){return function(y){var v,b,w;return arguments.length?([v,b,w]=y,d=Zhe(h,[v,b,w]),f):[d(0),d(.5),d(1)]}}return f.range=x(Fu),f.rangeRound=x(_S),f.unknown=function(h){return arguments.length?(p=h,f):p},function(h){return u=h,a=h(e),i=h(t),o=h(n),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),s=i<a?-1:1,f}}function IF(){var e=tl(Ty()(Mn));return e.copy=function(){return rl(e,IF())},Ki.apply(e,arguments)}function RF(){var e=RS(Ty()).domain([.1,1,10]);return e.copy=function(){return rl(e,RF()).base(e.base())},Ki.apply(e,arguments)}function $F(){var e=$S(Ty());return e.copy=function(){return rl(e,$F()).constant(e.constant())},Ki.apply(e,arguments)}function GS(){var e=DS(Ty());return e.copy=function(){return rl(e,GS()).exponent(e.exponent())},Ki.apply(e,arguments)}function Ufe(){return GS.apply(null,arguments).exponent(.5)}const tO=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Eh,scaleDiverging:IF,scaleDivergingLog:RF,scaleDivergingPow:GS,scaleDivergingSqrt:Ufe,scaleDivergingSymlog:$F,scaleIdentity:pF,scaleImplicit:Qj,scaleLinear:og,scaleLog:xF,scaleOrdinal:PS,scalePoint:Lm,scalePow:zS,scaleQuantile:vF,scaleQuantize:bF,scaleRadial:yF,scaleSequential:EF,scaleSequentialLog:_F,scaleSequentialPow:KS,scaleSequentialQuantile:MF,scaleSequentialSqrt:Lfe,scaleSequentialSymlog:TF,scaleSqrt:wpe,scaleSymlog:gF,scaleThreshold:wF,scaleTime:zfe,scaleUtc:Ffe,tickFormat:hF},Symbol.toStringTag,{value:"Module"}));var Bfe=Eu;function Vfe(e,t,n){for(var s=-1,a=e.length;++s<a;){var i=e[s],o=t(i);if(o!=null&&(l===void 0?o===o&&!Bfe(o):n(o,l)))var l=o,c=i}return c}var My=Vfe;function qfe(e,t){return e>t}var DF=qfe,Wfe=My,Hfe=DF,Kfe=zu;function Gfe(e){return e&&e.length?Wfe(e,Kfe,Hfe):void 0}var Yfe=Gfe;const Iy=$t(Yfe);function Qfe(e,t){return e<t}var zF=Qfe,Xfe=My,Zfe=zF,Jfe=zu;function exe(e){return e&&e.length?Xfe(e,Jfe,Zfe):void 0}var txe=exe;const Ry=$t(txe);var rxe=lS,nxe=si,sxe=Hz,axe=rs;function ixe(e,t){var n=axe(e)?rxe:sxe;return n(e,nxe(t))}var oxe=ixe,lxe=qz,cxe=oxe;function dxe(e,t){return lxe(cxe(e,t),1)}var uxe=dxe;const mxe=$t(uxe);var hxe=NS;function pxe(e,t){return hxe(e,t)}var fxe=pxe;const Up=$t(fxe);var Lu=1e9,xxe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},QS,ar=!0,Gs="[DecimalError] ",Fl=Gs+"Invalid argument: ",YS=Gs+"Exponent out of range: ",Uu=Math.floor,hl=Math.pow,gxe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ms,Jr=1e7,tr=7,FF=9007199254740991,ug=Uu(FF/tr),De={};De.absoluteValue=De.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};De.comparedTo=De.cmp=function(e){var t,n,s,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(s=i.d.length,a=e.d.length,t=0,n=s<a?s:a;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return s===a?0:s>a^i.s<0?1:-1};De.decimalPlaces=De.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*tr;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};De.dividedBy=De.div=function(e){return _i(this,new this.constructor(e))};De.dividedToIntegerBy=De.idiv=function(e){var t=this,n=t.constructor;return Ht(_i(t,new n(e),0,1),n.precision)};De.equals=De.eq=function(e){return!this.cmp(e)};De.exponent=function(){return $r(this)};De.greaterThan=De.gt=function(e){return this.cmp(e)>0};De.greaterThanOrEqualTo=De.gte=function(e){return this.cmp(e)>=0};De.isInteger=De.isint=function(){return this.e>this.d.length-2};De.isNegative=De.isneg=function(){return this.s<0};De.isPositive=De.ispos=function(){return this.s>0};De.isZero=function(){return this.s===0};De.lessThan=De.lt=function(e){return this.cmp(e)<0};De.lessThanOrEqualTo=De.lte=function(e){return this.cmp(e)<1};De.logarithm=De.log=function(e){var t,n=this,s=n.constructor,a=s.precision,i=a+5;if(e===void 0)e=new s(10);else if(e=new s(e),e.s<1||e.eq(ms))throw Error(Gs+"NaN");if(n.s<1)throw Error(Gs+(n.s?"NaN":"-Infinity"));return n.eq(ms)?new s(0):(ar=!1,t=_i(Rh(n,i),Rh(e,i),i),ar=!0,Ht(t,a))};De.minus=De.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?BF(t,e):LF(t,(e.s=-e.s,e))};De.modulo=De.mod=function(e){var t,n=this,s=n.constructor,a=s.precision;if(e=new s(e),!e.s)throw Error(Gs+"NaN");return n.s?(ar=!1,t=_i(n,e,0,1).times(e),ar=!0,n.minus(t)):Ht(new s(n),a)};De.naturalExponential=De.exp=function(){return UF(this)};De.naturalLogarithm=De.ln=function(){return Rh(this)};De.negated=De.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};De.plus=De.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?LF(t,e):BF(t,(e.s=-e.s,e))};De.precision=De.sd=function(e){var t,n,s,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Fl+e);if(t=$r(a)+1,s=a.d.length-1,n=s*tr+1,s=a.d[s],s){for(;s%10==0;s/=10)n--;for(s=a.d[0];s>=10;s/=10)n++}return e&&t>n?t:n};De.squareRoot=De.sqrt=function(){var e,t,n,s,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Gs+"NaN")}for(e=$r(l),ar=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Ua(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Uu((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),s=new c(t)):s=new c(a.toString()),n=c.precision,a=o=n+3;;)if(i=s,s=i.plus(_i(l,i,o+2)).times(.5),Ua(i.d).slice(0,o)===(t=Ua(s.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Ht(i,n+1,0),i.times(i).eq(l)){s=i;break}}else if(t!="9999")break;o+=4}return ar=!0,Ht(s,n)};De.times=De.mul=function(e){var t,n,s,a,i,o,l,c,d,u=this,m=u.constructor,p=u.d,f=(e=new m(e)).d;if(!u.s||!e.s)return new m(0);for(e.s*=u.s,n=u.e+e.e,c=p.length,d=f.length,c<d&&(i=p,p=f,f=i,o=c,c=d,d=o),i=[],o=c+d,s=o;s--;)i.push(0);for(s=d;--s>=0;){for(t=0,a=c+s;a>s;)l=i[a]+f[s]*p[a-s-1]+t,i[a--]=l%Jr|0,t=l/Jr|0;i[a]=(i[a]+t)%Jr|0}for(;!i[--o];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,ar?Ht(e,m.precision):e};De.toDecimalPlaces=De.todp=function(e,t){var n=this,s=n.constructor;return n=new s(n),e===void 0?n:(Ja(e,0,Lu),t===void 0?t=s.rounding:Ja(t,0,8),Ht(n,e+$r(n)+1,t))};De.toExponential=function(e,t){var n,s=this,a=s.constructor;return e===void 0?n=ac(s,!0):(Ja(e,0,Lu),t===void 0?t=a.rounding:Ja(t,0,8),s=Ht(new a(s),e+1,t),n=ac(s,!0,e+1)),n};De.toFixed=function(e,t){var n,s,a=this,i=a.constructor;return e===void 0?ac(a):(Ja(e,0,Lu),t===void 0?t=i.rounding:Ja(t,0,8),s=Ht(new i(a),e+$r(a)+1,t),n=ac(s.abs(),!1,e+$r(s)+1),a.isneg()&&!a.isZero()?"-"+n:n)};De.toInteger=De.toint=function(){var e=this,t=e.constructor;return Ht(new t(e),$r(e)+1,t.rounding)};De.toNumber=function(){return+this};De.toPower=De.pow=function(e){var t,n,s,a,i,o,l=this,c=l.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c(ms);if(l=new c(l),!l.s){if(e.s<1)throw Error(Gs+"Infinity");return l}if(l.eq(ms))return l;if(s=c.precision,e.eq(ms))return Ht(l,s);if(t=e.e,n=e.d.length-1,o=t>=n,i=l.s,o){if((n=u<0?-u:u)<=FF){for(a=new c(ms),t=Math.ceil(s/tr+4),ar=!1;n%2&&(a=a.times(l),nO(a.d,t)),n=Uu(n/2),n!==0;)l=l.times(l),nO(l.d,t);return ar=!0,e.s<0?new c(ms).div(a):Ht(a,s)}}else if(i<0)throw Error(Gs+"NaN");return i=i<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,ar=!1,a=e.times(Rh(l,s+d)),ar=!0,a=UF(a),a.s=i,a};De.toPrecision=function(e,t){var n,s,a=this,i=a.constructor;return e===void 0?(n=$r(a),s=ac(a,n<=i.toExpNeg||n>=i.toExpPos)):(Ja(e,1,Lu),t===void 0?t=i.rounding:Ja(t,0,8),a=Ht(new i(a),e,t),n=$r(a),s=ac(a,e<=n||n<=i.toExpNeg,e)),s};De.toSignificantDigits=De.tosd=function(e,t){var n=this,s=n.constructor;return e===void 0?(e=s.precision,t=s.rounding):(Ja(e,1,Lu),t===void 0?t=s.rounding:Ja(t,0,8)),Ht(new s(n),e,t)};De.toString=De.valueOf=De.val=De.toJSON=De[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=$r(e),n=e.constructor;return ac(e,t<=n.toExpNeg||t>=n.toExpPos)};function LF(e,t){var n,s,a,i,o,l,c,d,u=e.constructor,m=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),ar?Ht(t,m):t;if(c=e.d,d=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(s=c,i=-i,l=d.length):(s=d,a=o,l=c.length),o=Math.ceil(m/tr),l=o>l?o+1:l+1,i>l&&(i=l,s.length=1),s.reverse();i--;)s.push(0);s.reverse()}for(l=c.length,i=d.length,l-i<0&&(i=l,s=d,d=c,c=s),n=0;i;)n=(c[--i]=c[i]+d[i]+n)/Jr|0,c[i]%=Jr;for(n&&(c.unshift(n),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,ar?Ht(t,m):t}function Ja(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Fl+e)}function Ua(e){var t,n,s,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)s=e[t]+"",n=tr-s.length,n&&(i+=so(n)),i+=s;o=e[t],s=o+"",n=tr-s.length,n&&(i+=so(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var _i=function(){function e(s,a){var i,o=0,l=s.length;for(s=s.slice();l--;)i=s[l]*a+o,s[l]=i%Jr|0,o=i/Jr|0;return o&&s.unshift(o),s}function t(s,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(s[l]!=a[l]){c=s[l]>a[l]?1:-1;break}return c}function n(s,a,i){for(var o=0;i--;)s[i]-=o,o=s[i]<a[i]?1:0,s[i]=o*Jr+s[i]-a[i];for(;!s[0]&&s.length>1;)s.shift()}return function(s,a,i,o){var l,c,d,u,m,p,f,x,h,y,v,b,w,S,N,j,C,A,k=s.constructor,O=s.s==a.s?1:-1,M=s.d,P=a.d;if(!s.s)return new k(s);if(!a.s)throw Error(Gs+"Division by zero");for(c=s.e-a.e,C=P.length,N=M.length,f=new k(O),x=f.d=[],d=0;P[d]==(M[d]||0);)++d;if(P[d]>(M[d]||0)&&--c,i==null?b=i=k.precision:o?b=i+($r(s)-$r(a))+1:b=i,b<0)return new k(0);if(b=b/tr+2|0,d=0,C==1)for(u=0,P=P[0],b++;(d<N||u)&&b--;d++)w=u*Jr+(M[d]||0),x[d]=w/P|0,u=w%P|0;else{for(u=Jr/(P[0]+1)|0,u>1&&(P=e(P,u),M=e(M,u),C=P.length,N=M.length),S=C,h=M.slice(0,C),y=h.length;y<C;)h[y++]=0;A=P.slice(),A.unshift(0),j=P[0],P[1]>=Jr/2&&++j;do u=0,l=t(P,h,C,y),l<0?(v=h[0],C!=y&&(v=v*Jr+(h[1]||0)),u=v/j|0,u>1?(u>=Jr&&(u=Jr-1),m=e(P,u),p=m.length,y=h.length,l=t(m,h,p,y),l==1&&(u--,n(m,C<p?A:P,p))):(u==0&&(l=u=1),m=P.slice()),p=m.length,p<y&&m.unshift(0),n(h,m,y),l==-1&&(y=h.length,l=t(P,h,C,y),l<1&&(u++,n(h,C<y?A:P,y))),y=h.length):l===0&&(u++,h=[0]),x[d++]=u,l&&h[0]?h[y++]=M[S]||0:(h=[M[S]],y=1);while((S++<N||h[0]!==void 0)&&b--)}return x[0]||x.shift(),f.e=c,Ht(f,o?i+$r(f)+1:i)}}();function UF(e,t){var n,s,a,i,o,l,c=0,d=0,u=e.constructor,m=u.precision;if($r(e)>16)throw Error(YS+$r(e));if(!e.s)return new u(ms);for(ar=!1,l=m,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(s=Math.log(hl(2,d))/Math.LN10*2+5|0,l+=s,n=a=i=new u(ms),u.precision=l;;){if(a=Ht(a.times(e),l),n=n.times(++c),o=i.plus(_i(a,n,l)),Ua(o.d).slice(0,l)===Ua(i.d).slice(0,l)){for(;d--;)i=Ht(i.times(i),l);return u.precision=m,t==null?(ar=!0,Ht(i,m)):i}i=o}}function $r(e){for(var t=e.e*tr,n=e.d[0];n>=10;n/=10)t++;return t}function vb(e,t,n){if(t>e.LN10.sd())throw ar=!0,n&&(e.precision=n),Error(Gs+"LN10 precision limit exceeded");return Ht(new e(e.LN10),t)}function so(e){for(var t="";e--;)t+="0";return t}function Rh(e,t){var n,s,a,i,o,l,c,d,u,m=1,p=10,f=e,x=f.d,h=f.constructor,y=h.precision;if(f.s<1)throw Error(Gs+(f.s?"NaN":"-Infinity"));if(f.eq(ms))return new h(0);if(t==null?(ar=!1,d=y):d=t,f.eq(10))return t==null&&(ar=!0),vb(h,d);if(d+=p,h.precision=d,n=Ua(x),s=n.charAt(0),i=$r(f),Math.abs(i)<15e14){for(;s<7&&s!=1||s==1&&n.charAt(1)>3;)f=f.times(e),n=Ua(f.d),s=n.charAt(0),m++;i=$r(f),s>1?(f=new h("0."+n),i++):f=new h(s+"."+n.slice(1))}else return c=vb(h,d+2,y).times(i+""),f=Rh(new h(s+"."+n.slice(1)),d-p).plus(c),h.precision=y,t==null?(ar=!0,Ht(f,y)):f;for(l=o=f=_i(f.minus(ms),f.plus(ms),d),u=Ht(f.times(f),d),a=3;;){if(o=Ht(o.times(u),d),c=l.plus(_i(o,new h(a),d)),Ua(c.d).slice(0,d)===Ua(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(vb(h,d+2,y).times(i+""))),l=_i(l,new h(m),d),h.precision=y,t==null?(ar=!0,Ht(l,y)):l;l=c,a+=2}}function rO(e,t){var n,s,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(s=t.search(/e/i))>0?(n<0&&(n=s),n+=+t.slice(s+1),t=t.substring(0,s)):n<0&&(n=t.length),s=0;t.charCodeAt(s)===48;)++s;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(s,a),t){if(a-=s,n=n-s-1,e.e=Uu(n/tr),e.d=[],s=(n+1)%tr,n<0&&(s+=tr),s<a){for(s&&e.d.push(+t.slice(0,s)),a-=tr;s<a;)e.d.push(+t.slice(s,s+=tr));t=t.slice(s),s=tr-t.length}else s-=a;for(;s--;)t+="0";if(e.d.push(+t),ar&&(e.e>ug||e.e<-ug))throw Error(YS+n)}else e.s=0,e.e=0,e.d=[0];return e}function Ht(e,t,n){var s,a,i,o,l,c,d,u,m=e.d;for(o=1,i=m[0];i>=10;i/=10)o++;if(s=t-o,s<0)s+=tr,a=t,d=m[u=0];else{if(u=Math.ceil((s+1)/tr),i=m.length,u>=i)return e;for(d=i=m[u],o=1;i>=10;i/=10)o++;s%=tr,a=s-tr+o}if(n!==void 0&&(i=hl(10,o-a-1),l=d/i%10|0,c=t<0||m[u+1]!==void 0||d%i,c=n<4?(l||c)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(s>0?a>0?d/hl(10,o-a):0:m[u-1])%10&1||n==(e.s<0?8:7))),t<1||!m[0])return c?(i=$r(e),m.length=1,t=t-i-1,m[0]=hl(10,(tr-t%tr)%tr),e.e=Uu(-t/tr)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(s==0?(m.length=u,i=1,u--):(m.length=u+1,i=hl(10,tr-s),m[u]=a>0?(d/hl(10,o-a)%hl(10,a)|0)*i:0),c)for(;;)if(u==0){(m[0]+=i)==Jr&&(m[0]=1,++e.e);break}else{if(m[u]+=i,m[u]!=Jr)break;m[u--]=0,i=1}for(s=m.length;m[--s]===0;)m.pop();if(ar&&(e.e>ug||e.e<-ug))throw Error(YS+$r(e));return e}function BF(e,t){var n,s,a,i,o,l,c,d,u,m,p=e.constructor,f=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),ar?Ht(t,f):t;if(c=e.d,m=t.d,s=t.e,d=e.e,c=c.slice(),o=d-s,o){for(u=o<0,u?(n=c,o=-o,l=m.length):(n=m,s=d,l=c.length),a=Math.max(Math.ceil(f/tr),l)+2,o>a&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for(a=c.length,l=m.length,u=a<l,u&&(l=a),a=0;a<l;a++)if(c[a]!=m[a]){u=c[a]<m[a];break}o=0}for(u&&(n=c,c=m,m=n,t.s=-t.s),l=c.length,a=m.length-l;a>0;--a)c[l++]=0;for(a=m.length;a>o;){if(c[--a]<m[a]){for(i=a;i&&c[--i]===0;)c[i]=Jr-1;--c[i],c[a]+=Jr}c[a]-=m[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--s;return c[0]?(t.d=c,t.e=s,ar?Ht(t,f):t):new p(0)}function ac(e,t,n){var s,a=$r(e),i=Ua(e.d),o=i.length;return t?(n&&(s=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+so(s):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+so(-a-1)+i,n&&(s=n-o)>0&&(i+=so(s))):a>=o?(i+=so(a+1-o),n&&(s=n-a-1)>0&&(i=i+"."+so(s))):((s=a+1)<o&&(i=i.slice(0,s)+"."+i.slice(s)),n&&(s=n-o)>0&&(a+1===o&&(i+="."),i+=so(s))),e.s<0?"-"+i:i}function nO(e,t){if(e.length>t)return e.length=t,!0}function VF(e){var t,n,s;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Fl+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return rO(o,i.toString())}else if(typeof i!="string")throw Error(Fl+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,gxe.test(i))rO(o,i);else throw Error(Fl+i)}if(a.prototype=De,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=VF,a.config=a.set=yxe,e===void 0&&(e={}),e)for(s=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<s.length;)e.hasOwnProperty(n=s[t++])||(e[n]=this[n]);return a.config(e),a}function yxe(e){if(!e||typeof e!="object")throw Error(Gs+"Object expected");var t,n,s,a=["precision",1,Lu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((s=e[n=a[t]])!==void 0)if(Uu(s)===s&&s>=a[t+1]&&s<=a[t+2])this[n]=s;else throw Error(Fl+n+": "+s);if((s=e[n="LN10"])!==void 0)if(s==Math.LN10)this[n]=new this(s);else throw Error(Fl+n+": "+s);return this}var QS=VF(xxe);ms=new QS(1);const Vt=QS;function vxe(e){return Nxe(e)||jxe(e)||wxe(e)||bxe()}function bxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wxe(e,t){if(e){if(typeof e=="string")return eN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eN(e,t)}}function jxe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Nxe(e){if(Array.isArray(e))return eN(e)}function eN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var Sxe=function(t){return t},qF={},WF=function(t){return t===qF},sO=function(t){return function n(){return arguments.length===0||arguments.length===1&&WF(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},Cxe=function e(t,n){return t===1?n:sO(function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==qF}).length;return o>=t?n.apply(void 0,a):e(t-o,sO(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var u=a.map(function(m){return WF(m)?c.shift():m});return n.apply(void 0,vxe(u).concat(c))}))})},$y=function(t){return Cxe(t.length,t)},tN=function(t,n){for(var s=[],a=t;a<n;++a)s[a-t]=a;return s},kxe=$y(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),Axe=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];if(!n.length)return Sxe;var a=n.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},rN=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},HF=function(t){var n=null,s=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n&&i.every(function(l,c){return l===n[c]})||(n=i,s=t.apply(void 0,i)),s}};function Pxe(e){var t;return e===0?t=1:t=Math.floor(new Vt(e).abs().log(10).toNumber())+1,t}function Oxe(e,t,n){for(var s=new Vt(e),a=0,i=[];s.lt(t)&&a<1e5;)i.push(s.toNumber()),s=s.add(n),a++;return i}var Exe=$y(function(e,t,n){var s=+e,a=+t;return s+n*(a-s)}),_xe=$y(function(e,t,n){var s=t-+e;return s=s||1/0,(n-e)/s}),Txe=$y(function(e,t,n){var s=t-+e;return s=s||1/0,Math.max(0,Math.min(1,(n-e)/s))});const Dy={rangeStep:Oxe,getDigitCount:Pxe,interpolateNumber:Exe,uninterpolateNumber:_xe,uninterpolateTruncation:Txe};function nN(e){return Rxe(e)||Ixe(e)||KF(e)||Mxe()}function Mxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ixe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Rxe(e){if(Array.isArray(e))return sN(e)}function $h(e,t){return zxe(e)||Dxe(e,t)||KF(e,t)||$xe()}function $xe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KF(e,t){if(e){if(typeof e=="string")return sN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sN(e,t)}}function sN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function Dxe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],s=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(s=(l=o.next()).done)&&(n.push(l.value),!(t&&n.length===t));s=!0);}catch(c){a=!0,i=c}finally{try{!s&&o.return!=null&&o.return()}finally{if(a)throw i}}return n}}function zxe(e){if(Array.isArray(e))return e}function GF(e){var t=$h(e,2),n=t[0],s=t[1],a=n,i=s;return n>s&&(a=s,i=n),[a,i]}function YF(e,t,n){if(e.lte(0))return new Vt(0);var s=Dy.getDigitCount(e.toNumber()),a=new Vt(10).pow(s),i=e.div(a),o=s!==1?.05:.1,l=new Vt(Math.ceil(i.div(o).toNumber())).add(n).mul(o),c=l.mul(a);return t?c:new Vt(Math.ceil(c))}function Fxe(e,t,n){var s=1,a=new Vt(e);if(!a.isint()&&n){var i=Math.abs(e);i<1?(s=new Vt(10).pow(Dy.getDigitCount(e)-1),a=new Vt(Math.floor(a.div(s).toNumber())).mul(s)):i>1&&(a=new Vt(Math.floor(e)))}else e===0?a=new Vt(Math.floor((t-1)/2)):n||(a=new Vt(Math.floor(e)));var o=Math.floor((t-1)/2),l=Axe(kxe(function(c){return a.add(new Vt(c-o).mul(s)).toNumber()}),tN);return l(0,t)}function QF(e,t,n,s){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new Vt(0),tickMin:new Vt(0),tickMax:new Vt(0)};var i=YF(new Vt(t).sub(e).div(n-1),s,a),o;e<=0&&t>=0?o=new Vt(0):(o=new Vt(e).add(t).div(2),o=o.sub(new Vt(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Vt(t).sub(o).div(i).toNumber()),d=l+c+1;return d>n?QF(e,t,n,s,a+1):(d<n&&(c=t>0?c+(n-d):c,l=t>0?l:l+(n-d)),{step:i,tickMin:o.sub(new Vt(l).mul(i)),tickMax:o.add(new Vt(c).mul(i))})}function Lxe(e){var t=$h(e,2),n=t[0],s=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=GF([n,s]),c=$h(l,2),d=c[0],u=c[1];if(d===-1/0||u===1/0){var m=u===1/0?[d].concat(nN(tN(0,a-1).map(function(){return 1/0}))):[].concat(nN(tN(0,a-1).map(function(){return-1/0})),[u]);return n>s?rN(m):m}if(d===u)return Fxe(d,a,i);var p=QF(d,u,o,i),f=p.step,x=p.tickMin,h=p.tickMax,y=Dy.rangeStep(x,h.add(new Vt(.1).mul(f)),f);return n>s?rN(y):y}function Uxe(e,t){var n=$h(e,2),s=n[0],a=n[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=GF([s,a]),l=$h(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[s,a];if(c===d)return[c];var u=Math.max(t,2),m=YF(new Vt(d).sub(c).div(u-1),i,0),p=[].concat(nN(Dy.rangeStep(new Vt(c),new Vt(d).sub(new Vt(.99).mul(m)),m)),[d]);return s>a?rN(p):p}var Bxe=HF(Lxe),Vxe=HF(Uxe),qxe="Invariant failed";function ic(e,t){throw new Error(qxe)}var Wxe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Qd(e){"@babel/helpers - typeof";return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qd(e)}function mg(){return mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},mg.apply(this,arguments)}function Hxe(e,t){return Qxe(e)||Yxe(e,t)||Gxe(e,t)||Kxe()}function Kxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gxe(e,t){if(e){if(typeof e=="string")return aO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aO(e,t)}}function aO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function Yxe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Qxe(e){if(Array.isArray(e))return e}function Xxe(e,t){if(e==null)return{};var n=Zxe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Zxe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function Jxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ege(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,JF(s.key),s)}}function tge(e,t,n){return t&&ege(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rge(e,t,n){return t=hg(t),nge(e,XF()?Reflect.construct(t,n||[],hg(e).constructor):t.apply(e,n))}function nge(e,t){if(t&&(Qd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sge(e)}function sge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XF=function(){return!!e})()}function hg(e){return hg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hg(e)}function age(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aN(e,t)}function aN(e,t){return aN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},aN(e,t)}function ZF(e,t,n){return t=JF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JF(e){var t=ige(e,"string");return Qd(t)=="symbol"?t:t+""}function ige(e,t){if(Qd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Qd(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Bp=function(e){function t(){return Jxe(this,t),rge(this,t,arguments)}return age(t,e),tge(t,[{key:"render",value:function(){var s=this.props,a=s.offset,i=s.layout,o=s.width,l=s.dataKey,c=s.data,d=s.dataPointFormatter,u=s.xAxis,m=s.yAxis,p=Xxe(s,Wxe),f=Ye(p,!1);this.props.direction==="x"&&u.type!=="number"&&ic();var x=c.map(function(h){var y=d(h,l),v=y.x,b=y.y,w=y.value,S=y.errorVal;if(!S)return null;var N=[],j,C;if(Array.isArray(S)){var A=Hxe(S,2);j=A[0],C=A[1]}else j=C=S;if(i==="vertical"){var k=u.scale,O=b+a,M=O+o,P=O-o,_=k(w-j),E=k(w+C);N.push({x1:E,y1:M,x2:E,y2:P}),N.push({x1:_,y1:O,x2:E,y2:O}),N.push({x1:_,y1:M,x2:_,y2:P})}else if(i==="horizontal"){var T=m.scale,$=v+a,q=$-o,R=$+o,D=T(w-j),V=T(w+C);N.push({x1:q,y1:V,x2:R,y2:V}),N.push({x1:$,y1:D,x2:$,y2:V}),N.push({x1:q,y1:D,x2:R,y2:D})}return L.createElement(Ot,mg({className:"recharts-errorBar",key:"bar-".concat(N.map(function(F){return"".concat(F.x1,"-").concat(F.x2,"-").concat(F.y1,"-").concat(F.y2)}))},f),N.map(function(F){return L.createElement("line",mg({},F,{key:"line-".concat(F.x1,"-").concat(F.x2,"-").concat(F.y1,"-").concat(F.y2)}))}))});return L.createElement(Ot,{className:"recharts-errorBars"},x)}}])}(L.Component);ZF(Bp,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});ZF(Bp,"displayName","ErrorBar");function Dh(e){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dh(e)}function iO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function al(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iO(Object(n),!0).forEach(function(s){oge(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iO(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function oge(e,t,n){return t=lge(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lge(e){var t=cge(e,"string");return Dh(t)=="symbol"?t:t+""}function cge(e,t){if(Dh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Dh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var e6=function(t){var n=t.children,s=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=os(n,Ei);if(!o)return null;var l=Ei.defaultProps,c=l!==void 0?al(al({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:i==="children"?d=(s||[]).reduce(function(u,m){var p=m.item,f=m.props,x=f.sectors||f.data||[];return u.concat(x.map(function(h){return{type:o.props.iconType||p.props.legendType,value:h.name,color:h.fill,payload:h}}))},[]):d=(s||[]).map(function(u){var m=u.item,p=m.type.defaultProps,f=p!==void 0?al(al({},p),m.props):{},x=f.dataKey,h=f.name,y=f.legendType,v=f.hide;return{inactive:v,dataKey:x,type:c.iconType||y||"square",color:XS(m),value:h||x,payload:f}}),al(al(al({},c),Ei.getWithHeight(o,a)),{},{payload:d,item:o})};function zh(e){"@babel/helpers - typeof";return zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zh(e)}function oO(e){return hge(e)||mge(e)||uge(e)||dge()}function dge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uge(e,t){if(e){if(typeof e=="string")return iN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iN(e,t)}}function mge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hge(e){if(Array.isArray(e))return iN(e)}function iN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function lO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function pr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lO(Object(n),!0).forEach(function(s){fd(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lO(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function fd(e,t,n){return t=pge(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pge(e){var t=fge(e,"string");return zh(t)=="symbol"?t:t+""}function fge(e,t){if(zh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(zh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kr(e,t,n){return it(e)||it(t)?n:Yr(t)?vs(e,t,n):Je(t)?t(e):n}function Um(e,t,n,s){var a=mxe(e,function(l){return Kr(l,t)});if(n==="number"){var i=a.filter(function(l){return Se(l)||parseFloat(l)});return i.length?[Ry(i),Iy(i)]:[1/0,-1/0]}var o=s?a.filter(function(l){return!it(l)}):a;return o.map(function(l){return Yr(l)||l instanceof Date?l:""})}var xge=function(t){var n,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=s==null?void 0:s.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,d=0;d<l;d++){var u=d>0?a[d-1].coordinate:a[l-1].coordinate,m=a[d].coordinate,p=d>=l-1?a[0].coordinate:a[d+1].coordinate,f=void 0;if(_n(m-u)!==_n(p-m)){var x=[];if(_n(p-m)===_n(c[1]-c[0])){f=p;var h=m+c[1]-c[0];x[0]=Math.min(h,(h+u)/2),x[1]=Math.max(h,(h+u)/2)}else{f=u;var y=p+c[1]-c[0];x[0]=Math.min(m,(y+m)/2),x[1]=Math.max(m,(y+m)/2)}var v=[Math.min(m,(f+m)/2),Math.max(m,(f+m)/2)];if(t>v[0]&&t<=v[1]||t>=x[0]&&t<=x[1]){o=a[d].index;break}}else{var b=Math.min(u,p),w=Math.max(u,p);if(t>(b+m)/2&&t<=(w+m)/2){o=a[d].index;break}}}else for(var S=0;S<l;S++)if(S===0&&t<=(s[S].coordinate+s[S+1].coordinate)/2||S>0&&S<l-1&&t>(s[S].coordinate+s[S-1].coordinate)/2&&t<=(s[S].coordinate+s[S+1].coordinate)/2||S===l-1&&t>(s[S].coordinate+s[S-1].coordinate)/2){o=s[S].index;break}return o},XS=function(t){var n,s=t,a=s.type.displayName,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?pr(pr({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},gge=function(t){var n=t.barSize,s=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,d=l.length;c<d;c++)for(var u=i[l[c]].stackGroups,m=Object.keys(u),p=0,f=m.length;p<f;p++){var x=u[m[p]],h=x.items,y=x.cateAxisId,v=h.filter(function(C){return Oi(C.type).indexOf("Bar")>=0});if(v&&v.length){var b=v[0].type.defaultProps,w=b!==void 0?pr(pr({},b),v[0].props):v[0].props,S=w.barSize,N=w[y];o[N]||(o[N]=[]);var j=it(S)?n:S;o[N].push({item:v[0],stackList:v.slice(1),barSize:it(j)?void 0:Tn(j,s,0)})}}return o},yge=function(t){var n=t.barGap,s=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var d=Tn(n,a,0,!0),u,m=[];if(o[0].barSize===+o[0].barSize){var p=!1,f=a/c,x=o.reduce(function(S,N){return S+N.barSize||0},0);x+=(c-1)*d,x>=a&&(x-=(c-1)*d,d=0),x>=a&&f>0&&(p=!0,f*=.9,x=c*f);var h=(a-x)/2>>0,y={offset:h-d,size:0};u=o.reduce(function(S,N){var j={item:N.item,position:{offset:y.offset+y.size+d,size:p?f:N.barSize}},C=[].concat(oO(S),[j]);return y=C[C.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(A){C.push({item:A,position:y})}),C},m)}else{var v=Tn(s,a,0,!0);a-2*v-(c-1)*d<=0&&(d=0);var b=(a-2*v-(c-1)*d)/c;b>1&&(b>>=0);var w=l===+l?Math.min(b,l):b;u=o.reduce(function(S,N,j){var C=[].concat(oO(S),[{item:N.item,position:{offset:v+(b+d)*j+(b-w)/2,size:w}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(A){C.push({item:A,position:C[C.length-1].position})}),C},m)}return u},vge=function(t,n,s,a){var i=s.children,o=s.width,l=s.margin,c=o-(l.left||0)-(l.right||0),d=e6({children:i,legendWidth:c});if(d){var u=a||{},m=u.width,p=u.height,f=d.align,x=d.verticalAlign,h=d.layout;if((h==="vertical"||h==="horizontal"&&x==="middle")&&f!=="center"&&Se(t[f]))return pr(pr({},t),{},fd({},f,t[f]+(m||0)));if((h==="horizontal"||h==="vertical"&&f==="center")&&x!=="middle"&&Se(t[x]))return pr(pr({},t),{},fd({},x,t[x]+(p||0)))}return t},bge=function(t,n,s){return it(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||s==="x"?n==="xAxis":s==="y"?n==="yAxis":!0},t6=function(t,n,s,a,i){var o=n.props.children,l=bs(o,Bp).filter(function(d){return bge(a,i,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return t.reduce(function(d,u){var m=Kr(u,s);if(it(m))return d;var p=Array.isArray(m)?[Ry(m),Iy(m)]:[m,m],f=c.reduce(function(x,h){var y=Kr(u,h,0),v=p[0]-Math.abs(Array.isArray(y)?y[0]:y),b=p[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(v,x[0]),Math.max(b,x[1])]},[1/0,-1/0]);return[Math.min(f[0],d[0]),Math.max(f[1],d[1])]},[1/0,-1/0])}return null},wge=function(t,n,s,a,i){var o=n.map(function(l){return t6(t,l,s,i,a)}).filter(function(l){return!it(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},r6=function(t,n,s,a,i){var o=n.map(function(c){var d=c.props.dataKey;return s==="number"&&d&&t6(t,c,d,a)||Um(t,d,s,i)});if(s==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var u=0,m=d.length;u<m;u++)l[d[u]]||(l[d[u]]=!0,c.push(d[u]));return c},[])},n6=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},s6=function(t,n,s,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===n&&(i=!0),c.coordinate===s&&(o=!0),c.coordinate});return i||l.push(n),o||l.push(s),l},Si=function(t,n,s){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,d=(n||s)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(d=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?_n(l[0]-l[1])*2*d:d,n&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(m){var p=i?i.indexOf(m):m;return{coordinate:a(p)+d,value:m,offset:d}});return u.filter(function(m){return!Rp(m.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(m,p){return{coordinate:a(m)+d,value:m,index:p,offset:d}}):a.ticks&&!s?a.ticks(t.tickCount).map(function(m){return{coordinate:a(m)+d,value:m,offset:d}}):a.domain().map(function(m,p){return{coordinate:a(m)+d,value:i?i[m]:m,index:p,offset:d}})},bb=new WeakMap,kf=function(t,n){if(typeof n!="function")return t;bb.has(t)||bb.set(t,new WeakMap);var s=bb.get(t);if(s.has(n))return s.get(n);var a=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return s.set(n,a),a},a6=function(t,n,s){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Eh(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:og(),realScaleType:"linear"}:i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!s)?{scale:Lm(),realScaleType:"point"}:i==="category"?{scale:Eh(),realScaleType:"band"}:{scale:og(),realScaleType:"linear"};if(rc(a)){var c="scale".concat(vy(a));return{scale:(tO[c]||Lm)(),realScaleType:tO[c]?c:"point"}}return Je(a)?{scale:a}:{scale:Lm(),realScaleType:"point"}},cO=1e-4,i6=function(t){var n=t.domain();if(!(!n||n.length<=2)){var s=n.length,a=t.range(),i=Math.min(a[0],a[1])-cO,o=Math.max(a[0],a[1])+cO,l=t(n[0]),c=t(n[s-1]);(l<i||l>o||c<i||c>o)&&t.domain([n[0],n[s-1]])}},jge=function(t,n){if(!t)return null;for(var s=0,a=t.length;s<a;s++)if(t[s].item===n)return t[s].position;return null},Nge=function(t,n){if(!n||n.length!==2||!Se(n[0])||!Se(n[1]))return t;var s=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]),i=[t[0],t[1]];return(!Se(t[0])||t[0]<s)&&(i[0]=s),(!Se(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<s&&(i[1]=s),i},Sge=function(t){var n=t.length;if(!(n<=0))for(var s=0,a=t[0].length;s<a;++s)for(var i=0,o=0,l=0;l<n;++l){var c=Rp(t[l][s][1])?t[l][s][0]:t[l][s][1];c>=0?(t[l][s][0]=i,t[l][s][1]=i+c,i=t[l][s][1]):(t[l][s][0]=o,t[l][s][1]=o+c,o=t[l][s][1])}},Cge=function(t){var n=t.length;if(!(n<=0))for(var s=0,a=t[0].length;s<a;++s)for(var i=0,o=0;o<n;++o){var l=Rp(t[o][s][1])?t[o][s][0]:t[o][s][1];l>=0?(t[o][s][0]=i,t[o][s][1]=i+l,i=t[o][s][1]):(t[o][s][0]=0,t[o][s][1]=0)}},kge={sign:Sge,expand:Wne,none:Bd,silhouette:Hne,wiggle:Kne,positive:Cge},Age=function(t,n,s){var a=n.map(function(l){return l.props.dataKey}),i=kge[s],o=qne().keys(a).value(function(l,c){return+Kr(l,c,0)}).order(_j).offset(i);return o(t)},Pge=function(t,n,s,a,i,o){if(!t)return null;var l=o?n.reverse():n,c={},d=l.reduce(function(m,p){var f,x=(f=p.type)!==null&&f!==void 0&&f.defaultProps?pr(pr({},p.type.defaultProps),p.props):p.props,h=x.stackId,y=x.hide;if(y)return m;var v=x[s],b=m[v]||{hasStack:!1,stackGroups:{}};if(Yr(h)){var w=b.stackGroups[h]||{numericAxisId:s,cateAxisId:a,items:[]};w.items.push(p),b.hasStack=!0,b.stackGroups[h]=w}else b.stackGroups[Ru("_stackId_")]={numericAxisId:s,cateAxisId:a,items:[p]};return pr(pr({},m),{},fd({},v,b))},c),u={};return Object.keys(d).reduce(function(m,p){var f=d[p];if(f.hasStack){var x={};f.stackGroups=Object.keys(f.stackGroups).reduce(function(h,y){var v=f.stackGroups[y];return pr(pr({},h),{},fd({},y,{numericAxisId:s,cateAxisId:a,items:v.items,stackedData:Age(t,v.items,i)}))},x)}return pr(pr({},m),{},fd({},p,f))},u)},o6=function(t,n){var s=n.realScaleType,a=n.type,i=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=s||n.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=t.domain();if(!d.length)return null;var u=Bxe(d,i,l);return t.domain([Ry(u),Iy(u)]),{niceTicks:u}}if(i&&a==="number"){var m=t.domain(),p=Vxe(m,i,l);return{niceTicks:p}}return null};function dO(e){var t=e.axis,n=e.ticks,s=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!it(a[t.dataKey])){var l=Lx(n,"value",a[t.dataKey]);if(l)return l.coordinate+s/2}return n[i]?n[i].coordinate+s/2:null}var c=Kr(a,it(o)?t.dataKey:o);return it(c)?null:t.scale(c)}var uO=function(t){var n=t.axis,s=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(n.type==="category")return s[l]?s[l].coordinate+a:null;var c=Kr(o,n.dataKey,n.domain[l]);return it(c)?null:n.scale(c)-i/2+a},Oge=function(t){var n=t.numericAxis,s=n.scale.domain();if(n.type==="number"){var a=Math.min(s[0],s[1]),i=Math.max(s[0],s[1]);return a<=0&&i>=0?0:i<0?i:a}return s[0]},Ege=function(t,n){var s,a=(s=t.type)!==null&&s!==void 0&&s.defaultProps?pr(pr({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(Yr(i)){var o=n[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},_ge=function(t){return t.reduce(function(n,s){return[Ry(s.concat([n[0]]).filter(Se)),Iy(s.concat([n[1]]).filter(Se))]},[1/0,-1/0])},l6=function(t,n,s){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(d,u){var m=_ge(u.slice(n,s+1));return[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},mO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,hO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,oN=function(t,n,s){if(Je(t))return t(n,s);if(!Array.isArray(t))return n;var a=[];if(Se(t[0]))a[0]=s?t[0]:Math.min(t[0],n[0]);else if(mO.test(t[0])){var i=+mO.exec(t[0])[1];a[0]=n[0]-i}else Je(t[0])?a[0]=t[0](n[0]):a[0]=n[0];if(Se(t[1]))a[1]=s?t[1]:Math.max(t[1],n[1]);else if(hO.test(t[1])){var o=+hO.exec(t[1])[1];a[1]=n[1]+o}else Je(t[1])?a[1]=t[1](n[1]):a[1]=n[1];return a},pg=function(t,n,s){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!s||a>0)return a}if(t&&n&&n.length>=2){for(var i=CS(n,function(m){return m.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var d=i[l],u=i[l-1];o=Math.min((d.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return s?void 0:0},pO=function(t,n,s){return!t||!t.length||Up(t,vs(s,"type.defaultProps.domain"))?n:t},c6=function(t,n){var s=t.type.defaultProps?pr(pr({},t.type.defaultProps),t.props):t.props,a=s.dataKey,i=s.name,o=s.unit,l=s.formatter,c=s.tooltipType,d=s.chartType,u=s.hide;return pr(pr({},Ye(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:XS(t),value:Kr(n,a),type:c,payload:n,chartType:d,hide:u})};function Fh(e){"@babel/helpers - typeof";return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fh(e)}function fO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function mi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fO(Object(n),!0).forEach(function(s){d6(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fO(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function d6(e,t,n){return t=Tge(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tge(e){var t=Mge(e,"string");return Fh(t)=="symbol"?t:t+""}function Mge(e,t){if(Fh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Fh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ige(e,t){return zge(e)||Dge(e,t)||$ge(e,t)||Rge()}function Rge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ge(e,t){if(e){if(typeof e=="string")return xO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xO(e,t)}}function xO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function Dge(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function zge(e){if(Array.isArray(e))return e}var fg=Math.PI/180,Fge=function(t){return t*180/Math.PI},Xt=function(t,n,s,a){return{x:t+Math.cos(-fg*a)*s,y:n+Math.sin(-fg*a)*s}},u6=function(t,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(s.left||0)-(s.right||0)),Math.abs(n-(s.top||0)-(s.bottom||0)))/2},Lge=function(t,n,s,a,i){var o=t.width,l=t.height,c=t.startAngle,d=t.endAngle,u=Tn(t.cx,o,o/2),m=Tn(t.cy,l,l/2),p=u6(o,l,s),f=Tn(t.innerRadius,p,0),x=Tn(t.outerRadius,p,p*.8),h=Object.keys(n);return h.reduce(function(y,v){var b=n[v],w=b.domain,S=b.reversed,N;if(it(b.range))a==="angleAxis"?N=[c,d]:a==="radiusAxis"&&(N=[f,x]),S&&(N=[N[1],N[0]]);else{N=b.range;var j=N,C=Ige(j,2);c=C[0],d=C[1]}var A=a6(b,i),k=A.realScaleType,O=A.scale;O.domain(w).range(N),i6(O);var M=o6(O,mi(mi({},b),{},{realScaleType:k})),P=mi(mi(mi({},b),M),{},{range:N,radius:x,realScaleType:k,scale:O,cx:u,cy:m,innerRadius:f,outerRadius:x,startAngle:c,endAngle:d});return mi(mi({},y),{},d6({},v,P))},{})},Uge=function(t,n){var s=t.x,a=t.y,i=n.x,o=n.y;return Math.sqrt(Math.pow(s-i,2)+Math.pow(a-o,2))},Bge=function(t,n){var s=t.x,a=t.y,i=n.cx,o=n.cy,l=Uge({x:s,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(s-i)/l,d=Math.acos(c);return a>o&&(d=2*Math.PI-d),{radius:l,angle:Fge(d),angleInRadian:d}},Vge=function(t){var n=t.startAngle,s=t.endAngle,a=Math.floor(n/360),i=Math.floor(s/360),o=Math.min(a,i);return{startAngle:n-o*360,endAngle:s-o*360}},qge=function(t,n){var s=n.startAngle,a=n.endAngle,i=Math.floor(s/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},gO=function(t,n){var s=t.x,a=t.y,i=Bge({x:s,y:a},n),o=i.radius,l=i.angle,c=n.innerRadius,d=n.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var u=Vge(n),m=u.startAngle,p=u.endAngle,f=l,x;if(m<=p){for(;f>p;)f-=360;for(;f<m;)f+=360;x=f>=m&&f<=p}else{for(;f>m;)f-=360;for(;f<p;)f+=360;x=f>=p&&f<=m}return x?mi(mi({},n),{},{radius:o,angle:qge(f,n)}):null},m6=function(t){return!g.isValidElement(t)&&!Je(t)&&typeof t!="boolean"?t.className:""};function Lh(e){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lh(e)}var Wge=["offset"];function Hge(e){return Qge(e)||Yge(e)||Gge(e)||Kge()}function Kge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gge(e,t){if(e){if(typeof e=="string")return lN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lN(e,t)}}function Yge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Qge(e){if(Array.isArray(e))return lN(e)}function lN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function Xge(e,t){if(e==null)return{};var n=Zge(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Zge(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function yO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Vr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yO(Object(n),!0).forEach(function(s){Jge(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yO(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Jge(e,t,n){return t=e0e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e0e(e){var t=t0e(e,"string");return Lh(t)=="symbol"?t:t+""}function t0e(e,t){if(Lh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Lh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uh(){return Uh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Uh.apply(this,arguments)}var r0e=function(t){var n=t.value,s=t.formatter,a=it(t.children)?n:t.children;return Je(s)?s(a):a},n0e=function(t,n){var s=_n(n-t),a=Math.min(Math.abs(n-t),360);return s*a},s0e=function(t,n,s){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,d=c.cx,u=c.cy,m=c.innerRadius,p=c.outerRadius,f=c.startAngle,x=c.endAngle,h=c.clockWise,y=(m+p)/2,v=n0e(f,x),b=v>=0?1:-1,w,S;a==="insideStart"?(w=f+b*o,S=h):a==="insideEnd"?(w=x-b*o,S=!h):a==="end"&&(w=x+b*o,S=h),S=v<=0?S:!S;var N=Xt(d,u,y,w),j=Xt(d,u,y,w+(S?1:-1)*359),C="M".concat(N.x,",").concat(N.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(S?0:1,`,
    `).concat(j.x,",").concat(j.y),A=it(t.id)?Ru("recharts-radial-line-"):t.id;return L.createElement("text",Uh({},s,{dominantBaseline:"central",className:ct("recharts-radial-bar-label",l)}),L.createElement("defs",null,L.createElement("path",{id:A,d:C})),L.createElement("textPath",{xlinkHref:"#".concat(A)},n))},a0e=function(t){var n=t.viewBox,s=t.offset,a=t.position,i=n,o=i.cx,l=i.cy,c=i.innerRadius,d=i.outerRadius,u=i.startAngle,m=i.endAngle,p=(u+m)/2;if(a==="outside"){var f=Xt(o,l,d+s,p),x=f.x,h=f.y;return{x,y:h,textAnchor:x>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(c+d)/2,v=Xt(o,l,y,p),b=v.x,w=v.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},i0e=function(t){var n=t.viewBox,s=t.parentViewBox,a=t.offset,i=t.position,o=n,l=o.x,c=o.y,d=o.width,u=o.height,m=u>=0?1:-1,p=m*a,f=m>0?"end":"start",x=m>0?"start":"end",h=d>=0?1:-1,y=h*a,v=h>0?"end":"start",b=h>0?"start":"end";if(i==="top"){var w={x:l+d/2,y:c-m*a,textAnchor:"middle",verticalAnchor:f};return Vr(Vr({},w),s?{height:Math.max(c-s.y,0),width:d}:{})}if(i==="bottom"){var S={x:l+d/2,y:c+u+p,textAnchor:"middle",verticalAnchor:x};return Vr(Vr({},S),s?{height:Math.max(s.y+s.height-(c+u),0),width:d}:{})}if(i==="left"){var N={x:l-y,y:c+u/2,textAnchor:v,verticalAnchor:"middle"};return Vr(Vr({},N),s?{width:Math.max(N.x-s.x,0),height:u}:{})}if(i==="right"){var j={x:l+d+y,y:c+u/2,textAnchor:b,verticalAnchor:"middle"};return Vr(Vr({},j),s?{width:Math.max(s.x+s.width-j.x,0),height:u}:{})}var C=s?{width:d,height:u}:{};return i==="insideLeft"?Vr({x:l+y,y:c+u/2,textAnchor:b,verticalAnchor:"middle"},C):i==="insideRight"?Vr({x:l+d-y,y:c+u/2,textAnchor:v,verticalAnchor:"middle"},C):i==="insideTop"?Vr({x:l+d/2,y:c+p,textAnchor:"middle",verticalAnchor:x},C):i==="insideBottom"?Vr({x:l+d/2,y:c+u-p,textAnchor:"middle",verticalAnchor:f},C):i==="insideTopLeft"?Vr({x:l+y,y:c+p,textAnchor:b,verticalAnchor:x},C):i==="insideTopRight"?Vr({x:l+d-y,y:c+p,textAnchor:v,verticalAnchor:x},C):i==="insideBottomLeft"?Vr({x:l+y,y:c+u-p,textAnchor:b,verticalAnchor:f},C):i==="insideBottomRight"?Vr({x:l+d-y,y:c+u-p,textAnchor:v,verticalAnchor:f},C):_u(i)&&(Se(i.x)||wl(i.x))&&(Se(i.y)||wl(i.y))?Vr({x:l+Tn(i.x,d),y:c+Tn(i.y,u),textAnchor:"end",verticalAnchor:"end"},C):Vr({x:l+d/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},C)},o0e=function(t){return"cx"in t&&Se(t.cx)};function tn(e){var t=e.offset,n=t===void 0?5:t,s=Xge(e,Wge),a=Vr({offset:n},s),i=a.viewBox,o=a.position,l=a.value,c=a.children,d=a.content,u=a.className,m=u===void 0?"":u,p=a.textBreakAll;if(!i||it(l)&&it(c)&&!g.isValidElement(d)&&!Je(d))return null;if(g.isValidElement(d))return g.cloneElement(d,a);var f;if(Je(d)){if(f=g.createElement(d,a),g.isValidElement(f))return f}else f=r0e(a);var x=o0e(i),h=Ye(a,!0);if(x&&(o==="insideStart"||o==="insideEnd"||o==="end"))return s0e(a,f,h);var y=x?a0e(a):i0e(a);return L.createElement(sc,Uh({className:ct("recharts-label",m)},h,y,{breakAll:p}),f)}tn.displayName="Label";var h6=function(t){var n=t.cx,s=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,d=t.innerRadius,u=t.outerRadius,m=t.x,p=t.y,f=t.top,x=t.left,h=t.width,y=t.height,v=t.clockWise,b=t.labelViewBox;if(b)return b;if(Se(h)&&Se(y)){if(Se(m)&&Se(p))return{x:m,y:p,width:h,height:y};if(Se(f)&&Se(x))return{x:f,y:x,width:h,height:y}}return Se(m)&&Se(p)?{x:m,y:p,width:0,height:0}:Se(n)&&Se(s)?{cx:n,cy:s,startAngle:i||a||0,endAngle:o||a||0,innerRadius:d||0,outerRadius:u||c||l||0,clockWise:v}:t.viewBox?t.viewBox:{}},l0e=function(t,n){return t?t===!0?L.createElement(tn,{key:"label-implicit",viewBox:n}):Yr(t)?L.createElement(tn,{key:"label-implicit",viewBox:n,value:t}):g.isValidElement(t)?t.type===tn?g.cloneElement(t,{key:"label-implicit",viewBox:n}):L.createElement(tn,{key:"label-implicit",content:t,viewBox:n}):Je(t)?L.createElement(tn,{key:"label-implicit",content:t,viewBox:n}):_u(t)?L.createElement(tn,Uh({viewBox:n},t,{key:"label-implicit"})):null:null},c0e=function(t,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&s&&!t.label)return null;var a=t.children,i=h6(t),o=bs(a,tn).map(function(c,d){return g.cloneElement(c,{viewBox:n||i,key:"label-".concat(d)})});if(!s)return o;var l=l0e(t.label,n||i);return[l].concat(Hge(o))};tn.parseViewBox=h6;tn.renderCallByParent=c0e;function d0e(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var u0e=d0e;const m0e=$t(u0e);function Bh(e){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bh(e)}var h0e=["valueAccessor"],p0e=["data","dataKey","clockWise","id","textBreakAll"];function f0e(e){return v0e(e)||y0e(e)||g0e(e)||x0e()}function x0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g0e(e,t){if(e){if(typeof e=="string")return cN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cN(e,t)}}function y0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function v0e(e){if(Array.isArray(e))return cN(e)}function cN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function xg(){return xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},xg.apply(this,arguments)}function vO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function bO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vO(Object(n),!0).forEach(function(s){b0e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vO(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function b0e(e,t,n){return t=w0e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w0e(e){var t=j0e(e,"string");return Bh(t)=="symbol"?t:t+""}function j0e(e,t){if(Bh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Bh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wO(e,t){if(e==null)return{};var n=N0e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function N0e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var S0e=function(t){return Array.isArray(t.value)?m0e(t.value):t.value};function Ti(e){var t=e.valueAccessor,n=t===void 0?S0e:t,s=wO(e,h0e),a=s.data,i=s.dataKey,o=s.clockWise,l=s.id,c=s.textBreakAll,d=wO(s,p0e);return!a||!a.length?null:L.createElement(Ot,{className:"recharts-label-list"},a.map(function(u,m){var p=it(i)?n(u,m):Kr(u&&u.payload,i),f=it(l)?{}:{id:"".concat(l,"-").concat(m)};return L.createElement(tn,xg({},Ye(u,!0),d,f,{parentViewBox:u.parentViewBox,value:p,textBreakAll:c,viewBox:tn.parseViewBox(it(o)?u:bO(bO({},u),{},{clockWise:o})),key:"label-".concat(m),index:m}))}))}Ti.displayName="LabelList";function C0e(e,t){return e?e===!0?L.createElement(Ti,{key:"labelList-implicit",data:t}):L.isValidElement(e)||Je(e)?L.createElement(Ti,{key:"labelList-implicit",data:t,content:e}):_u(e)?L.createElement(Ti,xg({data:t},e,{key:"labelList-implicit"})):null:null}function k0e(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var s=e.children,a=bs(s,Ti).map(function(o,l){return g.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!n)return a;var i=C0e(e.label,t);return[i].concat(f0e(a))}Ti.renderCallByParent=k0e;function Vh(e){"@babel/helpers - typeof";return Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vh(e)}function dN(){return dN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},dN.apply(this,arguments)}function jO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function NO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jO(Object(n),!0).forEach(function(s){A0e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jO(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function A0e(e,t,n){return t=P0e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P0e(e){var t=O0e(e,"string");return Vh(t)=="symbol"?t:t+""}function O0e(e,t){if(Vh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Vh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var E0e=function(t,n){var s=_n(n-t),a=Math.min(Math.abs(n-t),359.999);return s*a},Af=function(t){var n=t.cx,s=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,d=t.cornerIsExternal,u=c*(l?1:-1)+a,m=Math.asin(c/u)/fg,p=d?i:i+o*m,f=Xt(n,s,u,p),x=Xt(n,s,a,p),h=d?i-o*m:i,y=Xt(n,s,u*Math.cos(m*fg),h);return{center:f,circleTangency:x,lineTangency:y,theta:m}},p6=function(t){var n=t.cx,s=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=E0e(o,l),d=o+c,u=Xt(n,s,i,o),m=Xt(n,s,i,d),p="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(a>0){var f=Xt(n,s,a,o),x=Xt(n,s,a,d);p+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(f.x,",").concat(f.y," Z")}else p+="L ".concat(n,",").concat(s," Z");return p},_0e=function(t){var n=t.cx,s=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,d=t.startAngle,u=t.endAngle,m=_n(u-d),p=Af({cx:n,cy:s,radius:i,angle:d,sign:m,cornerRadius:o,cornerIsExternal:c}),f=p.circleTangency,x=p.lineTangency,h=p.theta,y=Af({cx:n,cy:s,radius:i,angle:u,sign:-m,cornerRadius:o,cornerIsExternal:c}),v=y.circleTangency,b=y.lineTangency,w=y.theta,S=c?Math.abs(d-u):Math.abs(d-u)-h-w;if(S<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):p6({cx:n,cy:s,innerRadius:a,outerRadius:i,startAngle:d,endAngle:u});var N="M ".concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(S>180),",").concat(+(m<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var j=Af({cx:n,cy:s,radius:a,angle:d,sign:m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),C=j.circleTangency,A=j.lineTangency,k=j.theta,O=Af({cx:n,cy:s,radius:a,angle:u,sign:-m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),M=O.circleTangency,P=O.lineTangency,_=O.theta,E=c?Math.abs(d-u):Math.abs(d-u)-k-_;if(E<0&&o===0)return"".concat(N,"L").concat(n,",").concat(s,"Z");N+="L".concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(E>180),",").concat(+(m>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(A.x,",").concat(A.y,"Z")}else N+="L".concat(n,",").concat(s,"Z");return N},T0e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},f6=function(t){var n=NO(NO({},T0e),t),s=n.cx,a=n.cy,i=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,d=n.cornerIsExternal,u=n.startAngle,m=n.endAngle,p=n.className;if(o<i||u===m)return null;var f=ct("recharts-sector",p),x=o-i,h=Tn(l,x,0,!0),y;return h>0&&Math.abs(u-m)<360?y=_0e({cx:s,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(h,x/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:m}):y=p6({cx:s,cy:a,innerRadius:i,outerRadius:o,startAngle:u,endAngle:m}),L.createElement("path",dN({},Ye(n,!0),{className:f,d:y,role:"img"}))};function qh(e){"@babel/helpers - typeof";return qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qh(e)}function uN(){return uN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},uN.apply(this,arguments)}function SO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function CO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SO(Object(n),!0).forEach(function(s){M0e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SO(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function M0e(e,t,n){return t=I0e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I0e(e){var t=R0e(e,"string");return qh(t)=="symbol"?t:t+""}function R0e(e,t){if(qh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(qh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kO={curveBasisClosed:Mne,curveBasisOpen:Ine,curveBasis:Tne,curveBumpX:yne,curveBumpY:vne,curveLinearClosed:Rne,curveLinear:wy,curveMonotoneX:$ne,curveMonotoneY:Dne,curveNatural:zne,curveStep:Fne,curveStepAfter:Une,curveStepBefore:Lne},Pf=function(t){return t.x===+t.x&&t.y===+t.y},cm=function(t){return t.x},dm=function(t){return t.y},$0e=function(t,n){if(Je(t))return t;var s="curve".concat(vy(t));return(s==="curveMonotone"||s==="curveBump")&&n?kO["".concat(s).concat(n==="vertical"?"Y":"X")]:kO[s]||wy},D0e=function(t){var n=t.type,s=n===void 0?"linear":n,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,d=c===void 0?!1:c,u=$0e(s,l),m=d?i.filter(function(h){return Pf(h)}):i,p;if(Array.isArray(o)){var f=d?o.filter(function(h){return Pf(h)}):o,x=m.map(function(h,y){return CO(CO({},h),{},{base:f[y]})});return l==="vertical"?p=yf().y(dm).x1(cm).x0(function(h){return h.base.x}):p=yf().x(cm).y1(dm).y0(function(h){return h.base.y}),p.defined(Pf).curve(u),p(x)}return l==="vertical"&&Se(o)?p=yf().y(dm).x1(cm).x0(o):Se(o)?p=yf().x(cm).y1(dm).y0(o):p=cz().x(cm).y(dm),p.defined(Pf).curve(u),p(m)},gg=function(t){var n=t.className,s=t.points,a=t.path,i=t.pathRef;if((!s||!s.length)&&!a)return null;var o=s&&s.length?D0e(t):a;return g.createElement("path",uN({},Ye(t,!1),Ux(t),{className:ct("recharts-curve",n),d:o,ref:i}))},x6={exports:{}},z0e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",F0e=z0e,L0e=F0e;function g6(){}function y6(){}y6.resetWarningCache=g6;var U0e=function(){function e(s,a,i,o,l,c){if(c!==L0e){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:y6,resetWarningCache:g6};return n.PropTypes=n,n};x6.exports=U0e();var B0e=x6.exports;const He=$t(B0e),{getOwnPropertyNames:V0e,getOwnPropertySymbols:q0e}=Object,{hasOwnProperty:W0e}=Object.prototype;function wb(e,t){return function(s,a,i){return e(s,a,i)&&t(s,a,i)}}function Of(e){return function(n,s,a){if(!n||!s||typeof n!="object"||typeof s!="object")return e(n,s,a);const{cache:i}=a,o=i.get(n),l=i.get(s);if(o&&l)return o===s&&l===n;i.set(n,s),i.set(s,n);const c=e(n,s,a);return i.delete(n),i.delete(s),c}}function H0e(e){return e!=null?e[Symbol.toStringTag]:void 0}function AO(e){return V0e(e).concat(q0e(e))}const K0e=Object.hasOwn||((e,t)=>W0e.call(e,t));function jc(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const G0e="__v",Y0e="__o",Q0e="_owner",{getOwnPropertyDescriptor:PO,keys:OO}=Object;function X0e(e,t){return e.byteLength===t.byteLength&&yg(new Uint8Array(e),new Uint8Array(t))}function Z0e(e,t,n){let s=e.length;if(t.length!==s)return!1;for(;s-- >0;)if(!n.equals(e[s],t[s],s,s,e,t,n))return!1;return!0}function J0e(e,t){return e.byteLength===t.byteLength&&yg(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function eye(e,t){return jc(e.getTime(),t.getTime())}function tye(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function rye(e,t){return e===t}function EO(e,t,n){const s=e.size;if(s!==t.size)return!1;if(!s)return!0;const a=new Array(s),i=e.entries();let o,l,c=0;for(;(o=i.next())&&!o.done;){const d=t.entries();let u=!1,m=0;for(;(l=d.next())&&!l.done;){if(a[m]){m++;continue}const p=o.value,f=l.value;if(n.equals(p[0],f[0],c,m,e,t,n)&&n.equals(p[1],f[1],p[0],f[0],e,t,n)){u=a[m]=!0;break}m++}if(!u)return!1;c++}return!0}const nye=jc;function sye(e,t,n){const s=OO(e);let a=s.length;if(OO(t).length!==a)return!1;for(;a-- >0;)if(!v6(e,t,n,s[a]))return!1;return!0}function um(e,t,n){const s=AO(e);let a=s.length;if(AO(t).length!==a)return!1;let i,o,l;for(;a-- >0;)if(i=s[a],!v6(e,t,n,i)||(o=PO(e,i),l=PO(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function aye(e,t){return jc(e.valueOf(),t.valueOf())}function iye(e,t){return e.source===t.source&&e.flags===t.flags}function _O(e,t,n){const s=e.size;if(s!==t.size)return!1;if(!s)return!0;const a=new Array(s),i=e.values();let o,l;for(;(o=i.next())&&!o.done;){const c=t.values();let d=!1,u=0;for(;(l=c.next())&&!l.done;){if(!a[u]&&n.equals(o.value,l.value,o.value,l.value,e,t,n)){d=a[u]=!0;break}u++}if(!d)return!1}return!0}function yg(e,t){let n=e.byteLength;if(t.byteLength!==n||e.byteOffset!==t.byteOffset)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function oye(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function v6(e,t,n,s){return(s===Q0e||s===Y0e||s===G0e)&&(e.$$typeof||t.$$typeof)?!0:K0e(t,s)&&n.equals(e[s],t[s],s,s,e,t,n)}const lye="[object ArrayBuffer]",cye="[object Arguments]",dye="[object Boolean]",uye="[object DataView]",mye="[object Date]",hye="[object Error]",pye="[object Map]",fye="[object Number]",xye="[object Object]",gye="[object RegExp]",yye="[object Set]",vye="[object String]",bye={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},wye="[object URL]",jye=Object.prototype.toString;function Nye({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:n,areDatesEqual:s,areErrorsEqual:a,areFunctionsEqual:i,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:d,areRegExpsEqual:u,areSetsEqual:m,areTypedArraysEqual:p,areUrlsEqual:f,unknownTagComparators:x}){return function(y,v,b){if(y===v)return!0;if(y==null||v==null)return!1;const w=typeof y;if(w!==typeof v)return!1;if(w!=="object")return w==="number"?l(y,v,b):w==="function"?i(y,v,b):!1;const S=y.constructor;if(S!==v.constructor)return!1;if(S===Object)return c(y,v,b);if(Array.isArray(y))return t(y,v,b);if(S===Date)return s(y,v,b);if(S===RegExp)return u(y,v,b);if(S===Map)return o(y,v,b);if(S===Set)return m(y,v,b);const N=jye.call(y);if(N===mye)return s(y,v,b);if(N===gye)return u(y,v,b);if(N===pye)return o(y,v,b);if(N===yye)return m(y,v,b);if(N===xye)return typeof y.then!="function"&&typeof v.then!="function"&&c(y,v,b);if(N===wye)return f(y,v,b);if(N===hye)return a(y,v,b);if(N===cye)return c(y,v,b);if(bye[N])return p(y,v,b);if(N===lye)return e(y,v,b);if(N===uye)return n(y,v,b);if(N===dye||N===fye||N===vye)return d(y,v,b);if(x){let j=x[N];if(!j){const C=H0e(y);C&&(j=x[C])}if(j)return j(y,v,b)}return!1}}function Sye({circular:e,createCustomConfig:t,strict:n}){let s={areArrayBuffersEqual:X0e,areArraysEqual:n?um:Z0e,areDataViewsEqual:J0e,areDatesEqual:eye,areErrorsEqual:tye,areFunctionsEqual:rye,areMapsEqual:n?wb(EO,um):EO,areNumbersEqual:nye,areObjectsEqual:n?um:sye,arePrimitiveWrappersEqual:aye,areRegExpsEqual:iye,areSetsEqual:n?wb(_O,um):_O,areTypedArraysEqual:n?wb(yg,um):yg,areUrlsEqual:oye,unknownTagComparators:void 0};if(t&&(s=Object.assign({},s,t(s))),e){const a=Of(s.areArraysEqual),i=Of(s.areMapsEqual),o=Of(s.areObjectsEqual),l=Of(s.areSetsEqual);s=Object.assign({},s,{areArraysEqual:a,areMapsEqual:i,areObjectsEqual:o,areSetsEqual:l})}return s}function Cye(e){return function(t,n,s,a,i,o,l){return e(t,n,l)}}function kye({circular:e,comparator:t,createState:n,equals:s,strict:a}){if(n)return function(l,c){const{cache:d=e?new WeakMap:void 0,meta:u}=n();return t(l,c,{cache:d,equals:s,meta:u,strict:a})};if(e)return function(l,c){return t(l,c,{cache:new WeakMap,equals:s,meta:void 0,strict:a})};const i={cache:void 0,equals:s,meta:void 0,strict:a};return function(l,c){return t(l,c,i)}}const Aye=nl();nl({strict:!0});nl({circular:!0});nl({circular:!0,strict:!0});nl({createInternalComparator:()=>jc});nl({strict:!0,createInternalComparator:()=>jc});nl({circular:!0,createInternalComparator:()=>jc});nl({circular:!0,createInternalComparator:()=>jc,strict:!0});function nl(e={}){const{circular:t=!1,createInternalComparator:n,createState:s,strict:a=!1}=e,i=Sye(e),o=Nye(i),l=n?n(o):Cye(o);return kye({circular:t,comparator:o,createState:s,equals:l,strict:a})}function Pye(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function TO(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,s=function a(i){n<0&&(n=i),i-n>t?(e(i),n=-1):Pye(a)};requestAnimationFrame(s)}function mN(e){"@babel/helpers - typeof";return mN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mN(e)}function Oye(e){return Mye(e)||Tye(e)||_ye(e)||Eye()}function Eye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ye(e,t){if(e){if(typeof e=="string")return MO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MO(e,t)}}function MO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function Tye(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Mye(e){if(Array.isArray(e))return e}function Iye(){var e={},t=function(){return null},n=!1,s=function a(i){if(!n){if(Array.isArray(i)){if(!i.length)return;var o=i,l=Oye(o),c=l[0],d=l.slice(1);if(typeof c=="number"){TO(a.bind(null,d),c);return}a(c),TO(a.bind(null,d));return}mN(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){n=!0},start:function(i){n=!1,s(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Wh(e){"@babel/helpers - typeof";return Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wh(e)}function IO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function RO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IO(Object(n),!0).forEach(function(s){b6(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IO(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function b6(e,t,n){return t=Rye(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rye(e){var t=$ye(e,"string");return Wh(t)==="symbol"?t:String(t)}function $ye(e,t){if(Wh(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Wh(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dye=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(s,a){return s.filter(function(i){return a.includes(i)})})},zye=function(t){return t},Fye=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Bm=function(t,n){return Object.keys(n).reduce(function(s,a){return RO(RO({},s),{},b6({},a,t(a,n[a])))},{})},$O=function(t,n,s){return t.map(function(a){return"".concat(Fye(a)," ").concat(n,"ms ").concat(s)}).join(",")};function Lye(e,t){return Vye(e)||Bye(e,t)||w6(e,t)||Uye()}function Uye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bye(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Vye(e){if(Array.isArray(e))return e}function qye(e){return Kye(e)||Hye(e)||w6(e)||Wye()}function Wye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w6(e,t){if(e){if(typeof e=="string")return hN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hN(e,t)}}function Hye(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Kye(e){if(Array.isArray(e))return hN(e)}function hN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var vg=1e-4,j6=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},N6=function(t,n){return t.map(function(s,a){return s*Math.pow(n,a)}).reduce(function(s,a){return s+a})},DO=function(t,n){return function(s){var a=j6(t,n);return N6(a,s)}},Gye=function(t,n){return function(s){var a=j6(t,n),i=[].concat(qye(a.map(function(o,l){return o*l}).slice(1)),[0]);return N6(i,s)}},zO=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];var a=n[0],i=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),u=Lye(d,4);a=u[0],i=u[1],o=u[2],l=u[3]}}}var m=DO(a,o),p=DO(i,l),f=Gye(a,o),x=function(v){return v>1?1:v<0?0:v},h=function(v){for(var b=v>1?1:v,w=b,S=0;S<8;++S){var N=m(w)-b,j=f(w);if(Math.abs(N-b)<vg||j<vg)return p(w);w=x(w-N/j)}return p(w)};return h.isStepper=!1,h},Yye=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,s=n===void 0?100:n,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(u,m,p){var f=-(u-m)*s,x=p*i,h=p+(f-x)*l/1e3,y=p*l/1e3+u;return Math.abs(y-m)<vg&&Math.abs(h)<vg?[m,0]:[y,h]};return c.isStepper=!0,c.dt=l,c},Qye=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];var a=n[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return zO(a);case"spring":return Yye();default:if(a.split("(")[0]==="cubic-bezier")return zO(a)}return typeof a=="function"?a:null};function Hh(e){"@babel/helpers - typeof";return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hh(e)}function FO(e){return Jye(e)||Zye(e)||S6(e)||Xye()}function Xye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zye(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Jye(e){if(Array.isArray(e))return fN(e)}function LO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function ln(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LO(Object(n),!0).forEach(function(s){pN(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LO(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function pN(e,t,n){return t=eve(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eve(e){var t=tve(e,"string");return Hh(t)==="symbol"?t:String(t)}function tve(e,t){if(Hh(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Hh(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rve(e,t){return ave(e)||sve(e,t)||S6(e,t)||nve()}function nve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S6(e,t){if(e){if(typeof e=="string")return fN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fN(e,t)}}function fN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function sve(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function ave(e){if(Array.isArray(e))return e}var bg=function(t,n,s){return t+(n-t)*s},xN=function(t){var n=t.from,s=t.to;return n!==s},ive=function e(t,n,s){var a=Bm(function(i,o){if(xN(o)){var l=t(o.from,o.to,o.velocity),c=rve(l,2),d=c[0],u=c[1];return ln(ln({},o),{},{from:d,velocity:u})}return o},n);return s<1?Bm(function(i,o){return xN(o)?ln(ln({},o),{},{velocity:bg(o.velocity,a[i].velocity,s),from:bg(o.from,a[i].from,s)}):o},n):e(t,a,s-1)};const ove=function(e,t,n,s,a){var i=Dye(e,t),o=i.reduce(function(y,v){return ln(ln({},y),{},pN({},v,[e[v],t[v]]))},{}),l=i.reduce(function(y,v){return ln(ln({},y),{},pN({},v,{from:e[v],velocity:0,to:t[v]}))},{}),c=-1,d,u,m=function(){return null},p=function(){return Bm(function(v,b){return b.from},l)},f=function(){return!Object.values(l).filter(xN).length},x=function(v){d||(d=v);var b=v-d,w=b/n.dt;l=ive(n,l,w),a(ln(ln(ln({},e),t),p())),d=v,f()||(c=requestAnimationFrame(m))},h=function(v){u||(u=v);var b=(v-u)/s,w=Bm(function(N,j){return bg.apply(void 0,FO(j).concat([n(b)]))},o);if(a(ln(ln(ln({},e),t),w)),b<1)c=requestAnimationFrame(m);else{var S=Bm(function(N,j){return bg.apply(void 0,FO(j).concat([n(1)]))},o);a(ln(ln(ln({},e),t),S))}};return m=n.isStepper?x:h,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(c)}}};function Xd(e){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xd(e)}var lve=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function cve(e,t){if(e==null)return{};var n=dve(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function dve(e,t){if(e==null)return{};var n={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function jb(e){return pve(e)||hve(e)||mve(e)||uve()}function uve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mve(e,t){if(e){if(typeof e=="string")return gN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gN(e,t)}}function hve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pve(e){if(Array.isArray(e))return gN(e)}function gN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function UO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function ta(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UO(Object(n),!0).forEach(function(s){km(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UO(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function km(e,t,n){return t=C6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xve(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,C6(s.key),s)}}function gve(e,t,n){return t&&xve(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function C6(e){var t=yve(e,"string");return Xd(t)==="symbol"?t:String(t)}function yve(e,t){if(Xd(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Xd(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yN(e,t)}function yN(e,t){return yN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},yN(e,t)}function bve(e){var t=wve();return function(){var s=wg(e),a;if(t){var i=wg(this).constructor;a=Reflect.construct(s,arguments,i)}else a=s.apply(this,arguments);return vN(this,a)}}function vN(e,t){if(t&&(Xd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bN(e)}function bN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wve(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function wg(e){return wg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wg(e)}var ei=function(e){vve(n,e);var t=bve(n);function n(s,a){var i;fve(this,n),i=t.call(this,s,a);var o=i.props,l=o.isActive,c=o.attributeName,d=o.from,u=o.to,m=o.steps,p=o.children,f=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(bN(i)),i.changeStyle=i.changeStyle.bind(bN(i)),!l||f<=0)return i.state={style:{}},typeof p=="function"&&(i.state={style:u}),vN(i);if(m&&m.length)i.state={style:m[0].style};else if(d){if(typeof p=="function")return i.state={style:d},vN(i);i.state={style:c?km({},c,d):d}}else i.state={style:{}};return i}return gve(n,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,d=i.shouldReAnimate,u=i.to,m=i.from,p=this.state.style;if(l){if(!o){var f={style:c?km({},c,u):u};this.state&&p&&(c&&p[c]!==u||!c&&p!==u)&&this.setState(f);return}if(!(Aye(a.to,u)&&a.canBegin&&a.isActive)){var x=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var h=x||d?m:a.to;if(this.state&&p){var y={style:c?km({},c,h):h};(c&&p[c]!==h||!c&&p!==h)&&this.setState(y)}this.runAnimation(ta(ta({},this.props),{},{from:h,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,d=a.easing,u=a.begin,m=a.onAnimationEnd,p=a.onAnimationStart,f=ove(o,l,Qye(d),c,this.changeStyle),x=function(){i.stopJSAnimation=f()};this.manager.start([p,u,x,c,m])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,d=o[0],u=d.style,m=d.duration,p=m===void 0?0:m,f=function(h,y,v){if(v===0)return h;var b=y.duration,w=y.easing,S=w===void 0?"ease":w,N=y.style,j=y.properties,C=y.onAnimationEnd,A=v>0?o[v-1]:y,k=j||Object.keys(N);if(typeof S=="function"||S==="spring")return[].concat(jb(h),[i.runJSAnimation.bind(i,{from:A.style,to:N,duration:b,easing:S}),b]);var O=$O(k,b,S),M=ta(ta(ta({},A.style),N),{},{transition:O});return[].concat(jb(h),[M,b,C]).filter(zye)};return this.manager.start([c].concat(jb(o.reduce(f,[u,Math.max(p,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=Iye());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,d=a.easing,u=a.onAnimationStart,m=a.onAnimationEnd,p=a.steps,f=a.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof d=="function"||typeof f=="function"||d==="spring"){this.runJSAnimation(a);return}if(p.length>1){this.runStepAnimation(a);return}var h=l?km({},l,c):c,y=$O(Object.keys(h),o,d);x.start([u,i,ta(ta({},h),{},{transition:y}),o,m])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=cve(a,lve),d=g.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!l||d===0||o<=0)return i;var m=function(f){var x=f.props,h=x.style,y=h===void 0?{}:h,v=x.className,b=g.cloneElement(f,ta(ta({},c),{},{style:ta(ta({},y),u),className:v}));return b};return d===1?m(g.Children.only(i)):L.createElement("div",null,g.Children.map(i,function(p){return m(p)}))}}]),n}(g.PureComponent);ei.displayName="Animate";ei.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ei.propTypes={from:He.oneOfType([He.object,He.string]),to:He.oneOfType([He.object,He.string]),attributeName:He.string,duration:He.number,begin:He.number,easing:He.oneOfType([He.string,He.func]),steps:He.arrayOf(He.shape({duration:He.number.isRequired,style:He.object.isRequired,easing:He.oneOfType([He.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),He.func]),properties:He.arrayOf("string"),onAnimationEnd:He.func})),children:He.oneOfType([He.node,He.func]),isActive:He.bool,canBegin:He.bool,onAnimationEnd:He.func,shouldReAnimate:He.bool,onAnimationStart:He.func,onAnimationReStart:He.func};function Kh(e){"@babel/helpers - typeof";return Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kh(e)}function jg(){return jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},jg.apply(this,arguments)}function jve(e,t){return kve(e)||Cve(e,t)||Sve(e,t)||Nve()}function Nve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sve(e,t){if(e){if(typeof e=="string")return BO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BO(e,t)}}function BO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function Cve(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function kve(e){if(Array.isArray(e))return e}function VO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function qO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VO(Object(n),!0).forEach(function(s){Ave(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VO(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Ave(e,t,n){return t=Pve(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pve(e){var t=Ove(e,"string");return Kh(t)=="symbol"?t:t+""}function Ove(e,t){if(Kh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Kh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WO=function(t,n,s,a,i){var o=Math.min(Math.abs(s)/2,Math.abs(a)/2),l=a>=0?1:-1,c=s>=0?1:-1,d=a>=0&&s>=0||a<0&&s<0?1:0,u;if(o>0&&i instanceof Array){for(var m=[0,0,0,0],p=0,f=4;p<f;p++)m[p]=i[p]>o?o:i[p];u="M".concat(t,",").concat(n+l*m[0]),m[0]>0&&(u+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(d,",").concat(t+c*m[0],",").concat(n)),u+="L ".concat(t+s-c*m[1],",").concat(n),m[1]>0&&(u+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(d,`,
        `).concat(t+s,",").concat(n+l*m[1])),u+="L ".concat(t+s,",").concat(n+a-l*m[2]),m[2]>0&&(u+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(d,`,
        `).concat(t+s-c*m[2],",").concat(n+a)),u+="L ".concat(t+c*m[3],",").concat(n+a),m[3]>0&&(u+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(n+a-l*m[3])),u+="Z"}else if(o>0&&i===+i&&i>0){var x=Math.min(o,i);u="M ".concat(t,",").concat(n+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t+c*x,",").concat(n,`
            L `).concat(t+s-c*x,",").concat(n,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t+s,",").concat(n+l*x,`
            L `).concat(t+s,",").concat(n+a-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t+s-c*x,",").concat(n+a,`
            L `).concat(t+c*x,",").concat(n+a,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t,",").concat(n+a-l*x," Z")}else u="M ".concat(t,",").concat(n," h ").concat(s," v ").concat(a," h ").concat(-s," Z");return u},Eve=function(t,n){if(!t||!n)return!1;var s=t.x,a=t.y,i=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(i,i+l),u=Math.max(i,i+l),m=Math.min(o,o+c),p=Math.max(o,o+c);return s>=d&&s<=u&&a>=m&&a<=p}return!1},_ve={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ZS=function(t){var n=qO(qO({},_ve),t),s=g.useRef(),a=g.useState(-1),i=jve(a,2),o=i[0],l=i[1];g.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var S=s.current.getTotalLength();S&&l(S)}catch{}},[]);var c=n.x,d=n.y,u=n.width,m=n.height,p=n.radius,f=n.className,x=n.animationEasing,h=n.animationDuration,y=n.animationBegin,v=n.isAnimationActive,b=n.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||m!==+m||u===0||m===0)return null;var w=ct("recharts-rectangle",f);return b?L.createElement(ei,{canBegin:o>0,from:{width:u,height:m,x:c,y:d},to:{width:u,height:m,x:c,y:d},duration:h,animationEasing:x,isActive:b},function(S){var N=S.width,j=S.height,C=S.x,A=S.y;return L.createElement(ei,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:h,isActive:v,easing:x},L.createElement("path",jg({},Ye(n,!0),{className:w,d:WO(C,A,N,j,p),ref:s})))}):L.createElement("path",jg({},Ye(n,!0),{className:w,d:WO(c,d,u,m,p)}))},Tve=["points","className","baseLinePoints","connectNulls"];function Zc(){return Zc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Zc.apply(this,arguments)}function Mve(e,t){if(e==null)return{};var n=Ive(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Ive(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function HO(e){return zve(e)||Dve(e)||$ve(e)||Rve()}function Rve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ve(e,t){if(e){if(typeof e=="string")return wN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wN(e,t)}}function Dve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zve(e){if(Array.isArray(e))return wN(e)}function wN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var KO=function(t){return t&&t.x===+t.x&&t.y===+t.y},Fve=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(s){KO(s)?n[n.length-1].push(s):n[n.length-1].length>0&&n.push([])}),KO(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Vm=function(t,n){var s=Fve(t);n&&(s=[s.reduce(function(i,o){return[].concat(HO(i),HO(o))},[])]);var a=s.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return s.length===1?"".concat(a,"Z"):a},Lve=function(t,n,s){var a=Vm(t,s);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Vm(n.reverse(),s).slice(1))},Uve=function(t){var n=t.points,s=t.className,a=t.baseLinePoints,i=t.connectNulls,o=Mve(t,Tve);if(!n||!n.length)return null;var l=ct("recharts-polygon",s);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",d=Lve(n,a,i);return L.createElement("g",{className:l},L.createElement("path",Zc({},Ye(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?L.createElement("path",Zc({},Ye(o,!0),{fill:"none",d:Vm(n,i)})):null,c?L.createElement("path",Zc({},Ye(o,!0),{fill:"none",d:Vm(a,i)})):null)}var u=Vm(n,i);return L.createElement("path",Zc({},Ye(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:l,d:u}))};function jN(){return jN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},jN.apply(this,arguments)}var zy=function(t){var n=t.cx,s=t.cy,a=t.r,i=t.className,o=ct("recharts-dot",i);return n===+n&&s===+s&&a===+a?g.createElement("circle",jN({},Ye(t,!1),Ux(t),{className:o,cx:n,cy:s,r:a})):null};function Gh(e){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gh(e)}var Bve=["x","y","top","left","width","height","className"];function NN(){return NN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},NN.apply(this,arguments)}function GO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Vve(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GO(Object(n),!0).forEach(function(s){qve(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GO(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function qve(e,t,n){return t=Wve(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wve(e){var t=Hve(e,"string");return Gh(t)=="symbol"?t:t+""}function Hve(e,t){if(Gh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Gh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kve(e,t){if(e==null)return{};var n=Gve(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Gve(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var Yve=function(t,n,s,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(n,"h").concat(s)},Qve=function(t){var n=t.x,s=n===void 0?0:n,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,d=c===void 0?0:c,u=t.width,m=u===void 0?0:u,p=t.height,f=p===void 0?0:p,x=t.className,h=Kve(t,Bve),y=Vve({x:s,y:i,top:l,left:d,width:m,height:f},h);return!Se(s)||!Se(i)||!Se(m)||!Se(f)||!Se(l)||!Se(d)?null:L.createElement("path",NN({},Ye(y,!0),{className:ct("recharts-cross",x),d:Yve(s,i,m,f,l,d)}))},Xve=My,Zve=DF,Jve=si;function ebe(e,t){return e&&e.length?Xve(e,Jve(t),Zve):void 0}var tbe=ebe;const rbe=$t(tbe);var nbe=My,sbe=si,abe=zF;function ibe(e,t){return e&&e.length?nbe(e,sbe(t),abe):void 0}var obe=ibe;const lbe=$t(obe);var cbe=["cx","cy","angle","ticks","axisLine"],dbe=["ticks","tick","angle","tickFormatter","stroke"];function Zd(e){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zd(e)}function qm(){return qm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},qm.apply(this,arguments)}function YO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function il(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YO(Object(n),!0).forEach(function(s){Fy(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YO(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function QO(e,t){if(e==null)return{};var n=ube(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function ube(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function mbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XO(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,A6(s.key),s)}}function hbe(e,t,n){return t&&XO(e.prototype,t),n&&XO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function pbe(e,t,n){return t=Ng(t),fbe(e,k6()?Reflect.construct(t,n||[],Ng(e).constructor):t.apply(e,n))}function fbe(e,t){if(t&&(Zd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xbe(e)}function xbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k6=function(){return!!e})()}function Ng(e){return Ng=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ng(e)}function gbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SN(e,t)}function SN(e,t){return SN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},SN(e,t)}function Fy(e,t,n){return t=A6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A6(e){var t=ybe(e,"string");return Zd(t)=="symbol"?t:t+""}function ybe(e,t){if(Zd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Zd(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ly=function(e){function t(){return mbe(this,t),pbe(this,t,arguments)}return gbe(t,e),hbe(t,[{key:"getTickValueCoord",value:function(s){var a=s.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return Xt(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var s=this.props.orientation,a;switch(s){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.angle,l=s.ticks,c=rbe(l,function(u){return u.coordinate||0}),d=lbe(l,function(u){return u.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.angle,l=s.ticks,c=s.axisLine,d=QO(s,cbe),u=l.reduce(function(x,h){return[Math.min(x[0],h.coordinate),Math.max(x[1],h.coordinate)]},[1/0,-1/0]),m=Xt(a,i,u[0],o),p=Xt(a,i,u[1],o),f=il(il(il({},Ye(d,!1)),{},{fill:"none"},Ye(c,!1)),{},{x1:m.x,y1:m.y,x2:p.x,y2:p.y});return L.createElement("line",qm({className:"recharts-polar-radius-axis-line"},f))}},{key:"renderTicks",value:function(){var s=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,d=a.stroke,u=QO(a,dbe),m=this.getTickTextAnchor(),p=Ye(u,!1),f=Ye(o,!1),x=i.map(function(h,y){var v=s.getTickValueCoord(h),b=il(il(il(il({textAnchor:m,transform:"rotate(".concat(90-l,", ").concat(v.x,", ").concat(v.y,")")},p),{},{stroke:"none",fill:d},f),{},{index:y},v),{},{payload:h});return L.createElement(Ot,qm({className:ct("recharts-polar-radius-axis-tick",m6(o)),key:"tick-".concat(h.coordinate)},nc(s.props,h,y)),t.renderTickItem(o,b,c?c(h.value,y):h.value))});return L.createElement(Ot,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var s=this.props,a=s.ticks,i=s.axisLine,o=s.tick;return!a||!a.length?null:L.createElement(Ot,{className:ct("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),tn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(s,a,i){var o;return L.isValidElement(s)?o=L.cloneElement(s,a):Je(s)?o=s(a):o=L.createElement(sc,qm({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(g.PureComponent);Fy(Ly,"displayName","PolarRadiusAxis");Fy(Ly,"axisType","radiusAxis");Fy(Ly,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Jd(e){"@babel/helpers - typeof";return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jd(e)}function fl(){return fl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},fl.apply(this,arguments)}function ZO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function ol(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZO(Object(n),!0).forEach(function(s){Uy(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZO(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function vbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JO(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,O6(s.key),s)}}function bbe(e,t,n){return t&&JO(e.prototype,t),n&&JO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function wbe(e,t,n){return t=Sg(t),jbe(e,P6()?Reflect.construct(t,n||[],Sg(e).constructor):t.apply(e,n))}function jbe(e,t){if(t&&(Jd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nbe(e)}function Nbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P6=function(){return!!e})()}function Sg(e){return Sg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sg(e)}function Sbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CN(e,t)}function CN(e,t){return CN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},CN(e,t)}function Uy(e,t,n){return t=O6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O6(e){var t=Cbe(e,"string");return Jd(t)=="symbol"?t:t+""}function Cbe(e,t){if(Jd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Jd(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var kbe=Math.PI/180,eE=1e-5,By=function(e){function t(){return vbe(this,t),wbe(this,t,arguments)}return Sbe(t,e),bbe(t,[{key:"getTickLineCoord",value:function(s){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,d=a.tickSize,u=d||8,m=Xt(i,o,l,s.coordinate),p=Xt(i,o,l+(c==="inner"?-1:1)*u,s.coordinate);return{x1:m.x,y1:m.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(s){var a=this.props.orientation,i=Math.cos(-s.coordinate*kbe),o;return i>eE?o=a==="outer"?"start":"end":i<-eE?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.radius,l=s.axisLine,c=s.axisLineType,d=ol(ol({},Ye(this.props,!1)),{},{fill:"none"},Ye(l,!1));if(c==="circle")return L.createElement(zy,fl({className:"recharts-polar-angle-axis-line"},d,{cx:a,cy:i,r:o}));var u=this.props.ticks,m=u.map(function(p){return Xt(a,i,o,p.coordinate)});return L.createElement(Uve,fl({className:"recharts-polar-angle-axis-line"},d,{points:m}))}},{key:"renderTicks",value:function(){var s=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,d=a.stroke,u=Ye(this.props,!1),m=Ye(o,!1),p=ol(ol({},u),{},{fill:"none"},Ye(l,!1)),f=i.map(function(x,h){var y=s.getTickLineCoord(x),v=s.getTickTextAnchor(x),b=ol(ol(ol({textAnchor:v},u),{},{stroke:"none",fill:d},m),{},{index:h,payload:x,x:y.x2,y:y.y2});return L.createElement(Ot,fl({className:ct("recharts-polar-angle-axis-tick",m6(o)),key:"tick-".concat(x.coordinate)},nc(s.props,x,h)),l&&L.createElement("line",fl({className:"recharts-polar-angle-axis-tick-line"},p,y)),o&&t.renderTickItem(o,b,c?c(x.value,h):x.value))});return L.createElement(Ot,{className:"recharts-polar-angle-axis-ticks"},f)}},{key:"render",value:function(){var s=this.props,a=s.ticks,i=s.radius,o=s.axisLine;return i<=0||!a||!a.length?null:L.createElement(Ot,{className:ct("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(s,a,i){var o;return L.isValidElement(s)?o=L.cloneElement(s,a):Je(s)?o=s(a):o=L.createElement(sc,fl({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(g.PureComponent);Uy(By,"displayName","PolarAngleAxis");Uy(By,"axisType","angleAxis");Uy(By,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Abe=Mz,Pbe=Abe(Object.getPrototypeOf,Object),Obe=Pbe,Ebe=Wi,_be=Obe,Tbe=Hi,Mbe="[object Object]",Ibe=Function.prototype,Rbe=Object.prototype,E6=Ibe.toString,$be=Rbe.hasOwnProperty,Dbe=E6.call(Object);function zbe(e){if(!Tbe(e)||Ebe(e)!=Mbe)return!1;var t=_be(e);if(t===null)return!0;var n=$be.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&E6.call(n)==Dbe}var Fbe=zbe;const Lbe=$t(Fbe);var Ube=Wi,Bbe=Hi,Vbe="[object Boolean]";function qbe(e){return e===!0||e===!1||Bbe(e)&&Ube(e)==Vbe}var Wbe=qbe;const Hbe=$t(Wbe);function Yh(e){"@babel/helpers - typeof";return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yh(e)}function Cg(){return Cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Cg.apply(this,arguments)}function Kbe(e,t){return Xbe(e)||Qbe(e,t)||Ybe(e,t)||Gbe()}function Gbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ybe(e,t){if(e){if(typeof e=="string")return tE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tE(e,t)}}function tE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function Qbe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Xbe(e){if(Array.isArray(e))return e}function rE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function nE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rE(Object(n),!0).forEach(function(s){Zbe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Zbe(e,t,n){return t=Jbe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jbe(e){var t=ewe(e,"string");return Yh(t)=="symbol"?t:t+""}function ewe(e,t){if(Yh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Yh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sE=function(t,n,s,a,i){var o=s-a,l;return l="M ".concat(t,",").concat(n),l+="L ".concat(t+s,",").concat(n),l+="L ".concat(t+s-o/2,",").concat(n+i),l+="L ".concat(t+s-o/2-a,",").concat(n+i),l+="L ".concat(t,",").concat(n," Z"),l},twe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},rwe=function(t){var n=nE(nE({},twe),t),s=g.useRef(),a=g.useState(-1),i=Kbe(a,2),o=i[0],l=i[1];g.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var w=s.current.getTotalLength();w&&l(w)}catch{}},[]);var c=n.x,d=n.y,u=n.upperWidth,m=n.lowerWidth,p=n.height,f=n.className,x=n.animationEasing,h=n.animationDuration,y=n.animationBegin,v=n.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||m!==+m||p!==+p||u===0&&m===0||p===0)return null;var b=ct("recharts-trapezoid",f);return v?L.createElement(ei,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:c,y:d},to:{upperWidth:u,lowerWidth:m,height:p,x:c,y:d},duration:h,animationEasing:x,isActive:v},function(w){var S=w.upperWidth,N=w.lowerWidth,j=w.height,C=w.x,A=w.y;return L.createElement(ei,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:h,easing:x},L.createElement("path",Cg({},Ye(n,!0),{className:b,d:sE(C,A,S,N,j),ref:s})))}):L.createElement("g",null,L.createElement("path",Cg({},Ye(n,!0),{className:b,d:sE(c,d,u,m,p)})))},nwe=["option","shapeType","propTransformer","activeClassName","isActive"];function Qh(e){"@babel/helpers - typeof";return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qh(e)}function swe(e,t){if(e==null)return{};var n=awe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function awe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function aE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function kg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aE(Object(n),!0).forEach(function(s){iwe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function iwe(e,t,n){return t=owe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function owe(e){var t=lwe(e,"string");return Qh(t)=="symbol"?t:t+""}function lwe(e,t){if(Qh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Qh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cwe(e,t){return kg(kg({},t),e)}function dwe(e,t){return e==="symbols"}function iE(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return L.createElement(ZS,n);case"trapezoid":return L.createElement(rwe,n);case"sector":return L.createElement(f6,n);case"symbols":if(dwe(t))return L.createElement(gS,n);break;default:return null}}function uwe(e){return g.isValidElement(e)?e.props:e}function _6(e){var t=e.option,n=e.shapeType,s=e.propTransformer,a=s===void 0?cwe:s,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=swe(e,nwe),d;if(g.isValidElement(t))d=g.cloneElement(t,kg(kg({},c),uwe(t)));else if(Je(t))d=t(c);else if(Lbe(t)&&!Hbe(t)){var u=a(t,c);d=L.createElement(iE,{shapeType:n,elementProps:u})}else{var m=c;d=L.createElement(iE,{shapeType:n,elementProps:m})}return l?L.createElement(Ot,{className:o},d):d}function Vy(e,t){return t!=null&&"trapezoids"in e.props}function qy(e,t){return t!=null&&"sectors"in e.props}function Xh(e,t){return t!=null&&"points"in e.props}function mwe(e,t){var n,s,a=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,i=e.y===(t==null||(s=t.labelViewBox)===null||s===void 0?void 0:s.y)||e.y===t.y;return a&&i}function hwe(e,t){var n=e.endAngle===t.endAngle,s=e.startAngle===t.startAngle;return n&&s}function pwe(e,t){var n=e.x===t.x,s=e.y===t.y,a=e.z===t.z;return n&&s&&a}function fwe(e,t){var n;return Vy(e,t)?n=mwe:qy(e,t)?n=hwe:Xh(e,t)&&(n=pwe),n}function xwe(e,t){var n;return Vy(e,t)?n="trapezoids":qy(e,t)?n="sectors":Xh(e,t)&&(n="points"),n}function gwe(e,t){if(Vy(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(qy(e,t)){var s;return(s=t.tooltipPayload)===null||s===void 0||(s=s[0])===null||s===void 0||(s=s.payload)===null||s===void 0?void 0:s.payload}return Xh(e,t)?t.payload:{}}function ywe(e){var t=e.activeTooltipItem,n=e.graphicalItem,s=e.itemData,a=xwe(n,t),i=gwe(n,t),o=s.filter(function(c,d){var u=Up(i,c),m=n.props[a].filter(function(x){var h=fwe(n,t);return h(x,t)}),p=n.props[a].indexOf(m[m.length-1]),f=d===p;return u&&f}),l=s.indexOf(o[o.length-1]);return l}var rx;function eu(e){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eu(e)}function Jc(){return Jc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Jc.apply(this,arguments)}function oE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Kt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oE(Object(n),!0).forEach(function(s){zs(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function vwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lE(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,M6(s.key),s)}}function bwe(e,t,n){return t&&lE(e.prototype,t),n&&lE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function wwe(e,t,n){return t=Ag(t),jwe(e,T6()?Reflect.construct(t,n||[],Ag(e).constructor):t.apply(e,n))}function jwe(e,t){if(t&&(eu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nwe(e)}function Nwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T6=function(){return!!e})()}function Ag(e){return Ag=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ag(e)}function Swe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kN(e,t)}function kN(e,t){return kN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},kN(e,t)}function zs(e,t,n){return t=M6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M6(e){var t=Cwe(e,"string");return eu(t)=="symbol"?t:t+""}function Cwe(e,t){if(eu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(eu(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Gi=function(e){function t(n){var s;return vwe(this,t),s=wwe(this,t,[n]),zs(s,"pieRef",null),zs(s,"sectorRefs",[]),zs(s,"id",Ru("recharts-pie-")),zs(s,"handleAnimationEnd",function(){var a=s.props.onAnimationEnd;s.setState({isAnimationFinished:!0}),Je(a)&&a()}),zs(s,"handleAnimationStart",function(){var a=s.props.onAnimationStart;s.setState({isAnimationFinished:!1}),Je(a)&&a()}),s.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},s}return Swe(t,e),bwe(t,[{key:"isActiveIndex",value:function(s){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(s)!==-1:s===a}},{key:"hasActiveIndex",value:function(){var s=this.props.activeIndex;return Array.isArray(s)?s.length!==0:s||s===0}},{key:"renderLabels",value:function(s){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,d=i.valueKey,u=Ye(this.props,!1),m=Ye(o,!1),p=Ye(l,!1),f=o&&o.offsetRadius||20,x=s.map(function(h,y){var v=(h.startAngle+h.endAngle)/2,b=Xt(h.cx,h.cy,h.outerRadius+f,v),w=Kt(Kt(Kt(Kt({},u),h),{},{stroke:"none"},m),{},{index:y,textAnchor:t.getTextAnchor(b.x,h.cx)},b),S=Kt(Kt(Kt(Kt({},u),h),{},{fill:"none",stroke:h.fill},p),{},{index:y,points:[Xt(h.cx,h.cy,h.outerRadius,v),b]}),N=c;return it(c)&&it(d)?N="value":it(c)&&(N=d),L.createElement(Ot,{key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(y)},l&&t.renderLabelLineItem(l,S,"line"),t.renderLabelItem(o,w,Kr(h,N)))});return L.createElement(Ot,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(s){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return s.map(function(d,u){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&s.length!==1)return null;var m=a.isActiveIndex(u),p=c&&a.hasActiveIndex()?c:null,f=m?o:p,x=Kt(Kt({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return L.createElement(Ot,Jc({ref:function(y){y&&!a.sectorRefs.includes(y)&&a.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},nc(a.props,d,u),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(u)}),L.createElement(_6,Jc({option:f,isActive:m,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var s=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,d=a.animationEasing,u=a.animationId,m=this.state,p=m.prevSectors,f=m.prevIsAnimationActive;return L.createElement(ei,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(f),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var h=x.t,y=[],v=i&&i[0],b=v.startAngle;return i.forEach(function(w,S){var N=p&&p[S],j=S>0?vs(w,"paddingAngle",0):0;if(N){var C=us(N.endAngle-N.startAngle,w.endAngle-w.startAngle),A=Kt(Kt({},w),{},{startAngle:b+j,endAngle:b+C(h)+j});y.push(A),b=A.endAngle}else{var k=w.endAngle,O=w.startAngle,M=us(0,k-O),P=M(h),_=Kt(Kt({},w),{},{startAngle:b+j,endAngle:b+P+j});y.push(_),b=_.endAngle}}),L.createElement(Ot,null,s.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(s){var a=this;s.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var s=this.props,a=s.sectors,i=s.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!Up(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var s=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,d=a.cx,u=a.cy,m=a.innerRadius,p=a.outerRadius,f=a.isAnimationActive,x=this.state.isAnimationFinished;if(i||!o||!o.length||!Se(d)||!Se(u)||!Se(m)||!Se(p))return null;var h=ct("recharts-pie",l);return L.createElement(Ot,{tabIndex:this.props.rootTabIndex,className:h,ref:function(v){s.pieRef=v}},this.renderSectors(),c&&this.renderLabels(o),tn.renderCallByParent(this.props,null,!1),(!f||x)&&Ti.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return a.prevIsAnimationActive!==s.isAnimationActive?{prevIsAnimationActive:s.isAnimationActive,prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:[],isAnimationFinished:!0}:s.isAnimationActive&&s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:s.sectors!==a.curSectors?{curSectors:s.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(s,a){return s>a?"start":s<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(s,a,i){if(L.isValidElement(s))return L.cloneElement(s,a);if(Je(s))return s(a);var o=ct("recharts-pie-label-line",typeof s!="boolean"?s.className:"");return L.createElement(gg,Jc({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(s,a,i){if(L.isValidElement(s))return L.cloneElement(s,a);var o=i;if(Je(s)&&(o=s(a),L.isValidElement(o)))return o;var l=ct("recharts-pie-label-text",typeof s!="boolean"&&!Je(s)?s.className:"");return L.createElement(sc,Jc({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(g.PureComponent);rx=Gi;zs(Gi,"displayName","Pie");zs(Gi,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!vc.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});zs(Gi,"parseDeltaAngle",function(e,t){var n=_n(t-e),s=Math.min(Math.abs(t-e),360);return n*s});zs(Gi,"getRealPieData",function(e){var t=e.data,n=e.children,s=Ye(e,!1),a=bs(n,ky);return t&&t.length?t.map(function(i,o){return Kt(Kt(Kt({payload:i},s),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return Kt(Kt({},s),i.props)}):[]});zs(Gi,"parseCoordinateOfPie",function(e,t){var n=t.top,s=t.left,a=t.width,i=t.height,o=u6(a,i),l=s+Tn(e.cx,a,a/2),c=n+Tn(e.cy,i,i/2),d=Tn(e.innerRadius,o,0),u=Tn(e.outerRadius,o,o*.8),m=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:u,maxRadius:m}});zs(Gi,"getComposedData",function(e){var t=e.item,n=e.offset,s=t.type.defaultProps!==void 0?Kt(Kt({},t.type.defaultProps),t.props):t.props,a=rx.getRealPieData(s);if(!a||!a.length)return null;var i=s.cornerRadius,o=s.startAngle,l=s.endAngle,c=s.paddingAngle,d=s.dataKey,u=s.nameKey,m=s.valueKey,p=s.tooltipType,f=Math.abs(s.minAngle),x=rx.parseCoordinateOfPie(s,n),h=rx.parseDeltaAngle(o,l),y=Math.abs(h),v=d;it(d)&&it(m)?(va(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v="value"):it(d)&&(va(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v=m);var b=a.filter(function(A){return Kr(A,v,0)!==0}).length,w=(y>=360?b:b-1)*c,S=y-b*f-w,N=a.reduce(function(A,k){var O=Kr(k,v,0);return A+(Se(O)?O:0)},0),j;if(N>0){var C;j=a.map(function(A,k){var O=Kr(A,v,0),M=Kr(A,u,k),P=(Se(O)?O:0)/N,_;k?_=C.endAngle+_n(h)*c*(O!==0?1:0):_=o;var E=_+_n(h)*((O!==0?f:0)+P*S),T=(_+E)/2,$=(x.innerRadius+x.outerRadius)/2,q=[{name:M,value:O,payload:A,dataKey:v,type:p}],R=Xt(x.cx,x.cy,$,T);return C=Kt(Kt(Kt({percent:P,cornerRadius:i,name:M,tooltipPayload:q,midAngle:T,middleRadius:$,tooltipPosition:R},A),x),{},{value:Kr(A,v),startAngle:_,endAngle:E,payload:A,paddingAngle:_n(h)*c}),C})}return Kt(Kt({},x),{},{sectors:j,data:a})});var kwe=Math.ceil,Awe=Math.max;function Pwe(e,t,n,s){for(var a=-1,i=Awe(kwe((t-e)/(n||1)),0),o=Array(i);i--;)o[s?i:++a]=e,e+=n;return o}var Owe=Pwe,Ewe=Zz,cE=1/0,_we=17976931348623157e292;function Twe(e){if(!e)return e===0?e:0;if(e=Ewe(e),e===cE||e===-cE){var t=e<0?-1:1;return t*_we}return e===e?e:0}var I6=Twe,Mwe=Owe,Iwe=Cy,Nb=I6;function Rwe(e){return function(t,n,s){return s&&typeof s!="number"&&Iwe(t,n,s)&&(n=s=void 0),t=Nb(t),n===void 0?(n=t,t=0):n=Nb(n),s=s===void 0?t<n?1:-1:Nb(s),Mwe(t,n,s,e)}}var $we=Rwe,Dwe=$we,zwe=Dwe(),Fwe=zwe;const Pg=$t(Fwe);function Zh(e){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zh(e)}function dE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function uE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dE(Object(n),!0).forEach(function(s){R6(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function R6(e,t,n){return t=Lwe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lwe(e){var t=Uwe(e,"string");return Zh(t)=="symbol"?t:t+""}function Uwe(e,t){if(Zh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Zh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bwe=["Webkit","Moz","O","ms"],Vwe=function(t,n){var s=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=Bwe.reduce(function(i,o){return uE(uE({},i),{},R6({},o+s,n))},{});return a[t]=n,a};function tu(e){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tu(e)}function Og(){return Og=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Og.apply(this,arguments)}function mE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Sb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mE(Object(n),!0).forEach(function(s){as(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function qwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hE(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,D6(s.key),s)}}function Wwe(e,t,n){return t&&hE(e.prototype,t),n&&hE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hwe(e,t,n){return t=Eg(t),Kwe(e,$6()?Reflect.construct(t,n||[],Eg(e).constructor):t.apply(e,n))}function Kwe(e,t){if(t&&(tu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gwe(e)}function Gwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($6=function(){return!!e})()}function Eg(e){return Eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Eg(e)}function Ywe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AN(e,t)}function AN(e,t){return AN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},AN(e,t)}function as(e,t,n){return t=D6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D6(e){var t=Qwe(e,"string");return tu(t)=="symbol"?t:t+""}function Qwe(e,t){if(tu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(tu(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Xwe=function(t){var n=t.data,s=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!n||!n.length)return{};var c=n.length,d=Lm().domain(Pg(0,c)).range([i,i+o-l]),u=d.domain().map(function(m){return d(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(s),endX:d(a),scale:d,scaleValues:u}},pE=function(t){return t.changedTouches&&!!t.changedTouches.length},ru=function(e){function t(n){var s;return qwe(this,t),s=Hwe(this,t,[n]),as(s,"handleDrag",function(a){s.leaveTimer&&(clearTimeout(s.leaveTimer),s.leaveTimer=null),s.state.isTravellerMoving?s.handleTravellerMove(a):s.state.isSlideMoving&&s.handleSlideDrag(a)}),as(s,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&s.handleDrag(a.changedTouches[0])}),as(s,"handleDragEnd",function(){s.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=s.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),s.detachDragEndListener()}),as(s,"handleLeaveWrapper",function(){(s.state.isTravellerMoving||s.state.isSlideMoving)&&(s.leaveTimer=window.setTimeout(s.handleDragEnd,s.props.leaveTimeOut))}),as(s,"handleEnterSlideOrTraveller",function(){s.setState({isTextActive:!0})}),as(s,"handleLeaveSlideOrTraveller",function(){s.setState({isTextActive:!1})}),as(s,"handleSlideDragStart",function(a){var i=pE(a)?a.changedTouches[0]:a;s.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),s.attachDragEndListener()}),s.travellerDragStartHandlers={startX:s.handleTravellerDragStart.bind(s,"startX"),endX:s.handleTravellerDragStart.bind(s,"endX")},s.state={},s}return Ywe(t,e),Wwe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(s){var a=s.startX,i=s.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,u=d.length-1,m=Math.min(a,i),p=Math.max(a,i),f=t.getIndexInRange(o,m),x=t.getIndexInRange(o,p);return{startIndex:f-f%c,endIndex:x===u?u:x-x%c}}},{key:"getTextOfTick",value:function(s){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=Kr(i[s],l,s);return Je(o)?o(c,s):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(s){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,d=c.x,u=c.width,m=c.travellerWidth,p=c.startIndex,f=c.endIndex,x=c.onChange,h=s.pageX-i;h>0?h=Math.min(h,d+u-m-l,d+u-m-o):h<0&&(h=Math.max(h,d-o,d-l));var y=this.getIndex({startX:o+h,endX:l+h});(y.startIndex!==p||y.endIndex!==f)&&x&&x(y),this.setState({startX:o+h,endX:l+h,slideMoveStartX:s.pageX})}},{key:"handleTravellerDragStart",value:function(s,a){var i=pE(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:s,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(s){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,d=this.state[o],u=this.props,m=u.x,p=u.width,f=u.travellerWidth,x=u.onChange,h=u.gap,y=u.data,v={startX:this.state.startX,endX:this.state.endX},b=s.pageX-i;b>0?b=Math.min(b,m+p-f-d):b<0&&(b=Math.max(b,m-d)),v[o]=d+b;var w=this.getIndex(v),S=w.startIndex,N=w.endIndex,j=function(){var A=y.length-1;return o==="startX"&&(l>c?S%h===0:N%h===0)||l<c&&N===A||o==="endX"&&(l>c?N%h===0:S%h===0)||l>c&&N===A};this.setState(as(as({},o,d+b),"brushMoveStartX",s.pageX),function(){x&&j()&&x(w)})}},{key:"handleTravellerMoveKeyboard",value:function(s,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,u=this.state[a],m=l.indexOf(u);if(m!==-1){var p=m+s;if(!(p===-1||p>=l.length)){var f=l[p];a==="startX"&&f>=d||a==="endX"&&f<=c||this.setState(as({},a,f),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.fill,d=s.stroke;return L.createElement("rect",{stroke:d,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.data,d=s.children,u=s.padding,m=g.Children.only(d);return m?L.cloneElement(m,{x:a,y:i,width:o,height:l,margin:u,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(s,a){var i,o,l=this,c=this.props,d=c.y,u=c.travellerWidth,m=c.height,p=c.traveller,f=c.ariaLabel,x=c.data,h=c.startIndex,y=c.endIndex,v=Math.max(s,this.props.x),b=Sb(Sb({},Ye(this.props,!1)),{},{x:v,y:d,width:u,height:m}),w=f||"Min value: ".concat((i=x[h])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=x[y])===null||o===void 0?void 0:o.name);return L.createElement(Ot,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":s,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),l.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(p,b))}},{key:"renderSlide",value:function(s,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,d=i.travellerWidth,u=Math.min(s,a)+d,m=Math.max(Math.abs(a-s)-d,0);return L.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:u,y:o,width:m,height:l})}},{key:"renderText",value:function(){var s=this.props,a=s.startIndex,i=s.endIndex,o=s.y,l=s.height,c=s.travellerWidth,d=s.stroke,u=this.state,m=u.startX,p=u.endX,f=5,x={pointerEvents:"none",fill:d};return L.createElement(Ot,{className:"recharts-brush-texts"},L.createElement(sc,Og({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,p)-f,y:o+l/2},x),this.getTextOfTick(a)),L.createElement(sc,Og({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,p)+c+f,y:o+l/2},x),this.getTextOfTick(i)))}},{key:"render",value:function(){var s=this.props,a=s.data,i=s.className,o=s.children,l=s.x,c=s.y,d=s.width,u=s.height,m=s.alwaysShowText,p=this.state,f=p.startX,x=p.endX,h=p.isTextActive,y=p.isSlideMoving,v=p.isTravellerMoving,b=p.isTravellerFocused;if(!a||!a.length||!Se(l)||!Se(c)||!Se(d)||!Se(u)||d<=0||u<=0)return null;var w=ct("recharts-brush",i),S=L.Children.count(o)===1,N=Vwe("userSelect","none");return L.createElement(Ot,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(f,x),this.renderTravellerLayer(f,"startX"),this.renderTravellerLayer(x,"endX"),(h||y||v||b||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(s){var a=s.x,i=s.y,o=s.width,l=s.height,c=s.stroke,d=Math.floor(i+l/2)-1;return L.createElement(L.Fragment,null,L.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),L.createElement("line",{x1:a+1,y1:d,x2:a+o-1,y2:d,fill:"none",stroke:"#fff"}),L.createElement("line",{x1:a+1,y1:d+2,x2:a+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(s,a){var i;return L.isValidElement(s)?i=L.cloneElement(s,a):Je(s)?i=s(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(s,a){var i=s.data,o=s.width,l=s.x,c=s.travellerWidth,d=s.updateId,u=s.startIndex,m=s.endIndex;if(i!==a.prevData||d!==a.prevUpdateId)return Sb({prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},i&&i.length?Xwe({data:i,width:o,x:l,travellerWidth:c,startIndex:u,endIndex:m}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var p=a.scale.domain().map(function(f){return a.scale(f)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:a.scale(s.startIndex),endX:a.scale(s.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(s,a){for(var i=s.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);s[c]>a?l=c:o=c}return a>=s[l]?l:o}}])}(g.PureComponent);as(ru,"displayName","Brush");as(ru,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Zwe=SS;function Jwe(e,t){var n;return Zwe(e,function(s,a,i){return n=t(s,a,i),!n}),!!n}var eje=Jwe,tje=Cz,rje=si,nje=eje,sje=rs,aje=Cy;function ije(e,t,n){var s=sje(e)?tje:nje;return n&&aje(e,t,n)&&(t=void 0),s(e,rje(t))}var oje=ije;const lje=$t(oje);var Ka=function(t,n){var s=t.alwaysShow,a=t.ifOverflow;return s&&(a="extendDomain"),a===n},fE=Kz;function cje(e,t,n){t=="__proto__"&&fE?fE(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var dje=cje,uje=dje,mje=Wz,hje=si;function pje(e,t){var n={};return t=hje(t),mje(e,function(s,a,i){uje(n,a,t(s,a,i))}),n}var fje=pje;const xje=$t(fje);function gje(e,t){for(var n=-1,s=e==null?0:e.length;++n<s;)if(!t(e[n],n,e))return!1;return!0}var yje=gje,vje=SS;function bje(e,t){var n=!0;return vje(e,function(s,a,i){return n=!!t(s,a,i),n}),n}var wje=bje,jje=yje,Nje=wje,Sje=si,Cje=rs,kje=Cy;function Aje(e,t,n){var s=Cje(e)?jje:Nje;return n&&kje(e,t,n)&&(t=void 0),s(e,Sje(t))}var Pje=Aje;const z6=$t(Pje);var Oje=["x","y"];function Jh(e){"@babel/helpers - typeof";return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jh(e)}function PN(){return PN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},PN.apply(this,arguments)}function xE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function mm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xE(Object(n),!0).forEach(function(s){Eje(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Eje(e,t,n){return t=_je(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _je(e){var t=Tje(e,"string");return Jh(t)=="symbol"?t:t+""}function Tje(e,t){if(Jh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Jh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mje(e,t){if(e==null)return{};var n=Ije(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Ije(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function Rje(e,t){var n=e.x,s=e.y,a=Mje(e,Oje),i="".concat(n),o=parseInt(i,10),l="".concat(s),c=parseInt(l,10),d="".concat(t.height||a.height),u=parseInt(d,10),m="".concat(t.width||a.width),p=parseInt(m,10);return mm(mm(mm(mm(mm({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:p,name:t.name,radius:t.radius})}function gE(e){return L.createElement(_6,PN({shapeType:"rectangle",propTransformer:Rje,activeClassName:"recharts-active-bar"},e))}var $je=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(s,a){if(typeof t=="number")return t;var i=Se(s)||nre(s);return i?t(s,a):(i||ic(),n)}},Dje=["value","background"],F6;function nu(e){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nu(e)}function zje(e,t){if(e==null)return{};var n=Fje(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Fje(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function _g(){return _g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},_g.apply(this,arguments)}function yE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Ar(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yE(Object(n),!0).forEach(function(s){No(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Lje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vE(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,U6(s.key),s)}}function Uje(e,t,n){return t&&vE(e.prototype,t),n&&vE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bje(e,t,n){return t=Tg(t),Vje(e,L6()?Reflect.construct(t,n||[],Tg(e).constructor):t.apply(e,n))}function Vje(e,t){if(t&&(nu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qje(e)}function qje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L6=function(){return!!e})()}function Tg(e){return Tg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tg(e)}function Wje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ON(e,t)}function ON(e,t){return ON=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},ON(e,t)}function No(e,t,n){return t=U6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U6(e){var t=Hje(e,"string");return nu(t)=="symbol"?t:t+""}function Hje(e,t){if(nu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(nu(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qs=function(e){function t(){var n;Lje(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return n=Bje(this,t,[].concat(a)),No(n,"state",{isAnimationFinished:!1}),No(n,"id",Ru("recharts-bar-")),No(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),No(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return Wje(t,e),Uje(t,[{key:"renderRectanglesStatically",value:function(s){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,d=i.activeBar,u=Ye(this.props,!1);return s&&s.map(function(m,p){var f=p===c,x=f?d:o,h=Ar(Ar(Ar({},u),m),{},{isActive:f,option:x,index:p,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return L.createElement(Ot,_g({className:"recharts-bar-rectangle"},nc(a.props,m,p),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(p)}),L.createElement(gE,h))})}},{key:"renderRectanglesWithAnimation",value:function(){var s=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,u=a.animationEasing,m=a.animationId,p=this.state.prevData;return L.createElement(ei,{begin:c,duration:d,isActive:l,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var x=f.t,h=i.map(function(y,v){var b=p&&p[v];if(b){var w=us(b.x,y.x),S=us(b.y,y.y),N=us(b.width,y.width),j=us(b.height,y.height);return Ar(Ar({},y),{},{x:w(x),y:S(x),width:N(x),height:j(x)})}if(o==="horizontal"){var C=us(0,y.height),A=C(x);return Ar(Ar({},y),{},{y:y.y+y.height-A,height:A})}var k=us(0,y.width),O=k(x);return Ar(Ar({},y),{},{width:O})});return L.createElement(Ot,null,s.renderRectanglesStatically(h))})}},{key:"renderRectangles",value:function(){var s=this.props,a=s.data,i=s.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!Up(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var s=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=Ye(this.props.background,!1);return i.map(function(d,u){d.value;var m=d.background,p=zje(d,Dje);if(!m)return null;var f=Ar(Ar(Ar(Ar(Ar({},p),{},{fill:"#eee"},m),c),nc(s.props,d,u)),{},{onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return L.createElement(gE,_g({key:"background-bar-".concat(u),option:s.props.background,isActive:u===l},f))})}},{key:"renderErrorBar",value:function(s,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,m=bs(u,Bp);if(!m)return null;var p=d==="vertical"?o[0].height/2:o[0].width/2,f=function(y,v){var b=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:b,errorVal:Kr(y,v)}},x={clipPath:s?"url(#clipPath-".concat(a,")"):null};return L.createElement(Ot,x,m.map(function(h){return L.cloneElement(h,{key:"error-bar-".concat(a,"-").concat(h.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:p,dataPointFormatter:f})}))}},{key:"render",value:function(){var s=this.props,a=s.hide,i=s.data,o=s.className,l=s.xAxis,c=s.yAxis,d=s.left,u=s.top,m=s.width,p=s.height,f=s.isAnimationActive,x=s.background,h=s.id;if(a||!i||!i.length)return null;var y=this.state.isAnimationFinished,v=ct("recharts-bar",o),b=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,S=b||w,N=it(h)?this.id:h;return L.createElement(Ot,{className:v},b||w?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(N)},L.createElement("rect",{x:b?d:d-m/2,y:w?u:u-p/2,width:b?m:m*2,height:w?p:p*2}))):null,L.createElement(Ot,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(N,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,N),(!f||y)&&Ti.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curData:s.data,prevData:a.curData}:s.data!==a.curData?{curData:s.data}:null}}])}(g.PureComponent);F6=qs;No(qs,"displayName","Bar");No(qs,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!vc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});No(qs,"getComposedData",function(e){var t=e.props,n=e.item,s=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,d=e.stackedData,u=e.dataStartIndex,m=e.displayedData,p=e.offset,f=jge(s,n);if(!f)return null;var x=t.layout,h=n.type.defaultProps,y=h!==void 0?Ar(Ar({},h),n.props):n.props,v=y.dataKey,b=y.children,w=y.minPointSize,S=x==="horizontal"?o:i,N=d?S.scale.domain():null,j=Oge({numericAxis:S}),C=bs(b,ky),A=m.map(function(k,O){var M,P,_,E,T,$;d?M=Nge(d[u+O],N):(M=Kr(k,v),Array.isArray(M)||(M=[j,M]));var q=$je(w,F6.defaultProps.minPointSize)(M[1],O);if(x==="horizontal"){var R,D=[o.scale(M[0]),o.scale(M[1])],V=D[0],F=D[1];P=uO({axis:i,ticks:l,bandSize:a,offset:f.offset,entry:k,index:O}),_=(R=F??V)!==null&&R!==void 0?R:void 0,E=f.size;var z=V-F;if(T=Number.isNaN(z)?0:z,$={x:P,y:o.y,width:E,height:o.height},Math.abs(q)>0&&Math.abs(T)<Math.abs(q)){var Q=_n(T||q)*(Math.abs(q)-Math.abs(T));_-=Q,T+=Q}}else{var te=[i.scale(M[0]),i.scale(M[1])],me=te[0],ge=te[1];if(P=me,_=uO({axis:o,ticks:c,bandSize:a,offset:f.offset,entry:k,index:O}),E=ge-me,T=f.size,$={x:i.x,y:_,width:i.width,height:T},Math.abs(q)>0&&Math.abs(E)<Math.abs(q)){var he=_n(E||q)*(Math.abs(q)-Math.abs(E));E+=he}}return Ar(Ar(Ar({},k),{},{x:P,y:_,width:E,height:T,value:d?M:M[1],payload:k,background:$},C&&C[O]&&C[O].props),{},{tooltipPayload:[c6(n,k)],tooltipPosition:{x:P+E/2,y:_+T/2}})});return Ar({data:A,layout:x},p)});function ep(e){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ep(e)}function Kje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bE(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,B6(s.key),s)}}function Gje(e,t,n){return t&&bE(e.prototype,t),n&&bE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function wE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function oa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wE(Object(n),!0).forEach(function(s){Wy(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Wy(e,t,n){return t=B6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B6(e){var t=Yje(e,"string");return ep(t)=="symbol"?t:t+""}function Yje(e,t){if(ep(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(ep(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var V6=function(t,n,s,a,i){var o=t.width,l=t.height,c=t.layout,d=t.children,u=Object.keys(n),m={left:s.left,leftMirror:s.left,right:o-s.right,rightMirror:o-s.right,top:s.top,topMirror:s.top,bottom:l-s.bottom,bottomMirror:l-s.bottom},p=!!os(d,qs);return u.reduce(function(f,x){var h=n[x],y=h.orientation,v=h.domain,b=h.padding,w=b===void 0?{}:b,S=h.mirror,N=h.reversed,j="".concat(y).concat(S?"Mirror":""),C,A,k,O,M;if(h.type==="number"&&(h.padding==="gap"||h.padding==="no-gap")){var P=v[1]-v[0],_=1/0,E=h.categoricalDomain.sort(ire);if(E.forEach(function(te,me){me>0&&(_=Math.min((te||0)-(E[me-1]||0),_))}),Number.isFinite(_)){var T=_/P,$=h.layout==="vertical"?s.height:s.width;if(h.padding==="gap"&&(C=T*$/2),h.padding==="no-gap"){var q=Tn(t.barCategoryGap,T*$),R=T*$/2;C=R-q-(R-q)/$*q}}}a==="xAxis"?A=[s.left+(w.left||0)+(C||0),s.left+s.width-(w.right||0)-(C||0)]:a==="yAxis"?A=c==="horizontal"?[s.top+s.height-(w.bottom||0),s.top+(w.top||0)]:[s.top+(w.top||0)+(C||0),s.top+s.height-(w.bottom||0)-(C||0)]:A=h.range,N&&(A=[A[1],A[0]]);var D=a6(h,i,p),V=D.scale,F=D.realScaleType;V.domain(v).range(A),i6(V);var z=o6(V,oa(oa({},h),{},{realScaleType:F}));a==="xAxis"?(M=y==="top"&&!S||y==="bottom"&&S,k=s.left,O=m[j]-M*h.height):a==="yAxis"&&(M=y==="left"&&!S||y==="right"&&S,k=m[j]-M*h.width,O=s.top);var Q=oa(oa(oa({},h),z),{},{realScaleType:F,x:k,y:O,scale:V,width:a==="xAxis"?s.width:h.width,height:a==="yAxis"?s.height:h.height});return Q.bandSize=pg(Q,z),!h.hide&&a==="xAxis"?m[j]+=(M?-1:1)*Q.height:h.hide||(m[j]+=(M?-1:1)*Q.width),oa(oa({},f),{},Wy({},x,Q))},{})},q6=function(t,n){var s=t.x,a=t.y,i=n.x,o=n.y;return{x:Math.min(s,i),y:Math.min(a,o),width:Math.abs(i-s),height:Math.abs(o-a)}},Qje=function(t){var n=t.x1,s=t.y1,a=t.x2,i=t.y2;return q6({x:n,y:s},{x:a,y:i})},W6=function(){function e(t){Kje(this,e),this.scale=t}return Gje(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,i=s.position;if(n!==void 0){if(i)switch(i){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var s=this.range(),a=s[0],i=s[s.length-1];return a<=i?n>=a&&n<=i:n>=i&&n<=a}}],[{key:"create",value:function(n){return new e(n)}}])}();Wy(W6,"EPS",1e-4);var JS=function(t){var n=Object.keys(t).reduce(function(s,a){return oa(oa({},s),{},Wy({},a,W6.create(t[a])))},{});return oa(oa({},n),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return xje(a,function(c,d){return n[d].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return z6(a,function(i,o){return n[o].isInRange(i)})}})};function Xje(e){return(e%180+180)%180}var Zje=function(t){var n=t.width,s=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Xje(a),o=i*Math.PI/180,l=Math.atan(s/n),c=o>l&&o<Math.PI-l?s/Math.sin(o):n/Math.cos(o);return Math.abs(c)},Jje=si,eNe=$p,tNe=Ny;function rNe(e){return function(t,n,s){var a=Object(t);if(!eNe(t)){var i=Jje(n);t=tNe(t),n=function(l){return i(a[l],l,a)}}var o=e(t,n,s);return o>-1?a[i?t[o]:o]:void 0}}var nNe=rNe,sNe=I6;function aNe(e){var t=sNe(e),n=t%1;return t===t?n?t-n:t:0}var iNe=aNe,oNe=Fz,lNe=si,cNe=iNe,dNe=Math.max;function uNe(e,t,n){var s=e==null?0:e.length;if(!s)return-1;var a=n==null?0:cNe(n);return a<0&&(a=dNe(s+a,0)),oNe(e,lNe(t),a)}var mNe=uNe,hNe=nNe,pNe=mNe,fNe=hNe(pNe),xNe=fNe;const gNe=$t(xNe);var yNe=cte(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),e4=g.createContext(void 0),t4=g.createContext(void 0),H6=g.createContext(void 0),K6=g.createContext({}),G6=g.createContext(void 0),Y6=g.createContext(0),Q6=g.createContext(0),jE=function(t){var n=t.state,s=n.xAxisMap,a=n.yAxisMap,i=n.offset,o=t.clipPathId,l=t.children,c=t.width,d=t.height,u=yNe(i);return L.createElement(e4.Provider,{value:s},L.createElement(t4.Provider,{value:a},L.createElement(K6.Provider,{value:i},L.createElement(H6.Provider,{value:u},L.createElement(G6.Provider,{value:o},L.createElement(Y6.Provider,{value:d},L.createElement(Q6.Provider,{value:c},l)))))))},vNe=function(){return g.useContext(G6)},X6=function(t){var n=g.useContext(e4);n==null&&ic();var s=n[t];return s==null&&ic(),s},bNe=function(){var t=g.useContext(e4);return lo(t)},wNe=function(){var t=g.useContext(t4),n=gNe(t,function(s){return z6(s.domain,Number.isFinite)});return n||lo(t)},Z6=function(t){var n=g.useContext(t4);n==null&&ic();var s=n[t];return s==null&&ic(),s},jNe=function(){var t=g.useContext(H6);return t},NNe=function(){return g.useContext(K6)},r4=function(){return g.useContext(Q6)},n4=function(){return g.useContext(Y6)};function su(e){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},su(e)}function SNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CNe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,e8(s.key),s)}}function kNe(e,t,n){return t&&CNe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ANe(e,t,n){return t=Mg(t),PNe(e,J6()?Reflect.construct(t,n||[],Mg(e).constructor):t.apply(e,n))}function PNe(e,t){if(t&&(su(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ONe(e)}function ONe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J6=function(){return!!e})()}function Mg(e){return Mg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mg(e)}function ENe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&EN(e,t)}function EN(e,t){return EN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},EN(e,t)}function NE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function SE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NE(Object(n),!0).forEach(function(s){s4(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function s4(e,t,n){return t=e8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e8(e){var t=_Ne(e,"string");return su(t)=="symbol"?t:t+""}function _Ne(e,t){if(su(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(su(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function TNe(e,t){return $Ne(e)||RNe(e,t)||INe(e,t)||MNe()}function MNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function INe(e,t){if(e){if(typeof e=="string")return CE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CE(e,t)}}function CE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function RNe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function $Ne(e){if(Array.isArray(e))return e}function _N(){return _N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},_N.apply(this,arguments)}var DNe=function(t,n){var s;return L.isValidElement(t)?s=L.cloneElement(t,n):Je(t)?s=t(n):s=L.createElement("line",_N({},n,{className:"recharts-reference-line-line"})),s},zNe=function(t,n,s,a,i,o,l,c,d){var u=i.x,m=i.y,p=i.width,f=i.height;if(s){var x=d.y,h=t.y.apply(x,{position:o});if(Ka(d,"discard")&&!t.y.isInRange(h))return null;var y=[{x:u+p,y:h},{x:u,y:h}];return c==="left"?y.reverse():y}if(n){var v=d.x,b=t.x.apply(v,{position:o});if(Ka(d,"discard")&&!t.x.isInRange(b))return null;var w=[{x:b,y:m+f},{x:b,y:m}];return l==="top"?w.reverse():w}if(a){var S=d.segment,N=S.map(function(j){return t.apply(j,{position:o})});return Ka(d,"discard")&&lje(N,function(j){return!t.isInRange(j)})?null:N}return null};function FNe(e){var t=e.x,n=e.y,s=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,d=vNe(),u=X6(a),m=Z6(i),p=jNe();if(!d||!p)return null;va(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=JS({x:u.scale,y:m.scale}),x=Yr(t),h=Yr(n),y=s&&s.length===2,v=zNe(f,x,h,y,p,e.position,u.orientation,m.orientation,e);if(!v)return null;var b=TNe(v,2),w=b[0],S=w.x,N=w.y,j=b[1],C=j.x,A=j.y,k=Ka(e,"hidden")?"url(#".concat(d,")"):void 0,O=SE(SE({clipPath:k},Ye(e,!0)),{},{x1:S,y1:N,x2:C,y2:A});return L.createElement(Ot,{className:ct("recharts-reference-line",l)},DNe(o,O),tn.renderCallByParent(e,Qje({x1:S,y1:N,x2:C,y2:A})))}var Hy=function(e){function t(){return SNe(this,t),ANe(this,t,arguments)}return ENe(t,e),kNe(t,[{key:"render",value:function(){return L.createElement(FNe,this.props)}}])}(L.Component);s4(Hy,"displayName","ReferenceLine");s4(Hy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function TN(){return TN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},TN.apply(this,arguments)}function au(e){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},au(e)}function kE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function AE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kE(Object(n),!0).forEach(function(s){Ky(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function LNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UNe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,r8(s.key),s)}}function BNe(e,t,n){return t&&UNe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function VNe(e,t,n){return t=Ig(t),qNe(e,t8()?Reflect.construct(t,n||[],Ig(e).constructor):t.apply(e,n))}function qNe(e,t){if(t&&(au(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WNe(e)}function WNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function t8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t8=function(){return!!e})()}function Ig(e){return Ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ig(e)}function HNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MN(e,t)}function MN(e,t){return MN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},MN(e,t)}function Ky(e,t,n){return t=r8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r8(e){var t=KNe(e,"string");return au(t)=="symbol"?t:t+""}function KNe(e,t){if(au(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(au(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var GNe=function(t){var n=t.x,s=t.y,a=t.xAxis,i=t.yAxis,o=JS({x:a.scale,y:i.scale}),l=o.apply({x:n,y:s},{bandAware:!0});return Ka(t,"discard")&&!o.isInRange(l)?null:l},Gy=function(e){function t(){return LNe(this,t),VNe(this,t,arguments)}return HNe(t,e),BNe(t,[{key:"render",value:function(){var s=this.props,a=s.x,i=s.y,o=s.r,l=s.alwaysShow,c=s.clipPathId,d=Yr(a),u=Yr(i);if(va(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!u)return null;var m=GNe(this.props);if(!m)return null;var p=m.x,f=m.y,x=this.props,h=x.shape,y=x.className,v=Ka(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=AE(AE({clipPath:v},Ye(this.props,!0)),{},{cx:p,cy:f});return L.createElement(Ot,{className:ct("recharts-reference-dot",y)},t.renderDot(h,b),tn.renderCallByParent(this.props,{x:p-o,y:f-o,width:2*o,height:2*o}))}}])}(L.Component);Ky(Gy,"displayName","ReferenceDot");Ky(Gy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Ky(Gy,"renderDot",function(e,t){var n;return L.isValidElement(e)?n=L.cloneElement(e,t):Je(e)?n=e(t):n=L.createElement(zy,TN({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function IN(){return IN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},IN.apply(this,arguments)}function iu(e){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iu(e)}function PE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function OE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PE(Object(n),!0).forEach(function(s){Yy(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function YNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QNe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s8(s.key),s)}}function XNe(e,t,n){return t&&QNe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZNe(e,t,n){return t=Rg(t),JNe(e,n8()?Reflect.construct(t,n||[],Rg(e).constructor):t.apply(e,n))}function JNe(e,t){if(t&&(iu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e1e(e)}function e1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function n8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n8=function(){return!!e})()}function Rg(e){return Rg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rg(e)}function t1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RN(e,t)}function RN(e,t){return RN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},RN(e,t)}function Yy(e,t,n){return t=s8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s8(e){var t=r1e(e,"string");return iu(t)=="symbol"?t:t+""}function r1e(e,t){if(iu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(iu(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var n1e=function(t,n,s,a,i){var o=i.x1,l=i.x2,c=i.y1,d=i.y2,u=i.xAxis,m=i.yAxis;if(!u||!m)return null;var p=JS({x:u.scale,y:m.scale}),f={x:t?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:s?p.y.apply(c,{position:"start"}):p.y.rangeMin},x={x:n?p.x.apply(l,{position:"end"}):p.x.rangeMax,y:a?p.y.apply(d,{position:"end"}):p.y.rangeMax};return Ka(i,"discard")&&(!p.isInRange(f)||!p.isInRange(x))?null:q6(f,x)},Qy=function(e){function t(){return YNe(this,t),ZNe(this,t,arguments)}return t1e(t,e),XNe(t,[{key:"render",value:function(){var s=this.props,a=s.x1,i=s.x2,o=s.y1,l=s.y2,c=s.className,d=s.alwaysShow,u=s.clipPathId;va(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=Yr(a),p=Yr(i),f=Yr(o),x=Yr(l),h=this.props.shape;if(!m&&!p&&!f&&!x&&!h)return null;var y=n1e(m,p,f,x,this.props);if(!y&&!h)return null;var v=Ka(this.props,"hidden")?"url(#".concat(u,")"):void 0;return L.createElement(Ot,{className:ct("recharts-reference-area",c)},t.renderRect(h,OE(OE({clipPath:v},Ye(this.props,!0)),y)),tn.renderCallByParent(this.props,y))}}])}(L.Component);Yy(Qy,"displayName","ReferenceArea");Yy(Qy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Yy(Qy,"renderRect",function(e,t){var n;return L.isValidElement(e)?n=L.cloneElement(e,t):Je(e)?n=e(t):n=L.createElement(ZS,IN({},t,{className:"recharts-reference-area-rect"})),n});function a8(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var s=[],a=0;a<e.length;a+=t)s.push(e[a]);return s}function s1e(e,t,n){var s={width:e.width+t.width,height:e.height+t.height};return Zje(s,n)}function a1e(e,t,n){var s=n==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:s?a:i,end:s?a+o:i+l}:{start:s?a+o:i+l,end:s?a:i}}function $g(e,t,n,s,a){if(e*t<e*s||e*t>e*a)return!1;var i=n();return e*(t-e*i/2-s)>=0&&e*(t+e*i/2-a)<=0}function i1e(e,t){return a8(e,t+1)}function o1e(e,t,n,s,a){for(var i=(s||[]).slice(),o=t.start,l=t.end,c=0,d=1,u=o,m=function(){var x=s==null?void 0:s[c];if(x===void 0)return{v:a8(s,d)};var h=c,y,v=function(){return y===void 0&&(y=n(x,h)),y},b=x.coordinate,w=c===0||$g(e,b,v,u,l);w||(c=0,u=o,d+=1),w&&(u=b+e*(v()/2+a),c+=d)},p;d<=i.length;)if(p=m(),p)return p.v;return[]}function tp(e){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tp(e)}function EE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function yn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EE(Object(n),!0).forEach(function(s){l1e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function l1e(e,t,n){return t=c1e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c1e(e){var t=d1e(e,"string");return tp(t)=="symbol"?t:t+""}function d1e(e,t){if(tp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(tp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u1e(e,t,n,s,a){for(var i=(s||[]).slice(),o=i.length,l=t.start,c=t.end,d=function(p){var f=i[p],x,h=function(){return x===void 0&&(x=n(f,p)),x};if(p===o-1){var y=e*(f.coordinate+e*h()/2-c);i[p]=f=yn(yn({},f),{},{tickCoord:y>0?f.coordinate-y*e:f.coordinate})}else i[p]=f=yn(yn({},f),{},{tickCoord:f.coordinate});var v=$g(e,f.tickCoord,h,l,c);v&&(c=f.tickCoord-e*(h()/2+a),i[p]=yn(yn({},f),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return i}function m1e(e,t,n,s,a,i){var o=(s||[]).slice(),l=o.length,c=t.start,d=t.end;if(i){var u=s[l-1],m=n(u,l-1),p=e*(u.coordinate+e*m/2-d);o[l-1]=u=yn(yn({},u),{},{tickCoord:p>0?u.coordinate-p*e:u.coordinate});var f=$g(e,u.tickCoord,function(){return m},c,d);f&&(d=u.tickCoord-e*(m/2+a),o[l-1]=yn(yn({},u),{},{isShow:!0}))}for(var x=i?l-1:l,h=function(b){var w=o[b],S,N=function(){return S===void 0&&(S=n(w,b)),S};if(b===0){var j=e*(w.coordinate-e*N()/2-c);o[b]=w=yn(yn({},w),{},{tickCoord:j<0?w.coordinate-j*e:w.coordinate})}else o[b]=w=yn(yn({},w),{},{tickCoord:w.coordinate});var C=$g(e,w.tickCoord,N,c,d);C&&(c=w.tickCoord+e*(N()/2+a),o[b]=yn(yn({},w),{},{isShow:!0}))},y=0;y<x;y++)h(y);return o}function a4(e,t,n){var s=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,d=e.tickFormatter,u=e.unit,m=e.angle;if(!a||!a.length||!s)return[];if(Se(c)||vc.isSsr)return i1e(a,typeof c=="number"&&Se(c)?c:0);var p=[],f=l==="top"||l==="bottom"?"width":"height",x=u&&f==="width"?Fm(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},h=function(w,S){var N=Je(d)?d(w.value,S):w.value;return f==="width"?s1e(Fm(N,{fontSize:t,letterSpacing:n}),x,m):Fm(N,{fontSize:t,letterSpacing:n})[f]},y=a.length>=2?_n(a[1].coordinate-a[0].coordinate):1,v=a1e(i,y,f);return c==="equidistantPreserveStart"?o1e(y,v,h,a,o):(c==="preserveStart"||c==="preserveStartEnd"?p=m1e(y,v,h,a,o,c==="preserveStartEnd"):p=u1e(y,v,h,a,o),p.filter(function(b){return b.isShow}))}var h1e=["viewBox"],p1e=["viewBox"],f1e=["ticks"];function ou(e){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ou(e)}function ed(){return ed=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ed.apply(this,arguments)}function _E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Br(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_E(Object(n),!0).forEach(function(s){i4(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_E(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Cb(e,t){if(e==null)return{};var n=x1e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function x1e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function g1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TE(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,o8(s.key),s)}}function y1e(e,t,n){return t&&TE(e.prototype,t),n&&TE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function v1e(e,t,n){return t=Dg(t),b1e(e,i8()?Reflect.construct(t,n||[],Dg(e).constructor):t.apply(e,n))}function b1e(e,t){if(t&&(ou(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w1e(e)}function w1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i8=function(){return!!e})()}function Dg(e){return Dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dg(e)}function j1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$N(e,t)}function $N(e,t){return $N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},$N(e,t)}function i4(e,t,n){return t=o8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o8(e){var t=N1e(e,"string");return ou(t)=="symbol"?t:t+""}function N1e(e,t){if(ou(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(ou(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Bu=function(e){function t(n){var s;return g1e(this,t),s=v1e(this,t,[n]),s.state={fontSize:"",letterSpacing:""},s}return j1e(t,e),y1e(t,[{key:"shouldComponentUpdate",value:function(s,a){var i=s.viewBox,o=Cb(s,h1e),l=this.props,c=l.viewBox,d=Cb(l,p1e);return!hd(i,c)||!hd(o,d)||!hd(a,this.state)}},{key:"componentDidMount",value:function(){var s=this.layerReference;if(s){var a=s.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(s){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,d=a.orientation,u=a.tickSize,m=a.mirror,p=a.tickMargin,f,x,h,y,v,b,w=m?-1:1,S=s.tickSize||u,N=Se(s.tickCoord)?s.tickCoord:s.coordinate;switch(d){case"top":f=x=s.coordinate,y=o+ +!m*c,h=y-w*S,b=h-w*p,v=N;break;case"left":h=y=s.coordinate,x=i+ +!m*l,f=x-w*S,v=f-w*p,b=N;break;case"right":h=y=s.coordinate,x=i+ +m*l,f=x+w*S,v=f+w*p,b=N;break;default:f=x=s.coordinate,y=o+ +m*c,h=y+w*S,b=h+w*p,v=N;break}return{line:{x1:f,y1:h,x2:x,y2:y},tick:{x:v,y:b}}}},{key:"getTickTextAnchor",value:function(){var s=this.props,a=s.orientation,i=s.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var s=this.props,a=s.orientation,i=s.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.orientation,d=s.mirror,u=s.axisLine,m=Br(Br(Br({},Ye(this.props,!1)),Ye(u,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var p=+(c==="top"&&!d||c==="bottom"&&d);m=Br(Br({},m),{},{x1:a,y1:i+p*l,x2:a+o,y2:i+p*l})}else{var f=+(c==="left"&&!d||c==="right"&&d);m=Br(Br({},m),{},{x1:a+f*o,y1:i,x2:a+f*o,y2:i+l})}return L.createElement("line",ed({},m,{className:ct("recharts-cartesian-axis-line",vs(u,"className"))}))}},{key:"renderTicks",value:function(s,a,i){var o=this,l=this.props,c=l.tickLine,d=l.stroke,u=l.tick,m=l.tickFormatter,p=l.unit,f=a4(Br(Br({},this.props),{},{ticks:s}),a,i),x=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),y=Ye(this.props,!1),v=Ye(u,!1),b=Br(Br({},y),{},{fill:"none"},Ye(c,!1)),w=f.map(function(S,N){var j=o.getTickLineCoord(S),C=j.line,A=j.tick,k=Br(Br(Br(Br({textAnchor:x,verticalAnchor:h},y),{},{stroke:"none",fill:d},v),A),{},{index:N,payload:S,visibleTicksCount:f.length,tickFormatter:m});return L.createElement(Ot,ed({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},nc(o.props,S,N)),c&&L.createElement("line",ed({},b,C,{className:ct("recharts-cartesian-axis-tick-line",vs(c,"className"))})),u&&t.renderTickItem(u,k,"".concat(Je(m)?m(S.value,N):S.value).concat(p||"")))});return L.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var s=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,d=a.className,u=a.hide;if(u)return null;var m=this.props,p=m.ticks,f=Cb(m,f1e),x=p;return Je(c)&&(x=p&&p.length>0?c(this.props):c(f)),o<=0||l<=0||!x||!x.length?null:L.createElement(Ot,{className:ct("recharts-cartesian-axis",d),ref:function(y){s.layerReference=y}},i&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),tn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(s,a,i){var o,l=ct(a.className,"recharts-cartesian-axis-tick-value");return L.isValidElement(s)?o=L.cloneElement(s,Br(Br({},a),{},{className:l})):Je(s)?o=s(Br(Br({},a),{},{className:l})):o=L.createElement(sc,ed({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(g.Component);i4(Bu,"displayName","CartesianAxis");i4(Bu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var S1e=["x1","y1","x2","y2","key"],C1e=["offset"];function oc(e){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oc(e)}function ME(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function bn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ME(Object(n),!0).forEach(function(s){k1e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ME(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function k1e(e,t,n){return t=A1e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A1e(e){var t=P1e(e,"string");return oc(t)=="symbol"?t:t+""}function P1e(e,t){if(oc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(oc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sl(){return Sl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Sl.apply(this,arguments)}function IE(e,t){if(e==null)return{};var n=O1e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function O1e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var E1e=function(t){var n=t.fill;if(!n||n==="none")return null;var s=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return L.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:s,className:"recharts-cartesian-grid-bg"})};function l8(e,t){var n;if(L.isValidElement(e))n=L.cloneElement(e,t);else if(Je(e))n=e(t);else{var s=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=IE(t,S1e),d=Ye(c,!1);d.offset;var u=IE(d,C1e);n=L.createElement("line",Sl({},u,{x1:s,y1:a,x2:i,y2:o,fill:"none",key:l}))}return n}function _1e(e){var t=e.x,n=e.width,s=e.horizontal,a=s===void 0?!0:s,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var d=bn(bn({},e),{},{x1:t,y1:l,x2:t+n,y2:l,key:"line-".concat(c),index:c});return l8(a,d)});return L.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function T1e(e){var t=e.y,n=e.height,s=e.vertical,a=s===void 0?!0:s,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var d=bn(bn({},e),{},{x1:l,y1:t,x2:l,y2:t+n,key:"line-".concat(c),index:c});return l8(a,d)});return L.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function M1e(e){var t=e.horizontalFill,n=e.fillOpacity,s=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,d=c===void 0?!0:c;if(!d||!t||!t.length)return null;var u=l.map(function(p){return Math.round(p+a-a)}).sort(function(p,f){return p-f});a!==u[0]&&u.unshift(0);var m=u.map(function(p,f){var x=!u[f+1],h=x?a+o-p:u[f+1]-p;if(h<=0)return null;var y=f%t.length;return L.createElement("rect",{key:"react-".concat(f),y:p,x:s,height:h,width:i,stroke:"none",fill:t[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function I1e(e){var t=e.vertical,n=t===void 0?!0:t,s=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,d=e.verticalPoints;if(!n||!s||!s.length)return null;var u=d.map(function(p){return Math.round(p+i-i)}).sort(function(p,f){return p-f});i!==u[0]&&u.unshift(0);var m=u.map(function(p,f){var x=!u[f+1],h=x?i+l-p:u[f+1]-p;if(h<=0)return null;var y=f%s.length;return L.createElement("rect",{key:"react-".concat(f),x:p,y:o,width:h,height:c,stroke:"none",fill:s[y],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var R1e=function(t,n){var s=t.xAxis,a=t.width,i=t.height,o=t.offset;return s6(a4(bn(bn(bn({},Bu.defaultProps),s),{},{ticks:Si(s,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,n)},$1e=function(t,n){var s=t.yAxis,a=t.width,i=t.height,o=t.offset;return s6(a4(bn(bn(bn({},Bu.defaultProps),s),{},{ticks:Si(s,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,n)},Oc={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function qo(e){var t,n,s,a,i,o,l=r4(),c=n4(),d=NNe(),u=bn(bn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Oc.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:Oc.fill,horizontal:(s=e.horizontal)!==null&&s!==void 0?s:Oc.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Oc.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Oc.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Oc.verticalFill,x:Se(e.x)?e.x:d.left,y:Se(e.y)?e.y:d.top,width:Se(e.width)?e.width:d.width,height:Se(e.height)?e.height:d.height}),m=u.x,p=u.y,f=u.width,x=u.height,h=u.syncWithTicks,y=u.horizontalValues,v=u.verticalValues,b=bNe(),w=wNe();if(!Se(f)||f<=0||!Se(x)||x<=0||!Se(m)||m!==+m||!Se(p)||p!==+p)return null;var S=u.verticalCoordinatesGenerator||R1e,N=u.horizontalCoordinatesGenerator||$1e,j=u.horizontalPoints,C=u.verticalPoints;if((!j||!j.length)&&Je(N)){var A=y&&y.length,k=N({yAxis:w?bn(bn({},w),{},{ticks:A?y:w.ticks}):void 0,width:l,height:c,offset:d},A?!0:h);va(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(oc(k),"]")),Array.isArray(k)&&(j=k)}if((!C||!C.length)&&Je(S)){var O=v&&v.length,M=S({xAxis:b?bn(bn({},b),{},{ticks:O?v:b.ticks}):void 0,width:l,height:c,offset:d},O?!0:h);va(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(oc(M),"]")),Array.isArray(M)&&(C=M)}return L.createElement("g",{className:"recharts-cartesian-grid"},L.createElement(E1e,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),L.createElement(_1e,Sl({},u,{offset:d,horizontalPoints:j,xAxis:b,yAxis:w})),L.createElement(T1e,Sl({},u,{offset:d,verticalPoints:C,xAxis:b,yAxis:w})),L.createElement(M1e,Sl({},u,{horizontalPoints:j})),L.createElement(I1e,Sl({},u,{verticalPoints:C})))}qo.displayName="CartesianGrid";var D1e=["type","layout","connectNulls","ref"],z1e=["key"];function lu(e){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lu(e)}function RE(e,t){if(e==null)return{};var n=F1e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function F1e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function Wm(){return Wm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Wm.apply(this,arguments)}function $E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function ss(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$E(Object(n),!0).forEach(function(s){la(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$E(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Ec(e){return V1e(e)||B1e(e)||U1e(e)||L1e()}function L1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U1e(e,t){if(e){if(typeof e=="string")return DN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DN(e,t)}}function B1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function V1e(e){if(Array.isArray(e))return DN(e)}function DN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function q1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DE(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,d8(s.key),s)}}function W1e(e,t,n){return t&&DE(e.prototype,t),n&&DE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function H1e(e,t,n){return t=zg(t),K1e(e,c8()?Reflect.construct(t,n||[],zg(e).constructor):t.apply(e,n))}function K1e(e,t){if(t&&(lu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G1e(e)}function G1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c8=function(){return!!e})()}function zg(e){return zg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zg(e)}function Y1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zN(e,t)}function zN(e,t){return zN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},zN(e,t)}function la(e,t,n){return t=d8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d8(e){var t=Q1e(e,"string");return lu(t)=="symbol"?t:t+""}function Q1e(e,t){if(lu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(lu(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ti=function(e){function t(){var n;q1e(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return n=H1e(this,t,[].concat(a)),la(n,"state",{isAnimationFinished:!0,totalLength:0}),la(n,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),la(n,"getStrokeDasharray",function(o,l,c){var d=c.reduce(function(v,b){return v+b});if(!d)return n.generateSimpleStrokeDasharray(l,o);for(var u=Math.floor(o/d),m=o%d,p=l-o,f=[],x=0,h=0;x<c.length;h+=c[x],++x)if(h+c[x]>m){f=[].concat(Ec(c.slice(0,x)),[m-h]);break}var y=f.length%2===0?[0,p]:[p];return[].concat(Ec(t.repeat(c,u)),Ec(f),y).map(function(v){return"".concat(v,"px")}).join(", ")}),la(n,"id",Ru("recharts-line-")),la(n,"pathRef",function(o){n.mainCurve=o}),la(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),la(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Y1e(t,e),W1e(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();this.setState({totalLength:s})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();s!==this.state.totalLength&&this.setState({totalLength:s})}}},{key:"getTotalLength",value:function(){var s=this.mainCurve;try{return s&&s.getTotalLength&&s.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(s,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,m=bs(u,Bp);if(!m)return null;var p=function(h,y){return{x:h.x,y:h.y,value:h.value,errorVal:Kr(h.payload,y)}},f={clipPath:s?"url(#clipPath-".concat(a,")"):null};return L.createElement(Ot,f,m.map(function(x){return L.cloneElement(x,{key:"bar-".concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,dataPointFormatter:p})}))}},{key:"renderDots",value:function(s,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,d=l.points,u=l.dataKey,m=Ye(this.props,!1),p=Ye(c,!0),f=d.map(function(h,y){var v=ss(ss(ss({key:"dot-".concat(y),r:3},m),p),{},{index:y,cx:h.x,cy:h.y,value:h.value,dataKey:u,payload:h.payload,points:d});return t.renderDotItem(c,v)}),x={clipPath:s?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return L.createElement(Ot,Wm({className:"recharts-line-dots",key:"dots"},x),f)}},{key:"renderCurveStatically",value:function(s,a,i,o){var l=this.props,c=l.type,d=l.layout,u=l.connectNulls;l.ref;var m=RE(l,D1e),p=ss(ss(ss({},Ye(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:s},o),{},{type:c,layout:d,connectNulls:u});return L.createElement(gg,Wm({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(s,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,d=o.isAnimationActive,u=o.animationBegin,m=o.animationDuration,p=o.animationEasing,f=o.animationId,x=o.animateNewValues,h=o.width,y=o.height,v=this.state,b=v.prevPoints,w=v.totalLength;return L.createElement(ei,{begin:u,duration:m,isActive:d,easing:p,from:{t:0},to:{t:1},key:"line-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var N=S.t;if(b){var j=b.length/l.length,C=l.map(function(P,_){var E=Math.floor(_*j);if(b[E]){var T=b[E],$=us(T.x,P.x),q=us(T.y,P.y);return ss(ss({},P),{},{x:$(N),y:q(N)})}if(x){var R=us(h*2,P.x),D=us(y/2,P.y);return ss(ss({},P),{},{x:R(N),y:D(N)})}return ss(ss({},P),{},{x:P.x,y:P.y})});return i.renderCurveStatically(C,s,a)}var A=us(0,w),k=A(N),O;if(c){var M="".concat(c).split(/[,\s]+/gim).map(function(P){return parseFloat(P)});O=i.getStrokeDasharray(k,w,M)}else O=i.generateSimpleStrokeDasharray(w,k);return i.renderCurveStatically(l,s,a,{strokeDasharray:O})})}},{key:"renderCurve",value:function(s,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,d=c.prevPoints,u=c.totalLength;return l&&o&&o.length&&(!d&&u>0||!Up(d,o))?this.renderCurveWithAnimation(s,a):this.renderCurveStatically(o,s,a)}},{key:"render",value:function(){var s,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,d=a.xAxis,u=a.yAxis,m=a.top,p=a.left,f=a.width,x=a.height,h=a.isAnimationActive,y=a.id;if(i||!l||!l.length)return null;var v=this.state.isAnimationFinished,b=l.length===1,w=ct("recharts-line",c),S=d&&d.allowDataOverflow,N=u&&u.allowDataOverflow,j=S||N,C=it(y)?this.id:y,A=(s=Ye(o,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},k=A.r,O=k===void 0?3:k,M=A.strokeWidth,P=M===void 0?2:M,_=fre(o)?o:{},E=_.clipDot,T=E===void 0?!0:E,$=O*2+P;return L.createElement(Ot,{className:w},S||N?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(C)},L.createElement("rect",{x:S?p:p-f/2,y:N?m:m-x/2,width:S?f:f*2,height:N?x:x*2})),!T&&L.createElement("clipPath",{id:"clipPath-dots-".concat(C)},L.createElement("rect",{x:p-$/2,y:m-$/2,width:f+$,height:x+$}))):null,!b&&this.renderCurve(j,C),this.renderErrorBar(j,C),(b||o)&&this.renderDots(j,T,C),(!h||v)&&Ti.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,prevPoints:a.curPoints}:s.points!==a.curPoints?{curPoints:s.points}:null}},{key:"repeat",value:function(s,a){for(var i=s.length%2!==0?[].concat(Ec(s),[0]):s,o=[],l=0;l<a;++l)o=[].concat(Ec(o),Ec(i));return o}},{key:"renderDotItem",value:function(s,a){var i;if(L.isValidElement(s))i=L.cloneElement(s,a);else if(Je(s))i=s(a);else{var o=a.key,l=RE(a,z1e),c=ct("recharts-line-dot",typeof s!="boolean"?s.className:"");i=L.createElement(zy,Wm({key:o},l,{className:c}))}return i}}])}(g.PureComponent);la(ti,"displayName","Line");la(ti,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!vc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});la(ti,"getComposedData",function(e){var t=e.props,n=e.xAxis,s=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,d=e.offset,u=t.layout,m=c.map(function(p,f){var x=Kr(p,o);return u==="horizontal"?{x:dO({axis:n,ticks:a,bandSize:l,entry:p,index:f}),y:it(x)?null:s.scale(x),value:x,payload:p}:{x:it(x)?null:n.scale(x),y:dO({axis:s,ticks:i,bandSize:l,entry:p,index:f}),value:x,payload:p}});return ss({points:m,layout:u},d)});function cu(e){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cu(e)}function X1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z1e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,h8(s.key),s)}}function J1e(e,t,n){return t&&Z1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function e2e(e,t,n){return t=Fg(t),t2e(e,u8()?Reflect.construct(t,n||[],Fg(e).constructor):t.apply(e,n))}function t2e(e,t){if(t&&(cu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r2e(e)}function r2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u8=function(){return!!e})()}function Fg(e){return Fg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fg(e)}function n2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FN(e,t)}function FN(e,t){return FN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},FN(e,t)}function m8(e,t,n){return t=h8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h8(e){var t=s2e(e,"string");return cu(t)=="symbol"?t:t+""}function s2e(e,t){if(cu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(cu(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function LN(){return LN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},LN.apply(this,arguments)}function a2e(e){var t=e.xAxisId,n=r4(),s=n4(),a=X6(t);return a==null?null:g.createElement(Bu,LN({},a,{className:ct("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(o){return Si(o,!0)}}))}var Ca=function(e){function t(){return X1e(this,t),e2e(this,t,arguments)}return n2e(t,e),J1e(t,[{key:"render",value:function(){return g.createElement(a2e,this.props)}}])}(g.Component);m8(Ca,"displayName","XAxis");m8(Ca,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function du(e){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},du(e)}function i2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o2e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,x8(s.key),s)}}function l2e(e,t,n){return t&&o2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function c2e(e,t,n){return t=Lg(t),d2e(e,p8()?Reflect.construct(t,n||[],Lg(e).constructor):t.apply(e,n))}function d2e(e,t){if(t&&(du(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u2e(e)}function u2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p8=function(){return!!e})()}function Lg(e){return Lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lg(e)}function m2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UN(e,t)}function UN(e,t){return UN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},UN(e,t)}function f8(e,t,n){return t=x8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x8(e){var t=h2e(e,"string");return du(t)=="symbol"?t:t+""}function h2e(e,t){if(du(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(du(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function BN(){return BN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},BN.apply(this,arguments)}var p2e=function(t){var n=t.yAxisId,s=r4(),a=n4(),i=Z6(n);return i==null?null:g.createElement(Bu,BN({},i,{className:ct("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:s,height:a},ticksGenerator:function(l){return Si(l,!0)}}))},ka=function(e){function t(){return i2e(this,t),c2e(this,t,arguments)}return m2e(t,e),l2e(t,[{key:"render",value:function(){return g.createElement(p2e,this.props)}}])}(g.Component);f8(ka,"displayName","YAxis");f8(ka,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function zE(e){return y2e(e)||g2e(e)||x2e(e)||f2e()}function f2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x2e(e,t){if(e){if(typeof e=="string")return VN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VN(e,t)}}function g2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function y2e(e){if(Array.isArray(e))return VN(e)}function VN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var qN=function(t,n,s,a,i){var o=bs(t,Hy),l=bs(t,Gy),c=[].concat(zE(o),zE(l)),d=bs(t,Qy),u="".concat(a,"Id"),m=a[0],p=n;if(c.length&&(p=c.reduce(function(h,y){if(y.props[u]===s&&Ka(y.props,"extendDomain")&&Se(y.props[m])){var v=y.props[m];return[Math.min(h[0],v),Math.max(h[1],v)]}return h},p)),d.length){var f="".concat(m,"1"),x="".concat(m,"2");p=d.reduce(function(h,y){if(y.props[u]===s&&Ka(y.props,"extendDomain")&&Se(y.props[f])&&Se(y.props[x])){var v=y.props[f],b=y.props[x];return[Math.min(h[0],v,b),Math.max(h[1],v,b)]}return h},p)}return i&&i.length&&(p=i.reduce(function(h,y){return Se(y)?[Math.min(h[0],y),Math.max(h[1],y)]:h},p)),p},g8={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(n=!1));function a(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,m,p){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new a(u,m||c,p),x=n?n+d:d;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],f]:c._events[x].push(f):(c._events[x]=f,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new s:delete c._events[d]}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,m;if(this._eventsCount===0)return d;for(m in u=this._events)t.call(u,m)&&d.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=n?n+d:d,m=this._events[u];if(!m)return[];if(m.fn)return[m.fn];for(var p=0,f=m.length,x=new Array(f);p<f;p++)x[p]=m[p].fn;return x},l.prototype.listenerCount=function(d){var u=n?n+d:d,m=this._events[u];return m?m.fn?1:m.length:0},l.prototype.emit=function(d,u,m,p,f,x){var h=n?n+d:d;if(!this._events[h])return!1;var y=this._events[h],v=arguments.length,b,w;if(y.fn){switch(y.once&&this.removeListener(d,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,m),!0;case 4:return y.fn.call(y.context,u,m,p),!0;case 5:return y.fn.call(y.context,u,m,p,f),!0;case 6:return y.fn.call(y.context,u,m,p,f,x),!0}for(w=1,b=new Array(v-1);w<v;w++)b[w-1]=arguments[w];y.fn.apply(y.context,b)}else{var S=y.length,N;for(w=0;w<S;w++)switch(y[w].once&&this.removeListener(d,y[w].fn,void 0,!0),v){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,u);break;case 3:y[w].fn.call(y[w].context,u,m);break;case 4:y[w].fn.call(y[w].context,u,m,p);break;default:if(!b)for(N=1,b=new Array(v-1);N<v;N++)b[N-1]=arguments[N];y[w].fn.apply(y[w].context,b)}}return!0},l.prototype.on=function(d,u,m){return i(this,d,u,m,!1)},l.prototype.once=function(d,u,m){return i(this,d,u,m,!0)},l.prototype.removeListener=function(d,u,m,p){var f=n?n+d:d;if(!this._events[f])return this;if(!u)return o(this,f),this;var x=this._events[f];if(x.fn)x.fn===u&&(!p||x.once)&&(!m||x.context===m)&&o(this,f);else{for(var h=0,y=[],v=x.length;h<v;h++)(x[h].fn!==u||p&&!x[h].once||m&&x[h].context!==m)&&y.push(x[h]);y.length?this._events[f]=y.length===1?y[0]:y:o(this,f)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=n?n+d:d,this._events[u]&&o(this,u)):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(g8);var v2e=g8.exports;const b2e=$t(v2e);var kb=new b2e,Ab="recharts.syncMouseEvents";function rp(e){"@babel/helpers - typeof";return rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rp(e)}function w2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j2e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,y8(s.key),s)}}function N2e(e,t,n){return t&&j2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pb(e,t,n){return t=y8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y8(e){var t=S2e(e,"string");return rp(t)=="symbol"?t:t+""}function S2e(e,t){if(rp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(rp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var C2e=function(){function e(){w2e(this,e),Pb(this,"activeIndex",0),Pb(this,"coordinateList",[]),Pb(this,"layout","horizontal")}return N2e(e,[{key:"setDetails",value:function(n){var s,a=n.coordinateList,i=a===void 0?null:a,o=n.container,l=o===void 0?null:o,c=n.layout,d=c===void 0?null:c,u=n.offset,m=u===void 0?null:u,p=n.mouseHandlerCallback,f=p===void 0?null:p;this.coordinateList=(s=i??this.coordinateList)!==null&&s!==void 0?s:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=f??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,s;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,d=((n=window)===null||n===void 0?void 0:n.scrollX)||0,u=((s=window)===null||s===void 0?void 0:s.scrollY)||0,m=i+c+d,p=o+this.offset.top+l/2+u;this.mouseHandlerCallback({pageX:m,pageY:p})}}}])}();function k2e(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var s=e==null?void 0:e[0],a=e==null?void 0:e[1];if(s&&a&&Se(s)&&Se(a))return!0}return!1}function A2e(e,t,n,s){var a=s/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-a,width:e==="horizontal"?s:n.width-1,height:e==="horizontal"?n.height-1:s}}function v8(e){var t=e.cx,n=e.cy,s=e.radius,a=e.startAngle,i=e.endAngle,o=Xt(t,n,s,a),l=Xt(t,n,s,i);return{points:[o,l],cx:t,cy:n,radius:s,startAngle:a,endAngle:i}}function P2e(e,t,n){var s,a,i,o;if(e==="horizontal")s=t.x,i=s,a=n.top,o=n.top+n.height;else if(e==="vertical")a=t.y,o=a,s=n.left,i=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,d=t.innerRadius,u=t.outerRadius,m=t.angle,p=Xt(l,c,d,m),f=Xt(l,c,u,m);s=p.x,a=p.y,i=f.x,o=f.y}else return v8(t);return[{x:s,y:a},{x:i,y:o}]}function np(e){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},np(e)}function FE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Ef(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FE(Object(n),!0).forEach(function(s){O2e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function O2e(e,t,n){return t=E2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E2e(e){var t=_2e(e,"string");return np(t)=="symbol"?t:t+""}function _2e(e,t){if(np(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(np(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T2e(e){var t,n,s=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,d=e.activeTooltipIndex,u=e.tooltipAxisBandSize,m=e.layout,p=e.chartName,f=(t=s.props.cursor)!==null&&t!==void 0?t:(n=s.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!s||!f||!i||!o||p!=="ScatterChart"&&a!=="axis")return null;var x,h=gg;if(p==="ScatterChart")x=o,h=Qve;else if(p==="BarChart")x=A2e(m,o,c,u),h=ZS;else if(m==="radial"){var y=v8(o),v=y.cx,b=y.cy,w=y.radius,S=y.startAngle,N=y.endAngle;x={cx:v,cy:b,startAngle:S,endAngle:N,innerRadius:w,outerRadius:w},h=f6}else x={points:P2e(m,o,c)},h=gg;var j=Ef(Ef(Ef(Ef({stroke:"#ccc",pointerEvents:"none"},c),x),Ye(f,!1)),{},{payload:l,payloadIndex:d,className:ct("recharts-tooltip-cursor",f.className)});return g.isValidElement(f)?g.cloneElement(f,j):g.createElement(h,j)}var M2e=["item"],I2e=["children","className","width","height","style","compact","title","desc"];function uu(e){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uu(e)}function td(){return td=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},td.apply(this,arguments)}function LE(e,t){return D2e(e)||$2e(e,t)||w8(e,t)||R2e()}function R2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $2e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function D2e(e){if(Array.isArray(e))return e}function UE(e,t){if(e==null)return{};var n=z2e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function z2e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function F2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L2e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,j8(s.key),s)}}function U2e(e,t,n){return t&&L2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function B2e(e,t,n){return t=Ug(t),V2e(e,b8()?Reflect.construct(t,n||[],Ug(e).constructor):t.apply(e,n))}function V2e(e,t){if(t&&(uu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q2e(e)}function q2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b8=function(){return!!e})()}function Ug(e){return Ug=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ug(e)}function W2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WN(e,t)}function WN(e,t){return WN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},WN(e,t)}function mu(e){return G2e(e)||K2e(e)||w8(e)||H2e()}function H2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w8(e,t){if(e){if(typeof e=="string")return HN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HN(e,t)}}function K2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function G2e(e){if(Array.isArray(e))return HN(e)}function HN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function BE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BE(Object(n),!0).forEach(function(s){Qe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Qe(e,t,n){return t=j8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j8(e){var t=Y2e(e,"string");return uu(t)=="symbol"?t:t+""}function Y2e(e,t){if(uu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(uu(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Q2e={xAxis:["bottom","top"],yAxis:["left","right"]},X2e={width:"100%",height:"100%"},N8={x:0,y:0};function _f(e){return e}var Z2e=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},J2e=function(t,n,s,a){var i=n.find(function(u){return u&&u.index===s});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return ue(ue(ue({},a),Xt(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,d=a.angle;return ue(ue(ue({},a),Xt(a.cx,a.cy,c,d)),{},{angle:d,radius:c})}return N8},Xy=function(t,n){var s=n.graphicalItems,a=n.dataStartIndex,i=n.dataEndIndex,o=(s??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(mu(l),mu(d)):l},[]);return o.length>0?o:t&&t.length&&Se(a)&&Se(i)?t.slice(a,i+1):[]};function S8(e){return e==="number"?[0,"auto"]:void 0}var KN=function(t,n,s,a){var i=t.graphicalItems,o=t.tooltipAxis,l=Xy(n,t);return s<0||!i||!i.length||s>=l.length?null:i.reduce(function(c,d){var u,m=(u=d.props.data)!==null&&u!==void 0?u:n;m&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=s&&(m=m.slice(t.dataStartIndex,t.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var f=m===void 0?l:m;p=Lx(f,o.dataKey,a)}else p=m&&m[s]||l[s];return p?[].concat(mu(c),[c6(d,p)]):c},[])},VE=function(t,n,s,a){var i=a||{x:t.chartX,y:t.chartY},o=Z2e(i,s),l=t.orderedTooltipTicks,c=t.tooltipAxis,d=t.tooltipTicks,u=xge(o,l,d,c);if(u>=0&&d){var m=d[u]&&d[u].value,p=KN(t,n,u,m),f=J2e(s,l,u,i);return{activeTooltipIndex:u,activeLabel:m,activePayload:p,activeCoordinate:f}}return null},eSe=function(t,n){var s=n.axes,a=n.graphicalItems,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,u=t.layout,m=t.children,p=t.stackOffset,f=n6(u,i);return s.reduce(function(x,h){var y,v=h.type.defaultProps!==void 0?ue(ue({},h.type.defaultProps),h.props):h.props,b=v.type,w=v.dataKey,S=v.allowDataOverflow,N=v.allowDuplicatedCategory,j=v.scale,C=v.ticks,A=v.includeHidden,k=v[o];if(x[k])return x;var O=Xy(t.data,{graphicalItems:a.filter(function(z){var Q,te=o in z.props?z.props[o]:(Q=z.type.defaultProps)===null||Q===void 0?void 0:Q[o];return te===k}),dataStartIndex:c,dataEndIndex:d}),M=O.length,P,_,E;k2e(v.domain,S,b)&&(P=oN(v.domain,null,S),f&&(b==="number"||j!=="auto")&&(E=Um(O,w,"category")));var T=S8(b);if(!P||P.length===0){var $,q=($=v.domain)!==null&&$!==void 0?$:T;if(w){if(P=Um(O,w,b),b==="category"&&f){var R=are(P);N&&R?(_=P,P=Pg(0,M)):N||(P=pO(q,P,h).reduce(function(z,Q){return z.indexOf(Q)>=0?z:[].concat(mu(z),[Q])},[]))}else if(b==="category")N?P=P.filter(function(z){return z!==""&&!it(z)}):P=pO(q,P,h).reduce(function(z,Q){return z.indexOf(Q)>=0||Q===""||it(Q)?z:[].concat(mu(z),[Q])},[]);else if(b==="number"){var D=wge(O,a.filter(function(z){var Q,te,me=o in z.props?z.props[o]:(Q=z.type.defaultProps)===null||Q===void 0?void 0:Q[o],ge="hide"in z.props?z.props.hide:(te=z.type.defaultProps)===null||te===void 0?void 0:te.hide;return me===k&&(A||!ge)}),w,i,u);D&&(P=D)}f&&(b==="number"||j!=="auto")&&(E=Um(O,w,"category"))}else f?P=Pg(0,M):l&&l[k]&&l[k].hasStack&&b==="number"?P=p==="expand"?[0,1]:l6(l[k].stackGroups,c,d):P=r6(O,a.filter(function(z){var Q=o in z.props?z.props[o]:z.type.defaultProps[o],te="hide"in z.props?z.props.hide:z.type.defaultProps.hide;return Q===k&&(A||!te)}),b,u,!0);if(b==="number")P=qN(m,P,k,i,C),q&&(P=oN(q,P,S));else if(b==="category"&&q){var V=q,F=P.every(function(z){return V.indexOf(z)>=0});F&&(P=V)}}return ue(ue({},x),{},Qe({},k,ue(ue({},v),{},{axisType:i,domain:P,categoricalDomain:E,duplicateDomain:_,originalDomain:(y=v.domain)!==null&&y!==void 0?y:T,isCategorical:f,layout:u})))},{})},tSe=function(t,n){var s=n.graphicalItems,a=n.Axis,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,u=t.layout,m=t.children,p=Xy(t.data,{graphicalItems:s,dataStartIndex:c,dataEndIndex:d}),f=p.length,x=n6(u,i),h=-1;return s.reduce(function(y,v){var b=v.type.defaultProps!==void 0?ue(ue({},v.type.defaultProps),v.props):v.props,w=b[o],S=S8("number");if(!y[w]){h++;var N;return x?N=Pg(0,f):l&&l[w]&&l[w].hasStack?(N=l6(l[w].stackGroups,c,d),N=qN(m,N,w,i)):(N=oN(S,r6(p,s.filter(function(j){var C,A,k=o in j.props?j.props[o]:(C=j.type.defaultProps)===null||C===void 0?void 0:C[o],O="hide"in j.props?j.props.hide:(A=j.type.defaultProps)===null||A===void 0?void 0:A.hide;return k===w&&!O}),"number",u),a.defaultProps.allowDataOverflow),N=qN(m,N,w,i)),ue(ue({},y),{},Qe({},w,ue(ue({axisType:i},a.defaultProps),{},{hide:!0,orientation:vs(Q2e,"".concat(i,".").concat(h%2),null),domain:N,originalDomain:S,isCategorical:x,layout:u})))}return y},{})},rSe=function(t,n){var s=n.axisType,a=s===void 0?"xAxis":s,i=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,u=t.children,m="".concat(a,"Id"),p=bs(u,i),f={};return p&&p.length?f=eSe(t,{axes:p,graphicalItems:o,axisType:a,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(f=tSe(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),f},nSe=function(t){var n=lo(t),s=Si(n,!1,!0);return{tooltipTicks:s,orderedTooltipTicks:CS(s,function(a){return a.coordinate}),tooltipAxis:n,tooltipAxisBandSize:pg(n,s)}},qE=function(t){var n=t.children,s=t.defaultShowTooltip,a=os(n,ru),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!s}},sSe=function(t){return!t||!t.length?!1:t.some(function(n){var s=Oi(n&&n.type);return s&&s.indexOf("Bar")>=0})},WE=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},aSe=function(t,n){var s=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,d=s.width,u=s.height,m=s.children,p=s.margin||{},f=os(m,ru),x=os(m,Ei),h=Object.keys(c).reduce(function(N,j){var C=c[j],A=C.orientation;return!C.mirror&&!C.hide?ue(ue({},N),{},Qe({},A,N[A]+C.width)):N},{left:p.left||0,right:p.right||0}),y=Object.keys(o).reduce(function(N,j){var C=o[j],A=C.orientation;return!C.mirror&&!C.hide?ue(ue({},N),{},Qe({},A,vs(N,"".concat(A))+C.height)):N},{top:p.top||0,bottom:p.bottom||0}),v=ue(ue({},y),h),b=v.bottom;f&&(v.bottom+=f.props.height||ru.defaultProps.height),x&&n&&(v=vge(v,a,s,n));var w=d-v.left-v.right,S=u-v.top-v.bottom;return ue(ue({brushBottom:b},v),{},{width:Math.max(w,0),height:Math.max(S,0)})},iSe=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},o4=function(t){var n=t.chartName,s=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,d=t.legendContent,u=t.formatAxisMap,m=t.defaultProps,p=function(v,b){var w=b.graphicalItems,S=b.stackGroups,N=b.offset,j=b.updateId,C=b.dataStartIndex,A=b.dataEndIndex,k=v.barSize,O=v.layout,M=v.barGap,P=v.barCategoryGap,_=v.maxBarSize,E=WE(O),T=E.numericAxisName,$=E.cateAxisName,q=sSe(w),R=[];return w.forEach(function(D,V){var F=Xy(v.data,{graphicalItems:[D],dataStartIndex:C,dataEndIndex:A}),z=D.type.defaultProps!==void 0?ue(ue({},D.type.defaultProps),D.props):D.props,Q=z.dataKey,te=z.maxBarSize,me=z["".concat(T,"Id")],ge=z["".concat($,"Id")],he={},Ce=c.reduce(function(W,Z){var ie=b["".concat(Z.axisType,"Map")],ne=z["".concat(Z.axisType,"Id")];ie&&ie[ne]||Z.axisType==="zAxis"||ic();var ae=ie[ne];return ue(ue({},W),{},Qe(Qe({},Z.axisType,ae),"".concat(Z.axisType,"Ticks"),Si(ae)))},he),se=Ce[$],G=Ce["".concat($,"Ticks")],xe=S&&S[me]&&S[me].hasStack&&Ege(D,S[me].stackGroups),re=Oi(D.type).indexOf("Bar")>=0,We=pg(se,G),Ue=[],nt=q&&gge({barSize:k,stackGroups:S,totalSize:iSe(Ce,$)});if(re){var mt,Nt,wr=it(te)?_:te,jr=(mt=(Nt=pg(se,G,!0))!==null&&Nt!==void 0?Nt:wr)!==null&&mt!==void 0?mt:0;Ue=yge({barGap:M,barCategoryGap:P,bandSize:jr!==We?jr:We,sizeList:nt[ge],maxBarSize:wr}),jr!==We&&(Ue=Ue.map(function(W){return ue(ue({},W),{},{position:ue(ue({},W.position),{},{offset:W.position.offset-jr/2})})}))}var Fr=D&&D.type&&D.type.getComposedData;Fr&&R.push({props:ue(ue({},Fr(ue(ue({},Ce),{},{displayedData:F,props:v,dataKey:Q,item:D,bandSize:We,barPosition:Ue,offset:N,stackedData:xe,layout:O,dataStartIndex:C,dataEndIndex:A}))),{},Qe(Qe(Qe({key:D.key||"item-".concat(V)},T,Ce[T]),$,Ce[$]),"animationId",j)),childIndex:yre(D,v.children),item:D})}),R},f=function(v,b){var w=v.props,S=v.dataStartIndex,N=v.dataEndIndex,j=v.updateId;if(!oA({props:w}))return null;var C=w.children,A=w.layout,k=w.stackOffset,O=w.data,M=w.reverseStackOrder,P=WE(A),_=P.numericAxisName,E=P.cateAxisName,T=bs(C,s),$=Pge(O,T,"".concat(_,"Id"),"".concat(E,"Id"),k,M),q=c.reduce(function(z,Q){var te="".concat(Q.axisType,"Map");return ue(ue({},z),{},Qe({},te,rSe(w,ue(ue({},Q),{},{graphicalItems:T,stackGroups:Q.axisType===_&&$,dataStartIndex:S,dataEndIndex:N}))))},{}),R=aSe(ue(ue({},q),{},{props:w,graphicalItems:T}),b==null?void 0:b.legendBBox);Object.keys(q).forEach(function(z){q[z]=u(w,q[z],R,z.replace("Map",""),n)});var D=q["".concat(E,"Map")],V=nSe(D),F=p(w,ue(ue({},q),{},{dataStartIndex:S,dataEndIndex:N,updateId:j,graphicalItems:T,stackGroups:$,offset:R}));return ue(ue({formattedGraphicalItems:F,graphicalItems:T,offset:R,stackGroups:$},V),q)},x=function(y){function v(b){var w,S,N;return F2e(this,v),N=B2e(this,v,[b]),Qe(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Qe(N,"accessibilityManager",new C2e),Qe(N,"handleLegendBBoxUpdate",function(j){if(j){var C=N.state,A=C.dataStartIndex,k=C.dataEndIndex,O=C.updateId;N.setState(ue({legendBBox:j},f({props:N.props,dataStartIndex:A,dataEndIndex:k,updateId:O},ue(ue({},N.state),{},{legendBBox:j}))))}}),Qe(N,"handleReceiveSyncEvent",function(j,C,A){if(N.props.syncId===j){if(A===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(C)}}),Qe(N,"handleBrushChange",function(j){var C=j.startIndex,A=j.endIndex;if(C!==N.state.dataStartIndex||A!==N.state.dataEndIndex){var k=N.state.updateId;N.setState(function(){return ue({dataStartIndex:C,dataEndIndex:A},f({props:N.props,dataStartIndex:C,dataEndIndex:A,updateId:k},N.state))}),N.triggerSyncEvent({dataStartIndex:C,dataEndIndex:A})}}),Qe(N,"handleMouseEnter",function(j){var C=N.getMouseInfo(j);if(C){var A=ue(ue({},C),{},{isTooltipActive:!0});N.setState(A),N.triggerSyncEvent(A);var k=N.props.onMouseEnter;Je(k)&&k(A,j)}}),Qe(N,"triggeredAfterMouseMove",function(j){var C=N.getMouseInfo(j),A=C?ue(ue({},C),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(A),N.triggerSyncEvent(A);var k=N.props.onMouseMove;Je(k)&&k(A,j)}),Qe(N,"handleItemMouseEnter",function(j){N.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),Qe(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),Qe(N,"handleMouseMove",function(j){j.persist(),N.throttleTriggeredAfterMouseMove(j)}),Qe(N,"handleMouseLeave",function(j){N.throttleTriggeredAfterMouseMove.cancel();var C={isTooltipActive:!1};N.setState(C),N.triggerSyncEvent(C);var A=N.props.onMouseLeave;Je(A)&&A(C,j)}),Qe(N,"handleOuterEvent",function(j){var C=gre(j),A=vs(N.props,"".concat(C));if(C&&Je(A)){var k,O;/.*touch.*/i.test(C)?O=N.getMouseInfo(j.changedTouches[0]):O=N.getMouseInfo(j),A((k=O)!==null&&k!==void 0?k:{},j)}}),Qe(N,"handleClick",function(j){var C=N.getMouseInfo(j);if(C){var A=ue(ue({},C),{},{isTooltipActive:!0});N.setState(A),N.triggerSyncEvent(A);var k=N.props.onClick;Je(k)&&k(A,j)}}),Qe(N,"handleMouseDown",function(j){var C=N.props.onMouseDown;if(Je(C)){var A=N.getMouseInfo(j);C(A,j)}}),Qe(N,"handleMouseUp",function(j){var C=N.props.onMouseUp;if(Je(C)){var A=N.getMouseInfo(j);C(A,j)}}),Qe(N,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),Qe(N,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&N.handleMouseDown(j.changedTouches[0])}),Qe(N,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&N.handleMouseUp(j.changedTouches[0])}),Qe(N,"handleDoubleClick",function(j){var C=N.props.onDoubleClick;if(Je(C)){var A=N.getMouseInfo(j);C(A,j)}}),Qe(N,"handleContextMenu",function(j){var C=N.props.onContextMenu;if(Je(C)){var A=N.getMouseInfo(j);C(A,j)}}),Qe(N,"triggerSyncEvent",function(j){N.props.syncId!==void 0&&kb.emit(Ab,N.props.syncId,j,N.eventEmitterSymbol)}),Qe(N,"applySyncEvent",function(j){var C=N.props,A=C.layout,k=C.syncMethod,O=N.state.updateId,M=j.dataStartIndex,P=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)N.setState(ue({dataStartIndex:M,dataEndIndex:P},f({props:N.props,dataStartIndex:M,dataEndIndex:P,updateId:O},N.state)));else if(j.activeTooltipIndex!==void 0){var _=j.chartX,E=j.chartY,T=j.activeTooltipIndex,$=N.state,q=$.offset,R=$.tooltipTicks;if(!q)return;if(typeof k=="function")T=k(R,j);else if(k==="value"){T=-1;for(var D=0;D<R.length;D++)if(R[D].value===j.activeLabel){T=D;break}}var V=ue(ue({},q),{},{x:q.left,y:q.top}),F=Math.min(_,V.x+V.width),z=Math.min(E,V.y+V.height),Q=R[T]&&R[T].value,te=KN(N.state,N.props.data,T),me=R[T]?{x:A==="horizontal"?R[T].coordinate:F,y:A==="horizontal"?z:R[T].coordinate}:N8;N.setState(ue(ue({},j),{},{activeLabel:Q,activeCoordinate:me,activePayload:te,activeTooltipIndex:T}))}else N.setState(j)}),Qe(N,"renderCursor",function(j){var C,A=N.state,k=A.isTooltipActive,O=A.activeCoordinate,M=A.activePayload,P=A.offset,_=A.activeTooltipIndex,E=A.tooltipAxisBandSize,T=N.getTooltipEventType(),$=(C=j.props.active)!==null&&C!==void 0?C:k,q=N.props.layout,R=j.key||"_recharts-cursor";return L.createElement(T2e,{key:R,activeCoordinate:O,activePayload:M,activeTooltipIndex:_,chartName:n,element:j,isActive:$,layout:q,offset:P,tooltipAxisBandSize:E,tooltipEventType:T})}),Qe(N,"renderPolarAxis",function(j,C,A){var k=vs(j,"type.axisType"),O=vs(N.state,"".concat(k,"Map")),M=j.type.defaultProps,P=M!==void 0?ue(ue({},M),j.props):j.props,_=O&&O[P["".concat(k,"Id")]];return g.cloneElement(j,ue(ue({},_),{},{className:ct(k,_.className),key:j.key||"".concat(C,"-").concat(A),ticks:Si(_,!0)}))}),Qe(N,"renderPolarGrid",function(j){var C=j.props,A=C.radialLines,k=C.polarAngles,O=C.polarRadius,M=N.state,P=M.radiusAxisMap,_=M.angleAxisMap,E=lo(P),T=lo(_),$=T.cx,q=T.cy,R=T.innerRadius,D=T.outerRadius;return g.cloneElement(j,{polarAngles:Array.isArray(k)?k:Si(T,!0).map(function(V){return V.coordinate}),polarRadius:Array.isArray(O)?O:Si(E,!0).map(function(V){return V.coordinate}),cx:$,cy:q,innerRadius:R,outerRadius:D,key:j.key||"polar-grid",radialLines:A})}),Qe(N,"renderLegend",function(){var j=N.state.formattedGraphicalItems,C=N.props,A=C.children,k=C.width,O=C.height,M=N.props.margin||{},P=k-(M.left||0)-(M.right||0),_=e6({children:A,formattedGraphicalItems:j,legendWidth:P,legendContent:d});if(!_)return null;var E=_.item,T=UE(_,M2e);return g.cloneElement(E,ue(ue({},T),{},{chartWidth:k,chartHeight:O,margin:M,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),Qe(N,"renderTooltip",function(){var j,C=N.props,A=C.children,k=C.accessibilityLayer,O=os(A,dn);if(!O)return null;var M=N.state,P=M.isTooltipActive,_=M.activeCoordinate,E=M.activePayload,T=M.activeLabel,$=M.offset,q=(j=O.props.active)!==null&&j!==void 0?j:P;return g.cloneElement(O,{viewBox:ue(ue({},$),{},{x:$.left,y:$.top}),active:q,label:T,payload:q?E:[],coordinate:_,accessibilityLayer:k})}),Qe(N,"renderBrush",function(j){var C=N.props,A=C.margin,k=C.data,O=N.state,M=O.offset,P=O.dataStartIndex,_=O.dataEndIndex,E=O.updateId;return g.cloneElement(j,{key:j.key||"_recharts-brush",onChange:kf(N.handleBrushChange,j.props.onChange),data:k,x:Se(j.props.x)?j.props.x:M.left,y:Se(j.props.y)?j.props.y:M.top+M.height+M.brushBottom-(A.bottom||0),width:Se(j.props.width)?j.props.width:M.width,startIndex:P,endIndex:_,updateId:"brush-".concat(E)})}),Qe(N,"renderReferenceElement",function(j,C,A){if(!j)return null;var k=N,O=k.clipPathId,M=N.state,P=M.xAxisMap,_=M.yAxisMap,E=M.offset,T=j.type.defaultProps||{},$=j.props,q=$.xAxisId,R=q===void 0?T.xAxisId:q,D=$.yAxisId,V=D===void 0?T.yAxisId:D;return g.cloneElement(j,{key:j.key||"".concat(C,"-").concat(A),xAxis:P[R],yAxis:_[V],viewBox:{x:E.left,y:E.top,width:E.width,height:E.height},clipPathId:O})}),Qe(N,"renderActivePoints",function(j){var C=j.item,A=j.activePoint,k=j.basePoint,O=j.childIndex,M=j.isRange,P=[],_=C.props.key,E=C.item.type.defaultProps!==void 0?ue(ue({},C.item.type.defaultProps),C.item.props):C.item.props,T=E.activeDot,$=E.dataKey,q=ue(ue({index:O,dataKey:$,cx:A.x,cy:A.y,r:4,fill:XS(C.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},Ye(T,!1)),Ux(T));return P.push(v.renderActiveDot(T,q,"".concat(_,"-activePoint-").concat(O))),k?P.push(v.renderActiveDot(T,ue(ue({},q),{},{cx:k.x,cy:k.y}),"".concat(_,"-basePoint-").concat(O))):M&&P.push(null),P}),Qe(N,"renderGraphicChild",function(j,C,A){var k=N.filterFormatItem(j,C,A);if(!k)return null;var O=N.getTooltipEventType(),M=N.state,P=M.isTooltipActive,_=M.tooltipAxis,E=M.activeTooltipIndex,T=M.activeLabel,$=N.props.children,q=os($,dn),R=k.props,D=R.points,V=R.isRange,F=R.baseLine,z=k.item.type.defaultProps!==void 0?ue(ue({},k.item.type.defaultProps),k.item.props):k.item.props,Q=z.activeDot,te=z.hide,me=z.activeBar,ge=z.activeShape,he=!!(!te&&P&&q&&(Q||me||ge)),Ce={};O!=="axis"&&q&&q.props.trigger==="click"?Ce={onClick:kf(N.handleItemMouseEnter,j.props.onClick)}:O!=="axis"&&(Ce={onMouseLeave:kf(N.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:kf(N.handleItemMouseEnter,j.props.onMouseEnter)});var se=g.cloneElement(j,ue(ue({},k.props),Ce));function G(Z){return typeof _.dataKey=="function"?_.dataKey(Z.payload):null}if(he)if(E>=0){var xe,re;if(_.dataKey&&!_.allowDuplicatedCategory){var We=typeof _.dataKey=="function"?G:"payload.".concat(_.dataKey.toString());xe=Lx(D,We,T),re=V&&F&&Lx(F,We,T)}else xe=D==null?void 0:D[E],re=V&&F&&F[E];if(ge||me){var Ue=j.props.activeIndex!==void 0?j.props.activeIndex:E;return[g.cloneElement(j,ue(ue(ue({},k.props),Ce),{},{activeIndex:Ue})),null,null]}if(!it(xe))return[se].concat(mu(N.renderActivePoints({item:k,activePoint:xe,basePoint:re,childIndex:E,isRange:V})))}else{var nt,mt=(nt=N.getItemByXY(N.state.activeCoordinate))!==null&&nt!==void 0?nt:{graphicalItem:se},Nt=mt.graphicalItem,wr=Nt.item,jr=wr===void 0?j:wr,Fr=Nt.childIndex,W=ue(ue(ue({},k.props),Ce),{},{activeIndex:Fr});return[g.cloneElement(jr,W),null,null]}return V?[se,null,null]:[se,null]}),Qe(N,"renderCustomized",function(j,C,A){return g.cloneElement(j,ue(ue({key:"recharts-customized-".concat(A)},N.props),N.state))}),Qe(N,"renderMap",{CartesianGrid:{handler:_f,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:_f},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:_f},YAxis:{handler:_f},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((w=b.id)!==null&&w!==void 0?w:Ru("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=Jz(N.triggeredAfterMouseMove,(S=b.throttleDelay)!==null&&S!==void 0?S:1e3/60),N.state={},N}return W2e(v,y),U2e(v,[{key:"componentDidMount",value:function(){var w,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,S=w.children,N=w.data,j=w.height,C=w.layout,A=os(S,dn);if(A){var k=A.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,M=KN(this.state,N,k,O),P=this.state.tooltipTicks[k].coordinate,_=(this.state.offset.top+j)/2,E=C==="horizontal",T=E?{x:P,y:_}:{y:P,x:_},$=this.state.formattedGraphicalItems.find(function(R){var D=R.item;return D.type.name==="Scatter"});$&&(T=ue(ue({},T),$.props.points[k].tooltipPosition),M=$.props.points[k].tooltipPayload);var q={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:O,activePayload:M,activeCoordinate:T};this.setState(q),this.renderCursor(A),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var N,j;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(w){jj([os(w.children,dn)],[os(this.props.children,dn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=os(this.props.children,dn);if(w&&typeof w.props.shared=="boolean"){var S=w.props.shared?"axis":"item";return l.indexOf(S)>=0?S:i}return i}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var S=this.container,N=S.getBoundingClientRect(),j=qme(N),C={chartX:Math.round(w.pageX-j.left),chartY:Math.round(w.pageY-j.top)},A=N.width/S.offsetWidth||1,k=this.inRange(C.chartX,C.chartY,A);if(!k)return null;var O=this.state,M=O.xAxisMap,P=O.yAxisMap,_=this.getTooltipEventType(),E=VE(this.state,this.props.data,this.props.layout,k);if(_!=="axis"&&M&&P){var T=lo(M).scale,$=lo(P).scale,q=T&&T.invert?T.invert(C.chartX):null,R=$&&$.invert?$.invert(C.chartY):null;return ue(ue({},C),{},{xValue:q,yValue:R},E)}return E?ue(ue({},C),E):null}},{key:"inRange",value:function(w,S){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,C=w/N,A=S/N;if(j==="horizontal"||j==="vertical"){var k=this.state.offset,O=C>=k.left&&C<=k.left+k.width&&A>=k.top&&A<=k.top+k.height;return O?{x:C,y:A}:null}var M=this.state,P=M.angleAxisMap,_=M.radiusAxisMap;if(P&&_){var E=lo(P);return gO({x:C,y:A},E)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,S=this.getTooltipEventType(),N=os(w,dn),j={};N&&S==="axis"&&(N.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var C=Ux(this.props,this.handleOuterEvent);return ue(ue({},C),j)}},{key:"addListener",value:function(){kb.on(Ab,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){kb.removeListener(Ab,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,S,N){for(var j=this.state.formattedGraphicalItems,C=0,A=j.length;C<A;C++){var k=j[C];if(k.item===w||k.props.key===w.key||S===Oi(k.item.type)&&N===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,S=this.state.offset,N=S.left,j=S.top,C=S.height,A=S.width;return L.createElement("defs",null,L.createElement("clipPath",{id:w},L.createElement("rect",{x:N,y:j,height:C,width:A})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(S,N){var j=LE(N,2),C=j[0],A=j[1];return ue(ue({},S),{},Qe({},C,A.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(S,N){var j=LE(N,2),C=j[0],A=j[1];return ue(ue({},S),{},Qe({},C,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(w){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(w){var S=this.state,N=S.formattedGraphicalItems,j=S.activeItem;if(N&&N.length)for(var C=0,A=N.length;C<A;C++){var k=N[C],O=k.props,M=k.item,P=M.type.defaultProps!==void 0?ue(ue({},M.type.defaultProps),M.props):M.props,_=Oi(M.type);if(_==="Bar"){var E=(O.data||[]).find(function(R){return Eve(w,R)});if(E)return{graphicalItem:k,payload:E}}else if(_==="RadialBar"){var T=(O.data||[]).find(function(R){return gO(w,R)});if(T)return{graphicalItem:k,payload:T}}else if(Vy(k,j)||qy(k,j)||Xh(k,j)){var $=ywe({graphicalItem:k,activeTooltipItem:j,itemData:P.data}),q=P.activeIndex===void 0?$:P.activeIndex;return{graphicalItem:ue(ue({},k),{},{childIndex:q}),payload:Xh(k,j)?P.data[$]:k.props.data[$]}}}return null}},{key:"render",value:function(){var w=this;if(!oA(this))return null;var S=this.props,N=S.children,j=S.className,C=S.width,A=S.height,k=S.style,O=S.compact,M=S.title,P=S.desc,_=UE(S,I2e),E=Ye(_,!1);if(O)return L.createElement(jE,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement(Sj,td({},E,{width:C,height:A,title:M,desc:P}),this.renderClipPath(),cA(N,this.renderMap)));if(this.props.accessibilityLayer){var T,$;E.tabIndex=(T=this.props.tabIndex)!==null&&T!==void 0?T:0,E.role=($=this.props.role)!==null&&$!==void 0?$:"application",E.onKeyDown=function(R){w.accessibilityManager.keyboardEvent(R)},E.onFocus=function(){w.accessibilityManager.focus()}}var q=this.parseEventsOfWrapper();return L.createElement(jE,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement("div",td({className:ct("recharts-wrapper",j),style:ue({position:"relative",cursor:"default",width:C,height:A},k)},q,{ref:function(D){w.container=D}}),L.createElement(Sj,td({},E,{width:C,height:A,title:M,desc:P,style:X2e}),this.renderClipPath(),cA(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(g.Component);Qe(x,"displayName",n),Qe(x,"defaultProps",ue({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),Qe(x,"getDerivedStateFromProps",function(y,v){var b=y.dataKey,w=y.data,S=y.children,N=y.width,j=y.height,C=y.layout,A=y.stackOffset,k=y.margin,O=v.dataStartIndex,M=v.dataEndIndex;if(v.updateId===void 0){var P=qE(y);return ue(ue(ue({},P),{},{updateId:0},f(ue(ue({props:y},P),{},{updateId:0}),v)),{},{prevDataKey:b,prevData:w,prevWidth:N,prevHeight:j,prevLayout:C,prevStackOffset:A,prevMargin:k,prevChildren:S})}if(b!==v.prevDataKey||w!==v.prevData||N!==v.prevWidth||j!==v.prevHeight||C!==v.prevLayout||A!==v.prevStackOffset||!hd(k,v.prevMargin)){var _=qE(y),E={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},T=ue(ue({},VE(v,w,C)),{},{updateId:v.updateId+1}),$=ue(ue(ue({},_),E),T);return ue(ue(ue({},$),f(ue({props:y},$),v)),{},{prevDataKey:b,prevData:w,prevWidth:N,prevHeight:j,prevLayout:C,prevStackOffset:A,prevMargin:k,prevChildren:S})}if(!jj(S,v.prevChildren)){var q,R,D,V,F=os(S,ru),z=F&&(q=(R=F.props)===null||R===void 0?void 0:R.startIndex)!==null&&q!==void 0?q:O,Q=F&&(D=(V=F.props)===null||V===void 0?void 0:V.endIndex)!==null&&D!==void 0?D:M,te=z!==O||Q!==M,me=!it(w),ge=me&&!te?v.updateId:v.updateId+1;return ue(ue({updateId:ge},f(ue(ue({props:y},v),{},{updateId:ge,dataStartIndex:z,dataEndIndex:Q}),v)),{},{prevChildren:S,dataStartIndex:z,dataEndIndex:Q})}return null}),Qe(x,"renderActiveDot",function(y,v,b){var w;return g.isValidElement(y)?w=g.cloneElement(y,v):Je(y)?w=y(v):w=L.createElement(zy,v),L.createElement(Ot,{className:"recharts-active-dot",key:b},w)});var h=g.forwardRef(function(v,b){return L.createElement(x,td({},v,{ref:b}))});return h.displayName=x.displayName,h},Zy=o4({chartName:"LineChart",GraphicalChild:ti,axisComponents:[{axisType:"xAxis",AxisComp:Ca},{axisType:"yAxis",AxisComp:ka}],formatAxisMap:V6}),l4=o4({chartName:"BarChart",GraphicalChild:qs,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ca},{axisType:"yAxis",AxisComp:ka}],formatAxisMap:V6}),oSe=o4({chartName:"PieChart",GraphicalChild:Gi,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:By},{axisType:"radiusAxis",AxisComp:Ly}],formatAxisMap:Lge,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function lSe({data:e,timeRange:t}){const n=o=>{const[l,c]=o.split("-");return new Date(parseInt(l),parseInt(c)-1).toLocaleDateString("en-US",{month:"short",year:"2-digit"})},s=o=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(o),a=e.map(o=>({month:n(o.month),revenue:Number(o.totalRevenue),net:Number(o.totalNet)})),i=({active:o,payload:l,label:c})=>o&&l&&l.length?r.jsxs("div",{className:"bg-zinc-800 border border-yellow-400/30 p-3 rounded-lg shadow-lg",children:[r.jsx("p",{className:"font-semibold mb-2 text-white",children:c}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("p",{className:"text-sm text-gray-300",children:[r.jsx("span",{className:"text-yellow-400",children:" Revenue: "}),r.jsx("span",{className:"font-medium text-white",children:s(l[0].value)})]}),r.jsxs("p",{className:"text-sm text-gray-300",children:[r.jsx("span",{className:"text-green-500",children:" Net: "}),r.jsx("span",{className:"font-medium text-white",children:s(l[1].value)})]})]})]}):null;return r.jsxs(U,{"data-testid":"card-revenue-chart",className:"bg-zinc-900/80 border-yellow-400/20 hover:border-yellow-400/40 hover:shadow-lg hover:shadow-yellow-400/10 transition-all duration-300",children:[r.jsx(X,{children:r.jsxs(J,{className:"flex items-center gap-2 text-white",children:[r.jsx(Qr,{className:"h-5 w-5 text-yellow-400"}),"Revenue Trends"]})}),r.jsx(B,{children:r.jsx("div",{className:"h-[300px]",children:r.jsx($o,{width:"100%",height:"100%",children:r.jsxs(Zy,{data:a,margin:{top:5,right:30,left:20,bottom:5},children:[r.jsx(qo,{strokeDasharray:"3 3",stroke:"#374151"}),r.jsx(Ca,{dataKey:"month",className:"text-xs",tick:{fill:"#9ca3af"},stroke:"#374151"}),r.jsx(ka,{className:"text-xs",tick:{fill:"#9ca3af"},stroke:"#374151",tickFormatter:o=>`$${(o/1e3).toFixed(0)}k`}),r.jsx(dn,{content:r.jsx(i,{})}),r.jsx(Ei,{wrapperStyle:{paddingTop:"20px",color:"#d1d5db"},iconType:"line"}),r.jsx(ti,{type:"monotone",dataKey:"revenue",stroke:"#facc15",strokeWidth:2,dot:{fill:"#facc15",r:4},activeDot:{r:6},name:"Total Revenue"}),r.jsx(ti,{type:"monotone",dataKey:"net",stroke:"#10b981",strokeWidth:2,dot:{fill:"#10b981",r:4},activeDot:{r:6},name:"Net Revenue"})]})})})})]})}function cSe({data:e}){const t=i=>{const[o,l]=i.split("-");return new Date(parseInt(o),parseInt(l)-1).toLocaleDateString("en-US",{month:"short",year:"2-digit"})},n=i=>new Intl.NumberFormat("en-US").format(i),s=e.map(i=>({month:t(i.month),transactions:Number(i.totalTransactions),merchants:Number(i.merchantCount)})),a=({active:i,payload:o,label:l})=>i&&o&&o.length?r.jsxs("div",{className:"bg-zinc-800 border border-yellow-400/30 p-3 rounded-lg shadow-lg",children:[r.jsx("p",{className:"font-semibold mb-2 text-white",children:l}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("p",{className:"text-sm text-gray-300",children:[r.jsx("span",{className:"text-yellow-400",children:" Transactions: "}),r.jsx("span",{className:"font-medium text-white",children:n(o[0].value)})]}),r.jsxs("p",{className:"text-sm text-gray-300",children:[r.jsx("span",{className:"text-blue-400",children:" Merchants: "}),r.jsx("span",{className:"font-medium text-white",children:n(o[1].value)})]})]})]}):null;return r.jsxs(U,{"data-testid":"card-transaction-chart",className:"bg-zinc-900/80 border-yellow-400/20 hover:border-yellow-400/40 hover:shadow-lg hover:shadow-yellow-400/10 transition-all duration-300",children:[r.jsx(X,{children:r.jsxs(J,{className:"flex items-center gap-2 text-white",children:[r.jsx(Xa,{className:"h-5 w-5 text-yellow-400"}),"Transaction Volume"]})}),r.jsx(B,{children:r.jsx("div",{className:"h-[300px]",children:r.jsx($o,{width:"100%",height:"100%",children:r.jsxs(l4,{data:s,margin:{top:5,right:30,left:20,bottom:5},children:[r.jsx(qo,{strokeDasharray:"3 3",stroke:"#374151"}),r.jsx(Ca,{dataKey:"month",className:"text-xs",tick:{fill:"#9ca3af"},stroke:"#374151"}),r.jsx(ka,{className:"text-xs",tick:{fill:"#9ca3af"},stroke:"#374151",tickFormatter:i=>`${(i/1e3).toFixed(0)}k`}),r.jsx(dn,{content:r.jsx(a,{})}),r.jsx(Ei,{wrapperStyle:{paddingTop:"20px",color:"#d1d5db"}}),r.jsx(qs,{dataKey:"transactions",fill:"#facc15",radius:[8,8,0,0],name:"Transactions"}),r.jsx(qs,{dataKey:"merchants",fill:"#3b82f6",radius:[8,8,0,0],name:"Active Merchants"})]})})})})]})}function dSe({value:e,onChange:t}){const n=[{label:"7D",value:"7d"},{label:"30D",value:"30d"},{label:"3M",value:"3m"},{label:"6M",value:"6m"},{label:"1Y",value:"1y"}];return r.jsx("div",{className:"flex gap-2","data-testid":"time-range-selector",children:n.map(s=>r.jsx(I,{variant:e===s.value?"default":"outline",size:"sm",onClick:()=>t(s.value),className:e===s.value?"bg-[#FFD700] text-black hover:bg-[#FFD700]/90":"border-gray-600 text-gray-300 hover:text-white hover:bg-zinc-800 hover:border-gray-500","data-testid":`button-range-${s.value}`,children:s.label},s.value))})}const hm="organizationID",pm="selectedOrganization";function C8(){const[e,t]=g.useState(()=>{const o=localStorage.getItem(hm);return o&&o!=="null"&&o!==""?o:null}),[n,s]=g.useState(()=>{const o=localStorage.getItem(pm);if(o)try{return JSON.parse(o)}catch{return null}return null});g.useEffect(()=>{const o=c=>{if(c.key===hm){const d=c.newValue;t(d&&d!=="null"&&d!==""?d:null)}if(c.key===pm)if(c.newValue)try{s(JSON.parse(c.newValue))}catch{s(null)}else s(null)},l=()=>{const c=localStorage.getItem(hm),d=localStorage.getItem(pm);if(t(c&&c!=="null"&&c!==""?c:null),d)try{s(JSON.parse(d))}catch{s(null)}else s(null)};return window.addEventListener("storage",o),window.addEventListener("organizationChanged",l),()=>{window.removeEventListener("storage",o),window.removeEventListener("organizationChanged",l)}},[]);const a=g.useCallback(o=>{o?(localStorage.setItem(hm,o.organizationId),localStorage.setItem(pm,JSON.stringify(o)),t(o.organizationId),s(o)):(localStorage.removeItem(hm),localStorage.removeItem(pm),t(null),s(null)),window.dispatchEvent(new CustomEvent("organizationChanged")),At.invalidateQueries()},[]);return{organizationId:e,organization:n,hasSelectedOrganization:e!==null,selectOrganization:a}}function HE(){const e=new Date,t=e.getFullYear(),n=e.getMonth(),[,s]=zn(),[a,i]=g.useState("6m"),[o,l]=g.useState(String(n)),[c,d]=g.useState(String(t)),u=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{const F=[];for(let z=2020;z<=t;z++)F.push(z);return F},p=`${c}-${String(parseInt(o)+1).padStart(2,"0")}`,{organizationId:f,hasSelectedOrganization:x}=C8(),{data:h,isLoading:y}=ve({queryKey:[`/api/dashboard/${f}/metrics`],select:F=>(F==null?void 0:F.metrics)||{},enabled:x}),{data:v,isLoading:b}=ve({queryKey:[`/api/dashboard/${f}/metrics`],select:F=>(F==null?void 0:F.topAgents)||[],enabled:x}),{data:w,isLoading:S}=ve({queryKey:[`/api/monthly-stats/${p}`,f],queryFn:async()=>(await fetch(`/api/monthly-stats/${p}?organizationId=${f}`)).json(),enabled:x}),{data:N}=ve({queryKey:["/api/processors"],enabled:x}),{data:j,isLoading:C}=ve({queryKey:[`/api/dashboard/${f}/needs-approval`],select:F=>(F==null?void 0:F.needsApproval)||[],enabled:x}),{data:A,isLoading:k}=ve({queryKey:[`/api/dashboard/${f}/recent-activity`],select:F=>(F==null?void 0:F.activity)||[],enabled:x}),{data:O,isLoading:M}=ve({queryKey:["/api/analytics/trends",a,f],queryFn:async()=>(await fetch(`/api/analytics/trends?timeRange=${a}&organizationId=${f}`)).json(),select:F=>(F==null?void 0:F.trends)||[],enabled:x});ve({queryKey:["/api/initialize"],queryFn:async()=>(await fetch("/api/initialize",{method:"POST"})).json(),staleTime:1/0});const P=x&&(h==null?void 0:h.totalAgents)||0,_=x&&(h==null?void 0:h.totalMerchants)||0,E=x&&(h==null?void 0:h.totalReports)||0,T=x&&(h==null?void 0:h.approvedReports)||0,$=x&&(h==null?void 0:h.pendingApprovals)||0,q=E>0?Math.round(T/E*100):0,R=x&&(w==null?void 0:w.totalRevenue)||0,D=x&&(w==null?void 0:w.totalMids)||0,V=D>0?R/D:0;return r.jsxs("div",{className:"min-h-screen bg-[#0a0a0f]",children:[r.jsx("div",{className:"md:hidden bg-[#0a0a0f] border-b border-yellow-400/20 px-4 py-3",children:r.jsx("h1",{className:"text-xl font-semibold text-white",children:"ISO Hub Dashboard"})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6 lg:py-8 space-y-6 lg:space-y-8",children:[r.jsx(fs,{items:[{label:"Overview",href:"/dashboard",isActive:!0}]}),r.jsxs("div",{className:"hidden md:flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-semibold text-white",children:"ISO Hub Dashboard"}),r.jsx("p",{className:"text-base sm:text-lg text-gray-400 mt-1",children:"Comprehensive merchant services and agent management"})]}),r.jsxs("div",{className:"flex items-center gap-3 bg-zinc-900/80 border border-yellow-400/20 rounded-lg px-4 py-2",children:[r.jsx(hk,{className:"h-5 w-5 text-yellow-400"}),r.jsxs(ze,{value:o,onValueChange:l,children:[r.jsx(Re,{className:"w-[130px] bg-zinc-800 border-zinc-700 text-white","data-testid":"select-month",children:r.jsx(Fe,{placeholder:"Month"})}),r.jsx($e,{className:"bg-zinc-800 border-zinc-700",children:u.map((F,z)=>r.jsx(Y,{value:String(z),className:"text-white hover:bg-zinc-700","data-testid":`option-month-${F.toLowerCase()}`,children:F},F))})]}),r.jsxs(ze,{value:c,onValueChange:d,children:[r.jsx(Re,{className:"w-[100px] bg-zinc-800 border-zinc-700 text-white","data-testid":"select-year",children:r.jsx(Fe,{placeholder:"Year"})}),r.jsx($e,{className:"bg-zinc-800 border-zinc-700",children:m().map(F=>r.jsx(Y,{value:String(F),className:"text-white hover:bg-zinc-700","data-testid":`option-year-${F}`,children:F},F))})]})]})]}),r.jsxs("div",{className:"md:hidden flex items-center gap-2 bg-zinc-900/80 border border-yellow-400/20 rounded-lg px-3 py-2",children:[r.jsx(hk,{className:"h-4 w-4 text-yellow-400"}),r.jsxs(ze,{value:o,onValueChange:l,children:[r.jsx(Re,{className:"flex-1 bg-zinc-800 border-zinc-700 text-white h-9","data-testid":"select-month-mobile",children:r.jsx(Fe,{placeholder:"Month"})}),r.jsx($e,{className:"bg-zinc-800 border-zinc-700",children:u.map((F,z)=>r.jsx(Y,{value:String(z),className:"text-white hover:bg-zinc-700",children:F},F))})]}),r.jsxs(ze,{value:c,onValueChange:d,children:[r.jsx(Re,{className:"w-[90px] bg-zinc-800 border-zinc-700 text-white h-9","data-testid":"select-year-mobile",children:r.jsx(Fe,{placeholder:"Year"})}),r.jsx($e,{className:"bg-zinc-800 border-zinc-700",children:m().map(F=>r.jsx(Y,{value:String(F),className:"text-white hover:bg-zinc-700",children:F},F))})]})]}),!x&&r.jsx(U,{className:"bg-zinc-900/80 border-yellow-400/30 border-2 border-dashed",children:r.jsxs(B,{className:"flex flex-col items-center justify-center py-16 px-8",children:[r.jsx("div",{className:"w-20 h-20 bg-yellow-400/10 rounded-full flex items-center justify-center mb-6",children:r.jsx(Ox,{className:"h-10 w-10 text-yellow-400"})}),r.jsx("h2",{className:"text-2xl font-semibold text-white mb-3",children:"Select an Organization"}),r.jsx("p",{className:"text-gray-400 text-center max-w-md mb-6",children:"Choose an organization from the dropdown above to view dashboard metrics, agent performance, and revenue analytics."}),r.jsxs("div",{className:"flex items-center gap-2 text-yellow-400",children:[r.jsx(St,{className:"h-5 w-5"}),r.jsx("span",{className:"text-sm",children:'Use the "Organization" selector in the header to get started'})]})]})}),x&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 lg:gap-6",children:[r.jsxs(jt,{children:[r.jsx(pn,{asChild:!0,children:r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20 hover:border-yellow-400/40 hover:shadow-lg hover:shadow-yellow-400/10 transition-all duration-300 cursor-pointer",children:[r.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(J,{className:"text-sm font-medium text-gray-300",children:"Total Agents"}),r.jsx(St,{className:"h-4 w-4 text-yellow-400"})]}),r.jsxs(B,{children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:P}),r.jsx("p",{className:"text-xs text-gray-500",children:"Active payment processing agents"})]})]})}),r.jsxs(yt,{className:"max-w-4xl",children:[r.jsx(vt,{children:r.jsx(bt,{children:"Agent Overview"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[r.jsx("h3",{className:"font-medium text-blue-800",children:"Active Agents"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:P})]}),r.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[r.jsx("h3",{className:"font-medium text-green-800",children:"Total Merchants"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:_})]}),r.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[r.jsx("h3",{className:"font-medium text-yellow-800",children:"Avg Per Agent"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:P>0?Math.round(_/P):0})]})]}),r.jsxs("div",{className:"mt-6",children:[r.jsx("h4",{className:"font-medium mb-3",children:"Agent Performance"}),r.jsxs(_r,{children:[r.jsx(Tr,{children:r.jsxs(Ze,{children:[r.jsx(be,{children:"Agent"}),r.jsx(be,{children:"Merchants"}),r.jsx(be,{children:"Revenue"}),r.jsx(be,{children:"Status"})]})}),r.jsx(Mr,{children:v==null?void 0:v.slice(0,5).map((F,z)=>r.jsxs(Ze,{children:[r.jsxs(de,{children:[F.firstName," ",F.lastName]}),r.jsx(de,{children:F.merchantCount}),r.jsxs(de,{children:["$",(F.merchantCount*165).toLocaleString()]}),r.jsx(de,{children:r.jsx(oe,{className:"bg-green-100 text-green-800",children:"Active"})})]},F.agentId))})]})]})]})]})]}),r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20 hover:border-yellow-400/40 hover:shadow-lg hover:shadow-yellow-400/10 transition-all duration-300",children:[r.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(J,{className:"text-sm font-medium text-gray-300",children:"Total Merchants"}),r.jsx(Ox,{className:"h-4 w-4 text-green-400"})]}),r.jsxs(B,{children:[r.jsx("div",{className:"text-2xl font-bold text-green-400",children:_}),r.jsxs("p",{className:"text-xs text-gray-500",children:["MIDs being processed: ",D]})]})]}),r.jsxs(jt,{children:[r.jsx(pn,{asChild:!0,children:r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20 hover:border-yellow-400/40 hover:shadow-lg hover:shadow-yellow-400/10 transition-all duration-300 cursor-pointer",children:[r.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(J,{className:"text-sm font-medium text-gray-300",children:"Monthly Revenue"}),r.jsx(zr,{className:"h-4 w-4 text-yellow-400"})]}),r.jsxs(B,{children:[r.jsxs("div",{className:"text-2xl font-bold text-yellow-400",children:["$",R.toLocaleString()]}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Avg per MID: $",V.toFixed(2)]})]})]})}),r.jsxs(yt,{className:"max-w-4xl",children:[r.jsx(vt,{children:r.jsx(bt,{children:"Revenue Breakdown"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[r.jsx("h3",{className:"font-medium text-yellow-800",children:"Total Revenue"}),r.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:["$",R.toLocaleString()]})]}),r.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[r.jsx("h3",{className:"font-medium text-green-800",children:"Total MIDs"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:D})]}),r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[r.jsx("h3",{className:"font-medium text-blue-800",children:"Avg per MID"}),r.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["$",V.toFixed(2)]})]}),r.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[r.jsx("h3",{className:"font-medium text-purple-800",children:"Growth Rate"}),r.jsx("p",{className:"text-2xl font-bold text-purple-600",children:"+12.5%"})]})]}),r.jsxs("div",{className:"mt-6",children:[r.jsx("h4",{className:"font-medium mb-3",children:"Top Revenue Generators"}),r.jsxs(_r,{children:[r.jsx(Tr,{children:r.jsxs(Ze,{children:[r.jsx(be,{children:"Processor"}),r.jsx(be,{children:"Revenue"}),r.jsx(be,{children:"MIDs"}),r.jsx(be,{children:"Avg per MID"})]})}),r.jsxs(Mr,{children:[r.jsxs(Ze,{children:[r.jsx(de,{children:"Clearent"}),r.jsxs(de,{children:["$",(R*.35).toLocaleString()]}),r.jsx(de,{children:Math.round(D*.4)}),r.jsxs(de,{children:["$",(R*.35/(D*.4)).toFixed(2)]})]}),r.jsxs(Ze,{children:[r.jsx(de,{children:"Global Payments TSYS"}),r.jsxs(de,{children:["$",(R*.25).toLocaleString()]}),r.jsx(de,{children:Math.round(D*.3)}),r.jsxs(de,{children:["$",(R*.25/(D*.3)).toFixed(2)]})]}),r.jsxs(Ze,{children:[r.jsx(de,{children:"Payment Advisors"}),r.jsxs(de,{children:["$",(R*.2).toLocaleString()]}),r.jsx(de,{children:Math.round(D*.15)}),r.jsxs(de,{children:["$",(R*.2/(D*.15)).toFixed(2)]})]})]})]})]})]})]})]}),r.jsxs(jt,{children:[r.jsx(pn,{asChild:!0,children:r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20 hover:border-yellow-400/40 hover:shadow-lg hover:shadow-yellow-400/10 transition-all duration-300 cursor-pointer",children:[r.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(J,{className:"text-sm font-medium text-gray-300",children:"Approval Rate"}),r.jsx(qe,{className:"h-4 w-4 text-purple-400"})]}),r.jsxs(B,{children:[r.jsxs("div",{className:"text-2xl font-bold text-purple-400",children:[q,"%"]}),r.jsxs("p",{className:"text-xs text-gray-500",children:[T," of ",E," approved"]})]})]})}),r.jsxs(yt,{className:"max-w-2xl",children:[r.jsx(vt,{children:r.jsx(bt,{children:"Approval Details"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[r.jsx("h3",{className:"font-medium text-green-800",children:"Approved"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:T})]}),r.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[r.jsx("h3",{className:"font-medium text-orange-800",children:"Pending"}),r.jsx("p",{className:"text-2xl font-bold text-orange-600",children:$})]})]}),r.jsxs("div",{className:"mt-6",children:[r.jsx("h4",{className:"font-medium mb-3",children:"Recent Approvals"}),r.jsxs(_r,{children:[r.jsx(Tr,{children:r.jsxs(Ze,{children:[r.jsx(be,{children:"Item"}),r.jsx(be,{children:"Status"}),r.jsx(be,{children:"Date"})]})}),r.jsxs(Mr,{children:[r.jsxs(Ze,{children:[r.jsx(de,{children:"Agent Report - Q3"}),r.jsx(de,{children:r.jsx(oe,{className:"bg-green-100 text-green-800",children:"Approved"})}),r.jsx(de,{children:"Today"})]}),r.jsxs(Ze,{children:[r.jsx(de,{children:"Processor Integration"}),r.jsx(de,{children:r.jsx(oe,{className:"bg-orange-100 text-orange-800",children:"Pending"})}),r.jsx(de,{children:"Yesterday"})]})]})]})]})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 lg:gap-6",children:[r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20 hover:border-yellow-400/40 hover:shadow-lg hover:shadow-yellow-400/10 transition-all duration-300",children:[r.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(J,{className:"text-sm font-medium text-gray-300",children:"Pending Approvals"}),r.jsx(Rr,{className:"h-4 w-4 text-orange-400"})]}),r.jsxs(B,{children:[r.jsx("div",{className:"text-2xl font-bold text-orange-400",children:$}),r.jsx("p",{className:"text-xs text-gray-500",children:"Awaiting review"})]})]}),r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20 hover:border-yellow-400/40 hover:shadow-lg hover:shadow-yellow-400/10 transition-all duration-300",children:[r.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(J,{className:"text-sm font-medium text-gray-300",children:"Active Processors"}),r.jsx(Cu,{className:"h-4 w-4 text-indigo-400"})]}),r.jsxs(B,{children:[r.jsx("div",{className:"text-2xl font-bold text-indigo-400",children:(N==null?void 0:N.length)||7}),r.jsx("p",{className:"text-xs text-gray-500",children:"Payment processors connected"})]})]}),r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20 hover:border-yellow-400/40 hover:shadow-lg hover:shadow-yellow-400/10 transition-all duration-300",children:[r.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(J,{className:"text-sm font-medium text-gray-300",children:"Reports Generated"}),r.jsx(et,{className:"h-4 w-4 text-teal-400"})]}),r.jsxs(B,{children:[r.jsx("div",{className:"text-2xl font-bold text-teal-400",children:E}),r.jsx("p",{className:"text-xs text-gray-500",children:"This month"})]})]}),r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20 hover:border-yellow-400/40 hover:shadow-lg hover:shadow-yellow-400/10 transition-all duration-300",children:[r.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(J,{className:"text-sm font-medium text-gray-300",children:"Performance Score"}),r.jsx(Xw,{className:"h-4 w-4 text-rose-400"})]}),r.jsxs(B,{children:[r.jsx("div",{className:"text-2xl font-bold text-rose-400",children:"A+"}),r.jsx("p",{className:"text-xs text-gray-500",children:"System health: Excellent"})]})]})]}),r.jsx("div",{className:"border-t border-yellow-400/20 my-8"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-semibold text-white",children:"Revenue Analytics"}),r.jsx(dSe,{value:a,onChange:i})]}),r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:M?r.jsxs(r.Fragment,{children:[r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:[r.jsx(X,{children:r.jsx(J,{className:"text-gray-300",children:"Loading..."})}),r.jsx(B,{children:r.jsx("div",{className:"h-[300px] flex items-center justify-center text-gray-500",children:"Loading revenue trends..."})})]}),r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:[r.jsx(X,{children:r.jsx(J,{className:"text-gray-300",children:"Loading..."})}),r.jsx(B,{children:r.jsx("div",{className:"h-[300px] flex items-center justify-center text-gray-500",children:"Loading transaction data..."})})]})]}):O&&O.length>0?r.jsxs(r.Fragment,{children:[r.jsx(lSe,{data:O,timeRange:a}),r.jsx(cSe,{data:O})]}):r.jsx(U,{className:"col-span-2 bg-zinc-900/80 border-yellow-400/20",children:r.jsx(B,{className:"py-8",children:r.jsxs("div",{className:"text-center text-gray-500",children:[r.jsx(Xa,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),r.jsx("p",{children:"No analytics data available for the selected time range."}),r.jsx("p",{className:"text-sm mt-2",children:"Try selecting a different time period or upload data to view trends."})]})})})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20 hover:border-yellow-400/40 hover:shadow-lg hover:shadow-yellow-400/10 transition-all duration-300",children:[r.jsx(X,{children:r.jsxs(J,{className:"flex items-center gap-2 text-white",children:[r.jsx(Qr,{className:"h-5 w-5 text-green-400"}),"Top Performing Agents"]})}),r.jsxs(B,{children:[r.jsx("div",{className:"space-y-4",children:!b&&v&&v.length>0?v.slice(0,5).map((F,z)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-800/50 rounded-lg border border-yellow-400/10",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-yellow-400/20 rounded-full flex items-center justify-center",children:r.jsxs("span",{className:"text-sm font-bold text-yellow-400",children:["#",z+1]})}),r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium text-white",children:[F.firstName," ",F.lastName]}),r.jsxs("p",{className:"text-sm text-gray-400",children:[F.merchantCount," merchants"]})]})]}),r.jsxs(oe,{className:z===0?"bg-yellow-400 text-black":"bg-zinc-700 text-gray-300",children:[z===0&&r.jsx(Xw,{className:"w-3 h-3 mr-1"}),F.merchantCount," MIDs"]})]},F.agentId)):r.jsx("div",{className:"text-center py-6 text-gray-500",children:"Loading agent performance data..."})}),r.jsx(I,{variant:"outline",className:"w-full mt-4 border-yellow-400/50 text-yellow-400 hover:bg-yellow-400 hover:text-black",onClick:()=>s("/agent-management"),children:"View All Agents"})]})]}),r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20 hover:border-yellow-400/40 hover:shadow-lg hover:shadow-yellow-400/10 transition-all duration-300",children:[r.jsx(X,{children:r.jsxs(J,{className:"flex items-center gap-2 text-white",children:[r.jsx(cr,{className:"h-5 w-5 text-orange-400"}),"Needs Approval (",$,")"]})}),r.jsxs(B,{children:[r.jsx("div",{className:"space-y-3",children:!C&&j&&j.length>0?j.slice(0,5).map((F,z)=>r.jsxs("div",{className:"flex items-center justify-between p-3 border border-yellow-400/10 bg-zinc-800/50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-sm text-white",children:F.processor}),r.jsxs("p",{className:"text-xs text-gray-400",children:[F.monthYear," - ",F.type]})]}),r.jsx(oe,{className:F.type==="agent"?"bg-yellow-400 text-black":"bg-zinc-700 text-gray-300",children:F.type})]},z)):r.jsxs("div",{className:"text-center py-6 text-gray-500",children:[r.jsx(qe,{className:"w-12 h-12 mx-auto mb-2 text-green-400"}),"All caught up! No items pending approval."]})}),j&&j.length>5&&r.jsxs(I,{variant:"outline",className:"w-full mt-4 border-yellow-400/50 text-yellow-400 hover:bg-yellow-400 hover:text-black",children:["View All Pending (",j.length,")"]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20 hover:border-yellow-400/40 hover:shadow-lg hover:shadow-yellow-400/10 transition-all duration-300",children:[r.jsx(X,{children:r.jsxs(J,{className:"flex items-center gap-2 text-white",children:[r.jsx(f2,{className:"h-5 w-5 text-blue-400"}),"Recent Activity"]})}),r.jsx(B,{children:r.jsx("div",{className:"space-y-3",children:!k&&A&&A.length>0?A.slice(0,6).map((F,z)=>r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full mt-2"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm text-gray-300",children:F.description}),r.jsx("p",{className:"text-xs text-gray-500",children:new Date(F.timestamp).toLocaleDateString()})]})]},z)):r.jsx("div",{className:"text-center py-6 text-gray-500",children:"No recent activity to display"})})})]}),r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20 hover:border-yellow-400/40 hover:shadow-lg hover:shadow-yellow-400/10 transition-all duration-300",children:[r.jsx(X,{children:r.jsxs(J,{className:"flex items-center gap-2 text-white",children:[r.jsx(wo,{className:"h-5 w-5 text-yellow-400"}),"Quick Actions"]})}),r.jsx(B,{children:r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs(I,{variant:"outline",className:"h-20 flex flex-col items-center justify-center gap-2 border-yellow-400/30 text-gray-300 hover:border-yellow-400 hover:text-yellow-400 hover:bg-yellow-400/5",onClick:()=>s("/agent-management"),children:[r.jsx(St,{className:"h-5 w-5"}),r.jsx("span",{className:"text-sm",children:"Add Agent"})]}),r.jsxs(I,{variant:"outline",className:"h-20 flex flex-col items-center justify-center gap-2 border-yellow-400/30 text-gray-300 hover:border-yellow-400 hover:text-yellow-400 hover:bg-yellow-400/5",onClick:()=>s("/uploads"),children:[r.jsx(et,{className:"h-5 w-5"}),r.jsx("span",{className:"text-sm",children:"Upload Data"})]}),r.jsxs(I,{variant:"outline",className:"h-20 flex flex-col items-center justify-center gap-2 border-yellow-400/30 text-gray-300 hover:border-yellow-400 hover:text-yellow-400 hover:bg-yellow-400/5",onClick:()=>s("/reports"),children:[r.jsx(Xa,{className:"h-5 w-5"}),r.jsx("span",{className:"text-sm",children:"Generate Report"})]}),r.jsxs(I,{variant:"outline",className:"h-20 flex flex-col items-center justify-center gap-2 border-yellow-400/30 text-gray-300 hover:border-yellow-400 hover:text-yellow-400 hover:bg-yellow-400/5",onClick:()=>s("/pre-applications"),children:[r.jsx(qa,{className:"h-5 w-5"}),r.jsx("span",{className:"text-sm",children:"Pre-Apps"})]})]})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-1 gap-6",children:[r.jsx(NZ,{data:(w==null?void 0:w.monthlyData)||[],processors:N||[],month:p}),r.jsx(SZ,{month:p})]})]})]})]})}function k8({title:e,description:t,value:n,href:s,icon:a,isSelected:i=!1,className:o="",badge:l,auditStatus:c,monthlyData:d=!1}){return r.jsx(qt,{href:s,children:r.jsx("a",{className:"block",children:r.jsxs(U,{className:ye("relative cursor-pointer transition-all duration-300 ease-in-out","border-2 border-transparent hover:shadow-lg transform hover:scale-[1.02]","group",i&&["border-yellow-400 shadow-xl scale-[1.02]"],o),children:[i&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-yellow-400 via-yellow-500 to-yellow-400 rounded-lg blur opacity-75"}),r.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-yellow-400 via-yellow-500 to-yellow-400 rounded-lg opacity-30"})]}),r.jsxs("div",{className:"relative bg-white rounded-lg",children:[r.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsxs(J,{className:"text-sm font-medium flex items-center gap-2",children:[a,e]}),r.jsxs("div",{className:"flex items-center gap-2",children:[l,r.jsx(pa,{className:"h-4 w-4 text-muted-foreground group-hover:text-black transition-colors"})]})]}),(n||t)&&r.jsxs(B,{children:[n&&r.jsx("div",{className:"text-2xl font-bold mb-1",children:typeof n=="number"?n.toLocaleString():n}),t&&r.jsx("p",{className:"text-xs text-muted-foreground",children:t})]})]}),i&&r.jsx("div",{className:"absolute top-2 right-2 w-3 h-3 bg-yellow-400 rounded-full z-10",children:r.jsx("div",{className:"absolute inset-0 w-3 h-3 bg-yellow-400 rounded-full"})}),d&&c&&r.jsx("div",{className:`absolute bottom-2 left-2 w-2 h-2 rounded-full z-10 ${c==="verified"?"bg-green-500":c==="error"?"bg-red-500":c==="pending"?"bg-yellow-500":"bg-gray-400"}`})]})})})}function A8({isSelected:e,onClick:t,children:n,className:s="",selectedBorderColor:a="border-yellow-400"}){return r.jsxs("div",{onClick:t,className:ye("relative cursor-pointer transition-all duration-300 ease-in-out","border-2 border-transparent rounded-lg","hover:shadow-lg transform hover:scale-[1.02]",e&&[a,"shadow-xl scale-[1.02]","animate-pulse-border"],s),children:[e&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-yellow-400 via-yellow-500 to-yellow-400 rounded-lg blur opacity-75 animate-pulse"}),r.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-yellow-400 via-yellow-500 to-yellow-400 rounded-lg animate-spin-slow opacity-30"})]}),r.jsx("div",{className:"relative bg-white rounded-lg",children:n}),e&&r.jsx("div",{className:"absolute top-2 right-2 w-3 h-3 bg-yellow-400 rounded-full animate-bounce",children:r.jsx("div",{className:"absolute inset-0 w-3 h-3 bg-yellow-400 rounded-full animate-ping"})})]})}function uSe(e,t=[]){let n=[];function s(i,o){const l=g.createContext(o);l.displayName=i+"Context";const c=n.length;n=[...n,o];const d=m=>{var v;const{scope:p,children:f,...x}=m,h=((v=p==null?void 0:p[e])==null?void 0:v[c])||l,y=g.useMemo(()=>x,Object.values(x));return r.jsx(h.Provider,{value:y,children:f})};d.displayName=i+"Provider";function u(m,p){var h;const f=((h=p==null?void 0:p[e])==null?void 0:h[c])||l,x=g.useContext(f);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=n.map(o=>g.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return g.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,mSe(a,...t)]}function mSe(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const m=c(i)[`__scope${d}`];return{...l,...m}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var hSe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],P8=hSe.reduce((e,t)=>{const n=Cp(`Primitive.${t}`),s=g.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:i})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),c4="Progress",d4=100,[pSe]=uSe(c4),[fSe,xSe]=pSe(c4),O8=g.forwardRef((e,t)=>{const{__scopeProgress:n,value:s=null,max:a,getValueLabel:i=gSe,...o}=e;(a||a===0)&&!KE(a)&&console.error(ySe(`${a}`,"Progress"));const l=KE(a)?a:d4;s!==null&&!GE(s,l)&&console.error(vSe(`${s}`,"Progress"));const c=GE(s,l)?s:null,d=Bg(c)?i(c,l):void 0;return r.jsx(fSe,{scope:n,value:c,max:l,children:r.jsx(P8.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Bg(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":T8(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});O8.displayName=c4;var E8="ProgressIndicator",_8=g.forwardRef((e,t)=>{const{__scopeProgress:n,...s}=e,a=xSe(E8,n);return r.jsx(P8.div,{"data-state":T8(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...s,ref:t})});_8.displayName=E8;function gSe(e,t){return`${Math.round(e/t*100)}%`}function T8(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Bg(e){return typeof e=="number"}function KE(e){return Bg(e)&&!isNaN(e)&&e>0}function GE(e,t){return Bg(e)&&!isNaN(e)&&e<=t&&e>=0}function ySe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${d4}\`.`}function vSe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${d4} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var M8=O8,bSe=_8;const Vu=g.forwardRef(({className:e,value:t,...n},s)=>r.jsx(M8,{ref:s,className:ye("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:r.jsx(bSe,{className:"h-full w-full flex-1 bg-yellow-400 transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Vu.displayName=M8.displayName;const wSe=bp("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Mt=g.forwardRef(({className:e,variant:t,...n},s)=>r.jsx("div",{ref:s,role:"alert",className:ye(wSe({variant:t}),e),...n}));Mt.displayName="Alert";const Vg=g.forwardRef(({className:e,...t},n)=>r.jsx("h5",{ref:n,className:ye("mb-1 font-medium leading-none tracking-tight",e),...t}));Vg.displayName="AlertTitle";const It=g.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:ye("text-sm [&_p]:leading-relaxed",e),...t}));It.displayName="AlertDescription";function jSe({validationResult:e,report:t,preview:n,onClose:s,onProceedWithUpload:a,processorName:i}){const{summary:o,errors:l,warnings:c,isValid:d}=e,u=Math.round(o.validRows/o.totalRows*100),m=f=>{switch(f){case"error":return r.jsx(ht,{className:"h-4 w-4 text-red-500"});case"warning":return r.jsx(cr,{className:"h-4 w-4 text-yellow-500"});case"info":return r.jsx(ph,{className:"h-4 w-4 text-blue-500"});default:return r.jsx(ht,{className:"h-4 w-4"})}},p=f=>{switch(f){case"error":return"bg-red-100 text-red-800 border-red-200";case"warning":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"info":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{children:[r.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["Validation Results - ",i]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Data validation completed for uploaded file"})]}),r.jsx(I,{variant:"ghost",size:"sm",onClick:s,children:r.jsx(br,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsx(U,{children:r.jsx(B,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Rows"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:o.totalRows})]}),r.jsx(qe,{className:"h-8 w-8 text-blue-500"})]})})}),r.jsx(U,{children:r.jsx(B,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Valid Rows"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:o.validRows})]}),r.jsx(qe,{className:"h-8 w-8 text-green-500"})]})})}),r.jsx(U,{children:r.jsx(B,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Errors"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:l.length})]}),r.jsx(ht,{className:"h-8 w-8 text-red-500"})]})})}),r.jsx(U,{children:r.jsx(B,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Warnings"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:c.length})]}),r.jsx(cr,{className:"h-8 w-8 text-yellow-500"})]})})})]}),r.jsxs(U,{className:"mb-6",children:[r.jsx(X,{children:r.jsxs(J,{className:"text-lg flex items-center gap-2",children:[d?r.jsx(qe,{className:"h-5 w-5 text-green-500"}):r.jsx(ht,{className:"h-5 w-5 text-red-500"}),"Validation Status: ",d?"PASSED":"FAILED"]})}),r.jsx(B,{children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:"Data Quality"}),r.jsxs("span",{children:[u,"%"]})]}),r.jsx(Vu,{value:u,className:"w-full"})]})})]}),(l.length>0||c.length>0)&&r.jsxs(U,{className:"mb-6",children:[r.jsxs(X,{children:[r.jsx(J,{className:"text-lg",children:"Issues Found"}),r.jsx(tt,{children:"Review the following issues before proceeding with the upload"})]}),r.jsx(B,{children:r.jsx("div",{className:"space-y-4 max-h-64 overflow-y-auto",children:[...l,...c].map((f,x)=>r.jsx(Mt,{className:`border ${p(f.severity)}`,children:r.jsxs("div",{className:"flex items-start gap-2",children:[m(f.severity),r.jsx("div",{className:"flex-1",children:r.jsxs(It,{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsxs(oe,{variant:"outline",className:"text-xs",children:["Row ",f.row]}),r.jsx(oe,{variant:"outline",className:"text-xs",children:f.column}),r.jsx(oe,{className:`text-xs ${p(f.severity)}`,children:f.severity.toUpperCase()})]}),r.jsx("p",{className:"text-sm",children:f.error}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Value: ",f.value]})]})})]})},x))})})]}),n.length>0&&r.jsxs(U,{className:"mb-6",children:[r.jsxs(X,{children:[r.jsx(J,{className:"text-lg",children:"Data Preview"}),r.jsx(tt,{children:"First 5 rows of your uploaded data"})]}),r.jsx(B,{children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(_r,{children:[r.jsx(Tr,{children:r.jsx(Ze,{children:Object.keys(n[0]||{}).map(f=>r.jsx(be,{children:f},f))})}),r.jsx(Mr,{children:n.map((f,x)=>r.jsx(Ze,{children:Object.values(f).map((h,y)=>r.jsx(de,{className:"text-sm",children:String(h)},y))},x))})]})})})]})]}),r.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50",children:[r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:d?r.jsx("span",{className:"text-green-600",children:" All validations passed. Ready to upload."}):r.jsx("span",{className:"text-red-600",children:" Validation failed. Please review errors above."})}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(I,{variant:"outline",onClick:s,children:"Cancel"}),r.jsx(I,{onClick:a,className:d?"bg-green-600 hover:bg-green-700":"bg-yellow-600 hover:bg-yellow-700",children:d?"Proceed with Upload":"Upload Anyway"})]})]})]})})}var Jy="Tabs",[NSe]=Fn(Jy,[Y0]),I8=Y0(),[SSe,u4]=NSe(Jy),R8=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=Ep(l),[m,p]=wa({prop:s,onChange:a,defaultProp:i??"",caller:Jy});return r.jsx(SSe,{scope:n,baseId:sn(),value:m,onValueChange:p,orientation:o,dir:u,activationMode:c,children:r.jsx(Le.div,{dir:u,"data-orientation":o,...d,ref:t})})});R8.displayName=Jy;var $8="TabsList",D8=g.forwardRef((e,t)=>{const{__scopeTabs:n,loop:s=!0,...a}=e,i=u4($8,n),o=I8(n);return r.jsx(XR,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:s,children:r.jsx(Le.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});D8.displayName=$8;var z8="TabsTrigger",F8=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,disabled:a=!1,...i}=e,o=u4(z8,n),l=I8(n),c=B8(o.baseId,s),d=V8(o.baseId,s),u=s===o.value;return r.jsx(ZR,{asChild:!0,...l,focusable:!a,active:u,children:r.jsx(Le.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:je(e.onMouseDown,m=>{!a&&m.button===0&&m.ctrlKey===!1?o.onValueChange(s):m.preventDefault()}),onKeyDown:je(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(s)}),onFocus:je(e.onFocus,()=>{const m=o.activationMode!=="manual";!u&&!a&&m&&o.onValueChange(s)})})})});F8.displayName=z8;var L8="TabsContent",U8=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,forceMount:a,children:i,...o}=e,l=u4(L8,n),c=B8(l.baseId,s),d=V8(l.baseId,s),u=s===l.value,m=g.useRef(u);return g.useEffect(()=>{const p=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(p)},[]),r.jsx(an,{present:a||u,children:({present:p})=>r.jsx(Le.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:p&&i})})});U8.displayName=L8;function B8(e,t){return`${e}-trigger-${t}`}function V8(e,t){return`${e}-content-${t}`}var CSe=R8,q8=D8,W8=F8,H8=U8;const ns=CSe,Un=g.forwardRef(({className:e,...t},n)=>r.jsx(q8,{ref:n,className:ye("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Un.displayName=q8.displayName;const ot=g.forwardRef(({className:e,...t},n)=>r.jsx(W8,{ref:n,className:ye("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));ot.displayName=W8.displayName;const lt=g.forwardRef(({className:e,...t},n)=>r.jsx(H8,{ref:n,className:ye("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));lt.displayName=H8.displayName;const kSe=[{id:"payment_advisors",name:"Payment Advisors",category:"processors",icon:Yt,description:"Upload merchant residual reports from Payment Advisors",acceptedFormats:["CSV","XLSX"],maxFileSize:"50MB",uploadCount:0,lastUpload:void 0,status:"active"},{id:"clearent",name:"Clearent",category:"processors",icon:Yt,description:"Upload merchant residual reports from Clearent",acceptedFormats:["CSV","XLS","XLSX"],maxFileSize:"25MB",uploadCount:0,lastUpload:void 0,status:"active"},{id:"global_payments_tsys",name:"Global Payments TSYS",category:"processors",icon:Yt,description:"Upload merchant residual reports from Global Payments TSYS",acceptedFormats:["CSV","XLSX"],maxFileSize:"25MB",uploadCount:0,lastUpload:void 0,status:"active"},{id:"micamp_solutions",name:"Micamp Solutions",category:"processors",icon:Yt,description:"Upload merchant residual reports from Micamp Solutions",acceptedFormats:["CSV","XLSX"],maxFileSize:"25MB",uploadCount:0,lastUpload:void 0,status:"active"},{id:"merchant_lynx",name:"Merchant Lynx",category:"processors",icon:Yt,description:"Upload merchant residual reports from Merchant Lynx",acceptedFormats:["CSV","XLSX"],maxFileSize:"25MB",uploadCount:0,lastUpload:void 0,status:"active"},{id:"first_data",name:"First Data",category:"processors",icon:Yt,description:"Upload merchant residual reports from First Data",acceptedFormats:["CSV","XLSX"],maxFileSize:"25MB",uploadCount:0,lastUpload:void 0,status:"active"},{id:"shift4",name:"Shift4",category:"processors",icon:Yt,description:"Upload merchant residual reports from Shift4",acceptedFormats:["CSV","XLSX"],maxFileSize:"25MB",uploadCount:0,lastUpload:void 0,status:"active"}];function YE(){const[e,t]=g.useState(null),[n,s]=g.useState([]),[a,i]=g.useState(0),[o,l]=g.useState("2025-04"),[c,d]=g.useState(!1),[u,m]=g.useState(null),[p,f]=g.useState(!1),{toast:x}=pt(),{data:h=[]}=ve({queryKey:["/api/uploads/history"],queryFn:()=>fetch("/api/uploads/history").then(_=>_.json())}),{data:y=[]}=ve({queryKey:["/api/uploads/monthly-status",o],queryFn:()=>fetch(`/api/uploads/monthly-status?month=${o}`).then(_=>_.json()),enabled:!!o}),v=_=>{const E=Array.from(_.target.files||[]);s(E)},b=Oe({mutationFn:async({file:_,processor:E})=>{const T=new FormData;T.append("file",_),T.append("processor",E);const $=await fetch("/api/validation/validate-upload",{method:"POST",body:T});if(!$.ok)throw new Error("Validation failed");return $.json()},onSuccess:_=>{m(_),d(!0),f(!1)},onError:_=>{x({title:"Validation Failed",description:_.message,variant:"destructive"}),f(!1)}}),w=Oe({mutationFn:async({file:_,processor:E,month:T})=>{const $=new FormData;$.append("csvFile",_),$.append("processor",E),$.append("month",T);const q=await fetch("/api/upload-processor",{method:"POST",body:$});if(!q.ok)throw new Error("Upload failed");return q.json()},onSuccess:_=>{x({title:"Upload Complete",description:`Successfully uploaded ${_.recordsProcessed} records for ${_.processor} - ${_.month}`}),s([]),i(0),d(!1),m(null),S.invalidateQueries({queryKey:["/api/uploads/history"]}),S.invalidateQueries({queryKey:["/api/uploads/monthly-status",o]})},onError:_=>{x({title:"Upload Failed",description:_.message,variant:"destructive"}),i(0)}}),S=_t(),N=async()=>{if(!e||n.length===0)return;const _=n[0],E=e.name;f(!0),b.mutate({file:_,processor:E})},j=()=>{if(!e||n.length===0)return;const _=n[0],E=e.name;i(50),w.mutate({file:_,processor:E,month:o})},C=()=>{d(!1),m(null),s([])},A=_=>{switch(_){case"leads":return St;case"processors":return Yt;default:return et}},k=[{value:"2025-07",label:"July 2025"},{value:"2025-06",label:"June 2025"},{value:"2025-05",label:"May 2025"},{value:"2025-04",label:"April 2025"},{value:"2025-03",label:"March 2025"}],O=_=>{const E=y.find(T=>T.processor===_);return(E==null?void 0:E.status)||"not_uploaded"},M=_=>y.find(E=>E.processor===_),P=_=>{switch(_){case"processing":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return r.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-900",children:r.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[r.jsx(fs,{items:[{label:"Data Upload",href:"/data-upload",isActive:!0}]}),r.jsxs("div",{className:"mb-8",children:[r.jsx(U,{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 border-0 shadow-lg",children:r.jsx(B,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-black/10 rounded-lg",children:r.jsx(rr,{className:"h-6 w-6 text-black"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-black",children:"Data Upload Management"}),r.jsx("p",{className:"text-black/80",children:"Upload and manage lead sheets and processor reports."})]})]}),r.jsx(k8,{title:"Monthly Audit",description:"Verify uploaded data",href:"/monthly-audit",icon:r.jsx(qe,{className:"h-5 w-5"}),className:"bg-white/90 border-black/20 min-w-[200px]"})]})})}),r.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-3 sm:space-y-0 sm:space-x-4 mt-6",children:r.jsxs(ze,{value:o,onValueChange:l,children:[r.jsx(Re,{className:"w-full sm:w-48 border-gray-300 focus:border-primary focus:ring-primary",children:r.jsx(Fe,{placeholder:"Select month"})}),r.jsx($e,{children:k.map(_=>r.jsx(Y,{value:_.value,children:_.label},_.value))})]})})]}),r.jsxs(ns,{defaultValue:"upload-spaces",className:"space-y-6",children:[r.jsxs(Un,{className:"grid w-full grid-cols-3",children:[r.jsx(ot,{value:"upload-spaces",children:"Upload Areas"}),r.jsx(ot,{value:"upload-center",children:"Upload Center"}),r.jsx(ot,{value:"upload-history",children:"Upload History"})]}),r.jsx(lt,{value:"upload-spaces",children:r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:["leads","processors"].map(_=>r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[L.createElement(A(_),{className:"h-5 w-5"}),_==="leads"?"Lead Reports":"Processor Spreadsheets"]}),kSe.filter(E=>E.category===_).map(E=>{var R;const T=E.icon,$=O(E.name),q=M(E.name);return r.jsx(A8,{isSelected:(e==null?void 0:e.id)===E.id,onClick:()=>t(E),className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700",children:r.jsxs(U,{className:"border-0 shadow-none",children:[r.jsx(X,{className:"pb-3",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"p-2 bg-yellow-100 dark:bg-yellow-900 rounded-lg",children:r.jsx(T,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400"})}),r.jsxs("div",{children:[r.jsx(J,{className:"text-sm text-black dark:text-white",children:E.name}),r.jsx(oe,{variant:E.status==="active"?"default":"secondary",className:"text-xs mt-1",children:E.status})]})]}),r.jsx("div",{className:"flex items-center gap-2",children:$==="uploaded"?r.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[r.jsx(qe,{className:"h-5 w-5"}),r.jsx("span",{className:"text-xs font-medium",children:"Uploaded"})]}):$==="failed"?r.jsxs("div",{className:"flex items-center gap-1 text-red-600",children:[r.jsx(ht,{className:"h-5 w-5"}),r.jsx("span",{className:"text-xs font-medium",children:"Failed"})]}):r.jsxs("div",{className:"flex items-center gap-1 text-gray-400",children:[r.jsx(Rr,{className:"h-5 w-5"}),r.jsx("span",{className:"text-xs font-medium",children:"Pending"})]})})]})}),r.jsxs(B,{children:[r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-3",children:E.description}),q&&r.jsx("div",{className:"bg-gray-50 dark:bg-gray-800/50 p-3 rounded-lg mb-3",children:r.jsxs("div",{className:"text-xs space-y-1",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-500",children:["Status for ",(R=k.find(D=>D.value===o))==null?void 0:R.label,":"]}),r.jsx(oe,{className:$==="uploaded"?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:$})]}),q.recordCount&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-500",children:"Records:"}),r.jsx("span",{className:"font-medium",children:q.recordCount.toLocaleString()})]}),q.uploadDate&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-500",children:"Upload Date:"}),r.jsx("span",{className:"font-medium",children:q.uploadDate})]})]})}),r.jsxs("div",{className:"space-y-2 text-xs",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-500",children:"Max Size:"}),r.jsx("span",{className:"font-medium",children:E.maxFileSize})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-500",children:"Accepted Formats:"}),r.jsx("div",{className:"flex gap-1",children:E.acceptedFormats.map(D=>r.jsx(oe,{variant:"outline",className:"text-xs",children:D},D))})]})]}),r.jsx("div",{className:"mt-3 pt-3 border-t",children:r.jsx(I,{size:"sm",className:`w-full ${$==="uploaded"?"bg-green-500 hover:bg-green-600 text-white":"bg-yellow-500 hover:bg-yellow-600 text-black"}`,onClick:()=>t(E),children:$==="uploaded"?r.jsxs(r.Fragment,{children:[r.jsx(qe,{className:"h-3 w-3 mr-1"}),"Re-upload"]}):r.jsxs(r.Fragment,{children:[r.jsx(rr,{className:"h-3 w-3 mr-1"}),"Upload"]})})})]})]})},E.id)})]},_))})}),r.jsx(lt,{value:"upload-center",children:r.jsxs(U,{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700",children:[r.jsxs(X,{children:[r.jsx(J,{className:"text-black dark:text-white",children:"File Upload Center"}),r.jsx(tt,{className:"text-gray-600 dark:text-gray-400",children:"Select a processor space and upload your data files"})]}),r.jsxs(B,{className:"space-y-6",children:[e?r.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[L.createElement(e.icon,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"}),r.jsx("h3",{className:"font-medium text-black dark:text-white",children:e.name})]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:e.description}),r.jsxs("div",{className:"flex gap-4 text-xs text-gray-500 dark:text-gray-400",children:[r.jsxs("span",{children:["Formats: ",e.acceptedFormats.join(", ")]}),r.jsxs("span",{children:["Max Size: ",e.maxFileSize]})]})]}):r.jsxs("div",{className:"text-center py-8 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[r.jsx(et,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Select an Upload Area"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Choose from the upload areas above to start uploading files"})]}),e&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(K,{htmlFor:"file-upload",children:"Select Files"}),r.jsx(ee,{id:"file-upload",type:"file",multiple:!0,accept:".csv,.xlsx,.xls,.xml,.json,.txt,.pdf",onChange:v,className:"mt-1"})]}),n.length>0&&r.jsxs("div",{className:"space-y-2",children:[r.jsxs("h4",{className:"font-medium text-black dark:text-white",children:["Selected Files (",n.length,")"]}),n.map((_,E)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(et,{className:"h-4 w-4 text-gray-500 dark:text-gray-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-black dark:text-white",children:_.name}),r.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[(_.size/1024/1024).toFixed(2)," MB"]})]})]}),r.jsx(I,{variant:"ghost",size:"sm",onClick:()=>s(T=>T.filter(($,q)=>q!==E)),children:r.jsx(es,{className:"h-4 w-4"})})]},E))]}),a>0&&a<100&&r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:"Uploading..."}),r.jsxs("span",{children:[a,"%"]})]}),r.jsx(Vu,{value:a})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(I,{onClick:N,disabled:n.length===0||a>0||p,className:"bg-yellow-500 hover:bg-yellow-600 text-black",children:p?r.jsxs(r.Fragment,{children:[r.jsx(Bs,{className:"h-4 w-4 mr-2 animate-pulse"}),"Validating..."]}):w.isPending?r.jsxs(r.Fragment,{children:[r.jsx(Rr,{className:"h-4 w-4 mr-2 animate-spin"}),"Uploading..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Bs,{className:"h-4 w-4 mr-2"}),"Validate & Upload"]})}),r.jsx(I,{variant:"outline",onClick:()=>{t(null),s([]),i(0),d(!1),m(null)},children:"Reset"})]})]})]})]})}),r.jsx(lt,{value:"upload-history",children:r.jsxs(U,{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700",children:[r.jsxs(X,{children:[r.jsx(J,{className:"text-black dark:text-white",children:"Recent Uploads"}),r.jsx(tt,{className:"text-gray-600 dark:text-gray-400",children:"View and manage your recent file uploads"})]}),r.jsx(B,{children:r.jsx("div",{className:"space-y-4",children:h.length===0?r.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[r.jsx(et,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"No upload history found"}),r.jsx("p",{className:"text-sm",children:"Files you upload will appear here"})]}):h.map(_=>r.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(et,{className:"h-8 w-8 text-gray-400 dark:text-gray-500"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-black dark:text-white",children:_.filename}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[_.processorSpace,"  ",_.uploadDate,"  ",_.fileSize]}),_.recordCount&&r.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[_.recordCount.toLocaleString()," records processed"]})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(oe,{className:P(_.status),children:[_.status==="processing"&&r.jsx(Rr,{className:"h-3 w-3 mr-1"}),_.status==="completed"&&r.jsx(qe,{className:"h-3 w-3 mr-1"}),_.status==="failed"&&r.jsx(ht,{className:"h-3 w-3 mr-1"}),_.status]}),_.status==="completed"&&r.jsxs(I,{variant:"outline",size:"sm",children:[r.jsx(Jn,{className:"h-4 w-4 mr-1"}),"Download Report"]})]})]},_.id))})})]})})]}),c&&u&&r.jsx(jSe,{validationResult:u.validation,report:u.report,preview:u.preview,processorName:(e==null?void 0:e.name)||"Unknown",onClose:C,onProceedWithUpload:j})]})})}var ASe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],PSe=ASe.reduce((e,t)=>{const n=Cp(`Primitive.${t}`),s=g.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:i})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),OSe="Separator",QE="horizontal",ESe=["horizontal","vertical"],K8=g.forwardRef((e,t)=>{const{decorative:n,orientation:s=QE,...a}=e,i=_Se(s)?s:QE,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return r.jsx(PSe.div,{"data-orientation":i,...l,...a,ref:t})});K8.displayName=OSe;function _Se(e){return ESe.includes(e)}var G8=K8;const m4=g.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...s},a)=>r.jsx(G8,{ref:a,decorative:n,orientation:t,className:ye("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s}));m4.displayName=G8.displayName;const Y8=e=>e>=1e6?`$${(e/1e6).toFixed(1)}M`:e>=1e3?`$${(e/1e3).toFixed(0)}k`:`$${e.toFixed(0)}`,Q8=e=>{const[t,n]=e.split("-");return new Date(parseInt(t),parseInt(n)-1).toLocaleDateString("en-US",{month:"short",year:"2-digit"}).replace(" ","/")},TSe=({active:e,payload:t,label:n})=>e&&t&&t.length?r.jsxs("div",{className:"bg-zinc-800 border border-yellow-400/30 rounded-lg p-3 shadow-xl",children:[r.jsx("p",{className:"text-zinc-400 text-xs mb-1",children:Q8(n)}),r.jsx("p",{className:"text-white font-semibold",children:Y8(t[0].value)})]}):null;function MSe({data:e,title:t="Revenue Trend",showTrend:n=!1,trendPercent:s=0}){const a=e.map(i=>({...i,formattedMonth:Q8(i.month)}));return r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20 hover:border-yellow-400/40 transition-colors",children:[r.jsx(X,{className:"pb-2",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(J,{className:"text-white text-lg font-medium flex items-center gap-2",children:t}),n&&r.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 rounded text-sm font-medium ${s>=0?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:[s>=0?r.jsx(Qr,{className:"h-4 w-4"}):r.jsx(jp,{className:"h-4 w-4"}),s>=0?"+":"",s.toFixed(1),"% trend"]})]})}),r.jsxs(B,{children:[r.jsx("div",{className:"h-[280px] w-full",children:r.jsx($o,{width:"100%",height:"100%",children:r.jsxs(Zy,{data:a,margin:{top:10,right:10,left:0,bottom:0},children:[r.jsx(qo,{strokeDasharray:"3 3",stroke:"#374151",vertical:!1}),r.jsx(Ca,{dataKey:"formattedMonth",axisLine:!1,tickLine:!1,tick:{fill:"#9CA3AF",fontSize:11},dy:10}),r.jsx(ka,{axisLine:!1,tickLine:!1,tick:{fill:"#9CA3AF",fontSize:11},tickFormatter:Y8,dx:-5}),r.jsx(dn,{content:r.jsx(TSe,{})}),r.jsx(ti,{type:"monotone",dataKey:"revenue",stroke:"#FACC15",strokeWidth:2,dot:{fill:"#FACC15",strokeWidth:2,r:4},activeDot:{fill:"#FACC15",strokeWidth:2,r:6}})]})})}),r.jsx("div",{className:"flex items-center justify-center gap-4 mt-4 pt-2 border-t border-zinc-700/50",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-0.5 bg-yellow-400 rounded"}),r.jsx("span",{className:"text-zinc-400 text-sm",children:"Revenue"})]})})]})]})}const X8=e=>{const[t,n]=e.split("-");return new Date(parseInt(t),parseInt(n)-1).toLocaleDateString("en-US",{month:"short",year:"2-digit"}).replace(" ","/")},ISe=({active:e,payload:t,label:n})=>e&&t&&t.length?r.jsxs("div",{className:"bg-zinc-800 border border-yellow-400/30 rounded-lg p-3 shadow-xl",children:[r.jsx("p",{className:"text-zinc-400 text-xs mb-2",children:X8(n)}),t.map((s,a)=>r.jsxs("div",{className:"flex items-center justify-between gap-4",children:[r.jsxs("span",{className:"text-zinc-300 text-sm capitalize",children:[s.name,":"]}),r.jsx("span",{className:`font-semibold ${s.name==="retained"?"text-green-400":s.name==="new"?"text-blue-400":"text-red-400"}`,children:s.value})]},a))]}):null,RSe=()=>r.jsxs("div",{className:"flex items-center justify-center gap-6 mt-4 pt-2 border-t border-zinc-700/50",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-sm"}),r.jsx("span",{className:"text-zinc-400 text-sm",children:"Retained"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-sm"}),r.jsx("span",{className:"text-zinc-400 text-sm",children:"New"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-sm"}),r.jsx("span",{className:"text-zinc-400 text-sm",children:"Lost"})]})]});function $Se({data:e,title:t="Account Activity"}){const n=e.map(s=>({...s,formattedMonth:X8(s.month)}));return r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20 hover:border-yellow-400/40 transition-colors",children:[r.jsx(X,{className:"pb-2",children:r.jsx(J,{className:"text-white text-lg font-medium",children:t})}),r.jsxs(B,{children:[r.jsx("div",{className:"h-[280px] w-full",children:r.jsx($o,{width:"100%",height:"100%",children:r.jsxs(l4,{data:n,margin:{top:10,right:10,left:0,bottom:0},children:[r.jsx(qo,{strokeDasharray:"3 3",stroke:"#374151",vertical:!1}),r.jsx(Ca,{dataKey:"formattedMonth",axisLine:!1,tickLine:!1,tick:{fill:"#9CA3AF",fontSize:11},dy:10}),r.jsx(ka,{axisLine:!1,tickLine:!1,tick:{fill:"#9CA3AF",fontSize:11},dx:-5}),r.jsx(dn,{content:r.jsx(ISe,{})}),r.jsx(qs,{dataKey:"retained",stackId:"a",fill:"#22C55E",radius:[0,0,0,0]}),r.jsx(qs,{dataKey:"new",stackId:"a",fill:"#3B82F6",radius:[0,0,0,0]}),r.jsx(qs,{dataKey:"lost",stackId:"a",fill:"#EF4444",radius:[4,4,0,0]})]})})}),r.jsx(RSe,{})]})]})}const Z8=e=>{const[t,n]=e.split("-");return new Date(parseInt(t),parseInt(n)-1).toLocaleDateString("en-US",{month:"short",year:"2-digit"}).replace(" ","/")},DSe=({active:e,payload:t,label:n})=>e&&t&&t.length?r.jsxs("div",{className:"bg-zinc-800 border border-yellow-400/30 rounded-lg p-3 shadow-xl",children:[r.jsx("p",{className:"text-zinc-400 text-xs mb-1",children:Z8(n)}),r.jsxs("p",{className:"text-white font-semibold",children:[t[0].value.toFixed(1),"%"]})]}):null;function zSe({data:e,title:t="Retention Rate",benchmarkRate:n=95}){const s=e.map(a=>({...a,formattedMonth:Z8(a.month)}));return r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20 hover:border-yellow-400/40 transition-colors",children:[r.jsx(X,{className:"pb-2",children:r.jsx(J,{className:"text-white text-lg font-medium",children:t})}),r.jsxs(B,{children:[r.jsx("div",{className:"h-[200px] w-full",children:r.jsx($o,{width:"100%",height:"100%",children:r.jsxs(Zy,{data:s,margin:{top:10,right:30,left:0,bottom:0},children:[r.jsx(qo,{strokeDasharray:"3 3",stroke:"#374151",vertical:!1}),r.jsx(Ca,{dataKey:"formattedMonth",axisLine:!1,tickLine:!1,tick:{fill:"#9CA3AF",fontSize:11},dy:10}),r.jsx(ka,{domain:[0,100],axisLine:!1,tickLine:!1,tick:{fill:"#9CA3AF",fontSize:11},tickFormatter:a=>`${a}%`,dx:-5}),r.jsx(dn,{content:r.jsx(DSe,{})}),r.jsx(Hy,{y:n,stroke:"#FACC15",strokeDasharray:"5 5",label:{value:`${n}% Benchmark`,position:"right",fill:"#FACC15",fontSize:11}}),r.jsx(ti,{type:"monotone",dataKey:"rate",stroke:"#84CC16",strokeWidth:2,dot:{fill:"#84CC16",strokeWidth:2,r:4},activeDot:{fill:"#84CC16",strokeWidth:2,r:6}})]})})}),r.jsxs("div",{className:"flex items-center justify-center gap-6 mt-4 pt-2 border-t border-zinc-700/50",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-0.5 bg-lime-500 rounded"}),r.jsx("span",{className:"text-zinc-400 text-sm",children:"Retention Rate"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-0.5 bg-yellow-400 rounded border-dashed",style:{borderStyle:"dashed"}}),r.jsxs("span",{className:"text-zinc-400 text-sm",children:[n,"% Benchmark"]})]})]})]})]})}const Tf=e=>e>=1e6?`$${(e/1e6).toFixed(2)}M`:e>=1e3?`$${(e/1e3).toFixed(0)}k`:`$${e.toLocaleString()}`,XE=e=>Math.abs(e)>=1e4?`${e>=0?"+":""}${(e/1e3).toFixed(0)}k%`:`${e>=0?"+":""}${e.toFixed(0)}%`;function FSe({gainers:e,losers:t,limit:n=5}){const s=e.slice(0,n),a=t.slice(0,n);return r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20 hover:border-yellow-400/40 transition-colors",children:[r.jsx(X,{className:"pb-3",children:r.jsxs(J,{className:"text-white text-lg font-medium flex items-center gap-2",children:[r.jsx(Iq,{className:"h-5 w-5 text-orange-400"}),"Top Gainers"]})}),r.jsx(B,{className:"space-y-2",children:s.length===0?r.jsx("p",{className:"text-zinc-500 text-sm py-4 text-center",children:"No gainers this period"}):s.map((i,o)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-800/50 rounded-lg border border-zinc-700/50 hover:border-green-500/30 transition-colors",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-white font-medium truncate",children:i.name}),r.jsxs("p",{className:"text-zinc-400 text-sm",children:[Tf(i.previousRevenue),"  ",Tf(i.currentRevenue)]})]}),r.jsxs("div",{className:"flex items-center gap-1 bg-green-500/20 text-green-400 px-3 py-1.5 rounded-full text-sm font-medium ml-3",children:[r.jsx(Qr,{className:"h-3.5 w-3.5"}),XE(i.changePercent)]})]},i.id))})]}),r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20 hover:border-yellow-400/40 transition-colors",children:[r.jsx(X,{className:"pb-3",children:r.jsxs(J,{className:"text-white text-lg font-medium flex items-center gap-2",children:[r.jsx(Jq,{className:"h-5 w-5 text-blue-400"}),"Top Decliners"]})}),r.jsx(B,{className:"space-y-2",children:a.length===0?r.jsx("p",{className:"text-zinc-500 text-sm py-4 text-center",children:"No decliners this period"}):a.map((i,o)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-800/50 rounded-lg border border-zinc-700/50 hover:border-red-500/30 transition-colors",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-white font-medium truncate",children:i.name}),r.jsxs("p",{className:"text-zinc-400 text-sm",children:[Tf(i.previousRevenue),"  ",Tf(i.currentRevenue)]})]}),r.jsxs("div",{className:"flex items-center gap-1 bg-red-500/20 text-red-400 px-3 py-1.5 rounded-full text-sm font-medium ml-3",children:[r.jsx(jp,{className:"h-3.5 w-3.5"}),XE(i.changePercent)]})]},i.id))})]})]})}const ZE=e=>{const t=Math.round(e*100)/100;return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(t)},LSe=e=>{switch(e){case 1:return r.jsx(aW,{className:"h-4 w-4 text-yellow-400"});case 2:return r.jsx(Vq,{className:"h-4 w-4 text-gray-300"});case 3:return r.jsx(Xw,{className:"h-4 w-4 text-amber-600"});default:return null}},USe=e=>e>=90?"bg-green-500":e>=75?"bg-yellow-500":e>=50?"bg-orange-500":"bg-red-500";function BSe({data:e,title:t="Branch Performance Leaderboard",subtitle:n}){return r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20 hover:border-yellow-400/40 transition-colors",children:[r.jsx(X,{className:"pb-3",children:r.jsxs("div",{children:[r.jsx(J,{className:"text-white text-lg font-medium flex items-center gap-2",children:t}),n&&r.jsx("p",{className:"text-zinc-400 text-sm mt-1",children:n})]})}),r.jsx(B,{children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-zinc-700/50",children:[r.jsx("th",{className:"text-left text-zinc-400 text-sm font-medium py-3 px-2",children:"Rank"}),r.jsx("th",{className:"text-left text-zinc-400 text-sm font-medium py-3 px-2",children:"Branch ID"}),r.jsx("th",{className:"text-right text-zinc-400 text-sm font-medium py-3 px-2",children:"Revenue"}),r.jsx("th",{className:"text-right text-zinc-400 text-sm font-medium py-3 px-2",children:"Accounts"}),r.jsx("th",{className:"text-right text-zinc-400 text-sm font-medium py-3 px-2",children:"Avg/Account"}),r.jsx("th",{className:"text-right text-zinc-400 text-sm font-medium py-3 px-2",children:"Retention"})]})}),r.jsx("tbody",{children:e.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"text-center text-zinc-500 py-8",children:"No branch data available"})}):e.map((s,a)=>r.jsxs("tr",{className:`border-b border-zinc-800/50 hover:bg-zinc-800/30 transition-colors ${a<3?"bg-zinc-800/20":""}`,children:[r.jsx("td",{className:"py-3 px-2",children:r.jsxs("div",{className:"flex items-center gap-2",children:[LSe(s.rank),r.jsxs("span",{className:`text-sm font-medium ${s.rank<=3?"text-yellow-400":"text-zinc-300"}`,children:["#",s.rank]})]})}),r.jsx("td",{className:"py-3 px-2",children:r.jsx("span",{className:"text-white font-medium",children:s.branchName||`Branch ${s.branchId}`})}),r.jsx("td",{className:"py-3 px-2 text-right",children:r.jsx("span",{className:"text-white tabular-nums",children:ZE(s.revenue)})}),r.jsx("td",{className:"py-3 px-2 text-right",children:r.jsx("span",{className:"text-zinc-300 tabular-nums",children:s.accounts})}),r.jsx("td",{className:"py-3 px-2 text-right",children:r.jsx("span",{className:"text-zinc-300 tabular-nums",children:ZE(s.avgPerAccount)})}),r.jsx("td",{className:"py-3 px-2 text-right",children:r.jsxs("span",{className:`inline-flex items-center justify-center px-2.5 py-1 rounded-full text-xs font-medium text-white ${USe(s.retentionRate)}`,children:[s.retentionRate.toFixed(0),"%"]})})]},s.branchId))})]})})})]})}function _a({title:e,value:t,change:n,changeLabel:s,icon:a,subtitle:i,subtitleValue:o,tooltip:l,riskLevel:c,className:d}){const u=()=>n==null?"text-zinc-400":n>0?"text-green-400":n<0?"text-red-400":"text-zinc-400",m=()=>{switch(c){case"LOW":return"text-green-400 bg-green-400/10";case"MEDIUM":return"text-yellow-400 bg-yellow-400/10";case"HIGH":return"text-red-400 bg-red-400/10";default:return""}};return r.jsxs(U,{className:ye("p-5 bg-zinc-900/80 border-yellow-400/20 hover:border-yellow-400/40 transition-colors",d),children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("p",{className:"text-sm font-medium text-zinc-400",children:e}),l&&r.jsx(ds,{children:r.jsxs(Or,{children:[r.jsx(Er,{asChild:!0,children:r.jsx("button",{type:"button",className:"inline-flex",children:r.jsx(gs,{className:"w-4 h-4 text-zinc-500 hover:text-zinc-300 cursor-help"})})}),r.jsx(Sr,{className:"max-w-xs bg-zinc-800 border-zinc-700 text-zinc-100",children:r.jsx("p",{children:l})})]})})]}),a&&r.jsx("div",{className:"p-2 rounded-lg bg-yellow-400/10 text-yellow-400",children:a})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-3xl font-bold text-white tabular-nums",children:t}),n!=null&&r.jsxs("div",{className:ye("flex items-center gap-1 text-sm font-medium",u()),children:[n>0?r.jsx(Qr,{className:"w-4 h-4"}):n<0?r.jsx(jp,{className:"w-4 h-4"}):null,r.jsxs("span",{children:[n>0&&"+",n.toFixed(1),"%"]}),s&&r.jsx("span",{className:"text-zinc-400 ml-1",children:s})]}),c&&r.jsxs("div",{className:ye("flex items-center gap-2 text-sm font-medium px-2 py-1 rounded-md w-fit",m()),children:[r.jsx(cr,{className:"w-4 h-4"}),r.jsxs("span",{children:["Risk Level: ",c]})]}),i&&o&&r.jsxs("div",{className:"text-sm text-zinc-400 pt-2 border-t border-zinc-700/50",children:[r.jsxs("span",{className:"font-medium",children:[i,":"]})," ",r.jsx("span",{className:"text-zinc-300 tabular-nums",children:o})]})]})]})}const Ob=[{key:"merchant.name",label:"Merchant Name",type:"string"},{key:"merchant.mid",label:"MID",type:"string"},{key:"processor.name",label:"Processor",type:"select",options:["Clearent","Global Payments TSYS","Micamp Solutions","Merchant Lynx","TRX","Shift4","Payment Advisors","PayBright"]},{key:"monthlyData.month",label:"Month",type:"date"},{key:"monthlyData.net",label:"Net Revenue",type:"number"},{key:"monthlyData.salesAmount",label:"Sales Volume",type:"number"},{key:"monthlyData.transactionCount",label:"Transaction Count",type:"number"},{key:"assignments.roleType",label:"Role Type",type:"select",options:["agent","partner","sales_manager","team_leader"]},{key:"assignments.percentage",label:"Commission %",type:"number"},{key:"roles.name",label:"Assigned To",type:"string"},{key:"merchant.status",label:"Merchant Status",type:"select",options:["active","inactive","pending"]},{key:"merchant.industry",label:"Industry",type:"string"}],VSe={string:[{value:"equals",label:"Equals"},{value:"contains",label:"Contains"},{value:"starts_with",label:"Starts With"},{value:"ends_with",label:"Ends With"},{value:"not_equals",label:"Not Equals"}],number:[{value:"equals",label:"Equals"},{value:"greater_than",label:"Greater Than"},{value:"less_than",label:"Less Than"},{value:"greater_equal",label:"Greater or Equal"},{value:"less_equal",label:"Less or Equal"},{value:"between",label:"Between"}],date:[{value:"equals",label:"Equals"},{value:"after",label:"After"},{value:"before",label:"Before"},{value:"between",label:"Between"}],select:[{value:"equals",label:"Equals"},{value:"not_equals",label:"Not Equals"},{value:"in",label:"In List"}]},JE={agent:{name:"Agent Performance Report",filters:[{id:"1",field:"assignments.roleType",operator:"equals",value:"agent"}],groupBy:["roles.name","monthlyData.month"],columns:["roles.name","monthlyData.month","merchant.name","processor.name","monthlyData.net","assignments.percentage"]},partner:{name:"Partner Revenue Report",filters:[{id:"1",field:"assignments.roleType",operator:"equals",value:"partner"}],groupBy:["roles.name","processor.name"],columns:["roles.name","processor.name","monthlyData.month","monthlyData.net","monthlyData.salesAmount"]},company:{name:"Company Overview Report",filters:[],groupBy:["monthlyData.month","processor.name"],columns:["monthlyData.month","processor.name","monthlyData.net","monthlyData.salesAmount","monthlyData.transactionCount"]},processor:{name:"Processor Performance Report",filters:[],groupBy:["processor.name","monthlyData.month"],columns:["processor.name","monthlyData.month","monthlyData.net","monthlyData.salesAmount","merchant.name"]}};function qSe(){const[e,t]=g.useState({name:"",type:"custom",filters:[],groupBy:[],columns:["merchant.name","processor.name","monthlyData.net"],dateRange:{start:`${new Date().getFullYear()}-03-01`,end:`${new Date().getFullYear()}-05-31`}}),[n,s]=g.useState([]),[a,i]=g.useState("builder"),o=()=>Date.now().toString(),l=()=>{const h={id:o(),field:"merchant.name",operator:"equals",value:"",logic:e.filters.length>0?"AND":void 0};t(y=>({...y,filters:[...y.filters,h]}))},c=h=>{t(y=>({...y,filters:y.filters.filter(v=>v.id!==h)}))},d=(h,y)=>{t(v=>({...v,filters:v.filters.map(b=>b.id===h?{...b,...y}:b)}))},u=h=>{const y=JE[h];t(v=>({...v,name:y.name,type:h,filters:y.filters.map(b=>({...b,id:o()})),groupBy:y.groupBy,columns:y.columns}))},m=Oe({mutationFn:async h=>{const y=await fetch("/api/reports/advanced",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)});if(!y.ok)throw new Error("Failed to generate report");return y.json()},onSuccess:h=>{s(h.results||[]),i("results")}}),p=Oe({mutationFn:async h=>{const y=await fetch("/api/reports/save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)});if(!y.ok)throw new Error("Failed to save report");return y.json()}}),f=()=>{if(e.filters.length===0&&e.type==="custom"){const h={id:o(),field:"monthlyData.month",operator:"between",value:"2025-03-01,2025-05-31"},y={...e,filters:[h]};m.mutate(y)}else m.mutate(e)},x=()=>{if(n.length===0)return;const h=[e.columns.join(","),...n.map(w=>e.columns.map(S=>w[S]||"").join(","))].join(`
`),y=new Blob([h],{type:"text/csv"}),v=URL.createObjectURL(y),b=document.createElement("a");b.href=v,b.download=`${e.name||"report"}.csv`,b.click()};return r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6 lg:py-8",children:[r.jsxs("div",{className:"mb-6 sm:mb-8",children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-black mb-2",children:"Advanced Report Builder"}),r.jsx("p",{className:"text-gray-600",children:"Create custom reports with advanced filtering like GoHighLevel smart lists"})]}),r.jsxs(ns,{value:a,onValueChange:i,className:"space-y-6",children:[r.jsxs(Un,{className:"grid w-full grid-cols-3",children:[r.jsx(ot,{value:"builder",children:"Report Builder"}),r.jsxs(ot,{value:"results",children:["Results (",n.length,")"]}),r.jsx(ot,{value:"templates",children:"Templates"})]}),r.jsxs(lt,{value:"builder",className:"space-y-6",children:[r.jsxs(U,{children:[r.jsx(X,{children:r.jsxs(J,{className:"flex items-center gap-2",children:[r.jsx(et,{className:"h-5 w-5"}),"Report Configuration"]})}),r.jsxs(B,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"reportName",children:"Report Name"}),r.jsx(ee,{id:"reportName",value:e.name,onChange:h=>t(y=>({...y,name:h.target.value})),placeholder:"Enter report name"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"reportType",children:"Report Type"}),r.jsxs(ze,{value:e.type,onValueChange:h=>t(y=>({...y,type:h})),children:[r.jsx(Re,{children:r.jsx(Fe,{})}),r.jsxs($e,{children:[r.jsx(Y,{value:"agent",children:"Agent Report"}),r.jsx(Y,{value:"partner",children:"Partner Report"}),r.jsx(Y,{value:"company",children:"Company Report"}),r.jsx(Y,{value:"processor",children:"Processor Report"}),r.jsx(Y,{value:"custom",children:"Custom Report"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"startDate",children:"Start Date"}),r.jsx(ee,{id:"startDate",type:"date",value:e.dateRange.start,onChange:h=>t(y=>({...y,dateRange:{...y.dateRange,start:h.target.value}}))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"endDate",children:"End Date"}),r.jsx(ee,{id:"endDate",type:"date",value:e.dateRange.end,onChange:h=>t(y=>({...y,dateRange:{...y.dateRange,end:h.target.value}}))})]})]})]})]}),r.jsxs(U,{children:[r.jsxs(X,{children:[r.jsxs(J,{className:"flex items-center gap-2",children:[r.jsx(P0,{className:"h-5 w-5"}),"Filters (",e.filters.length,")"]}),r.jsx(tt,{children:"Add filters to narrow down your data like GoHighLevel smart lists"})]}),r.jsxs(B,{className:"space-y-4",children:[e.filters.map((h,y)=>{var v;return r.jsxs("div",{className:"flex gap-2 items-end p-4 border rounded-lg",children:[y>0&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{children:"Logic"}),r.jsxs(ze,{value:h.logic||"AND",onValueChange:b=>d(h.id,{logic:b}),children:[r.jsx(Re,{className:"w-20",children:r.jsx(Fe,{})}),r.jsxs($e,{children:[r.jsx(Y,{value:"AND",children:"AND"}),r.jsx(Y,{value:"OR",children:"OR"})]})]})]}),r.jsxs("div",{className:"flex-1 space-y-2",children:[r.jsx(K,{children:"Field"}),r.jsxs(ze,{value:h.field,onValueChange:b=>d(h.id,{field:b}),children:[r.jsx(Re,{children:r.jsx(Fe,{})}),r.jsx($e,{children:Ob.map(b=>r.jsx(Y,{value:b.key,children:b.label},b.key))})]})]}),r.jsxs("div",{className:"flex-1 space-y-2",children:[r.jsx(K,{children:"Operator"}),r.jsxs(ze,{value:h.operator,onValueChange:b=>d(h.id,{operator:b}),children:[r.jsx(Re,{children:r.jsx(Fe,{})}),r.jsx($e,{children:VSe[((v=Ob.find(b=>b.key===h.field))==null?void 0:v.type)||"string"].map(b=>r.jsx(Y,{value:b.value,children:b.label},b.value))})]})]}),r.jsxs("div",{className:"flex-1 space-y-2",children:[r.jsx(K,{children:"Value"}),r.jsx(ee,{value:h.value,onChange:b=>d(h.id,{value:b.target.value}),placeholder:"Enter value"})]}),r.jsx(I,{variant:"outline",size:"sm",onClick:()=>c(h.id),className:"mb-0",children:r.jsx(br,{className:"h-4 w-4"})})]},h.id)}),r.jsxs(I,{onClick:l,variant:"outline",className:"w-full",children:[r.jsx(ir,{className:"h-4 w-4 mr-2"}),"Add Filter"]})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs(I,{onClick:f,disabled:m.isPending,className:"bg-yellow-400 hover:bg-yellow-500 text-black",children:[r.jsx(Qr,{className:"h-4 w-4 mr-2"}),m.isPending?"Running...":"Run Report"]}),r.jsxs(I,{onClick:()=>p.mutate(e),disabled:p.isPending,variant:"outline",children:[r.jsx(vi,{className:"h-4 w-4 mr-2"}),"Save Report"]})]})]}),r.jsx(lt,{value:"results",className:"space-y-6",children:n.length>0?r.jsxs(U,{children:[r.jsx(X,{children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx(J,{children:"Report Results"}),r.jsxs(I,{onClick:x,variant:"outline",children:[r.jsx(Jn,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]})}),r.jsxs(B,{children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(_r,{children:[r.jsx(Tr,{children:r.jsx(Ze,{children:e.columns.map(h=>{var y;return r.jsx(be,{children:((y=Ob.find(v=>v.key===h))==null?void 0:y.label)||h},h)})})}),r.jsx(Mr,{children:n.slice(0,100).map((h,y)=>r.jsx(Ze,{children:e.columns.map(v=>r.jsx(de,{children:h[v]||"-"},v))},y))})]})}),n.length>100&&r.jsxs("p",{className:"text-sm text-gray-500 mt-4",children:["Showing first 100 of ",n.length," results. Export CSV for complete data."]})]})]}):r.jsx(U,{children:r.jsxs(B,{className:"text-center py-12",children:[r.jsx(Qr,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Results Yet"}),r.jsx("p",{className:"text-gray-500",children:"Run a report to see results here"})]})})}),r.jsx(lt,{value:"templates",className:"space-y-6",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(JE).map(([h,y])=>r.jsxs(U,{className:"cursor-pointer hover:shadow-lg transition-shadow",children:[r.jsxs(X,{children:[r.jsxs(J,{className:"flex items-center gap-2",children:[h==="agent"&&r.jsx(St,{className:"h-5 w-5"}),h==="partner"&&r.jsx(Yt,{className:"h-5 w-5"}),h==="company"&&r.jsx(Qr,{className:"h-5 w-5"}),h==="processor"&&r.jsx(zr,{className:"h-5 w-5"}),y.name]}),r.jsxs(tt,{children:["Pre-configured ",h," report template"]})]}),r.jsxs(B,{children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"Filters: "}),r.jsxs("span",{className:"text-sm text-gray-600",children:[y.filters.length," condition",y.filters.length!==1?"s":""]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"Columns: "}),r.jsxs("span",{className:"text-sm text-gray-600",children:[y.columns.length," field",y.columns.length!==1?"s":""]})]})]}),r.jsx(I,{onClick:()=>u(h),className:"w-full mt-4",variant:"outline",children:"Use Template"})]})]},h))})})]})]})}const _c=e=>e>=1e6?`$${(e/1e6).toFixed(2)}M`:e>=1e3?`$${Math.round(e).toLocaleString()}`:`$${e.toFixed(2)}`,e_=[{value:"overview",label:"Overview",icon:Xa},{type:"separator",label:"Processors"},{value:"global",label:"Global Payments"},{value:"trx",label:"TRX"},{value:"micamp",label:"MiCamp"},{value:"shift4",label:"Shift4"},{value:"merchant-lynx",label:"Merchant Lynx"},{value:"fiserv-omaha",label:"Fiserv Omaha"},{value:"payment-advisors",label:"Payment Advisors"},{value:"rectangle-health",label:"Rectangle Health"},{value:"clearent",label:"Clearent"},{type:"separator",label:"Tools"},{value:"data-validation",label:"Data Validation",icon:cr},{value:"compare",label:"Compare",icon:Dq},{value:"reports",label:"Reports",icon:et}],t_=[{value:"all",label:"All Branches"},{value:"global",label:"Global Payments"},{value:"trx",label:"TRX"},{value:"micamp",label:"MiCamp"},{value:"shift4",label:"Shift4"},{value:"merchant-lynx",label:"Merchant Lynx"},{value:"fiserv-omaha",label:"Fiserv Omaha"},{value:"payment-advisors",label:"Payment Advisors"},{value:"rectangle-health",label:"Rectangle Health"},{value:"clearent",label:"Clearent"}];function r_(){var me,ge,he,Ce,se;zn();const[e,t]=g.useState("overview"),[n,s]=g.useState("all"),[a,i]=g.useState("all"),[o,l]=g.useState("overview"),{toast:c}=pt(),{organizationId:d,hasSelectedOrganization:u}=C8(),m=()=>{const G=new Date,xe=new Date(G.getFullYear(),G.getMonth()+1,1);return`${(xe.getMonth()+1).toString().padStart(2,"0")}/${xe.getFullYear().toString().slice(-2)}`},{data:p,isLoading:f}=ve({queryKey:["/api/analytics/metrics",d],queryFn:async()=>{const G=await fetch(`/api/analytics/metrics?organizationId=${d}`);if(!G.ok)throw new Error("Failed to fetch metrics");return G.json()},enabled:u}),{data:x,isLoading:h}=ve({queryKey:["/api/analytics/trends","1y",d],queryFn:async()=>{const G=await fetch(`/api/analytics/trends?timeRange=1y&organizationId=${d}`);if(!G.ok)throw new Error("Failed to fetch trends");return G.json()},enabled:u}),{data:y}=ve({queryKey:["/api/analytics/comparison",d],queryFn:async()=>{const G=await fetch(`/api/analytics/comparison?organizationId=${d}`);if(!G.ok)throw new Error("Failed to fetch comparison");return G.json()},enabled:u}),{data:v}=ve({queryKey:["/api/analytics/concentration",d],queryFn:async()=>{const G=await fetch(`/api/analytics/concentration?organizationId=${d}`);if(!G.ok)throw new Error("Failed to fetch concentration");return G.json()},enabled:u}),{data:b}=ve({queryKey:["/api/analytics/gainers-losers",d],queryFn:async()=>{const G=await fetch(`/api/analytics/gainers-losers?organizationId=${d}`);if(!G.ok)throw new Error("Failed to fetch gainers/losers");return G.json()},enabled:u}),{data:w}=ve({queryKey:["/api/analytics/branch-leaderboard",d],queryFn:async()=>{const G=await fetch(`/api/analytics/branch-leaderboard?organizationId=${d}`);if(!G.ok)throw new Error("Failed to fetch leaderboard");return G.json()},enabled:u}),{data:S,isLoading:N}=ve({queryKey:["/api/analytics/data-validation",d],queryFn:async()=>{const G=await fetch(`/api/analytics/data-validation?organizationId=${d}`);if(!G.ok)throw new Error("Failed to fetch validation");return G.json()},enabled:u&&e==="data-validation"}),{data:j}=ve({queryKey:["/api/processors"],enabled:e==="data-validation"}),C=G=>{const xe=j==null?void 0:j.find(re=>re.id===G);return(xe==null?void 0:xe.name)||`Processor ${G}`},A=g.useMemo(()=>x!=null&&x.trends?x.trends.map(G=>({month:G.month,revenue:Number(G.totalNet||0)})):[],[x]),k=g.useMemo(()=>p!=null&&p.metrics?p.metrics.map(G=>({month:G.month,retained:G.retainedAccounts||0,new:G.newAccounts||0,lost:G.lostAccounts||0})):[],[p]),O=g.useMemo(()=>p!=null&&p.metrics?p.metrics.map(G=>({month:G.month,rate:G.retentionRate||0})):[],[p]),M=(me=p==null?void 0:p.metrics)==null?void 0:me[p.metrics.length-1],P=p==null?void 0:p.aggregated,_=(P==null?void 0:P.totalRevenue)||0,E=(M==null?void 0:M.totalAccounts)||0,T=(M==null?void 0:M.retentionRate)||0,$=(M==null?void 0:M.revenuePerAccount)||0,q=(y==null?void 0:y.momChange)||0,R=(v==null?void 0:v.concentration)||0,D=(v==null?void 0:v.riskLevel)||"LOW",V=((b==null?void 0:b.gainers)||[]).map(G=>({id:G.id,name:G.name,previousRevenue:G.previousRevenue,currentRevenue:G.currentRevenue,changePercent:G.changePercent})),F=((b==null?void 0:b.losers)||[]).map(G=>({id:G.id,name:G.name,previousRevenue:G.previousRevenue,currentRevenue:G.currentRevenue,changePercent:G.changePercent})),z=((w==null?void 0:w.branches)||[]).map(G=>({rank:G.rank,branchId:G.branchId,branchName:G.branchName,revenue:G.revenue,accounts:G.accounts,avgPerAccount:G.avgPerAccount,retentionRate:G.retentionRate})),Q=()=>{try{if(!(p!=null&&p.metrics)||p.metrics.length===0){c({variant:"destructive",title:"No data to export",description:"Please wait for data to load before exporting."});return}const G=["Month","Revenue","Accounts","Retention Rate","New Accounts","Lost Accounts"],xe=p.metrics.map(nt=>[nt.month,nt.totalRevenue,nt.totalAccounts,`${nt.retentionRate}%`,nt.newAccounts,nt.lostAccounts]),re=[G.join(","),...xe.map(nt=>nt.map(mt=>`"${mt}"`).join(","))].join(`
`),We=new Blob([re],{type:"text/csv;charset=utf-8;"}),Ue=document.createElement("a");Ue.href=URL.createObjectURL(We),Ue.download=`analytics_export_${new Date().toISOString().slice(0,10)}.csv`,document.body.appendChild(Ue),Ue.click(),document.body.removeChild(Ue),c({title:"Export successful",description:"Analytics data exported to CSV."})}catch{c({variant:"destructive",title:"Export failed",description:"There was an error exporting the data."})}},te=G=>{t(G),G==="reports"&&l("ai-builder")};return r.jsxs("div",{className:"min-h-screen bg-[#0a0a0f] pb-20 md:pb-0",children:[r.jsxs("div",{className:"md:hidden bg-[#0d1117] border-b border-zinc-800 px-4 py-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-lg font-semibold text-white",children:"Reports"}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx(I,{variant:"outline",size:"sm",className:"bg-[#161b22] border-zinc-700 text-white hover:bg-zinc-800",onClick:Q,"data-testid":"mobile-export",children:r.jsx(Jn,{className:"h-4 w-4"})})})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-3 overflow-x-auto pb-2 -mx-4 px-4 scrollbar-hide",children:[r.jsxs(ze,{value:e,onValueChange:te,children:[r.jsx(Re,{className:"w-[120px] flex-shrink-0 bg-[#161b22] border-zinc-700 text-white text-sm","data-testid":"mobile-select-view",children:r.jsx(Fe,{placeholder:"Overview"})}),r.jsx($e,{className:"bg-[#161b22] border-zinc-700",children:e_.filter(G=>!G.type).map(G=>r.jsx(Y,{value:G.value,className:"text-white hover:bg-zinc-800",children:G.label},G.value))})]}),r.jsxs(ze,{value:a,onValueChange:i,children:[r.jsxs(Re,{className:"w-[110px] flex-shrink-0 bg-[#161b22] border-zinc-700 text-white text-sm","data-testid":"mobile-select-time",children:[r.jsx(qa,{className:"h-3 w-3 mr-1.5 text-zinc-400"}),r.jsx(Fe,{placeholder:"All Time"})]}),r.jsxs($e,{className:"bg-[#161b22] border-zinc-700",children:[r.jsx(Y,{value:"all",className:"text-white hover:bg-zinc-800",children:"All Time"}),r.jsx(Y,{value:"1y",className:"text-white hover:bg-zinc-800",children:"12 Months"}),r.jsx(Y,{value:"6m",className:"text-white hover:bg-zinc-800",children:"6 Months"}),r.jsx(Y,{value:"3m",className:"text-white hover:bg-zinc-800",children:"3 Months"})]})]}),r.jsxs(ze,{value:n,onValueChange:s,children:[r.jsx(Re,{className:"w-[120px] flex-shrink-0 bg-[#161b22] border-zinc-700 text-white text-sm","data-testid":"mobile-select-branch",children:r.jsx(Fe,{placeholder:"All"})}),r.jsx($e,{className:"bg-[#161b22] border-zinc-700",children:t_.map(G=>r.jsx(Y,{value:G.value,className:"text-white hover:bg-zinc-800",children:G.label},G.value))})]})]})]}),r.jsx("div",{className:"hidden md:block bg-[#0d1117] border-b border-zinc-800 px-4 py-3",children:r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsxs(ze,{value:e,onValueChange:te,children:[r.jsxs(Re,{className:"w-[160px] bg-[#161b22] border-zinc-700 text-white hover:bg-zinc-800","data-testid":"select-view",children:[r.jsx(Fe,{placeholder:"Overview"}),r.jsx(ld,{className:"h-4 w-4 ml-auto opacity-50"})]}),r.jsx($e,{className:"bg-[#161b22] border-zinc-700 max-h-[400px]",children:e_.map((G,xe)=>{if(G.type==="separator")return r.jsxs("div",{className:"px-2 py-1.5",children:[r.jsx(m4,{className:"bg-zinc-700 my-1"}),r.jsx("span",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:G.label})]},xe);const re=G.icon;return r.jsx(Y,{value:G.value,className:"text-white hover:bg-zinc-800 focus:bg-zinc-800",children:r.jsxs("div",{className:"flex items-center gap-2",children:[e===G.value&&r.jsx(Zn,{className:"h-4 w-4 text-yellow-400"}),re&&r.jsx(re,{className:"h-4 w-4 text-zinc-400"}),r.jsx("span",{children:G.label})]})},G.value)})})]}),r.jsxs(ze,{value:n,onValueChange:s,children:[r.jsxs(Re,{className:"w-[160px] bg-[#161b22] border-zinc-700 text-white hover:bg-zinc-800","data-testid":"select-branch",children:[r.jsx(Fe,{placeholder:"All Branches"}),r.jsx(ld,{className:"h-4 w-4 ml-auto opacity-50"})]}),r.jsx($e,{className:"bg-[#161b22] border-zinc-700",children:t_.map(G=>r.jsx(Y,{value:G.value,className:"text-white hover:bg-zinc-800 focus:bg-zinc-800",children:r.jsxs("div",{className:"flex items-center gap-2",children:[n===G.value&&r.jsx(Zn,{className:"h-4 w-4 text-yellow-400"}),r.jsx("span",{children:G.label})]})},G.value))})]}),r.jsxs(ze,{value:a,onValueChange:i,children:[r.jsxs(Re,{className:"w-[140px] bg-[#161b22] border-zinc-700 text-white hover:bg-zinc-800","data-testid":"select-time-range",children:[r.jsx(qa,{className:"h-4 w-4 mr-2 text-zinc-400"}),r.jsx(Fe,{placeholder:"All Time"}),r.jsx(ld,{className:"h-4 w-4 ml-auto opacity-50"})]}),r.jsxs($e,{className:"bg-[#161b22] border-zinc-700",children:[r.jsx(Y,{value:"all",className:"text-white hover:bg-zinc-800 focus:bg-zinc-800",children:"All Time"}),r.jsx(Y,{value:"1y",className:"text-white hover:bg-zinc-800 focus:bg-zinc-800",children:"Last 12 Months"}),r.jsx(Y,{value:"6m",className:"text-white hover:bg-zinc-800 focus:bg-zinc-800",children:"Last 6 Months"}),r.jsx(Y,{value:"3m",className:"text-white hover:bg-zinc-800 focus:bg-zinc-800",children:"Last 3 Months"})]})]}),r.jsxs(I,{variant:"outline",className:"bg-[#161b22] border-zinc-700 text-white hover:bg-zinc-800","data-testid":"button-next-month",children:[r.jsx(qa,{className:"h-4 w-4 mr-2 text-zinc-400"}),"Next: ",m()]}),r.jsx("div",{className:"flex-1"}),r.jsx(I,{variant:"outline",className:"bg-[#161b22] border-zinc-700 text-white hover:bg-zinc-800",onClick:Q,"data-testid":"button-export-csv",children:r.jsx(Jn,{className:"h-4 w-4"})}),r.jsx(I,{variant:"outline",size:"icon",className:"bg-[#161b22] border-zinc-700 text-white hover:bg-zinc-800","data-testid":"button-settings",children:r.jsx(vr,{className:"h-4 w-4"})})]})}),r.jsx("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6",children:e==="data-validation"?r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:[r.jsx(X,{children:r.jsxs(J,{className:"text-white flex items-center gap-2",children:[r.jsx(cr,{className:"h-5 w-5 text-yellow-400"}),"Data Validation - Missing Upload Detection"]})}),r.jsx(B,{children:N?r.jsx("div",{className:"text-zinc-400 text-center py-8",children:"Loading validation data..."}):(ge=S==null?void 0:S.validation)!=null&&ge.length?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-zinc-800/50 rounded-lg p-4 border border-zinc-700",children:[r.jsx("div",{className:"text-zinc-400 text-sm",children:"Total Processors"}),r.jsx("div",{className:"text-2xl font-bold text-white",children:((he=S.summary)==null?void 0:he.totalProcessors)||0})]}),r.jsxs("div",{className:"bg-zinc-800/50 rounded-lg p-4 border border-zinc-700",children:[r.jsx("div",{className:"text-zinc-400 text-sm",children:"Processors with Gaps"}),r.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:((Ce=S.summary)==null?void 0:Ce.processorsWithGaps)||0})]}),r.jsxs("div",{className:"bg-zinc-800/50 rounded-lg p-4 border border-zinc-700",children:[r.jsx("div",{className:"text-zinc-400 text-sm",children:"Average Coverage"}),r.jsxs("div",{className:"text-2xl font-bold text-green-400",children:[Math.round(((se=S.summary)==null?void 0:se.avgCoverage)||0),"%"]})]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-zinc-700",children:[r.jsx("th",{className:"text-left py-3 px-4 text-zinc-400 font-medium text-sm",children:"Processor"}),r.jsx("th",{className:"text-center py-3 px-4 text-zinc-400 font-medium text-sm",children:"Coverage"}),r.jsx("th",{className:"text-left py-3 px-4 text-zinc-400 font-medium text-sm",children:"Missing Months"}),r.jsx("th",{className:"text-center py-3 px-4 text-zinc-400 font-medium text-sm",children:"Status"})]})}),r.jsx("tbody",{children:S.validation.map(G=>r.jsxs("tr",{className:"border-b border-zinc-800/50 hover:bg-zinc-800/30",children:[r.jsx("td",{className:"py-3 px-4 text-white font-medium",children:C(G.processorId)}),r.jsx("td",{className:"py-3 px-4 text-center",children:r.jsxs("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${G.coverage>=100?"bg-green-500/20 text-green-400":G.coverage>=75?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:[Math.round(G.coverage),"%"]})}),r.jsx("td",{className:"py-3 px-4",children:G.missingMonths.length===0?r.jsx("span",{className:"text-green-400 text-sm",children:"None"}):r.jsxs("div",{className:"flex flex-wrap gap-1",children:[G.missingMonths.slice(0,6).map(xe=>r.jsx("span",{className:"bg-red-500/20 text-red-400 px-2 py-0.5 rounded text-xs",children:xe},xe)),G.missingMonths.length>6&&r.jsxs("span",{className:"text-zinc-400 text-xs",children:["+",G.missingMonths.length-6," more"]})]})}),r.jsx("td",{className:"py-3 px-4 text-center",children:G.hasGaps?r.jsx("span",{className:"text-yellow-400 text-sm",children:"Needs Upload"}):r.jsx("span",{className:"text-green-400 text-sm",children:"Complete"})})]},G.processorId))})]})})]}):r.jsx("div",{className:"text-zinc-400 text-center py-8",children:"No processor data found for validation"})})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"md:hidden",children:[r.jsxs("div",{className:"flex gap-3 overflow-x-auto pb-2 -mx-4 px-4 scrollbar-hide snap-x snap-mandatory",children:[r.jsx("div",{className:"flex-shrink-0 w-[160px] snap-start",children:r.jsx(_a,{title:"Total Revenue",value:_c(_),change:q,icon:r.jsx(zr,{className:"h-4 w-4"})})}),r.jsx("div",{className:"flex-shrink-0 w-[160px] snap-start",children:r.jsx(_a,{title:"Accounts",value:E.toLocaleString(),subtitle:"Growth",subtitleValue:`+${(P==null?void 0:P.netAccountGrowth)||0}`,icon:r.jsx(St,{className:"h-4 w-4"})})}),r.jsx("div",{className:"flex-shrink-0 w-[160px] snap-start",children:r.jsx(_a,{title:"Retention",value:`${T}%`,icon:r.jsx(Qr,{className:"h-4 w-4"})})}),r.jsx("div",{className:"flex-shrink-0 w-[160px] snap-start",children:r.jsx(_a,{title:"Concentration",value:`${R}%`,riskLevel:D,icon:r.jsx(cr,{className:"h-4 w-4"})})}),r.jsx("div",{className:"flex-shrink-0 w-[160px] snap-start",children:r.jsx(_a,{title:"Avg/Account",value:_c($),icon:r.jsx(Xa,{className:"h-4 w-4"})})})]}),r.jsx("div",{className:"flex justify-center gap-1 mt-2",children:[...Array(5)].map((G,xe)=>r.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-zinc-600"},xe))})]}),r.jsxs("div",{className:"hidden md:grid grid-cols-2 lg:grid-cols-5 gap-4",children:[r.jsx(_a,{title:"Total Net Revenue",value:_c(_),change:q,changeLabel:"vs last month",icon:r.jsx(zr,{className:"h-5 w-5"}),tooltip:"Total net revenue across all merchants"}),r.jsx(_a,{title:"Active Accounts",value:E.toLocaleString(),subtitle:"Net Growth",subtitleValue:`+${(P==null?void 0:P.netAccountGrowth)||0}`,icon:r.jsx(St,{className:"h-5 w-5"}),tooltip:"Number of active merchant accounts"}),r.jsx(_a,{title:"Retention Rate",value:`${T}%`,icon:r.jsx(Qr,{className:"h-5 w-5"}),tooltip:"Percentage of merchants retained from previous month"}),r.jsx(_a,{title:"Top 10 Concentration",value:`${R}%`,riskLevel:D,icon:r.jsx(cr,{className:"h-5 w-5"}),tooltip:"Percentage of total revenue from top 10 merchants. High concentration (>80%) indicates risk."}),r.jsx(_a,{title:"Avg Per Account",value:_c($),icon:r.jsx(Xa,{className:"h-5 w-5"}),tooltip:"Average revenue per merchant account"})]}),r.jsxs(ns,{value:o,onValueChange:l,className:"space-y-4 md:space-y-6",children:[r.jsxs(Un,{className:"bg-zinc-900/80 border border-yellow-400/20 p-1 w-full md:w-auto justify-start overflow-x-auto scrollbar-hide",children:[r.jsx(ot,{value:"overview",className:"data-[state=active]:bg-yellow-400 data-[state=active]:text-black text-zinc-400 text-xs md:text-sm px-3 md:px-4 flex-shrink-0",children:"Overview"}),r.jsx(ot,{value:"performance",className:"data-[state=active]:bg-yellow-400 data-[state=active]:text-black text-zinc-400 text-xs md:text-sm px-3 md:px-4 flex-shrink-0",children:"Performance"}),r.jsx(ot,{value:"ai-builder",className:"data-[state=active]:bg-yellow-400 data-[state=active]:text-black text-zinc-400 text-xs md:text-sm px-3 md:px-4 flex-shrink-0",children:"AI Builder"})]}),r.jsxs(lt,{value:"overview",className:"space-y-4 md:space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6",children:[r.jsx("div",{className:"min-h-[250px] md:min-h-[300px]",children:r.jsx(MSe,{data:A,title:"Revenue Trend",showTrend:!0,trendPercent:q})}),r.jsx("div",{className:"min-h-[250px] md:min-h-[300px]",children:r.jsx($Se,{data:k,title:"Account Activity"})})]}),r.jsx("div",{className:"min-h-[200px] md:min-h-[250px]",children:r.jsx(zSe,{data:O,title:"Retention Rate",benchmarkRate:95})}),r.jsx(FSe,{gainers:V,losers:F,limit:3}),r.jsx(BSe,{data:z,title:"Processor Leaderboard",subtitle:w==null?void 0:w.subtitle})]}),r.jsx(lt,{value:"performance",className:"space-y-4 md:space-y-6",children:r.jsx("div",{className:"grid grid-cols-1 gap-4 md:gap-6",children:r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:[r.jsx(X,{className:"p-4 md:p-6",children:r.jsx(J,{className:"text-white text-base md:text-lg font-medium",children:"Monthly Performance"})}),r.jsx(B,{className:"p-0 md:p-6 md:pt-0",children:r.jsx("div",{className:"overflow-x-auto -mx-0 md:mx-0",children:r.jsxs("table",{className:"w-full min-w-[600px]",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-zinc-700/50",children:[r.jsx("th",{className:"text-left text-zinc-400 text-xs md:text-sm font-medium py-2 md:py-3 px-3",children:"Month"}),r.jsx("th",{className:"text-right text-zinc-400 text-xs md:text-sm font-medium py-2 md:py-3 px-3",children:"Revenue"}),r.jsx("th",{className:"text-right text-zinc-400 text-xs md:text-sm font-medium py-2 md:py-3 px-3 hidden sm:table-cell",children:"Accounts"}),r.jsx("th",{className:"text-right text-zinc-400 text-xs md:text-sm font-medium py-2 md:py-3 px-3 hidden md:table-cell",children:"Avg/Acct"}),r.jsx("th",{className:"text-right text-zinc-400 text-xs md:text-sm font-medium py-2 md:py-3 px-3 hidden sm:table-cell",children:"New"}),r.jsx("th",{className:"text-right text-zinc-400 text-xs md:text-sm font-medium py-2 md:py-3 px-3 hidden sm:table-cell",children:"Lost"}),r.jsx("th",{className:"text-right text-zinc-400 text-xs md:text-sm font-medium py-2 md:py-3 px-3",children:"Retention"}),r.jsx("th",{className:"text-right text-zinc-400 text-xs md:text-sm font-medium py-2 md:py-3 px-3",children:"Change"})]})}),r.jsx("tbody",{children:f?r.jsx("tr",{children:r.jsx("td",{colSpan:8,className:"text-center text-zinc-500 py-8",children:"Loading..."})}):!(p!=null&&p.metrics)||p.metrics.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:8,className:"text-center text-zinc-500 py-8",children:"No data available"})}):[...p.metrics||[]].reverse().slice(0,12).map((G,xe)=>r.jsxs("tr",{className:"border-b border-zinc-800/50 hover:bg-zinc-800/30 transition-colors",children:[r.jsx("td",{className:"py-2 md:py-3 px-3",children:r.jsx("span",{className:"text-white font-medium text-xs md:text-sm",children:G.month})}),r.jsx("td",{className:"py-2 md:py-3 px-3 text-right",children:r.jsx("span",{className:"text-white tabular-nums text-xs md:text-sm",children:_c(G.totalRevenue)})}),r.jsx("td",{className:"py-2 md:py-3 px-3 text-right hidden sm:table-cell",children:r.jsx("span",{className:"text-zinc-300 tabular-nums text-xs md:text-sm",children:G.totalAccounts})}),r.jsx("td",{className:"py-2 md:py-3 px-3 text-right hidden md:table-cell",children:r.jsx("span",{className:"text-zinc-300 tabular-nums text-xs md:text-sm",children:_c(G.revenuePerAccount)})}),r.jsx("td",{className:"py-2 md:py-3 px-3 text-right hidden sm:table-cell",children:r.jsxs("span",{className:"text-green-400 tabular-nums text-xs md:text-sm",children:["+",G.newAccounts]})}),r.jsx("td",{className:"py-2 md:py-3 px-3 text-right hidden sm:table-cell",children:r.jsxs("span",{className:"text-red-400 tabular-nums text-xs md:text-sm",children:["-",G.lostAccounts]})}),r.jsx("td",{className:"py-2 md:py-3 px-3 text-right",children:r.jsxs("span",{className:`inline-flex items-center justify-center px-1.5 md:px-2.5 py-0.5 md:py-1 rounded-full text-[10px] md:text-xs font-medium text-white ${G.retentionRate>=90?"bg-green-500":G.retentionRate>=75?"bg-yellow-500":G.retentionRate>=50?"bg-orange-500":"bg-red-500"}`,children:[G.retentionRate,"%"]})}),r.jsx("td",{className:"py-2 md:py-3 px-3 text-right",children:G.momRevenueChangePercent!==null?r.jsxs("span",{className:`tabular-nums text-xs md:text-sm ${G.momRevenueChangePercent>0?"text-green-400":G.momRevenueChangePercent<0?"text-red-400":"text-zinc-400"}`,children:[G.momRevenueChangePercent>0?"+":"",G.momRevenueChangePercent,"%"]}):r.jsx("span",{className:"text-zinc-500 text-xs md:text-sm",children:"-"})})]},G.month))})]})})})]})})}),r.jsx(lt,{value:"ai-builder",className:"space-y-6",children:r.jsx(qSe,{})})]})]})})]})}function Da({className:e,...t}){return r.jsx("div",{className:ye("animate-pulse rounded-md bg-muted",e),...t})}function n_(){const[e]=g.useState("2025-05"),{data:t,isLoading:n}=ve({queryKey:["/api/audit-issues",e]}),s=o=>{switch(o){case"high":return r.jsx(Io,{className:"h-4 w-4 text-red-500"});case"medium":return r.jsx(cr,{className:"h-4 w-4 text-yellow-500"});case"low":return r.jsx(ph,{className:"h-4 w-4 text-blue-500"});default:return r.jsx(ph,{className:"h-4 w-4 text-gray-500"})}},a=o=>{switch(o){case"high":return"bg-red-500/20 text-red-400 border-red-500/30";case"medium":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"low":return"bg-blue-500/20 text-blue-400 border-blue-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}},i=o=>{switch(o){case"resolved":return"bg-green-500/20 text-green-400 border-green-500/30";case"investigating":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"open":return"bg-red-500/20 text-red-400 border-red-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}};return n?r.jsx("div",{className:"min-h-screen bg-[#0a0a0f]",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6 lg:py-8",children:r.jsxs("div",{className:"space-y-6",children:[r.jsx(Da,{className:"h-8 w-64 bg-zinc-800"}),r.jsx("div",{className:"space-y-4",children:[...Array(5)].map((o,l)=>r.jsx(Da,{className:"h-32 w-full bg-zinc-800"},l))})]})})}):r.jsx("div",{className:"min-h-screen bg-[#0a0a0f]",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6 lg:py-8",children:[r.jsxs("div",{className:"mb-6 sm:mb-8",children:[r.jsx("div",{className:"flex items-center gap-4 mb-4",children:r.jsx(qt,{href:"/",children:r.jsxs(I,{variant:"outline",size:"sm",className:"flex items-center gap-2 border-gray-600 text-gray-300 hover:bg-zinc-700",children:[r.jsx(Gl,{className:"h-4 w-4"}),"Back to Dashboard"]})})}),r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-white mb-2",children:"Audit Issues"}),r.jsxs("p",{className:"text-gray-400 text-sm sm:text-base",children:["Review and resolve data quality issues for ",e]})]}),r.jsx("div",{className:"space-y-4",children:t&&t.length>0?t.map(o=>{var l,c,d;return r.jsxs(U,{className:"bg-zinc-900/80 rounded-lg border border-yellow-400/20",children:[r.jsx(X,{className:"pb-3",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[s(o.audit_issues.severity),r.jsxs("div",{children:[r.jsx(J,{className:"text-lg text-white",children:((l=o.merchants)==null?void 0:l.dba)||((c=o.merchants)==null?void 0:c.legalName)||"Unknown Merchant"}),r.jsxs("p",{className:"text-sm text-gray-400",children:["MID: ",((d=o.merchants)==null?void 0:d.mid)||"N/A"]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(oe,{className:`${a(o.audit_issues.severity)} border`,children:o.audit_issues.severity}),r.jsx(oe,{className:`${i(o.audit_issues.status)} border`,children:o.audit_issues.status})]})]})}),r.jsx(B,{children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-white mb-1",children:"Issue Type"}),r.jsx("p",{className:"text-sm text-gray-300",children:o.audit_issues.type})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-white mb-1",children:"Description"}),r.jsx("p",{className:"text-sm text-gray-300",children:o.audit_issues.description})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-white mb-1",children:"Suggested Action"}),r.jsx("p",{className:"text-sm text-gray-300",children:o.audit_issues.suggestedAction})]}),r.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-yellow-400/20",children:[r.jsxs("p",{className:"text-xs text-gray-500",children:["Created: ",new Date(o.audit_issues.createdAt).toLocaleDateString()]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(I,{size:"sm",variant:"outline",className:"text-xs border-gray-600 text-gray-300 hover:bg-zinc-700",children:"Mark as Investigating"}),r.jsxs(I,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white text-xs",children:[r.jsx(qe,{className:"h-3 w-3 mr-1"}),"Resolve"]})]})]})]})})]},o.audit_issues.id)}):r.jsx(U,{className:"bg-zinc-900/80 rounded-lg border border-yellow-400/20",children:r.jsxs(B,{className:"p-8 text-center",children:[r.jsx(qe,{className:"mx-auto h-12 w-12 text-green-400 mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No Audit Issues"}),r.jsxs("p",{className:"text-gray-400",children:["Great! All data quality checks are passing for ",e,"."]})]})})})]})})}const Wt=g.forwardRef(({className:e,...t},n)=>r.jsx("textarea",{className:ye("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));Wt.displayName="Textarea";function s_(){const[e,t]=g.useState(""),[n,s]=g.useState(null),[a,i]=g.useState(null),[o,l]=g.useState(null),[c,d]=g.useState({name:"",description:"",loginUrl:"",logo:"",category:"",isActive:!0}),{toast:u}=pt(),m=_t(),p=[{name:"Processors",count:0,processors:[]},{name:"Gateways",count:0,processors:[]},{name:"Hardware/Equipment",count:0,processors:[]},{name:"Internal",count:0,processors:[]}],{data:f=p,isLoading:x,error:h}=ve({queryKey:["/api/login-portal/categories"],queryFn:async()=>{console.log("Fetching login portal categories...");const j=await fetch("/api/login-portal/categories");if(!j.ok)throw new Error(`Failed to fetch categories: ${j.status}`);const C=await j.json();return console.log("Login portal data received:",C),C},staleTime:5*60*1e3,retry:2}),y=f==null?void 0:f.map(j=>{if(e.trim()){const C=j.processors.filter(A=>{var k,O,M,P;return((O=(k=A==null?void 0:A.name)==null?void 0:k.toLowerCase())==null?void 0:O.includes(e.toLowerCase()))||((P=(M=A==null?void 0:A.description)==null?void 0:M.toLowerCase())==null?void 0:P.includes(e.toLowerCase()))});return{...j,processors:C}}return j}).filter(j=>!e.trim()||j.processors.length>0),v=j=>{i(j)},b=j=>{l(j),d({name:j.name,description:j.description||"",loginUrl:j.loginUrl||"",logo:j.logo||"",category:j.category,isActive:j.isActive})},w=(j,C)=>{j&&j!=="#"&&(navigator.clipboard.writeText(j),u({title:"URL Copied",description:`${C} login URL copied to clipboard`}))},S=Oe({mutationFn:async j=>Te(`/api/vendors/${j.id}`,{method:"PATCH",body:JSON.stringify(j.updates),headers:{"Content-Type":"application/json"}}),onSuccess:()=>{m.invalidateQueries({queryKey:["/api/login-portal/categories"]}),l(null),u({title:"Vendor Updated",description:"Vendor information has been successfully updated."})},onError:j=>{u({title:"Update Failed",description:j.message||"Failed to update vendor information.",variant:"destructive"})}}),N=()=>{o&&S.mutate({id:o.id,updates:{name:c.name,description:c.description,loginUrl:c.loginUrl,logo:c.logo,isActive:c.isActive}})};return r.jsxs("div",{className:"min-h-screen bg-[#0a0a0f]",children:[r.jsx("div",{className:"md:hidden bg-zinc-900 border-b border-yellow-400/20 px-4 py-3",children:r.jsx("h1",{className:"text-xl font-semibold text-white",children:"Login Portal"})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[r.jsx(fs,{items:[{label:"Login Portal",href:"/login-portal",isActive:!0}]}),r.jsx("div",{className:"mb-8",children:r.jsx(U,{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 border-0 shadow-lg",children:r.jsx(B,{className:"p-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-black/10 rounded-lg",children:r.jsx(mn,{className:"h-6 w-6 text-black"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-black",children:"Login Portal"}),r.jsx("p",{className:"text-black/80",children:"Access all your processor, gateway, and vendor logins in one place."})]})]})})})}),r.jsx("div",{className:"mb-6",children:r.jsxs("div",{className:"relative",children:[r.jsx(js,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(ee,{placeholder:"Search logins...",value:e,onChange:j=>t(j.target.value),className:"pl-10 bg-zinc-800 border-yellow-400/30 text-white placeholder:text-gray-400"})]})}),r.jsx("div",{className:"space-y-4",children:y==null?void 0:y.map(j=>r.jsx(A8,{isSelected:n===j.name,onClick:()=>s(n===j.name?null:j.name),className:"bg-zinc-900/80 border border-yellow-400/20",children:r.jsxs(U,{className:"border-0 shadow-none bg-transparent",children:[r.jsx(X,{className:"cursor-pointer hover:bg-zinc-800 transition-colors",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-zinc-800 rounded",children:r.jsx(mn,{className:"h-4 w-4 text-gray-300"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:j.name}),r.jsx(oe,{variant:"secondary",className:"text-xs bg-zinc-800 text-gray-300",children:j.count})]})]}),r.jsxs(I,{size:"sm",className:"bg-yellow-400 hover:bg-yellow-500 text-black font-semibold border-0",children:["Add ",j.name.slice(0,-1)]})]})}),n===j.name&&r.jsx(B,{className:"pt-0",children:j.processors&&j.processors.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:j.processors.map(C=>r.jsx(U,{className:"bg-zinc-900/80 border border-yellow-400/20 hover:shadow-md hover:border-yellow-400/40 transition-all",children:r.jsx(B,{className:"p-4",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 mx-auto mb-3 bg-zinc-800 rounded-lg border border-yellow-400/20 flex items-center justify-center overflow-hidden",children:C.logo&&C.logo!=="#"&&!C.logo.includes("/images/")?r.jsx("img",{src:C.logo,alt:C.name,className:"w-12 h-12 object-contain",onError:A=>{const k=A.currentTarget,O=k.parentElement,M=document.createElement("span");M.className="text-2xl font-bold text-gray-400",M.textContent=C.name.charAt(0),O.removeChild(k),O.appendChild(M)}}):C.logo&&C.logo.includes("/images/")?r.jsx("div",{className:"w-12 h-12 bg-yellow-400 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-lg font-bold text-black",children:C.name.charAt(0)})}):r.jsx("span",{className:"text-2xl font-bold text-gray-400",children:C.name.charAt(0)})}),r.jsx("h4",{className:"font-semibold text-white mb-1",children:C.name}),r.jsx("p",{className:"text-xs text-gray-400 mb-3 h-8 overflow-hidden",children:C.description||`${C.category} services`}),r.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[r.jsx(I,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0 text-gray-400 hover:text-yellow-400 hover:bg-yellow-400/10",onClick:A=>{A.stopPropagation(),v(C)},title:"View Details",children:r.jsx(yr,{className:"h-3 w-3"})}),r.jsx(I,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0 text-gray-400 hover:text-yellow-400 hover:bg-yellow-400/10",onClick:A=>{A.stopPropagation(),b(C)},title:"Edit Vendor",children:r.jsx(Ql,{className:"h-3 w-3"})}),C.loginUrl&&C.loginUrl!=="#"&&r.jsx(I,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0 text-gray-400 hover:text-yellow-400 hover:bg-yellow-400/10",onClick:A=>{A.stopPropagation(),window.open(C.loginUrl,"_blank")},title:"Open Login",children:r.jsx(mn,{className:"h-3 w-3"})}),r.jsx(I,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0 text-gray-400 hover:text-yellow-400 hover:bg-yellow-400/10",onClick:A=>{A.stopPropagation(),w(C.loginUrl||"",C.name)},title:"Copy URL",children:r.jsx(Dd,{className:"h-3 w-3"})})]})]})})},C.id))}):r.jsxs("div",{className:"text-center py-8 text-gray-400",children:["No ",j.name.toLowerCase()," configured yet."]})})]})},j.name))}),r.jsx(jt,{open:!!a,onOpenChange:()=>i(null),children:r.jsxs(yt,{className:"max-w-md bg-zinc-900 border border-yellow-400/20",children:[r.jsx(vt,{children:r.jsx(bt,{className:"text-white",children:"Vendor Details"})}),a&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-16 h-16 bg-zinc-800 rounded-lg border border-yellow-400/20 flex items-center justify-center overflow-hidden",children:a.logo&&a.logo!=="#"&&!a.logo.includes("/images/")?r.jsx("img",{src:a.logo,alt:a.name,className:"w-12 h-12 object-contain",onError:j=>{const A=j.currentTarget.parentElement;A.innerHTML="";const k=document.createElement("span");k.className="text-2xl font-bold text-gray-400",k.textContent=a.name.charAt(0),A.appendChild(k)}}):a.logo&&a.logo.includes("/images/")?r.jsx("div",{className:"w-12 h-12 bg-yellow-400 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-lg font-bold text-black",children:a.name.charAt(0)})}):r.jsx("span",{className:"text-2xl font-bold text-gray-400",children:a.name.charAt(0)})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:a.name}),r.jsx(oe,{variant:"secondary",className:"bg-zinc-800 text-gray-300",children:a.category})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx(K,{className:"text-sm font-medium text-gray-300",children:"Description"}),r.jsx("p",{className:"text-sm text-gray-400 mt-1",children:a.description||"No description available"})]}),r.jsxs("div",{children:[r.jsx(K,{className:"text-sm font-medium text-gray-300",children:"Login URL"}),r.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[r.jsx(ee,{value:a.loginUrl||"",readOnly:!0,className:"text-sm bg-zinc-800 border-yellow-400/30 text-white"}),a.loginUrl&&a.loginUrl!=="#"&&r.jsx(I,{size:"sm",variant:"outline",className:"border-yellow-400/30 text-yellow-400 hover:bg-yellow-400/10",onClick:()=>window.open(a.loginUrl,"_blank"),children:r.jsx(mn,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{children:[r.jsx(K,{className:"text-sm font-medium text-gray-300",children:"Status"}),r.jsx("p",{className:"text-sm mt-1",children:r.jsx(oe,{variant:a.isActive?"default":"secondary",className:a.isActive?"bg-yellow-400 text-black":"bg-zinc-800 text-gray-300",children:a.isActive?"Active":"Inactive"})})]})]}),r.jsxs("div",{className:"flex space-x-2 pt-4",children:[r.jsxs(I,{onClick:()=>{i(null),b(a)},className:"flex-1 bg-yellow-400 hover:bg-yellow-500 text-black font-semibold",children:[r.jsx(Ql,{className:"h-4 w-4 mr-2"}),"Edit"]}),r.jsxs(I,{variant:"outline",onClick:()=>w(a.loginUrl||"",a.name),className:"flex-1 border-yellow-400/30 text-yellow-400 hover:bg-yellow-400/10",children:[r.jsx(Dd,{className:"h-4 w-4 mr-2"}),"Copy URL"]})]})]})]})}),r.jsx(jt,{open:!!o,onOpenChange:()=>l(null),children:r.jsxs(yt,{className:"max-w-md bg-zinc-900 border border-yellow-400/20",children:[r.jsx(vt,{children:r.jsx(bt,{className:"text-white",children:"Edit Vendor"})}),o&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(K,{htmlFor:"name",className:"text-gray-300",children:"Vendor Name"}),r.jsx(ee,{id:"name",value:c.name,onChange:j=>d({...c,name:j.target.value}),placeholder:"Enter vendor name",className:"bg-zinc-800 border-yellow-400/30 text-white placeholder:text-gray-400"})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"description",className:"text-gray-300",children:"Description"}),r.jsx(Wt,{id:"description",value:c.description,onChange:j=>d({...c,description:j.target.value}),placeholder:"Enter vendor description",rows:3,className:"bg-zinc-800 border-yellow-400/30 text-white placeholder:text-gray-400"})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"loginUrl",className:"text-gray-300",children:"Login URL"}),r.jsx(ee,{id:"loginUrl",value:c.loginUrl,onChange:j=>d({...c,loginUrl:j.target.value}),placeholder:"https://example.com/login",className:"bg-zinc-800 border-yellow-400/30 text-white placeholder:text-gray-400"})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"logo",className:"text-gray-300",children:"Logo URL"}),r.jsx(ee,{id:"logo",value:c.logo,onChange:j=>d({...c,logo:j.target.value}),placeholder:"https://example.com/logo.png",className:"bg-zinc-800 border-yellow-400/30 text-white placeholder:text-gray-400"})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"category",className:"text-gray-300",children:"Category"}),r.jsxs(ze,{value:c.category,onValueChange:j=>d({...c,category:j}),children:[r.jsx(Re,{className:"bg-zinc-800 border-yellow-400/30 text-white",children:r.jsx(Fe,{})}),r.jsxs($e,{className:"bg-zinc-900 border-yellow-400/20",children:[r.jsx(Y,{value:"Processors",className:"text-white hover:bg-zinc-800 focus:bg-zinc-800",children:"Processors"}),r.jsx(Y,{value:"Gateways",className:"text-white hover:bg-zinc-800 focus:bg-zinc-800",children:"Gateways"}),r.jsx(Y,{value:"Hardware/Equipment",className:"text-white hover:bg-zinc-800 focus:bg-zinc-800",children:"Hardware/Equipment"}),r.jsx(Y,{value:"Internal",className:"text-white hover:bg-zinc-800 focus:bg-zinc-800",children:"Internal"})]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"checkbox",id:"isActive",checked:c.isActive,onChange:j=>d({...c,isActive:j.target.checked}),className:"rounded border-yellow-400/30 bg-zinc-800 text-yellow-400 focus:ring-yellow-400"}),r.jsx(K,{htmlFor:"isActive",className:"text-gray-300",children:"Active"})]}),r.jsxs("div",{className:"flex space-x-2 pt-4",children:[r.jsx(I,{onClick:N,disabled:S.isPending,className:"flex-1 bg-yellow-400 hover:bg-yellow-500 text-black font-semibold",children:S.isPending?"Saving...":"Save Changes"}),r.jsx(I,{variant:"outline",onClick:()=>l(null),className:"flex-1 border-yellow-400/30 text-yellow-400 hover:bg-yellow-400/10",children:"Cancel"})]})]})]})})]})]})}function a_(){const[e,t]=g.useState(!0),[n,s]=g.useState(!1),[a,i]=g.useState(null);g.useEffect(()=>{const m=localStorage.getItem("token"),p=localStorage.getItem("username");m&&p&&i(m)},[]);const o=()=>{t(!1),s(!1)},l=()=>{t(!1),s(!0)},c=()=>{const m="https://isohub-ai--5000.prod1b.defang.dev/documents",p=localStorage.getItem("username")||"admin",f=new URLSearchParams({sso_token:a||"",username:p,source:"isohub"});return`${m}?${f.toString()}`},d=["https://isohub-ai.replit.app/documents","https://replit.com/@jerkean/ISOHUB-AI#main.py","https://github.com/jerkean/iso-ai-docs"],u=()=>{t(!0),s(!1);const m=document.getElementById("iso-ai-frame");m&&(m.src=m.src)};return r.jsxs("div",{className:"p-6 max-w-7xl mx-auto h-screen flex flex-col bg-[#0a0a0f]",children:[r.jsx("div",{className:"mb-6",children:r.jsx(U,{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 border-0",children:r.jsx(X,{className:"pb-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(et,{className:"h-6 w-6 text-black"}),r.jsxs("div",{children:[r.jsx(J,{className:"text-black text-xl font-semibold",children:"ISO-AI Document Center"}),r.jsx("p",{className:"text-black/80 text-sm",children:"AI-powered document management and processing"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(I,{variant:"outline",size:"sm",onClick:u,className:"bg-white/20 border-black/20 text-black hover:bg-white/30","data-testid":"button-refresh-frame",children:[r.jsx(Ai,{className:"h-4 w-4 mr-1"}),"Refresh"]}),r.jsx(I,{variant:"outline",size:"sm",asChild:!0,className:"bg-white/20 border-black/20 text-black hover:bg-white/30",children:r.jsxs("a",{href:c(),target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1","data-testid":"link-open-external",children:[r.jsx(mn,{className:"h-4 w-4"}),"Open in New Tab"]})})]})]})})})}),e&&r.jsx(U,{className:"flex-1 flex items-center justify-center border-2 border-yellow-400/30 bg-zinc-900/80",children:r.jsx(B,{className:"text-center py-12",children:r.jsxs("div",{className:"flex items-center justify-center gap-3 text-gray-400",children:[r.jsx(Ai,{className:"h-6 w-6 animate-spin text-yellow-400"}),r.jsx("span",{children:"Loading ISO-AI Document Center..."})]})})}),n&&r.jsx(U,{className:"flex-1 flex items-center justify-center border-2 border-red-400/30 bg-zinc-900/80",children:r.jsx(B,{className:"text-center py-12",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-red-400",children:[r.jsx(et,{className:"h-12 w-12 mx-auto mb-3"}),r.jsx("h3",{className:"text-lg font-semibold text-white",children:"ISO-AI Document Center Unavailable"}),r.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"The ISO-AI service is currently offline or under maintenance."})]}),r.jsxs("div",{className:"bg-zinc-800/50 rounded-lg p-4 border border-yellow-400/20",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Alternative Access Options:"}),r.jsx("div",{className:"space-y-2",children:d.map((m,p)=>r.jsx(I,{asChild:!0,variant:"outline",size:"sm",className:"w-full text-xs border-yellow-400/30 text-yellow-400 hover:bg-yellow-400/10",children:r.jsxs("a",{href:m,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2","data-testid":`link-alternative-${p}`,children:[r.jsx(mn,{className:"h-3 w-3"}),m.includes("replit.app")?"Try Replit App URL":m.includes("replit.com")?"View Source Code":m.includes("github.com")?"GitHub Repository":"Alternative URL"]})},p))})]}),r.jsx("div",{className:"flex gap-2 justify-center",children:r.jsxs(I,{onClick:u,variant:"outline",size:"sm",className:"border-yellow-400/30 text-yellow-400 hover:bg-yellow-400/10","data-testid":"button-retry",children:[r.jsx(Ai,{className:"h-4 w-4 mr-1"}),"Try Again"]})}),r.jsx("div",{className:"text-xs text-gray-500 mt-4",children:r.jsx("p",{children:"If the issue persists, please contact support or check the ISO-AI service status."})})]})})}),r.jsx("div",{className:`flex-1 ${e||n?"hidden":"block"}`,children:r.jsx(U,{className:"h-full border-2 border-yellow-400/30 overflow-hidden bg-zinc-900/80",children:r.jsx(B,{className:"p-0 h-full",children:r.jsx("iframe",{id:"iso-ai-frame",src:c(),className:"w-full h-full border-0",title:"ISO-AI Document Center",onLoad:o,onError:l,sandbox:"allow-same-origin allow-scripts allow-forms allow-popups allow-popups-to-escape-sandbox allow-top-navigation-by-user-activation",allow:"fullscreen","data-testid":"iframe-iso-ai-docs"})})})}),r.jsx("div",{className:"mt-4 text-center",children:r.jsxs("p",{className:"text-xs text-gray-500","data-testid":"text-connection-status",children:["Connected to ISO-AI Document Center  User: ",localStorage.getItem("username")||"Guest"," ",a?"Authenticated":"No Auth Token"]})})]})}function i_(){const[e,t]=g.useState(!1),[n,s]=g.useState({recipientEmail:"",recipientName:"",message:"",expirationDays:30,maxDownloads:5}),{toast:a}=pt(),i=_t(),o=[{id:"1",filename:"pre-application-design-62.pdf",originalName:"pre-application-design-62 (1).pdf",senderName:"Ashton Vandy",senderEmail:"ashton@adv.venologic@gmail.com",uploadDate:"2024-07-18T00:00:00Z",expirationDate:"2025-01-02T00:00:00Z",daysUntilExpiration:167,downloadCount:0,maxDownloads:5,isExpired:!1,fileSize:2048576,fileType:"pdf"},{id:"2",filename:"pre-application-design-57.pdf",originalName:"pre-application-design-57 (1).pdf",senderName:"Ashton Vandy",senderEmail:"ashton@adv.venologic@gmail.com",uploadDate:"2024-07-19T00:00:00Z",expirationDate:"2025-01-01T00:00:00Z",daysUntilExpiration:135,downloadCount:1,maxDownloads:5,isExpired:!1,fileSize:1536e3,fileType:"pdf"},{id:"3",filename:"principal.pdf",originalName:"principal.pdf",senderName:"Ashton Vandy",senderEmail:"ashton@adv.venologic@gmail.com",uploadDate:"2024-07-20T00:00:00Z",expirationDate:"2024-12-31T00:00:00Z",daysUntilExpiration:134,downloadCount:2,maxDownloads:10,isExpired:!1,fileSize:896e3,fileType:"pdf"},{id:"4",filename:"1.jpg",originalName:"1.jpg",senderName:"Test",senderEmail:"test@example.com",uploadDate:"2024-07-15T00:00:00Z",expirationDate:"2024-12-30T00:00:00Z",daysUntilExpiration:128,downloadCount:0,maxDownloads:3,isExpired:!1,fileSize:1024e3,fileType:"jpg"},{id:"5",filename:"principal-2.pdf",originalName:"principal (1).pdf",senderName:"Test",senderEmail:"test@example.com",uploadDate:"2024-07-14T00:00:00Z",expirationDate:"2024-12-29T00:00:00Z",daysUntilExpiration:128,downloadCount:5,maxDownloads:10,isExpired:!1,fileSize:2048e3,fileType:"pdf"}],{data:l,isLoading:c}=ve({queryKey:["/api/secured-docs"],queryFn:()=>Promise.resolve(o),initialData:o}),d=Oe({mutationFn:f=>fetch("/api/secured-docs/send-upload-link",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)}).then(x=>x.json()),onSuccess:()=>{i.invalidateQueries({queryKey:["/api/secured-docs"]}),t(!1),s({recipientEmail:"",recipientName:"",message:"",expirationDays:30,maxDownloads:5}),a({title:"Upload link sent",description:"Secure upload link has been sent successfully"})}}),u=()=>{if(!n.recipientEmail||!n.recipientName){a({title:"Missing information",description:"Please provide recipient email and name",variant:"destructive"});return}d.mutate(n)},m=f=>{if(f===0)return"0 Bytes";const x=1024,h=["Bytes","KB","MB","GB"],y=Math.floor(Math.log(f)/Math.log(x));return parseFloat((f/Math.pow(x,y)).toFixed(2))+" "+h[y]},p=f=>f==="pdf"?r.jsx(et,{className:"h-5 w-5 text-red-500"}):["jpg","jpeg","png"].includes(f)?r.jsx(et,{className:"h-5 w-5 text-blue-500"}):r.jsx(et,{className:"h-5 w-5 text-gray-500"});return c?r.jsx("div",{className:"min-h-screen bg-[#0a0a0f] flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-yellow-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400",children:"Loading documents..."})]})}):r.jsxs("div",{className:"min-h-screen bg-[#0a0a0f]",children:[r.jsx("div",{className:"md:hidden bg-zinc-900 border-b border-yellow-400/20 px-4 py-3",children:r.jsx("h1",{className:"text-xl font-semibold text-white",children:"Secured Doc Portal"})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[r.jsx(fs,{items:[{label:"Secured Doc Portal",href:"/secured-docs",isActive:!0}]}),r.jsx("div",{className:"mb-8",children:r.jsx(U,{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 border-0 shadow-lg",children:r.jsx(B,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-black/10 rounded-lg",children:r.jsx(rr,{className:"h-6 w-6 text-black"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-black",children:"Secured Doc Portal"}),r.jsx("p",{className:"text-black/80",children:"Secure document sharing and management."})]})]}),r.jsxs(jt,{open:e,onOpenChange:t,children:[r.jsx(pn,{asChild:!0,children:r.jsxs(I,{className:"bg-black hover:bg-gray-800 text-white",children:[r.jsx(Ns,{className:"h-4 w-4 mr-2"}),"Send Upload Link"]})}),r.jsxs(yt,{className:"sm:max-w-md",children:[r.jsx(vt,{children:r.jsx(bt,{children:"Send Secure Upload Link"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"recipientEmail",children:"Recipient Email"}),r.jsx(ee,{id:"recipientEmail",type:"email",placeholder:"recipient@example.com",value:n.recipientEmail,onChange:f=>s({...n,recipientEmail:f.target.value})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"recipientName",children:"Recipient Name"}),r.jsx(ee,{id:"recipientName",placeholder:"John Doe",value:n.recipientName,onChange:f=>s({...n,recipientName:f.target.value})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"message",children:"Custom Message (Optional)"}),r.jsx(ee,{id:"message",placeholder:"Please upload your documents using this secure link",value:n.message,onChange:f=>s({...n,message:f.target.value})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"expirationDays",children:"Expires in (days)"}),r.jsx(ee,{id:"expirationDays",type:"number",min:"1",max:"365",value:n.expirationDays,onChange:f=>s({...n,expirationDays:parseInt(f.target.value)})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"maxDownloads",children:"Max Downloads"}),r.jsx(ee,{id:"maxDownloads",type:"number",min:"1",max:"100",value:n.maxDownloads,onChange:f=>s({...n,maxDownloads:parseInt(f.target.value)})})]})]}),r.jsx(I,{onClick:u,disabled:d.isPending,className:"w-full bg-yellow-500 hover:bg-yellow-600 text-black",children:d.isPending?"Sending...":"Send Upload Link"})]})]})]})]})})})}),r.jsx("div",{className:"mb-8",children:r.jsx(U,{className:"bg-zinc-900/80 border border-yellow-400/20",children:r.jsxs(B,{className:"p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-white mb-6",children:"Uploaded Documents"}),r.jsx("div",{className:"hidden md:block overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-yellow-400/20",children:[r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-400 uppercase text-sm",children:"Document"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-400 uppercase text-sm",children:"Sender"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-400 uppercase text-sm",children:"Upload Date"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-400 uppercase text-sm",children:"Expiration"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-400 uppercase text-sm",children:"Downloads"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-400 uppercase text-sm",children:"Actions"})]})}),r.jsx("tbody",{children:l==null?void 0:l.map(f=>r.jsxs("tr",{className:"border-b border-zinc-800 hover:bg-zinc-800/50",children:[r.jsx("td",{className:"py-4 px-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[p(f.fileType),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-white",children:f.filename}),r.jsx("p",{className:"text-sm text-gray-500",children:m(f.fileSize)})]})]})}),r.jsx("td",{className:"py-4 px-4",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-white",children:f.senderName}),r.jsx("p",{className:"text-sm text-gray-500",children:f.senderEmail})]})}),r.jsx("td",{className:"py-4 px-4 text-white",children:new Date(f.uploadDate).toLocaleDateString()}),r.jsx("td",{className:"py-4 px-4",children:r.jsxs(oe,{variant:"secondary",className:`${f.daysUntilExpiration<30?"bg-red-500/20 text-red-400 border-red-500/30":"bg-green-500/20 text-green-400 border-green-500/30"}`,children:[r.jsx(Rr,{className:"h-3 w-3 mr-1"}),"Expires in ",f.daysUntilExpiration," days"]})}),r.jsxs("td",{className:"py-4 px-4 text-white",children:[f.downloadCount,"/",f.maxDownloads||""]}),r.jsx("td",{className:"py-4 px-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(I,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0",children:r.jsx(yr,{className:"h-4 w-4 text-yellow-400"})}),r.jsx(I,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0",children:r.jsx(Jn,{className:"h-4 w-4 text-yellow-400"})}),r.jsx(I,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0",children:r.jsx(es,{className:"h-4 w-4 text-red-400"})})]})})]},f.id))})]})}),r.jsx("div",{className:"md:hidden space-y-4",children:l==null?void 0:l.map(f=>r.jsx(U,{className:"bg-zinc-800/50 border-yellow-400/20",children:r.jsxs(B,{className:"p-4",children:[r.jsxs("div",{className:"flex items-start space-x-3 mb-3",children:[p(f.fileType),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-medium text-white",children:f.filename}),r.jsx("p",{className:"text-sm text-gray-500",children:m(f.fileSize)})]}),r.jsxs(oe,{variant:"secondary",className:`${f.daysUntilExpiration<30?"bg-red-500/20 text-red-400 border-red-500/30":"bg-green-500/20 text-green-400 border-green-500/30"} text-xs`,children:[f.daysUntilExpiration,"d"]})]}),r.jsxs("div",{className:"space-y-2 text-sm mb-3",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(pc,{className:"h-4 w-4 text-gray-500"}),r.jsx("span",{className:"text-white",children:f.senderName})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(yi,{className:"h-4 w-4 text-gray-500"}),r.jsx("span",{className:"text-white",children:f.senderEmail})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(qa,{className:"h-4 w-4 text-gray-500"}),r.jsx("span",{className:"text-white",children:new Date(f.uploadDate).toLocaleDateString()})]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("span",{className:"text-sm text-gray-500",children:["Downloads: ",f.downloadCount,"/",f.maxDownloads||""]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(I,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0",children:r.jsx(yr,{className:"h-4 w-4 text-yellow-400"})}),r.jsx(I,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0",children:r.jsx(Jn,{className:"h-4 w-4 text-yellow-400"})}),r.jsx(I,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0",children:r.jsx(es,{className:"h-4 w-4 text-red-400"})})]})]})]})},f.id))})]})})})]})]})}function o_(){var w;const[e,t]=g.useState(!1),[n,s]=g.useState(null),[a,i]=g.useState(""),{toast:o}=pt(),l=_t(),c=[{id:"postcards",name:"Postcards",itemCount:2,description:"Professional postcards for marketing campaigns and client outreach"},{id:"business-cards",name:"Business Cards",itemCount:2,description:"Professional business card templates and designs"},{id:"flyers",name:"Flyers",itemCount:2,description:"Marketing flyers and promotional materials"}],d=[{id:"1",categoryId:"postcards",name:"Post card 1",description:"Professional postcard design template",fileType:"pdf",fileSize:2048576,downloadCount:15,createdDate:"2024-07-15T00:00:00Z",updatedDate:"2024-07-15T00:00:00Z"},{id:"2",categoryId:"postcards",name:"Post card 2",description:"Alternative postcard design template",fileType:"pdf",fileSize:1843200,downloadCount:8,createdDate:"2024-07-16T00:00:00Z",updatedDate:"2024-07-16T00:00:00Z"},{id:"3",categoryId:"business-cards",name:"Business Card 1",description:"Professional business card template",fileType:"pdf",fileSize:1024e3,downloadCount:25,createdDate:"2024-07-10T00:00:00Z",updatedDate:"2024-07-10T00:00:00Z"},{id:"4",categoryId:"business-cards",name:"Business Card 2",description:"Alternative business card design",fileType:"pdf",fileSize:95e4,downloadCount:12,createdDate:"2024-07-12T00:00:00Z",updatedDate:"2024-07-12T00:00:00Z",isComingSoon:!0},{id:"5",categoryId:"flyers",name:"Flyers 1",description:"Marketing flyer template",fileType:"pdf",fileSize:3072e3,downloadCount:7,createdDate:"2024-07-05T00:00:00Z",updatedDate:"2024-07-05T00:00:00Z"},{id:"6",categoryId:"flyers",name:"Flyers 2",description:"Promotional flyer template",fileType:"pdf",fileSize:256e4,downloadCount:3,createdDate:"2024-07-08T00:00:00Z",updatedDate:"2024-07-08T00:00:00Z"}],{data:u,isLoading:m}=ve({queryKey:["/api/marketing/categories"],queryFn:()=>Promise.resolve(c),initialData:c}),{data:p,isLoading:f}=ve({queryKey:["/api/marketing/items",n],queryFn:()=>n?Promise.resolve(d.filter(S=>S.categoryId===n)):Promise.resolve([]),initialData:[]}),x=Oe({mutationFn:S=>fetch("/api/marketing/categories",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:S,description:`Marketing materials for ${S}`})}).then(N=>N.json()),onSuccess:()=>{l.invalidateQueries({queryKey:["/api/marketing/categories"]}),t(!1),i(""),o({title:"Category created",description:"New marketing category has been added successfully"})}}),h=()=>{if(!a.trim()){o({title:"Missing information",description:"Please provide a category name",variant:"destructive"});return}x.mutate(a.trim())},y=S=>{if(S===0)return"0 Bytes";const N=1024,j=["Bytes","KB","MB","GB"],C=Math.floor(Math.log(S)/Math.log(N));return parseFloat((S/Math.pow(N,C)).toFixed(2))+" "+j[C]},v=S=>{switch(S){case"pdf":return r.jsx(et,{className:"h-5 w-5 text-red-500"});case"image":return r.jsx(b2,{className:"h-5 w-5 text-blue-500"});case"video":return r.jsx(gh,{className:"h-5 w-5 text-purple-500"});default:return r.jsx(et,{className:"h-5 w-5 text-gray-500"})}},b=S=>{const N=S.toLowerCase();return N.includes("postcard")?r.jsx(et,{className:"h-5 w-5 text-yellow-600"}):N.includes("business")?r.jsx(et,{className:"h-5 w-5 text-blue-600"}):N.includes("flyer")?r.jsx(et,{className:"h-5 w-5 text-green-600"}):r.jsx(gk,{className:"h-5 w-5 text-gray-600"})};return m?r.jsx("div",{className:"min-h-screen bg-[#0a0a0f] flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-yellow-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400",children:"Loading marketing materials..."})]})}):r.jsxs("div",{className:"min-h-screen bg-[#0a0a0f]",children:[r.jsx("div",{className:"md:hidden bg-zinc-900 border-b border-yellow-400/20 px-4 py-3",children:r.jsx("h1",{className:"text-xl font-semibold text-white",children:"Marketing"})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[r.jsx("div",{className:"mb-8",children:r.jsx(U,{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 border-0 shadow-lg",children:r.jsx(B,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-black/10 rounded-lg",children:r.jsx(E0,{className:"h-6 w-6 text-black"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-black",children:"Marketing"}),r.jsx("p",{className:"text-black/80",children:"Access and manage marketing materials and resources."})]})]}),r.jsxs(jt,{open:e,onOpenChange:t,children:[r.jsx(pn,{asChild:!0,children:r.jsxs(I,{className:"bg-black hover:bg-gray-800 text-white",children:[r.jsx(ir,{className:"h-4 w-4 mr-2"}),"Add New Category"]})}),r.jsxs(yt,{className:"sm:max-w-md",children:[r.jsx(vt,{children:r.jsx(bt,{children:"Create New Category"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"categoryName",children:"Category Name"}),r.jsx(ee,{id:"categoryName",placeholder:"e.g., Brochures, Banners, etc.",value:a,onChange:S=>i(S.target.value),onKeyDown:S=>S.key==="Enter"&&h()})]}),r.jsx(I,{onClick:h,disabled:x.isPending,className:"w-full bg-yellow-500 hover:bg-yellow-600 text-black",children:x.isPending?"Creating...":"Create Category"})]})]})]})]})})})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsx(U,{className:"bg-zinc-900/80 border border-yellow-400/20",children:r.jsxs(B,{className:"p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Categories"}),r.jsx("div",{className:"space-y-2",children:u==null?void 0:u.map(S=>r.jsx("div",{onClick:()=>s(S.id),className:`p-3 rounded-lg border-2 transition-all cursor-pointer ${n===S.id?"border-yellow-400 bg-yellow-400/10":"border-zinc-700 hover:border-yellow-400/50 hover:bg-zinc-800/50"}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[b(S.name),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-white",children:S.name}),r.jsxs("p",{className:"text-sm text-gray-500",children:[S.itemCount," items"]})]})]}),r.jsx(oe,{variant:"secondary",className:"bg-yellow-400/20 text-yellow-400 border-yellow-400/30",children:S.itemCount})]})},S.id))})]})})}),r.jsx("div",{className:"lg:col-span-2",children:n?r.jsx(U,{className:"bg-zinc-900/80 border border-yellow-400/20",children:r.jsxs(B,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("h2",{className:"text-lg font-semibold text-white",children:[(w=u==null?void 0:u.find(S=>S.id===n))==null?void 0:w.name," Materials"]}),r.jsxs(I,{size:"sm",className:"bg-yellow-400 hover:bg-yellow-500 text-black",children:[r.jsx(ir,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),f?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-yellow-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400",children:"Loading items..."})]}):p&&p.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:p.map(S=>r.jsx(U,{className:"bg-zinc-800/50 border-yellow-400/20 relative",children:r.jsxs(B,{className:"p-4",children:[S.isComingSoon&&r.jsx("div",{className:"absolute top-3 right-3 bg-yellow-400 text-black px-2 py-1 rounded text-xs font-medium",children:"Coming Soon"}),r.jsxs("div",{className:"flex items-start space-x-3",children:[v(S.fileType),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-medium text-white mb-1",children:S.name}),r.jsx("p",{className:"text-sm text-gray-500 mb-2",children:S.description}),r.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[r.jsx("span",{children:y(S.fileSize)}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Jn,{className:"h-3 w-3"}),r.jsx("span",{children:S.downloadCount})]})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-zinc-700",children:[r.jsxs("span",{className:"text-xs text-gray-500",children:["Updated ",new Date(S.updatedDate).toLocaleDateString()]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(I,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0",disabled:S.isComingSoon,children:r.jsx(yr,{className:"h-4 w-4 text-yellow-400"})}),r.jsx(I,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0",disabled:S.isComingSoon,children:r.jsx(Jn,{className:"h-4 w-4 text-yellow-400"})}),r.jsx(I,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0",children:r.jsx(zm,{className:"h-4 w-4 text-gray-400"})})]})]})]})},S.id))}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(et,{className:"h-16 w-16 text-gray-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No items yet"}),r.jsx("p",{className:"text-gray-500 mb-4",children:"This category doesn't have any marketing materials yet"}),r.jsxs(I,{className:"bg-yellow-400 hover:bg-yellow-500 text-black",children:[r.jsx(ir,{className:"h-4 w-4 mr-2"}),"Add First Item"]})]})]})}):r.jsx(U,{className:"bg-zinc-900/80 border border-yellow-400/20",children:r.jsxs(B,{className:"p-12 text-center",children:[r.jsx(gk,{className:"h-16 w-16 text-gray-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Select a Category"}),r.jsx("p",{className:"text-gray-500",children:"Choose a category from the left to view marketing materials"})]})})})]})]})]})}function l_({currentUser:e}={}){var E;const t=e||{firstName:"John",lastName:"Smith",username:"jsmith",organizationId:"org-1"},[n,s]=g.useState(null),[a,i]=g.useState(t.organizationId),o=(T,$,q)=>{var F,z;const R=`${T}-${$}`.toLowerCase().replace(/\s+/g,"");return`https://isohub.io/${(n==null?void 0:n.organizationCode)||`${((F=t.firstName)==null?void 0:F.charAt(0))||"A"}${((z=t.lastName)==null?void 0:z.charAt(0))||"G"}-${new Date().getFullYear()}-001`}/${R}`},l=async(T,$,q)=>{var R,D;try{const V=`${T}-${$}`.toLowerCase().replace(/\s+/g,""),F=q||(n==null?void 0:n.organizationCode)||`${((R=t.firstName)==null?void 0:R.charAt(0))||"A"}${((D=t.lastName)==null?void 0:D.charAt(0))||"G"}-${new Date().getFullYear()}-001`,Q=await(await fetch("/s/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({organizationCode:F,fullname:V,agentName:`${t.firstName} ${t.lastName}`,organizationId:a,expiresInDays:30})})).json();return Q.success?Q.shortUrl:(console.error("Failed to create short URL:",Q.error),o(T,$,q))}catch(V){return console.error("Error creating short URL:",V),o(T,$)}},[c,d]=g.useState("Loading branded link...");g.useEffect(()=>{(async()=>{const $=await l(t.firstName||"Agent",t.lastName||"User");d($)})()},[]);const[u,m]=g.useState({open:!1,application:null}),[p,f]=g.useState(!1),[x,h]=g.useState({open:!1,application:null}),[y,v]=g.useState({firstName:"",lastName:"",email:""}),{toast:b}=pt(),w=_t(),{data:S,isLoading:N}=ve({queryKey:["/api/pre-applications"],queryFn:async()=>{const $=await fetch(`/api/preapplications?organizationId=${a||"org-1"}`);if(!$.ok)throw new Error(`HTTP ${$.status}: ${$.statusText}`);return $.json()}});Oe({mutationFn:({id:T,status:$})=>fetch(`/api/pre-applications/${T}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:$})}).then(q=>q.json()),onSuccess:()=>{w.invalidateQueries({queryKey:["/api/pre-applications"]}),b({title:"Status updated",description:"Pre-application status has been updated successfully"})}});const j=Oe({mutationFn:async({applicationId:T,recipientEmail:$,firstName:q,lastName:R})=>{const D=await fetch("/api/pre-applications/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({applicationId:T,recipientEmail:$,firstName:q,lastName:R})});if(!D.ok)throw new Error(`HTTP ${D.status}: ${D.statusText}`);return D.json()},onSuccess:()=>{m({open:!1,application:null}),v({firstName:"",lastName:"",email:""}),b({title:"Email sent successfully",description:"Pre-application email has been sent to the merchant"})},onError:T=>{b({title:"Email failed to send",description:T.message,variant:"destructive"})}}),C=Oe({mutationFn:async({recipientEmail:T,firstName:$,lastName:q})=>{const R=await l($,q),D=await fetch("/api/pre-applications/send-form-link",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({recipientEmail:T,firstName:$,lastName:q,formLink:R,senderName:`${t.firstName} ${t.lastName}`,organizationId:t.organizationId})});if(!D.ok)throw new Error(`HTTP ${D.status}: ${D.statusText}`);return D.json()},onSuccess:()=>{f(!1),v({firstName:"",lastName:"",email:""}),b({title:" Email Sent Successfully",description:"Pre-application form link delivered to prospect",duration:3e3})},onError:T=>{b({title:"Email failed to send",description:T.message,variant:"destructive"})}}),A=async()=>{try{const T=await l(t.firstName||"Agent",t.lastName||"User");await navigator.clipboard.writeText(T),b({title:" Link Copied",description:"Professional short link copied to clipboard",duration:2e3})}catch{try{await navigator.clipboard.writeText(c),b({title:"Link copied",description:"Pre-application form link copied to clipboard"})}catch{b({title:"Copy failed",description:"Please copy the link manually",variant:"destructive"})}}},k=T=>{m({open:!0,application:T}),v({firstName:T.businessContactName.split(" ")[0]||"",lastName:T.businessContactName.split(" ").slice(1).join(" ")||"",email:T.email})},O=async()=>{if(u.application)try{const T=`/form/JS-2025-001/${y.firstName.toLowerCase()}-${y.lastName.toLowerCase().replace(/\s+/g,"-")}`,$=`${window.location.origin}${T}`;C.mutate({recipientEmail:y.email,firstName:y.firstName,lastName:y.lastName,formLink:$})}catch(T){console.error("Error sending email with form link:",T),b({title:"Error sending email",description:"Failed to send email with form link",variant:"destructive"})}},M=async()=>{try{const T=`/form/JS-2025-001/${y.firstName.toLowerCase()}-${y.lastName.toLowerCase().replace(/\s+/g,"-")}`,$=`${window.location.origin}${T}`;C.mutate({recipientEmail:y.email,firstName:y.firstName,lastName:y.lastName,formLink:$})}catch(T){console.error("Error generating personalized form link:",T),b({title:"Error generating form link",description:"Failed to create personalized form link",variant:"destructive"})}},P=()=>{f(!0),v({firstName:"",lastName:"",email:""})},_=T=>{const q={New:{color:"bg-blue-100 text-blue-800",text:"New"},"In Progress":{color:"bg-yellow-100 text-yellow-800",text:"In Progress"},"Pending Review":{color:"bg-orange-100 text-orange-800",text:"Pending Review"},Approved:{color:"bg-green-100 text-green-800",text:"Approved"},Declined:{color:"bg-red-100 text-red-800",text:"Declined"}}[T]||{color:"bg-gray-100 text-gray-800",text:T};return r.jsx(oe,{variant:"secondary",className:`${q.color} border-0`,children:q.text})};return N?r.jsx("div",{className:"min-h-screen bg-[#0a0a0f] flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-yellow-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400",children:"Loading pre-applications..."})]})}):r.jsxs("div",{className:"min-h-screen bg-[#0a0a0f]",children:[r.jsx("div",{className:"md:hidden bg-zinc-900 border-b border-yellow-400/20 px-4 py-3",children:r.jsx("h1",{className:"text-xl font-semibold text-white",children:"Pre-Applications"})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[r.jsx(fs,{items:[{label:"Pre-Applications",href:"/pre-applications",isActive:!0}]}),r.jsx("div",{className:"mb-8",children:r.jsx(U,{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 border-0 shadow-lg",children:r.jsx(B,{className:"p-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-black/10 rounded-lg",children:r.jsx(et,{className:"h-6 w-6 text-black"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-black",children:"Pre-Applications"}),r.jsx("p",{className:"text-black/80",children:"Manage and track merchant pre-applications."})]})]})})})}),r.jsx("div",{className:"mb-8",children:r.jsx(U,{className:"bg-zinc-900/80 border border-yellow-400/20",children:r.jsxs(B,{className:"p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Pre-Application Form Link"}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center",children:[r.jsx("div",{className:"flex-1",children:r.jsx(ee,{value:c,onChange:T=>d(T.target.value),className:"bg-zinc-800 text-white border-yellow-400/30 font-mono text-sm",placeholder:"Your personalized form link will appear here",readOnly:!0})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(I,{onClick:P,className:"bg-yellow-400 hover:bg-yellow-500 text-black",size:"sm",children:[r.jsx(yi,{className:"h-4 w-4 mr-2"}),"Email"]}),r.jsxs(I,{onClick:A,variant:"outline",className:"border-yellow-400/30 text-yellow-400 hover:bg-yellow-400/10",size:"sm",children:[r.jsx(Dd,{className:"h-4 w-4 mr-2"}),"Copy Link"]}),r.jsxs(I,{onClick:()=>window.open("/form/JS-2025-001/john-smith","_blank"),variant:"outline",className:"border-yellow-400/30 text-yellow-400 hover:bg-yellow-400/10",size:"sm",children:[r.jsx(et,{className:"h-4 w-4 mr-2"}),"View Form"]})]})]})]})})}),r.jsx("div",{className:"mb-8",children:r.jsx(U,{className:"bg-zinc-900/80 border border-yellow-400/20",children:r.jsxs(B,{className:"p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-white mb-6",children:"Pre-Application List"}),r.jsx("div",{className:"hidden md:block overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-yellow-400/20",children:[r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-400 uppercase text-sm",children:"DBA"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-400 uppercase text-sm",children:"Business Contact Name"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-400 uppercase text-sm",children:"Email"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-400 uppercase text-sm",children:"Phone"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-400 uppercase text-sm",children:"Status"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-400 uppercase text-sm",children:"Actions"})]})}),r.jsx("tbody",{children:S==null?void 0:S.map(T=>r.jsxs("tr",{className:"border-b border-zinc-800 hover:bg-zinc-800/50",children:[r.jsx("td",{className:"py-4 px-4 text-white",children:T.dba}),r.jsx("td",{className:"py-4 px-4 text-white",children:T.businessContactName}),r.jsx("td",{className:"py-4 px-4 text-white",children:T.email}),r.jsx("td",{className:"py-4 px-4 text-white",children:T.phone}),r.jsx("td",{className:"py-4 px-4",children:_(T.status)}),r.jsx("td",{className:"py-4 px-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(I,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0",onClick:()=>k(T),title:"Email Pre-Application Form",children:r.jsx(yi,{className:"h-4 w-4 text-yellow-400"})}),r.jsx(I,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0",onClick:()=>h({open:!0,application:T}),children:r.jsx(yr,{className:"h-4 w-4 text-yellow-400"})}),r.jsx(I,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0",children:r.jsx(Ql,{className:"h-4 w-4 text-yellow-400"})}),r.jsx(I,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0",onClick:()=>window.open("/form/JS-2025-001/john-smith","_blank"),title:"View Form",children:r.jsx(et,{className:"h-4 w-4 text-yellow-400"})})]})})]},T.id))})]})}),r.jsx("div",{className:"md:hidden space-y-4",children:S==null?void 0:S.map(T=>r.jsx(U,{className:"bg-zinc-800/50 border-yellow-400/20",children:r.jsxs(B,{className:"p-4",children:[r.jsxs("div",{className:"flex justify-between items-start mb-3",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-white",children:T.dba}),r.jsx("p",{className:"text-sm text-gray-400",children:T.businessContactName})]}),_(T.status)]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(yi,{className:"h-4 w-4 text-gray-500"}),r.jsx("span",{className:"text-white",children:T.email})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(nI,{className:"h-4 w-4 text-gray-500"}),r.jsx("span",{className:"text-white",children:T.phone})]})]}),r.jsxs("div",{className:"flex justify-end space-x-2 mt-3",children:[r.jsx(I,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0",onClick:()=>k(T),children:r.jsx(yi,{className:"h-4 w-4 text-yellow-600"})}),r.jsx(I,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0",onClick:()=>h({open:!0,application:T}),children:r.jsx(yr,{className:"h-4 w-4 text-yellow-600"})}),r.jsx(I,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0",children:r.jsx(Ql,{className:"h-4 w-4 text-yellow-600"})}),r.jsx(I,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0",children:r.jsx(et,{className:"h-4 w-4 text-yellow-600"})})]})]})},T.id))})]})})})]}),r.jsx(jt,{open:u.open,onOpenChange:T=>m({open:T,application:null}),children:r.jsxs(yt,{className:"sm:max-w-md bg-white dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-600 shadow-2xl",children:[r.jsxs(vt,{children:[r.jsx(bt,{className:"text-black dark:text-white",children:"Send Pre-Application Email"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Send a professional email to the merchant with their pre-application details."})]}),u.application&&r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-3 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[r.jsxs("p",{className:"text-sm font-medium text-black dark:text-white",children:["Business: ",u.application.dba]}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Contact: ",u.application.businessContactName]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"firstName",className:"text-black dark:text-white",children:"First Name"}),r.jsx(ee,{id:"firstName",value:y.firstName,onChange:T=>v($=>({...$,firstName:T.target.value})),placeholder:"John"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"lastName",className:"text-black dark:text-white",children:"Last Name"}),r.jsx(ee,{id:"lastName",value:y.lastName,onChange:T=>v($=>({...$,lastName:T.target.value})),placeholder:"Smith"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"email",className:"text-black dark:text-white",children:"Email Address"}),r.jsx(ee,{id:"email",type:"email",value:y.email,onChange:T=>v($=>({...$,email:T.target.value})),placeholder:"john@business.com"})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg border",children:[r.jsx("p",{className:"text-sm font-medium text-black dark:text-white mb-2",children:"Email Preview:"}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300",children:"The email will include the merchant's business details, contact information, and a personalized message requesting them to complete their pre-application form."})]}),r.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[r.jsx(I,{variant:"outline",onClick:()=>m({open:!1,application:null}),children:"Cancel"}),r.jsx(I,{onClick:O,disabled:j.isPending||!y.firstName||!y.lastName||!y.email,className:"bg-yellow-500 hover:bg-yellow-600 text-black",children:j.isPending?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-black mr-2"}),"Sending..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Ns,{className:"h-4 w-4 mr-2"}),"Send Email"]})})]})]})]})}),r.jsx(jt,{open:p,onOpenChange:f,children:r.jsxs(yt,{className:"sm:max-w-md bg-white dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-600 shadow-2xl",children:[r.jsxs(vt,{children:[r.jsx(bt,{className:"text-black dark:text-white",children:"Send Pre-Application Form Link"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Send the pre-application form link to a prospect via email."})]}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{className:"bg-yellow-100 dark:bg-yellow-900/40 p-4 rounded-lg border-2 border-yellow-300 dark:border-yellow-700",children:[r.jsx("p",{className:"text-sm font-semibold text-black dark:text-white mb-2",children:"Form Link:"}),r.jsx("p",{className:"text-sm text-gray-800 dark:text-gray-200 font-mono break-all bg-white dark:bg-gray-700 p-2 rounded border",children:c})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"prospectFirstName",className:"text-black dark:text-white",children:"First Name"}),r.jsx(ee,{id:"prospectFirstName",value:y.firstName,onChange:T=>v($=>({...$,firstName:T.target.value})),placeholder:"John"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"prospectLastName",className:"text-black dark:text-white",children:"Last Name"}),r.jsx(ee,{id:"prospectLastName",value:y.lastName,onChange:T=>v($=>({...$,lastName:T.target.value})),placeholder:"Smith"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"prospectEmail",className:"text-black dark:text-white",children:"Email Address"}),r.jsx(ee,{id:"prospectEmail",type:"email",value:y.email,onChange:T=>v($=>({...$,email:T.target.value})),placeholder:"john@business.com"})]}),r.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-4 rounded-lg border-2 border-gray-300 dark:border-gray-600",children:[r.jsx("p",{className:"text-sm font-semibold text-black dark:text-white mb-2",children:"Email Preview:"}),r.jsx("p",{className:"text-sm text-gray-800 dark:text-gray-200",children:"The prospect will receive a professional email with the pre-application form link and instructions to complete their merchant application."})]}),r.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[r.jsx(I,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),r.jsx(I,{onClick:M,disabled:C.isPending||!y.firstName||!y.lastName||!y.email,className:"bg-yellow-500 hover:bg-yellow-600 text-black",children:C.isPending?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-black mr-2"}),"Sending..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Ns,{className:"h-4 w-4 mr-2"}),"Send Form Link"]})})]})]})]})}),r.jsx(jt,{open:x.open,onOpenChange:T=>h({open:T,application:null}),children:r.jsxs(yt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(vt,{children:r.jsxs(bt,{className:"text-black dark:text-white",children:["Pre-Application Details: ",(E=x.application)==null?void 0:E.dba]})}),r.jsx("div",{className:"space-y-6 py-4",children:x.application&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx(U,{className:"bg-gray-50 dark:bg-gray-800/50",children:r.jsxs(B,{className:"p-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-black dark:text-white mb-4 flex items-center",children:[r.jsx(Ox,{className:"h-5 w-5 mr-2 text-yellow-600"}),"Business Information"]}),r.jsxs("div",{className:"space-y-3 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-300",children:"DBA:"}),r.jsx("span",{className:"ml-2 text-black dark:text-white",children:x.application.dba})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-300",children:"Business Type:"}),r.jsx("span",{className:"ml-2 text-black dark:text-white",children:x.application.businessType||"N/A"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-300",children:"Monthly Volume:"}),r.jsx("span",{className:"ml-2 text-black dark:text-white",children:x.application.monthlyVolume?`$${x.application.monthlyVolume.toLocaleString()}`:"N/A"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-300",children:"Average Ticket:"}),r.jsx("span",{className:"ml-2 text-black dark:text-white",children:x.application.averageTicket?`$${x.application.averageTicket.toLocaleString()}`:"N/A"})]})]})]})}),r.jsx(U,{className:"bg-gray-50 dark:bg-gray-800/50",children:r.jsxs(B,{className:"p-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-black dark:text-white mb-4 flex items-center",children:[r.jsx(pc,{className:"h-5 w-5 mr-2 text-yellow-600"}),"Contact Information"]}),r.jsxs("div",{className:"space-y-3 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-300",children:"Contact Name:"}),r.jsx("span",{className:"ml-2 text-black dark:text-white",children:x.application.businessContactName})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-300",children:"Email:"}),r.jsx("span",{className:"ml-2 text-black dark:text-white",children:x.application.email})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-300",children:"Phone:"}),r.jsx("span",{className:"ml-2 text-black dark:text-white",children:x.application.phone})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-300",children:"Status:"}),r.jsx("span",{className:"ml-2",children:_(x.application.status)})]})]})]})})]}),x.application.notes&&r.jsx(U,{className:"bg-gray-50 dark:bg-gray-800/50",children:r.jsxs(B,{className:"p-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-black dark:text-white mb-4 flex items-center",children:[r.jsx(et,{className:"h-5 w-5 mr-2 text-yellow-600"}),"Complete Form Submission Details"]}),r.jsx("div",{className:"bg-white dark:bg-gray-700 p-4 rounded-lg border",children:r.jsx("pre",{className:"text-sm text-black dark:text-white whitespace-pre-wrap font-mono",children:x.application.notes})})]})}),r.jsx(U,{className:"bg-gray-50 dark:bg-gray-800/50",children:r.jsxs(B,{className:"p-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-black dark:text-white mb-4",children:"Application Timeline"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-300",children:"Submitted:"}),r.jsx("span",{className:"text-black dark:text-white",children:new Date(x.application.submittedAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-300",children:"Current Status:"}),r.jsx("span",{children:_(x.application.status)})]})]})]})}),r.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t",children:[r.jsx(I,{variant:"outline",onClick:()=>h({open:!1,application:null}),children:"Close"}),r.jsxs(I,{onClick:()=>{h({open:!1,application:null}),m({open:!0,application:x.application})},className:"bg-yellow-500 hover:bg-yellow-600 text-black",children:[r.jsx(yi,{className:"h-4 w-4 mr-2"}),"Send Email"]})]})]})})]})})]})}function WSe(e,t=3e3){const n=_t();g.useEffect(()=>{const s=setInterval(()=>{n.invalidateQueries({queryKey:["/api/real-data/status",e]})},t),a=()=>{n.invalidateQueries({queryKey:["/api/real-data/status",e]})};return window.addEventListener("uploadComplete",a),()=>{clearInterval(s),window.removeEventListener("uploadComplete",a)}},[e,n,t])}function HSe({selectedMonth:e,selectedYear:t}){var b,w,S,N;const{toast:n}=pt(),s=_t(),[a,i]=g.useState(null),o=`${t}-${e.padStart(2,"0")}`,l=localStorage.getItem("username")||"admin";WSe(o,1e4);const{data:c,isLoading:d,error:u,isFetching:m}=ve({queryKey:["/api/real-data/status",o],queryFn:async()=>{const j=await fetch(`/api/real-data/status/${o}`,{cache:"no-cache",headers:{"Cache-Control":"no-cache"}});if(!j.ok)throw j.status===429?new Error("Rate limited - please wait before refreshing"):new Error(`Failed to fetch data status: ${j.statusText}`);return j.json()},enabled:!!e&&!!t,refetchOnMount:!0,refetchOnWindowFocus:!1,staleTime:5e3,retry:(j,C)=>C.message.includes("Rate limited")?!1:j<3,retryDelay:j=>Math.min(1e3*2**j,3e4)}),p=Oe({mutationFn:async({processorId:j,month:C,reason:A})=>{const k=await fetch("/api/real-data/declare-no-mids",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({processorId:j,month:C,declaredBy:l,reason:A||"No new MIDs this month"})});if(!k.ok)throw new Error(`Failed to declare no MIDs: ${k.statusText}`);return k.json()},onSuccess:()=>{s.invalidateQueries({queryKey:["/api/real-data/status",o]}),n({title:"Success",description:"No MID declaration recorded successfully"})},onError:j=>{n({title:"Error",description:j.message,variant:"destructive"})}}),f=Oe({mutationFn:async({processorId:j,month:C})=>{const A=await fetch(`/api/real-data/remove-no-mids/${j}/${C}`,{method:"DELETE"});if(!A.ok)throw new Error(`Failed to remove no MID declaration: ${A.statusText}`);return A.json()},onSuccess:()=>{s.invalidateQueries({queryKey:["/api/real-data/status",o]}),n({title:"Success",description:"No MID declaration removed successfully"})},onError:j=>{n({title:"Error",description:j.message,variant:"destructive"})}}),x=(j,C)=>{if(C>0)return r.jsx(qe,{className:"h-5 w-5 text-green-600"});switch(j){case"validated":case"compiled":case"passed":return r.jsx(qe,{className:"h-5 w-5 text-green-600"});case"needs_upload":case"pending":return r.jsx(Rr,{className:"h-5 w-5 text-yellow-600"});case"error":return r.jsx(ht,{className:"h-5 w-5 text-red-600"});default:return r.jsx(Rr,{className:"h-5 w-5 text-gray-400"})}},h=(j,C)=>C>0?r.jsx(oe,{variant:"default",className:"bg-green-100 text-green-800",children:" Uploaded"}):r.jsx(oe,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:" Pending"}),y=j=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(j),v=j=>new Intl.NumberFormat("en-US").format(j);return d?r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-yellow-600 mx-auto"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Loading data status..."})]})}):u||!c?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(ht,{className:"h-12 w-12 text-red-600 mx-auto mb-4"}),r.jsx("p",{className:"text-red-600",children:"Failed to load data status"}),r.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Error: ",(u==null?void 0:u.message)||"Unknown error"]})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs(U,{className:"border-2 border-yellow-200 bg-yellow-50",children:[r.jsx(X,{children:r.jsxs(J,{className:"flex items-center gap-2",children:[r.jsx(ki,{className:"h-5 w-5 text-yellow-600"}),c.month," Data Summary"]})}),r.jsxs(B,{children:[r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:v(c.summary.totalRecords)}),r.jsx("div",{className:"text-sm text-gray-600",children:"Total Records"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:y(c.summary.totalRevenue)}),r.jsx("div",{className:"text-sm text-gray-600",children:"Total Revenue"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[c.summary.uploadedProcessors,"/",c.summary.totalProcessors]}),r.jsx("div",{className:"text-sm text-gray-600",children:"Processors Active"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:v(c.summary.totalTransactions)}),r.jsx("div",{className:"text-sm text-gray-600",children:"Transactions"})]})]}),r.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[r.jsxs("div",{className:"text-xs text-gray-500",children:[u&&((b=u.message)==null?void 0:b.includes("Rate limited"))&&" Rate limited - please wait",u&&!((w=u.message)!=null&&w.includes("Rate limited"))&&" Error loading data",m&&!u&&" Refreshing data...",!m&&!u&&" Data current"]}),r.jsx(I,{variant:"outline",size:"sm",onClick:()=>{m||s.invalidateQueries({queryKey:["/api/real-data/status",o]})},disabled:m||!!(u&&((S=u.message)!=null&&S.includes("Rate limited"))),children:" Refresh Now"})]})]})]}),r.jsxs(U,{className:"border-2 border-blue-400 bg-blue-50",children:[r.jsx(X,{children:r.jsxs(J,{className:"flex items-center gap-2",children:[r.jsx(ki,{className:"h-5 w-5 text-blue-600"}),"Master Lead Data (Step 1)"]})}),r.jsx(B,{children:r.jsxs("div",{className:"space-y-3",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Upload the Master Lead Data spreadsheet containing MIDs and branch numbers to cross-reference with processor reports."}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"text-sm font-medium",children:["Status: ",c.processors.some(j=>j.leadSheetStatus==="validated")?r.jsxs("span",{className:"text-green-600 flex items-center gap-1",children:[r.jsx(qe,{className:"h-4 w-4"}),"Uploaded"]}):r.jsx("span",{className:"text-orange-600",children:"Not uploaded"})]})}),c.processors.some(j=>j.leadSheetStatus==="validated")&&r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-lg font-bold text-green-700",children:((N=c.leadSheetData)==null?void 0:N.recordCount)||0}),r.jsx("div",{className:"text-green-600",children:"Lead Records"})]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(I,{variant:"default",className:"flex items-center gap-1 bg-blue-600 hover:bg-blue-700",onClick:()=>{const j=document.createElement("input");j.type="file",j.accept=".csv,.xlsx,.xls",j.onchange=async C=>{var k,O;const A=(k=C.target)==null?void 0:k.files[0];if(A){const M=new FormData;M.append("file",A);try{const P=await fetch(`/api/residuals-workflow/upload-lead-sheet/${o}`,{method:"POST",body:M});if(P.ok){const _=await P.json();n({title:"Upload Successful",description:`Master Lead Data uploaded successfully. ${((O=_.results)==null?void 0:O.recordCount)||0} records processed.`}),s.removeQueries({queryKey:["/api/real-data/status"]}),s.invalidateQueries({queryKey:["/api/real-data/status",o]}),setTimeout(()=>{s.refetchQueries({queryKey:["/api/real-data/status",o]})},500)}else throw new Error("Upload failed")}catch{n({title:"Upload Failed",description:"Failed to upload Master Lead Data. Please try again.",variant:"destructive"})}}},j.click()},children:[r.jsx(rr,{className:"h-4 w-4"}),c.processors.some(j=>j.leadSheetStatus==="validated")?"Re-upload":"Upload"," Master Lead Data"]}),c.processors.some(j=>j.leadSheetStatus==="validated")&&r.jsxs(I,{variant:"outline",className:"flex items-center gap-1 text-red-600 border-red-300 hover:bg-red-50",onClick:async()=>{try{if((await fetch(`/api/residuals-workflow/delete-lead-sheet/${o}`,{method:"DELETE"})).ok)n({title:"Lead Data Deleted",description:"Master Lead Data has been deleted successfully."}),s.removeQueries({queryKey:["/api/real-data/status"]}),s.invalidateQueries({queryKey:["/api/real-data/status",o]}),setTimeout(()=>{s.refetchQueries({queryKey:["/api/real-data/status",o]})},500);else throw new Error("Delete failed")}catch{n({title:"Delete Failed",description:"Failed to delete Master Lead Data. Please try again.",variant:"destructive"})}},children:[r.jsx(br,{className:"h-4 w-4"}),"Delete Lead Data"]})]})]})]})})]}),r.jsx("div",{className:"grid gap-4",children:c.processors.map(j=>r.jsxs(U,{className:"transition-all duration-200 hover:shadow-md",children:[r.jsx(X,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(J,{className:"text-lg font-semibold",children:j.processorName}),r.jsxs("div",{className:"flex items-center gap-2",children:[h(j.uploadStatus,j.recordCount),x(j.uploadStatus,j.recordCount)]})]})}),r.jsx(B,{children:r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"text-sm font-medium text-gray-700",children:j.validationMessage}),j.recordCount>0&&r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 p-3 bg-gray-50 rounded-md",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"font-semibold text-green-600",children:v(j.recordCount)}),r.jsx("div",{className:"text-xs text-gray-600",children:"Records"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"font-semibold text-green-600",children:y(j.totalRevenue)}),r.jsx("div",{className:"text-xs text-gray-600",children:"Revenue"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"font-semibold text-blue-600",children:y(j.totalVolume)}),r.jsx("div",{className:"text-xs text-gray-600",children:"Volume"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"font-semibold text-purple-600",children:v(j.totalTransactions)}),r.jsx("div",{className:"text-xs text-gray-600",children:"Transactions"})]})]}),r.jsx("div",{className:"flex gap-2",children:j.recordCount>0?r.jsxs(r.Fragment,{children:[r.jsxs(I,{variant:"outline",size:"sm",onClick:()=>i(a===j.processorId?null:j.processorId),className:"flex items-center gap-1",children:[r.jsx(Jn,{className:"h-4 w-4"}),"View Details"]}),r.jsxs(I,{variant:"outline",size:"sm",className:"flex items-center gap-1",onClick:()=>{const C=document.createElement("input");C.type="file",C.accept=".csv,.xlsx",C.onchange=async A=>{var O,M,P;const k=(M=(O=A.target)==null?void 0:O.files)==null?void 0:M[0];if(k){const _=new FormData;_.append("file",k);try{const E=await fetch(`/api/residuals-workflow/upload/${o}/${j.processorId}`,{method:"POST",body:_});if(E.ok){const T=await E.json();n({title:"Re-upload Successful",description:`${j.processorName} data re-uploaded successfully. ${((P=T.results)==null?void 0:P.recordCount)||0} records processed.`}),s.removeQueries({queryKey:["/api/real-data/status"]}),s.invalidateQueries({queryKey:["/api/real-data/status",o]}),setTimeout(()=>{s.refetchQueries({queryKey:["/api/real-data/status",o]})},500)}else throw new Error("Re-upload failed")}catch{n({title:"Re-upload Failed",description:`Failed to re-upload ${j.processorName} data. Please try again.`,variant:"destructive"})}}},C.click()},children:[r.jsx(ki,{className:"h-4 w-4"}),"Re-upload"]}),r.jsxs(I,{variant:"outline",size:"sm",className:"flex items-center gap-1 text-red-600 border-red-300 hover:bg-red-50",onClick:async()=>{try{if((await fetch(`/api/residuals-workflow/delete/${o}/${j.processorId}`,{method:"DELETE"})).ok)n({title:"Data Deleted",description:`${j.processorName} data has been deleted successfully.`}),s.removeQueries({queryKey:["/api/real-data/status"]}),s.invalidateQueries({queryKey:["/api/real-data/status",o]}),setTimeout(()=>{s.refetchQueries({queryKey:["/api/real-data/status",o]})},500);else throw new Error("Delete failed")}catch{n({title:"Delete Failed",description:`Failed to delete ${j.processorName} data. Please try again.`,variant:"destructive"})}},children:[r.jsx(br,{className:"h-4 w-4"}),"Delete Data"]})]}):j.hasNoMidDeclaration?r.jsxs("div",{className:"flex gap-2 items-center",children:[r.jsxs("div",{className:"flex items-center gap-1 text-green-600 text-sm font-medium",children:[r.jsx(qe,{className:"h-4 w-4"}),"No new MIDs declared"]}),r.jsxs(I,{variant:"outline",size:"sm",onClick:()=>f.mutate({processorId:j.processorId,month:o}),disabled:f.isPending,className:"text-red-600 border-red-300 hover:bg-red-50",children:[r.jsx(pk,{className:"h-4 w-4 mr-1"}),"Remove Declaration"]})]}):r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(I,{variant:"default",size:"sm",className:"flex items-center gap-1 bg-yellow-600 hover:bg-yellow-700",onClick:()=>{const C=document.createElement("input");C.type="file",C.accept=".csv,.xlsx",C.onchange=async A=>{var O,M,P;const k=(M=(O=A.target)==null?void 0:O.files)==null?void 0:M[0];if(k){const _=new FormData;_.append("file",k);try{const E=await fetch(`/api/residuals-workflow/upload/${o}/${j.processorId}`,{method:"POST",body:_});if(E.ok){const T=await E.json();n({title:"Upload Successful",description:`${j.processorName} data uploaded successfully. ${((P=T.results)==null?void 0:P.recordCount)||0} records processed.`}),s.removeQueries({queryKey:["/api/real-data/status"]}),s.invalidateQueries({queryKey:["/api/real-data/status",o]}),setTimeout(()=>{s.refetchQueries({queryKey:["/api/real-data/status",o]})},500)}else throw new Error("Upload failed")}catch{n({title:"Upload Failed",description:`Failed to upload ${j.processorName} data. Please try again.`,variant:"destructive"})}}},C.click()},children:[r.jsx(rr,{className:"h-4 w-4"}),"Upload ",j.processorName," Data"]}),r.jsxs(I,{variant:"outline",size:"sm",onClick:()=>p.mutate({processorId:j.processorId,month:o}),disabled:p.isPending,className:"text-blue-600 border-blue-300 hover:bg-blue-50",children:[r.jsx(pk,{className:"h-4 w-4 mr-1"}),"No New MIDs"]})]})}),a===j.processorId&&j.recordCount>0&&r.jsxs("div",{className:"mt-3 p-3 border rounded-md bg-white",children:[r.jsx("h4",{className:"font-medium mb-2",children:"Processing Status"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Upload Status:"}),r.jsx("span",{className:"font-medium text-green-600",children:" Validated"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Lead Sheet:"}),r.jsx("span",{className:"font-medium text-green-600",children:" Validated"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Compilation:"}),r.jsx("span",{className:"font-medium text-green-600",children:" Compiled"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Audit Status:"}),r.jsx("span",{className:"font-medium text-green-600",children:" Passed"})]})]}),r.jsxs("div",{className:"mt-2 text-xs text-gray-600",children:["File: ",j.fileName,"  Size: ",j.fileSize?Math.round(j.fileSize/1024):0,"KB"]})]})]})})]},j.processorId))})]})}function KSe(e,t=[]){let n=[];function s(i,o){const l=g.createContext(o);l.displayName=i+"Context";const c=n.length;n=[...n,o];const d=m=>{var v;const{scope:p,children:f,...x}=m,h=((v=p==null?void 0:p[e])==null?void 0:v[c])||l,y=g.useMemo(()=>x,Object.values(x));return r.jsx(h.Provider,{value:y,children:f})};d.displayName=i+"Provider";function u(m,p){var h;const f=((h=p==null?void 0:p[e])==null?void 0:h[c])||l,x=g.useContext(f);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=n.map(o=>g.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return g.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,GSe(a,...t)]}function GSe(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const m=c(i)[`__scope${d}`];return{...l,...m}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var YSe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],h4=YSe.reduce((e,t)=>{const n=Cp(`Primitive.${t}`),s=g.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:i})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function QSe(){return n5.useSyncExternalStore(XSe,()=>!0,()=>!1)}function XSe(){return()=>{}}var p4="Avatar",[ZSe]=KSe(p4),[JSe,J8]=ZSe(p4),eL=g.forwardRef((e,t)=>{const{__scopeAvatar:n,...s}=e,[a,i]=g.useState("idle");return r.jsx(JSe,{scope:n,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:r.jsx(h4.span,{...s,ref:t})})});eL.displayName=p4;var tL="AvatarImage",rL=g.forwardRef((e,t)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:a=()=>{},...i}=e,o=J8(tL,n),l=e4e(s,i),c=xr(d=>{a(d),o.onImageLoadingStatusChange(d)});return Cr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?r.jsx(h4.img,{...i,ref:t,src:s}):null});rL.displayName=tL;var nL="AvatarFallback",sL=g.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:s,...a}=e,i=J8(nL,n),[o,l]=g.useState(s===void 0);return g.useEffect(()=>{if(s!==void 0){const c=window.setTimeout(()=>l(!0),s);return()=>window.clearTimeout(c)}},[s]),o&&i.imageLoadingStatus!=="loaded"?r.jsx(h4.span,{...a,ref:t}):null});sL.displayName=nL;function c_(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function e4e(e,{referrerPolicy:t,crossOrigin:n}){const s=QSe(),a=g.useRef(null),i=s?(a.current||(a.current=new window.Image),a.current):null,[o,l]=g.useState(()=>c_(i,e));return Cr(()=>{l(c_(i,e))},[i,e]),Cr(()=>{const c=m=>()=>{l(m)};if(!i)return;const d=c("loaded"),u=c("error");return i.addEventListener("load",d),i.addEventListener("error",u),t&&(i.referrerPolicy=t),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",d),i.removeEventListener("error",u)}},[i,n,t]),o}var aL=eL,iL=rL,oL=sL;const lL=g.forwardRef(({className:e,...t},n)=>r.jsx(aL,{ref:n,className:ye("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));lL.displayName=aL.displayName;const t4e=g.forwardRef(({className:e,...t},n)=>r.jsx(iL,{ref:n,className:ye("aspect-square h-full w-full",e),...t}));t4e.displayName=iL.displayName;const cL=g.forwardRef(({className:e,...t},n)=>r.jsx(oL,{ref:n,className:ye("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));cL.displayName=oL.displayName;function r4e({role:e,value:t,onChange:n,placeholder:s="Select...",className:a}){const[i,o]=g.useState(!1),[l,c]=g.useState(""),{data:d,isLoading:u,refetch:m,error:p}=ve({queryKey:[`/api/roster/${e}`],queryFn:async()=>{const h=await fetch(`/api/roster/${e}`);if(!h.ok)throw new Error(`Failed to fetch ${e} roster`);return(await h.json()).data||[]},staleTime:1e3*60*5,enabled:!!e});console.log(`RosterSelector for ${e}:`,{isLoading:u,rosterData:d,error:p,dataLength:d==null?void 0:d.length});const f=async()=>{if(l.trim())try{(await fetch(`/api/roster/${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:l.trim()})})).ok&&(c(""),o(!1),m(),n(l.trim()))}catch(h){console.error("Error adding to roster:",h)}},x={agents:"Agent",partners:"Partner",managers:"Manager",companies:"Company",associations:"Association"};return r.jsxs("div",{className:`flex gap-2 ${a}`,children:[r.jsxs(ze,{value:t,onValueChange:n,children:[r.jsx(Re,{className:"flex-1",children:r.jsx(Fe,{placeholder:s})}),r.jsx($e,{className:"z-50",children:!u&&(d==null?void 0:d.map(h=>r.jsx(Y,{value:h,children:h},h)))})]}),r.jsxs(jt,{open:i,onOpenChange:o,children:[r.jsx(pn,{asChild:!0,children:r.jsx(I,{variant:"outline",size:"sm",className:"px-3",title:`Add new ${x[e].toLowerCase()}`,children:r.jsx(ir,{className:"h-4 w-4"})})}),r.jsxs(yt,{children:[r.jsx(vt,{children:r.jsxs(bt,{children:["Add New ",x[e]]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{children:r.jsx(ee,{value:l,onChange:h=>c(h.target.value),placeholder:`Enter ${x[e].toLowerCase()} name`,onKeyDown:h=>{h.key==="Enter"&&f()}})}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(I,{variant:"outline",onClick:()=>{o(!1),c("")},children:"Cancel"}),r.jsxs(I,{onClick:f,disabled:!l.trim(),className:"bg-yellow-400 hover:bg-yellow-500 text-black",children:["Add ",x[e]]})]})]})]})]})]})}const n4e=({value:e,onChange:t})=>{const[n,s]=g.useState(!1),[a,i]=g.useState(""),o=[{value:"agent",label:"Rep"},{value:"partner",label:"Partner"},{value:"sales_manager",label:"Sales Manager"},{value:"company",label:"Company"},{value:"association",label:"Association"}],l=()=>{a.trim()&&(t(a.trim()),i(""),s(!1))};return n?r.jsxs("div",{className:"flex gap-2",children:[r.jsx(ee,{value:a,onChange:c=>i(c.target.value),placeholder:"Enter custom role type",className:"flex-1",onKeyDown:c=>{c.key==="Enter"&&(c.preventDefault(),l()),c.key==="Escape"&&(s(!1),i(""))}}),r.jsx(I,{size:"sm",onClick:l,disabled:!a.trim(),className:"bg-yellow-400 hover:bg-yellow-500 text-black",children:r.jsx(Zn,{className:"h-4 w-4"})}),r.jsx(I,{size:"sm",variant:"outline",onClick:()=>{s(!1),i("")},children:r.jsx(br,{className:"h-4 w-4"})})]}):r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(ze,{value:e,onValueChange:t,children:[r.jsx(Re,{className:"flex-1",children:r.jsx(Fe,{placeholder:"Select role type"})}),r.jsxs($e,{className:"border shadow-lg z-50",children:[o.map(c=>r.jsx(Y,{value:c.value,children:c.label},c.value)),e&&!o.find(c=>c.value===e)&&r.jsx(Y,{value:e,children:e.replace("_"," ").replace(/\b\w/g,c=>c.toUpperCase())})]})]}),r.jsx(I,{size:"sm",variant:"outline",onClick:()=>s(!0),title:"Add custom role type",children:r.jsx(ir,{className:"h-4 w-4"})})]})},s4e=({roleType:e,value:t,onChange:n})=>{const a=(i=>{switch(i.toLowerCase()){case"agent":case"sales rep":return"agents";case"partner":return"partners";case"sales_manager":case"manager":return"managers";case"company":return"companies";case"association":return"associations";default:return"agents"}})(e);return console.log(`UsernameSelect mapping: roleType="${e}"  mappedRole="${a}"`),r.jsx(r4e,{role:a,value:t,onChange:n,placeholder:`Select ${e.toLowerCase()}`})},d_=({assignments:e})=>{const t=a=>a.split(" ").map(i=>i.charAt(0)).join("").toUpperCase().slice(0,2),n=a=>({agent:"bg-blue-500",partner:"bg-green-500",sales_manager:"bg-purple-500",company:"bg-orange-500",association:"bg-pink-500"})[a]||"bg-gray-500",s=a=>a==="agent"?"Rep":a.replace("_"," ").replace(/\b\w/g,i=>i.toUpperCase());return r.jsx(ds,{children:r.jsx("div",{className:"flex -space-x-2",children:e.map((a,i)=>r.jsxs(Or,{children:[r.jsx(Er,{children:r.jsx(lL,{className:"h-8 w-8 border-2 border-white cursor-pointer hover:scale-110 transition-transform",children:r.jsx(cL,{className:`${n(a.roleType)} text-white text-xs font-semibold`,children:t(a.userName)})})}),r.jsx(Sr,{side:"top",className:"bg-gray-900 text-white border-gray-700",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"font-semibold",children:a.userName}),r.jsx("div",{className:"text-sm opacity-90",children:s(a.roleType)}),r.jsxs("div",{className:"text-sm font-bold text-green-400",children:[a.percentage,"%"]})]})})]},i))})})};function a4e({selectedMonth:e}){var D;const{toast:t}=pt(),n=_t(),[s,a]=g.useState({}),[i,o]=g.useState(null),[l,c]=g.useState(null),[d,u]=g.useState([]),[m,p]=g.useState(!1),[f,x]=g.useState("unassigned"),{data:h,isLoading:y}=ve({queryKey:["/api/residuals-workflow/role-assignment/unassigned",e],queryFn:async()=>{const V=await fetch(`/api/residuals-workflow/role-assignment/unassigned/${e}`);if(!V.ok)throw new Error("Failed to fetch unassigned MIDs");const F=await V.json();if(F.unassignedMIDs&&Array.isArray(F.unassignedMIDs)){const z=new Map;F.unassignedMIDs.forEach(Q=>{(!z.has(Q.mid)||z.get(Q.mid).monthly_revenue<Q.monthly_revenue)&&z.set(Q.mid,Q)}),F.unassignedMIDs=Array.from(z.values()).sort((Q,te)=>parseFloat(te.monthly_revenue||"0")-parseFloat(Q.monthly_revenue||"0"))}return F}}),{data:v,isLoading:b}=ve({queryKey:["/api/residuals-workflow/role-assignment/completed",e],queryFn:async()=>{const V=await fetch(`/api/residuals-workflow/role-assignment/completed/${e}`);if(!V.ok)throw new Error("Failed to fetch completed assignments");return V.json()}}),w=(h==null?void 0:h.unassignedMIDs)||h||[],S=h==null?void 0:h.status,N=h==null?void 0:h.message,{data:j}=ve({queryKey:["/api/real-data/status",e],queryFn:async()=>{const V=await fetch(`/api/real-data/status/${e}`);if(!V.ok)throw new Error("Failed to fetch monthly data");return V.json()}});g.useEffect(()=>{if(w&&w.length>0){const V={};w.forEach(F=>{if(F.original_column_i&&F.original_column_i.trim()){const z=C(F.original_column_i);z.length>0&&(V[F.mid]=z)}}),a(V)}},[w]);const C=V=>{const F=[];return!V||!V.trim()||[{type:"agent",patterns:["(?:agent|agt):\\s*([^,()%]+?)\\s*(\\d+(?:\\.\\d+)?)%","([^,()%]+?)\\s*\\(?(?:agent|agt)\\s*(\\d+(?:\\.\\d+)?)%\\)?"]},{type:"partner",patterns:["(?:partner|prtnr):\\s*([^,()%]+?)\\s*(\\d+(?:\\.\\d+)?)%","([^,()%]+?)\\s*\\(?(?:partner|prtnr)\\s*(\\d+(?:\\.\\d+)?)%\\)?"]},{type:"sales_manager",patterns:["(?:sales\\s*manager|manager|mgr):\\s*([^,()%]+?)\\s*(\\d+(?:\\.\\d+)?)%","([^,()%]+?)\\s*\\(?(?:sales\\s*manager|manager|mgr)\\s*(\\d+(?:\\.\\d+)?)%\\)?"]},{type:"company",patterns:["(?:company|comp):\\s*([^,()%]+?)\\s*(\\d+(?:\\.\\d+)?)%","([^,()%]+?)\\s*\\(?(?:company|comp)\\s*(\\d+(?:\\.\\d+)?)%\\)?","company:\\s*(\\d+(?:\\.\\d+)?)%"]},{type:"association",patterns:["(?:association|assoc):\\s*([^,()%]+?)\\s*(\\d+(?:\\.\\d+)?)%","([^,()%]+?)\\s*\\(?(?:association|assoc)\\s*(\\d+(?:\\.\\d+)?)%\\)?"]}].forEach(({type:Q,patterns:te})=>{te.forEach(me=>{const ge=new RegExp(me,"gi");let he;for(;(he=ge.exec(V))!==null;){let Ce="",se=0;he[1]&&he[2]?(Ce=he[1].trim(),se=parseFloat(he[2])):he[1]&&me.includes("company:")&&(Ce="Company",se=parseFloat(he[1])),Ce=Ce.replace(/[,:&()]/g," ").trim(),Ce&&se>0&&se<=100&&(F.find(xe=>xe.roleType===Q&&xe.userName.toLowerCase()===Ce.toLowerCase())||F.push({roleType:Q,userName:Ce,percentage:se}))}})}),F},A=Oe({mutationFn:async({mid:V,assignments:F})=>{const z=await fetch("/api/residuals-workflow/role-assignment/assign",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({mid:V,month:e,assignments:F})});if(!z.ok)throw new Error("Failed to assign roles");return z.json()},onSuccess:()=>{n.invalidateQueries({queryKey:["/api/residuals-workflow/role-assignment/unassigned",e]}),n.invalidateQueries({queryKey:["/api/residuals-workflow/role-assignment/completed",e]}),t({title:"Success",description:"Role assignments saved successfully"})},onError:V=>{t({title:"Error",description:V.message,variant:"destructive"})}}),k=async()=>{try{const V=await fetch("/api/residuals-workflow/role-assignment/auto-parse-bulk",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({month:e})});if(!V.ok)throw new Error("Failed to parse bulk assignments");const F=await V.json();if(F.success&&F.parsedAssignments.length>0){const z={...s};F.parsedAssignments.forEach(Q=>{z[Q.mid]=Q.assignments}),a(z),t({title:"Bulk Parsing Complete",description:`Successfully parsed ${F.totalParsed} assignments from Column I data`})}else t({title:"No Data to Parse",description:"No Column I data found to auto-parse",variant:"destructive"})}catch{t({title:"Parsing Failed",description:"Could not parse Column I data",variant:"destructive"})}},O=async()=>{try{t({title:"Cleaning Up Duplicates",description:"Removing duplicate MID entries..."});const V=await fetch(`/api/residuals-workflow/cleanup-duplicates/${e}`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!V.ok)throw new Error("Failed to cleanup duplicates");const F=await V.json();if(F.success){const{assignmentCleanup:z,monthlyDataCleanup:Q}=F.results,te=z.removed+Q.removed;n.invalidateQueries({queryKey:["/api/residuals-workflow/role-assignment/unassigned",e]}),t({title:"Cleanup Complete",description:`Removed ${te} duplicate entries. ${z.kept+Q.kept} unique records kept.`})}else t({title:"Cleanup Failed",description:F.error||"Could not remove duplicates",variant:"destructive"})}catch{t({title:"Cleanup Failed",description:"Could not remove duplicate MIDs",variant:"destructive"})}},M=async V=>{const F=V.mid;o(F),c(V);try{const z=await fetch(`/api/residuals-workflow/role-assignment/existing/${F}`);if(z.ok){const Q=await z.json();if(Q.success&&Q.assignments.length>0)u([...Q.assignments.map(te=>({roleType:te.roleType,userName:te.userName,percentage:te.percentage,isCompleted:te.isCompleted}))]);else{const te=s[F]||[];te.length===0?u([{roleType:"agent",userName:"",percentage:100}]):u([...te])}}}catch(z){console.error("Failed to fetch existing assignments:",z);const Q=s[F]||[];Q.length===0?u([{roleType:"agent",userName:"",percentage:100}]):u([...Q])}p(!0)},P=()=>{u([...d,{roleType:"agent",userName:"",percentage:0}])},_=(V,F,z)=>{const Q=[...d];Q[V]={...Q[V],[F]:z},u(Q)},E=V=>{u(d.filter((F,z)=>z!==V))},T=()=>d.reduce((V,F)=>V+(F.percentage||0),0),$=()=>{const V=T();if(Math.abs(V-100)>.01){t({title:"Invalid Assignment",description:`Total percentage must equal 100%. Current total: ${V.toFixed(2)}%`,variant:"destructive"});return}if(d.some(F=>!F.userName.trim())){t({title:"Invalid Assignment",description:"All roles must have a user name assigned",variant:"destructive"});return}i&&A.mutate({mid:i,assignments:d},{onSuccess:()=>{const F=d.map(z=>({...z,isCompleted:!0}));a(z=>({...z,[i]:F})),p(!1),o(null),c(null),u([]),t({title:"Assignment Completed",description:`Role assignments saved for MID ${i}`})},onError:F=>{t({title:"Save Failed",description:F.message||"Failed to save assignments",variant:"destructive"})}})},q=(v==null?void 0:v.completedAssignments)||[],R=(v==null?void 0:v.summary)||{totalCompleted:0,totalRevenue:0};return y||b?r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsx("div",{className:"text-lg text-gray-600",children:"Loading role assignments..."})}):!w||w.length===0?S==="no_data_uploaded"?r.jsxs(U,{children:[r.jsx(X,{children:r.jsxs(J,{className:"flex items-center gap-2",children:[r.jsx(cr,{className:"h-5 w-5 text-yellow-600"}),"No Data Uploaded Yet"]})}),r.jsxs(B,{children:[r.jsx("p",{className:"text-gray-600 mb-4",children:N||`No processor data has been uploaded for ${e} yet.`}),r.jsx("p",{className:"text-sm text-gray-500",children:"Please upload the Master Lead Data spreadsheet and processor reports first to see MIDs that need role assignments."})]})]}):r.jsxs(U,{children:[r.jsx(X,{children:r.jsxs(J,{className:"flex items-center gap-2",children:[r.jsx(qe,{className:"h-5 w-5 text-green-600"}),"All MIDs Assigned"]})}),r.jsx(B,{children:r.jsxs("p",{className:"text-gray-600",children:["All MIDs for ",e," have been assigned roles. The system will remember these assignments for future months."]})})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs(U,{className:"border-2 border-yellow-400 bg-white chrome-highlight",children:[r.jsxs(X,{children:[r.jsxs(J,{className:"flex items-center gap-2",children:[r.jsx(St,{className:"h-5 w-5 text-yellow-600"}),"Role Assignment - ",e]}),w.length>0&&w.every(V=>!V.original_column_i)&&r.jsx("div",{className:"mt-2 p-3 bg-orange-50 border border-orange-200 rounded-lg",children:r.jsxs("p",{className:"text-sm text-orange-800",children:[r.jsx(cr,{className:"h-4 w-4 inline mr-1"}),r.jsx("strong",{children:"Column I Data Missing:"})," The uploaded files don't contain Column I assignment data. You'll need to manually set up role assignments for each MID."]})})]}),r.jsx(B,{children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"text-center p-3 bg-white border-2 border-gray-300 rounded",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-700",children:w.length}),r.jsx("div",{className:"text-sm text-gray-600",children:"Total MIDs"})]}),r.jsxs("div",{className:"text-center p-3 bg-white border-2 border-green-400 rounded chrome-highlight",children:[r.jsx("div",{className:"text-2xl font-bold text-green-700",children:Object.keys(s).filter(V=>s[V].some(F=>F.isCompleted)).length}),r.jsx("div",{className:"text-sm text-green-700",children:"Completed"})]}),r.jsxs("div",{className:"text-center p-3 bg-white border-2 border-yellow-400 rounded chrome-highlight",children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-700",children:w.length-Object.keys(s).filter(V=>s[V].some(F=>F.isCompleted)).length}),r.jsx("div",{className:"text-sm text-yellow-700",children:"Remaining"})]}),r.jsxs("div",{className:"text-center p-3 bg-white border-2 border-blue-400 rounded chrome-highlight",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-700",children:(D=j==null?void 0:j.summary)!=null&&D.totalRevenue?j.summary.totalRevenue.toLocaleString("en-US",{style:"currency",currency:"USD"}):w.reduce((V,F)=>V+parseFloat(F.monthly_revenue||"0"),0).toLocaleString("en-US",{style:"currency",currency:"USD"})}),r.jsx("div",{className:"text-sm text-blue-700",children:"Total Revenue"})]})]})})]}),r.jsxs(ns,{value:f,onValueChange:V=>x(V),children:[r.jsxs(Un,{className:"grid w-full grid-cols-2",children:[r.jsxs(ot,{value:"unassigned",className:"flex items-center gap-2",children:[r.jsx(cr,{className:"h-4 w-4"}),"Needs Assignment (",w.length,")"]}),r.jsxs(ot,{value:"completed",className:"flex items-center gap-2",children:[r.jsx(qe,{className:"h-4 w-4"}),"Completed (",q.length,")"]})]}),r.jsx(lt,{value:"unassigned",children:r.jsxs(U,{children:[r.jsx(X,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(J,{children:"MIDs Requiring Role Assignment"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(I,{className:"bg-purple-600 hover:bg-purple-700 text-white flex items-center gap-2",onClick:k,children:[r.jsx(St,{className:"h-4 w-4"}),"Auto-Parse All"]}),r.jsxs(I,{className:"bg-red-600 hover:bg-red-700 text-white flex items-center gap-2",onClick:O,children:[r.jsx(cr,{className:"h-4 w-4"}),"Remove Duplicates"]})]})]})}),r.jsx(B,{children:r.jsxs(_r,{children:[r.jsx(Tr,{children:r.jsxs(Ze,{children:[r.jsx(be,{children:"MID"}),r.jsx(be,{children:"Merchant Name"}),r.jsx(be,{children:"Revenue"}),r.jsx(be,{children:"Column I Content"}),r.jsx(be,{children:"Status"}),r.jsx(be,{children:"Edit"})]})}),r.jsx(Mr,{children:w.map((V,F)=>{var z,Q,te,me;return r.jsxs(Ze,{children:[r.jsx(de,{className:"font-mono text-sm",children:V.mid}),r.jsx(de,{children:V.merchant_name}),r.jsx(de,{children:parseFloat(V.monthly_revenue||"0").toLocaleString("en-US",{style:"currency",currency:"USD"})}),r.jsx(de,{className:"max-w-xs",children:r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"text-sm text-gray-600 truncate",title:V.original_column_i,children:V.original_column_i||r.jsx("span",{className:"text-orange-600 bg-orange-50 px-2 py-1 rounded text-xs",children:"No Column I data - Manual assignment required"})}),s[V.mid]&&s[V.mid].length>0&&r.jsx(d_,{assignments:s[V.mid]})]})}),r.jsx(de,{children:(z=s[V.mid])!=null&&z.some(ge=>ge.isCompleted)?r.jsxs(oe,{variant:"default",className:"bg-green-100 text-green-800",children:[r.jsx(qe,{className:"h-3 w-3 mr-1"}),"Completed"]}):s[V.mid]?r.jsxs(oe,{variant:"default",className:"bg-blue-100 text-blue-800",children:[r.jsx(zm,{className:"h-3 w-3 mr-1"}),"Parsed (",s[V.mid].length," roles)"]}):r.jsxs(oe,{variant:"secondary",children:[r.jsx(cr,{className:"h-3 w-3 mr-1"}),"Needs Assignment"]})}),r.jsx(de,{children:r.jsxs(I,{size:"sm",variant:"outline",onClick:()=>M(V),className:`${(Q=s[V.mid])!=null&&Q.some(ge=>ge.isCompleted)?"bg-green-50 hover:bg-green-100 text-green-700 border-green-200":"bg-blue-50 hover:bg-blue-100 text-blue-700 border-blue-200"}`,title:(te=s[V.mid])!=null&&te.some(ge=>ge.isCompleted)?"Edit completed assignment":"Edit assignment",children:[r.jsx(zm,{className:"h-4 w-4 mr-1"}),(me=s[V.mid])!=null&&me.some(ge=>ge.isCompleted)?"Modify":"Edit"]})})]},`${V.mid}-${F}`)})})]})})]})}),r.jsx(lt,{value:"completed",children:r.jsxs(U,{children:[r.jsx(X,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(J,{children:"Completed Role Assignments (100%)"}),r.jsxs("div",{className:"text-sm text-gray-600",children:[R.totalCompleted," MIDs  Total: $",R.totalRevenue.toLocaleString()]})]})}),r.jsx(B,{children:q.length===0?r.jsxs("div",{className:"text-center py-8 text-gray-500",children:["No completed assignments yet for ",e,". Assignments will appear here after you save them with 100% commission split."]}):r.jsxs(_r,{children:[r.jsx(Tr,{children:r.jsxs(Ze,{children:[r.jsx(be,{children:"MID"}),r.jsx(be,{children:"Merchant Name"}),r.jsx(be,{children:"Revenue"}),r.jsx(be,{children:"Processor"}),r.jsx(be,{children:"Role Assignments"}),r.jsx(be,{children:"Last Updated"}),r.jsx(be,{children:"Actions"})]})}),r.jsx(Mr,{children:q.map(V=>r.jsxs(Ze,{children:[r.jsx(de,{className:"font-mono",children:V.mid}),r.jsx(de,{children:V.merchant_name}),r.jsxs(de,{children:["$",parseFloat(V.monthly_revenue||"0").toLocaleString()]}),r.jsx(de,{children:V.processor}),r.jsx(de,{children:r.jsx(d_,{assignments:V.assignments})}),r.jsx(de,{children:new Date(V.last_updated).toLocaleDateString()}),r.jsx(de,{children:r.jsxs(I,{size:"sm",variant:"outline",onClick:()=>{o(V.mid),c({merchant_name:V.merchant_name,original_column_i:V.original_column_i}),u(V.assignments),p(!0)},className:"bg-blue-50 hover:bg-blue-100 text-blue-700 border-blue-200",children:[r.jsx(zm,{className:"h-4 w-4 mr-1"}),"Edit"]})})]},V.mid))})]})})]})})]}),r.jsx(jt,{open:m,onOpenChange:p,children:r.jsxs(yt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto bg-white border shadow-xl",children:[r.jsxs(vt,{children:[r.jsxs(bt,{className:"space-y-1",children:[r.jsxs("div",{children:["Edit Role Assignments - ",i]}),l&&r.jsxs("div",{className:"text-base font-normal text-gray-700",children:[r.jsx("span",{className:"font-semibold",children:l.merchant_name}),l.original_column_i&&r.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:[" Column I: ",l.original_column_i]})]})]}),r.jsx(jn,{children:"Manage commission splits for this MID. Total must equal 100% of monthly revenue."})]}),r.jsxs("div",{className:"space-y-4",children:[d.map((V,F)=>r.jsxs("div",{className:"p-4 border rounded-lg space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("h4",{className:"font-medium",children:["Role ",F+1]}),r.jsx(I,{size:"sm",variant:"destructive",onClick:()=>E(F),disabled:d.length===1,children:r.jsx(es,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx(K,{htmlFor:`role-type-${F}`,children:"Role Type"}),r.jsx(n4e,{value:V.roleType,onChange:z=>_(F,"roleType",z)})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:`user-name-${F}`,children:"User Name"}),r.jsx(s4e,{roleType:V.roleType,value:V.userName,onChange:z=>_(F,"userName",z)})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:`percentage-${F}`,children:"Commission %"}),r.jsx(ee,{id:`percentage-${F}`,type:"number",min:"0",max:"100",step:"0.01",value:V.percentage||"",onChange:z=>{const Q=z.target.value;(Q===""||!isNaN(parseFloat(Q)))&&_(F,"percentage",Q===""?0:parseFloat(Q))},placeholder:"0.00"})]})]})]},F)),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs(I,{type:"button",variant:"outline",onClick:P,className:"bg-green-50 hover:bg-green-100 text-green-700 border-green-200",children:[r.jsx(ir,{className:"h-4 w-4 mr-2"}),"Add Role"]}),r.jsxs("div",{className:"text-lg font-bold",children:["Total: ",T(),"%",T()!==100&&r.jsx("span",{className:"text-red-600 ml-2",children:"(Must equal 100%)"})]})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[r.jsx(I,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),r.jsxs(I,{onClick:$,className:"bg-yellow-400 hover:bg-yellow-500 text-black",disabled:T()!==100||d.some(V=>!V.userName.trim()),children:[r.jsx(vi,{className:"h-4 w-4 mr-2"}),"Save Assignments"]})]})]})]})})]})}function u_(){var w,S,N,j;const{toast:e}=pt();_t();const[t,n]=g.useState(()=>{const C=new Date;return`${C.getFullYear()}-${String(C.getMonth()+1).padStart(2,"0")}`}),[s,a]=g.useState(1),o=(()=>{const C=[],A=new Date;for(let k=12;k>=0;k--){const O=new Date(A.getFullYear(),A.getMonth()-k,1),M=O.toISOString().slice(0,7),P=O.toLocaleDateString("en-US",{year:"numeric",month:"long"});C.push({value:M,label:P})}for(let k=1;k<=6;k++){const O=new Date(A.getFullYear(),A.getMonth()+k,1),M=O.toISOString().slice(0,7),P=O.toLocaleDateString("en-US",{year:"numeric",month:"long"});C.push({value:M,label:P})}return C})(),{data:l,isLoading:c,refetch:d}=ve({queryKey:["/api/real-data/status",t],refetchInterval:5e3}),{data:u}=ve({queryKey:["/api/residuals-workflow/role-assignment/unassigned",t],enabled:(((w=l==null?void 0:l.summary)==null?void 0:w.totalRecords)||0)>0}),m=g.useMemo(()=>{var z,Q,te;if(!l)return{step1Complete:!1,step2Complete:!1,step3Complete:!1,step4Complete:!1,currentStep:1,overallProgress:0};const{processors:C,summary:A,leadSheetData:k}=l,O=C.every(me=>me.uploadStatus==="validated"),M=C.some(me=>me.leadSheetStatus==="validated"),P=O&&M&&((A==null?void 0:A.totalRecords)||0)>0,_=P&&((A==null?void 0:A.totalRecords)||0)>0,E=u!==void 0,T=(z=u==null?void 0:u.summary)==null?void 0:z.newUnassigned,q=_&&(E&&T===0),R=C.every(me=>me.auditStatus==="passed"),D=q&&R;let V=1;P&&!_?V=2:_&&!q?V=3:q&&!D?V=4:D&&(V=5);let F=0;return P&&(F+=25),_&&(F+=25),q&&(F+=25),D&&(F+=25),{step1Complete:P,step2Complete:_,step3Complete:q,step4Complete:D,currentStep:V,overallProgress:F,uploadedProcessors:(A==null?void 0:A.uploadedProcessors)||0,totalProcessors:(A==null?void 0:A.totalProcessors)||9,totalRecords:(A==null?void 0:A.totalRecords)||0,totalRevenue:(A==null?void 0:A.totalRevenue)||0,newUnassigned:((Q=u==null?void 0:u.summary)==null?void 0:Q.newUnassigned)??null,previouslyAssigned:((te=u==null?void 0:u.summary)==null?void 0:te.previouslyAssigned)??null,assignmentDataLoaded:u!==void 0}},[l,u]);g.useEffect(()=>{s===null&&a(m.currentStep)},[m.currentStep]);const p=C=>{const{step1Complete:A,step2Complete:k,step3Complete:O,step4Complete:M,currentStep:P}=m;return C===1?A?"completed":"in_progress":C===2?A?k?"completed":"in_progress":"locked":C===3?k?O?"completed":"in_progress":"locked":C===4?O?M?"completed":"in_progress":"locked":"pending"},f=C=>C==="completed"?On:C==="locked"?fh:v2,x=C=>C==="completed"?"text-green-600 dark:text-green-400":C==="in_progress"?"text-yellow-600 dark:text-yellow-400":C==="locked"?"text-gray-400 dark:text-gray-600":"text-gray-400",h=[{id:1,title:"Upload Files",description:"Upload 9 processor files + lead sheet",icon:rr,status:p(1)},{id:2,title:"Compile Master Data",description:"Cross-reference and merge into master dataset",icon:ja,status:p(2)},{id:3,title:"Assign Roles",description:"Auto-populate + manual assignments",icon:St,status:p(3)},{id:4,title:"Final Audit",description:"Validate splits and check for issues",icon:Bs,status:p(4)}],y=Oe({mutationFn:async()=>{const C=await fetch(`/api/residuals-workflow/audit/${t}`,{method:"POST"});if(!C.ok)throw new Error("Audit failed");return C.json()},onSuccess:()=>{e({title:"Audit Complete",description:"All validations passed successfully"}),d()}}),v=C=>{if(p(C)==="locked"){e({title:"Step Locked",description:"Complete previous steps first",variant:"destructive"});return}a(s===C?null:C)};if(c)return r.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-950 p-6",children:r.jsx("div",{className:"max-w-6xl mx-auto",children:r.jsxs("div",{className:"animate-pulse space-y-4",children:[r.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-800 rounded w-1/3"}),r.jsx("div",{className:"h-64 bg-gray-200 dark:bg-gray-800 rounded"})]})})});const b=m.step4Complete;return r.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-950",children:r.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(fs,{items:[{label:"Dashboard",href:"/dashboard"},{label:"Residuals Workflow",href:"/residuals-workflow"}]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white","data-testid":"heading-workflow",children:"Residuals Processing Workflow"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Follow the guided steps to process monthly residuals data"})]}),r.jsxs(ze,{value:t,onValueChange:n,children:[r.jsx(Re,{className:"w-[200px]","data-testid":"select-month",children:r.jsx(Fe,{})}),r.jsx($e,{children:o.map(C=>r.jsx(Y,{value:C.value,children:C.label},C.value))})]})]})]}),r.jsxs(U,{className:"border-2 border-yellow-500 dark:border-yellow-600 shadow-lg",children:[r.jsx(X,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-yellow-500 dark:bg-yellow-600 flex items-center justify-center",children:r.jsx(qa,{className:"w-6 h-6 text-black"})}),r.jsxs("div",{children:[r.jsxs(J,{className:"text-2xl","data-testid":"text-month-title",children:[(S=o.find(C=>C.value===t))==null?void 0:S.label," Processing"]}),r.jsx(tt,{children:b?" Complete and saved to database":"In progress"})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-4xl font-bold text-yellow-600 dark:text-yellow-400","data-testid":"text-progress-percent",children:[m.overallProgress,"%"]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Complete"})]})]})}),r.jsxs(B,{children:[r.jsx(Vu,{value:m.overallProgress,className:"h-3","data-testid":"progress-overall"}),(m.totalRecords||0)>0&&r.jsxs("div",{className:"grid grid-cols-4 gap-4 mt-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white","data-testid":"text-total-records",children:(m.totalRecords||0).toLocaleString()}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Records"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white","data-testid":"text-uploaded-processors",children:[m.uploadedProcessors,"/",m.totalProcessors]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Processors"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white","data-testid":"text-total-revenue",children:["$",((N=m.totalRevenue)==null?void 0:N.toLocaleString())||"0"]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Revenue"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white","data-testid":"text-unassigned-count",children:m.assignmentDataLoaded?m.newUnassigned??0:"..."}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Need Assignment"})]})]})]})]}),b&&r.jsxs(Mt,{className:"bg-green-50 dark:bg-green-950 border-green-500",children:[r.jsx(Qc,{className:"h-5 w-5 text-green-600"}),r.jsx(It,{className:"ml-2",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"font-semibold text-green-900 dark:text-green-100","data-testid":"text-completion-message",children:[" ",(j=o.find(C=>C.value===t))==null?void 0:j.label," Processing Complete!"]}),r.jsxs("p",{className:"text-green-700 dark:text-green-300 text-sm mt-1",children:["All ",m.totalRecords||0," merchants assigned, validated, and saved to database"]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(I,{variant:"outline",className:"border-green-500 text-green-700 dark:text-green-300 hover:bg-green-100 dark:hover:bg-green-900","data-testid":"button-view-report",children:[r.jsx(Jw,{className:"w-4 h-4 mr-2"}),"View Report"]}),r.jsx(I,{variant:"outline",className:"border-green-500 text-green-700 dark:text-green-300 hover:bg-green-100 dark:hover:bg-green-900","data-testid":"button-export-data",children:"Export Data"})]})]})})]}),r.jsx("div",{className:"space-y-4",children:h.map((C,A)=>{const k=f(C.status),O=s===C.id,M=C.status==="locked",P=C.status==="completed",_=m.currentStep===C.id;return r.jsxs(U,{className:`
                  transition-all duration-200
                  ${_&&!P?"border-2 border-yellow-500 shadow-lg":""}
                  ${P?"border-green-300 dark:border-green-700":""}
                  ${M?"opacity-60":""}
                `,"data-testid":`card-step-${C.id}`,children:[r.jsx(X,{className:"cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-900",onClick:()=>v(C.id),children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${P?"bg-green-100 dark:bg-green-900":_?"bg-yellow-100 dark:bg-yellow-900":"bg-gray-100 dark:bg-gray-800"}`,children:r.jsx(k,{className:`w-6 h-6 ${x(C.status)}`})}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:["Step ",C.id,": ",C.title]}),P&&r.jsxs(oe,{className:"bg-green-600 text-white",children:[r.jsx(On,{className:"w-3 h-3 mr-1"}),"Complete"]}),_&&!P&&r.jsxs(oe,{className:"bg-yellow-600 text-white",children:[r.jsx(wp,{className:"w-3 h-3 mr-1"}),"Current"]}),M&&r.jsxs(oe,{variant:"outline",className:"text-gray-500",children:[r.jsx(fh,{className:"w-3 h-3 mr-1"}),"Locked"]})]}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:C.description})]})]}),r.jsx("div",{className:"flex items-center gap-2",children:O?r.jsx(y2,{className:"w-5 h-5 text-gray-400"}):r.jsx(ld,{className:"w-5 h-5 text-gray-400"})})]})}),O&&!M&&r.jsx(B,{className:"pt-0",children:r.jsxs("div",{className:"border-t pt-6",children:[C.id===1&&r.jsxs("div",{children:[r.jsx(HSe,{selectedMonth:t.split("-")[1],selectedYear:t.split("-")[0]}),m.step1Complete&&r.jsxs(Mt,{className:"mt-4 bg-green-50 dark:bg-green-950 border-green-500",children:[r.jsx(On,{className:"h-4 w-4 text-green-600"}),r.jsxs(It,{className:"ml-2 text-green-900 dark:text-green-100",children:[r.jsx("p",{className:"font-semibold",children:" All files uploaded successfully"}),r.jsxs("p",{className:"text-sm mt-1",children:[" ",(m.totalRecords||0).toLocaleString()," records saved to database"]})]})]})]}),C.id===2&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs(Mt,{className:"bg-blue-50 dark:bg-blue-950 border-blue-500",children:[r.jsx(ja,{className:"h-4 w-4 text-blue-600"}),r.jsxs(It,{className:"ml-2 text-blue-900 dark:text-blue-100",children:[r.jsx("p",{className:"font-semibold",children:"Automatic Master Dataset Compilation"}),r.jsx("p",{className:"text-sm mt-1",children:"This step happens automatically when all files are uploaded. The system cross-references processor data with the lead sheet and creates a unified master dataset."})]})]}),m.step2Complete?r.jsxs(Mt,{className:"bg-green-50 dark:bg-green-950 border-green-500",children:[r.jsx(On,{className:"h-4 w-4 text-green-600"}),r.jsxs(It,{className:"ml-2 text-green-900 dark:text-green-100",children:[r.jsx("p",{className:"font-semibold",children:" Master dataset compiled and saved"}),r.jsxs("p",{className:"text-sm mt-1",children:[" ",(m.totalRecords||0).toLocaleString()," merchants cross-referenced and saved to database"]}),r.jsx("p",{className:"text-sm mt-1 text-green-600",children:"Ready for role assignment "})]})]}):m.step1Complete?r.jsxs(Mt,{className:"bg-yellow-50 dark:bg-yellow-950 border-yellow-500",children:[r.jsx(ht,{className:"h-4 w-4 text-yellow-600"}),r.jsxs(It,{className:"ml-2 text-yellow-900 dark:text-yellow-100",children:[r.jsx("p",{className:"font-semibold",children:"Compiling data..."}),r.jsx("p",{className:"text-sm mt-1",children:"Cross-referencing processor files with lead sheet"})]})]}):null]}),C.id===3&&r.jsx("div",{children:m.assignmentDataLoaded?r.jsxs(r.Fragment,{children:[r.jsx(a4e,{selectedMonth:t}),m.step3Complete&&r.jsxs(Mt,{className:"mt-4 bg-green-50 dark:bg-green-950 border-green-500",children:[r.jsx(On,{className:"h-4 w-4 text-green-600"}),r.jsxs(It,{className:"ml-2 text-green-900 dark:text-green-100",children:[r.jsx("p",{className:"font-semibold",children:" All assignments complete"}),r.jsx("p",{className:"text-sm mt-1",children:" All merchants have role assignments saved to database"})]})]})]}):r.jsxs(Mt,{className:"bg-blue-50 dark:bg-blue-950 border-blue-500",children:[r.jsx(ht,{className:"h-4 w-4 text-blue-600"}),r.jsxs(It,{className:"ml-2 text-blue-900 dark:text-blue-100",children:[r.jsx("p",{className:"font-semibold",children:"Loading assignment data..."}),r.jsx("p",{className:"text-sm mt-1",children:"Please wait while we fetch merchant assignment status"})]})]})}),C.id===4&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs(Mt,{className:"bg-blue-50 dark:bg-blue-950 border-blue-500",children:[r.jsx(Bs,{className:"h-4 w-4 text-blue-600"}),r.jsxs(It,{className:"ml-2 text-blue-900 dark:text-blue-100",children:[r.jsx("p",{className:"font-semibold",children:"Final Validation"}),r.jsx("p",{className:"text-sm mt-1",children:"Run audit to verify all splits add to 100% and flag any issues"})]})]}),r.jsxs(I,{onClick:()=>y.mutate(),disabled:y.isPending,"data-testid":"button-run-audit",children:[r.jsx(Bs,{className:"w-4 h-4 mr-2"}),y.isPending?"Running Audit...":"Run Final Audit"]}),m.step4Complete&&r.jsxs(Mt,{className:"bg-green-50 dark:bg-green-950 border-green-500",children:[r.jsx(On,{className:"h-4 w-4 text-green-600"}),r.jsxs(It,{className:"ml-2 text-green-900 dark:text-green-100",children:[r.jsx("p",{className:"font-semibold",children:" Audit passed"}),r.jsx("p",{className:"text-sm mt-1",children:" All validations passed with 0 issues"})]})]})]})]})})]},C.id)})})]})})}function i4e({selectedMonth:e,organizationId:t}){var l;const[n,s]=g.useState(null),{data:a,isLoading:i}=ve({queryKey:["/api/assignments"],select:c=>c||{totalMerchants:204,assignedMerchants:156,unassignedMerchants:48,totalRevenue:33649.43,assignedRevenue:28945.12,availableAgents:12,availablePartners:6}}),o=[{merchantId:"MID001",businessName:"BLU SUSHI",revenue:2013.75,processor:"Clearent",assignments:[{role:"Agent",name:"Cody Burnell",percentage:60},{role:"Sales Manager",name:"Christy G Milton",percentage:25},{role:"Partner",name:"C2FS Partners",percentage:15}],status:"assigned"},{merchantId:"MID002",businessName:"True Builders Inc.",revenue:966.77,processor:"Clearent",assignments:[{role:"Agent",name:"James Carner",percentage:70},{role:"Sales Manager",name:"Mark Pierce",percentage:30}],status:"assigned"},{merchantId:"MID003",businessName:"GYROTONIC",revenue:975.13,processor:"Global Payments TSYS",assignments:[],status:"unassigned"}];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(U,{"data-testid":"card-total-merchants",children:r.jsxs(B,{className:"pt-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(St,{className:"h-4 w-4 text-yellow-400"}),r.jsx("p",{className:"text-sm font-medium",children:"Total Merchants"})]})}),r.jsx("p",{className:"text-2xl font-bold mt-2","data-testid":"value-total-merchants",children:(a==null?void 0:a.totalMerchants)||0}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Available for assignment"})]})}),r.jsx(U,{"data-testid":"card-assigned-merchants",children:r.jsxs(B,{className:"pt-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(zd,{className:"h-4 w-4 text-green-600"}),r.jsx("p",{className:"text-sm font-medium",children:"Assigned Merchants"})]}),r.jsx(oe,{className:"bg-green-100 text-green-800",children:"Complete"})]}),r.jsx("p",{className:"text-2xl font-bold mt-2","data-testid":"value-assigned-merchants",children:(a==null?void 0:a.assignedMerchants)||0}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"With commission splits"})]})}),r.jsx(U,{"data-testid":"card-unassigned-merchants",children:r.jsxs(B,{className:"pt-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ht,{className:"h-4 w-4 text-yellow-600"}),r.jsx("p",{className:"text-sm font-medium",children:"Unassigned Merchants"})]}),r.jsx(oe,{className:"bg-yellow-100 text-yellow-800",children:"Pending"})]}),r.jsx("p",{className:"text-2xl font-bold mt-2","data-testid":"value-unassigned-merchants",children:(a==null?void 0:a.unassignedMerchants)||0}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Pending assignment"})]})}),r.jsx(U,{"data-testid":"card-assigned-revenue",children:r.jsxs(B,{className:"pt-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(zr,{className:"h-4 w-4 text-green-600"}),r.jsx("p",{className:"text-sm font-medium",children:"Assigned Revenue"})]})}),r.jsxs("p",{className:"text-2xl font-bold mt-2","data-testid":"value-assigned-revenue",children:["$",((l=a==null?void 0:a.assignedRevenue)==null?void 0:l.toLocaleString())||"0"]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Revenue with assignments"})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsxs(U,{children:[r.jsx(X,{children:r.jsxs(J,{className:"flex items-center gap-2",children:[r.jsx(Ex,{className:"h-5 w-5"}),"Merchant Assignments"]})}),r.jsx(B,{children:r.jsxs(_r,{children:[r.jsx(Tr,{children:r.jsxs(Ze,{children:[r.jsx(be,{children:"Business Name"}),r.jsx(be,{children:"Revenue"}),r.jsx(be,{children:"Processor"}),r.jsx(be,{children:"Status"}),r.jsx(be,{children:"Actions"})]})}),r.jsx(Mr,{children:o.map(c=>r.jsxs(Ze,{className:n===c.merchantId?"bg-yellow-50":"","data-testid":`row-merchant-${c.merchantId}`,children:[r.jsxs(de,{children:[r.jsx("div",{className:"font-medium",children:c.businessName}),r.jsx("div",{className:"text-sm text-gray-500",children:c.merchantId})]}),r.jsxs(de,{className:"font-medium",children:["$",c.revenue.toLocaleString()]}),r.jsx(de,{children:c.processor}),r.jsx(de,{children:r.jsxs(oe,{variant:c.status==="assigned"?"default":"secondary",className:c.status==="assigned"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800",children:[r.jsx(qe,{className:"h-3 w-3 mr-1"}),c.status]})}),r.jsx(de,{children:r.jsx(I,{variant:"outline",size:"sm",onClick:()=>s(c.merchantId),"data-testid":`button-assign-${c.merchantId}`,children:c.status==="assigned"?"Edit":"Assign"})})]},c.merchantId))})]})})]})}),r.jsx("div",{children:r.jsxs(U,{children:[r.jsx(X,{children:r.jsxs(J,{className:"flex items-center gap-2",children:[r.jsx(Qr,{className:"h-5 w-5"}),"Assignment Details"]})}),r.jsx(B,{children:n?r.jsx("div",{className:"space-y-4",children:(()=>{const c=o.find(d=>d.merchantId===n);return c?r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:c.businessName}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Revenue: $",c.revenue.toLocaleString()]})]}),c.assignments.length>0?r.jsxs("div",{className:"space-y-3",children:[r.jsx("h5",{className:"font-medium text-sm",children:"Current Assignments:"}),c.assignments.map((d,u)=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-sm",children:d.name}),r.jsx("div",{className:"text-xs text-gray-500",children:d.role})]}),r.jsxs(oe,{className:"bg-yellow-400 text-black",children:[d.percentage,"%"]})]},u)),r.jsx("div",{className:"pt-2",children:r.jsx(I,{variant:"outline",size:"sm",className:"w-full",children:"Edit Assignments"})})]}):r.jsxs("div",{className:"text-center py-4",children:[r.jsx(ht,{className:"h-8 w-8 text-yellow-400 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"No assignments yet"}),r.jsxs(I,{size:"sm",className:"w-full bg-yellow-400 hover:bg-yellow-500 text-black",children:[r.jsx(Zw,{className:"h-4 w-4 mr-1"}),"Assign Agent"]})]})]}):null})()}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Ex,{className:"h-12 w-12 text-gray-300 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Select a merchant to view or edit assignments"})]})})]})})]})]})}function Mf({title:e,value:t,change:n,changeLabel:s,icon:a,className:i,subtitle:o,subtitleValue:l,tooltip:c,variant:d="default"}){const u=()=>n==null?null:n>0?r.jsx(Qr,{className:"w-4 h-4"}):n<0?r.jsx(jp,{className:"w-4 h-4"}):r.jsx(Kq,{className:"w-4 h-4"}),m=()=>{if(n==null)return"text-zinc-400";if(d==="attrition"){if(n>0)return"text-red-400";if(n<0)return"text-green-400"}else{if(n>0)return"text-green-400";if(n<0)return"text-red-400"}return"text-zinc-400"},p=()=>{switch(d){case"revenue":return"border-yellow-400/30 bg-gradient-to-br from-yellow-400/10 to-transparent";case"accounts":return"border-blue-400/30 bg-gradient-to-br from-blue-400/10 to-transparent";case"retention":return"border-green-400/30 bg-gradient-to-br from-green-400/10 to-transparent";case"attrition":return"border-red-400/30 bg-gradient-to-br from-red-400/10 to-transparent";default:return"border-yellow-400/20 bg-zinc-900/80"}},f=()=>{switch(d){case"revenue":return"bg-yellow-400/20 text-yellow-400";case"accounts":return"bg-blue-400/20 text-blue-400";case"retention":return"bg-green-400/20 text-green-400";case"attrition":return"bg-red-400/20 text-red-400";default:return"bg-yellow-400/20 text-yellow-400"}};return r.jsxs(U,{className:ye("p-6 border backdrop-blur-sm transition-all duration-200 hover:border-yellow-400/40",p(),i),"data-testid":`metric-card-${e.toLowerCase().replace(/\s+/g,"-")}`,children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("p",{className:"text-sm font-medium text-zinc-400",children:e}),c&&r.jsx(ds,{children:r.jsxs(Or,{children:[r.jsx(Er,{asChild:!0,children:r.jsx("button",{type:"button",className:"inline-flex","data-testid":`help-${e.toLowerCase().replace(/\s+/g,"-")}`,"aria-label":`Help: ${e}`,children:r.jsx(gs,{className:"w-4 h-4 text-zinc-500 hover:text-zinc-300 cursor-help"})})}),r.jsx(Sr,{className:"max-w-xs bg-zinc-800 border-zinc-700 text-zinc-100",children:r.jsx("p",{children:c})})]})})]}),a&&r.jsx("div",{className:ye("p-2 rounded-lg",f()),children:a})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-3xl font-bold text-white tabular-nums","data-testid":`metric-value-${e.toLowerCase().replace(/\s+/g,"-")}`,children:t}),n!=null&&r.jsxs("div",{className:ye("flex items-center gap-1 text-sm font-medium",m()),children:[u(),r.jsxs("span",{children:[n>0&&"+",n.toFixed(1),"%"]}),s&&r.jsx("span",{className:"text-zinc-400 ml-1",children:s})]}),o&&l&&r.jsxs("div",{className:"text-sm text-zinc-400 pt-2 border-t border-zinc-700/50",children:[r.jsxs("span",{className:"font-medium",children:[o,":"]})," ",r.jsx("span",{className:"tabular-nums text-zinc-300",children:l})]})]})]})}function o4e({children:e,columns:t=4,className:n}){const s={2:"grid-cols-1 md:grid-cols-2",3:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 md:grid-cols-2 lg:grid-cols-4"};return r.jsx("div",{className:ye("grid gap-4",s[t],n),"data-testid":"metric-grid",children:e})}function l4e(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function m_(e,t=1){return`${e.toFixed(t)}%`}var c4e=Symbol("radix.slottable");function d4e(e){const t=({children:n})=>r.jsx(r.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=c4e,t}var dL="AlertDialog",[u4e]=Fn(dL,[sR]),Yi=sR(),uL=e=>{const{__scopeAlertDialog:t,...n}=e,s=Yi(t);return r.jsx($2,{...s,...n,modal:!0})};uL.displayName=dL;var m4e="AlertDialogTrigger",h4e=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,a=Yi(n);return r.jsx(bR,{...a,...s,ref:t})});h4e.displayName=m4e;var p4e="AlertDialogPortal",mL=e=>{const{__scopeAlertDialog:t,...n}=e,s=Yi(t);return r.jsx(D2,{...s,...n})};mL.displayName=p4e;var f4e="AlertDialogOverlay",hL=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,a=Yi(n);return r.jsx(W0,{...a,...s,ref:t})});hL.displayName=f4e;var xd="AlertDialogContent",[x4e,g4e]=u4e(xd),y4e=d4e("AlertDialogContent"),pL=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:s,...a}=e,i=Yi(n),o=g.useRef(null),l=rt(t,o),c=g.useRef(null);return r.jsx(rY,{contentName:xd,titleName:fL,docsSlug:"alert-dialog",children:r.jsx(x4e,{scope:n,cancelRef:c,children:r.jsxs(H0,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:je(a.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[r.jsx(y4e,{children:s}),r.jsx(b4e,{contentRef:o})]})})})});pL.displayName=xd;var fL="AlertDialogTitle",xL=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,a=Yi(n);return r.jsx(z2,{...a,...s,ref:t})});xL.displayName=fL;var gL="AlertDialogDescription",yL=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,a=Yi(n);return r.jsx(F2,{...a,...s,ref:t})});yL.displayName=gL;var v4e="AlertDialogAction",vL=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,a=Yi(n);return r.jsx(L2,{...a,...s,ref:t})});vL.displayName=v4e;var bL="AlertDialogCancel",wL=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,{cancelRef:a}=g4e(bL,n),i=Yi(n),o=rt(t,a);return r.jsx(L2,{...i,...s,ref:o})});wL.displayName=bL;var b4e=({contentRef:e})=>{const t=`\`${xd}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${xd}\` by passing a \`${gL}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${xd}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return g.useEffect(()=>{var s;document.getElementById((s=e.current)==null?void 0:s.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},w4e=uL,j4e=mL,jL=hL,NL=pL,SL=vL,CL=wL,kL=xL,AL=yL;const N4e=w4e,S4e=j4e,PL=g.forwardRef(({className:e,...t},n)=>r.jsx(jL,{className:ye("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));PL.displayName=jL.displayName;const OL=g.forwardRef(({className:e,...t},n)=>r.jsxs(S4e,{children:[r.jsx(PL,{}),r.jsx(NL,{ref:n,className:ye("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));OL.displayName=NL.displayName;const EL=({className:e,...t})=>r.jsx("div",{className:ye("flex flex-col space-y-2 text-center sm:text-left",e),...t});EL.displayName="AlertDialogHeader";const _L=({className:e,...t})=>r.jsx("div",{className:ye("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});_L.displayName="AlertDialogFooter";const TL=g.forwardRef(({className:e,...t},n)=>r.jsx(kL,{ref:n,className:ye("text-lg font-semibold",e),...t}));TL.displayName=kL.displayName;const ML=g.forwardRef(({className:e,...t},n)=>r.jsx(AL,{ref:n,className:ye("text-sm text-muted-foreground",e),...t}));ML.displayName=AL.displayName;const IL=g.forwardRef(({className:e,...t},n)=>r.jsx(SL,{ref:n,className:ye(T2(),e),...t}));IL.displayName=SL.displayName;const RL=g.forwardRef(({className:e,...t},n)=>r.jsx(CL,{ref:n,className:ye(T2({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));RL.displayName=CL.displayName;function h_(){var Ae,Xe,ce,Me,Dt,zt,Lr,Nn;const[e,t]=g.useState("workflow"),[n,s]=g.useState(null),[a,i]=g.useState("month-selection"),[o,l]=g.useState(null),[c,d]=g.useState(null),[u,m]=g.useState(!1),[p,f]=g.useState(!1),[x,h]=g.useState(!1),[y,v]=g.useState(new Date().getFullYear().toString()),[b,w]=g.useState("01"),[S,N]=g.useState(""),{toast:j}=pt(),C=_t(),k=(()=>{const pe=localStorage.getItem("selectedAgencyId")||localStorage.getItem("organizationID");if(pe&&pe!=="null")return pe;const ft="1";return localStorage.setItem("selectedAgencyId",ft),localStorage.setItem("organizationID",ft),ft})(),{data:O=[]}=ve({queryKey:["/api/available-months",k],queryFn:async()=>{const pe=await fetch(`/api/available-months?organizationId=${k}`,{credentials:"include"});return pe.ok?pe.json():[{value:"2025-11",label:"November 2025"},{value:"2025-10",label:"October 2025"},{value:"2025-09",label:"September 2025"},{value:"2025-08",label:"August 2025"},{value:"2025-07",label:"July 2025"}]}}),M=O.length>0?O:[{value:"2025-11",label:"November 2025"},{value:"2025-10",label:"October 2025"},{value:"2025-09",label:"September 2025"},{value:"2025-08",label:"August 2025"},{value:"2025-07",label:"July 2025"}],P=[{value:"01",label:"January"},{value:"02",label:"February"},{value:"03",label:"March"},{value:"04",label:"April"},{value:"05",label:"May"},{value:"06",label:"June"},{value:"07",label:"July"},{value:"08",label:"August"},{value:"09",label:"September"},{value:"10",label:"October"},{value:"11",label:"November"},{value:"12",label:"December"}],_=new Date().getFullYear(),E=Array.from({length:_-2023+2},(pe,ft)=>({value:String(2024+ft),label:String(2024+ft)})),T=Oe({mutationFn:async({month:pe,year:ft})=>{const Tt=`${ft}-${pe}`;return await Te("/api/available-months",{method:"POST",body:{month:Tt,organizationId:k}})},onSuccess:(pe,ft)=>{var Ur;const Tt=`${(Ur=P.find(Bn=>Bn.value===ft.month))==null?void 0:Ur.label} ${ft.year}`;j({title:"Month Added",description:`${Tt} has been added to your available months`}),h(!1),C.invalidateQueries({queryKey:["/api/available-months",k]})},onError:pe=>{j({title:"Failed to Add Month",description:pe.message,variant:"destructive"})}}),{data:$,isLoading:q}=ve({queryKey:["/api/residuals-workflow/progress",n],queryFn:async()=>{const pe=await fetch(`/api/residuals-workflow/progress/${n}`,{credentials:"include"});if(!pe.ok)throw new Error("Failed to fetch upload progress");return(await pe.json()).progress||[]},enabled:!!n}),{data:R={},isLoading:D,error:V}=ve({queryKey:[`/api/month-approval/${n}/${k}`],enabled:!!n&&!!k}),{data:F,isLoading:z,error:Q}=ve({queryKey:[`/api/month-approval/${n}/${k}/merchant-lifecycle`],enabled:!!n&&!!k}),{data:te,isLoading:me}=ve({queryKey:["/api/analytics/metrics",n],queryFn:async()=>{const pe=await fetch(`/api/analytics/metrics/${n}`,{credentials:"include"});if(!pe.ok)return{totalRevenue:0,totalAccounts:0,retentionRate:0,attritionRate:0,newAccounts:0,lostAccounts:0,retainedAccounts:0,momRevenueChangePercent:null,netAccountGrowth:0};const ft=await pe.json();return ft.metrics||ft},enabled:!!n});g.useEffect(()=>{V&&j({title:"Approval Data Error",description:V.message,variant:"destructive"})},[V,j]),g.useEffect(()=>{Q&&j({title:"Lifecycle Data Error",description:Q.message,variant:"destructive"})},[Q,j]);const ge=((Ae=$==null?void 0:$.filter(pe=>pe.processorId))==null?void 0:Ae.map(pe=>({id:pe.processorId,name:pe.processorName||`Processor ${pe.processorId}`,uploadStatus:pe.uploadStatus||"needs_upload",recordCount:pe.recordCount||0,lastUpdated:pe.lastUpdated})))||[],he=$==null?void 0:$.find(pe=>!pe.processorId),Ce=(he==null?void 0:he.leadSheetStatus)||"needs_upload",se=q?!1:Ce==="validated",G=q?!1:ge.length>0&&ge.every(pe=>pe.uploadStatus==="validated"),xe=D?!1:(R==null?void 0:R.assignmentsComplete)||!1,re=D?!1:(R==null?void 0:R.auditComplete)||!1,We=se&&G&&xe&&re,Ue=Oe({mutationFn:async({file:pe,processor:ft,month:Tt})=>{var ov;const Ur=new FormData;Ur.append("file",pe);const Bn=(ov=ge.find(Wu=>Wu.name===ft))==null?void 0:ov.id,sl=ft==="Lead Sheet"?`/api/residuals-workflow/upload-lead-sheet/${Tt}`:`/api/residuals-workflow/upload/${Tt}/${Bn}`,qu=await fetch(sl,{method:"POST",body:Ur,credentials:"include"});if(!qu.ok){const Wu=await qu.json();throw new Error(Wu.error||"Upload failed")}return qu.json()},onSuccess:pe=>{var Tt,Ur;const ft=((Tt=pe.stats)==null?void 0:Tt.monthlyDataCreated)||((Ur=pe.results)==null?void 0:Ur.recordCount)||0;j({title:"Upload Complete",description:`Successfully uploaded ${ft} records`}),d(null),m(!1),C.invalidateQueries({queryKey:["/api/residuals-workflow/progress",n]})},onError:pe=>{j({title:"Upload Failed",description:pe.message,variant:"destructive"})}}),nt=Oe({mutationFn:async pe=>await Te("/api/month-approval",{method:"POST",body:JSON.stringify({month:n,agencyId:parseInt(k),...pe})}),onSuccess:()=>{j({title:"Month Approved",description:"Month approval has been updated successfully"}),C.invalidateQueries({queryKey:[`/api/month-approval/${n}/${k}`]}),C.invalidateQueries({queryKey:["/api/residuals-workflow/progress",n]})},onError:pe=>{j({title:"Approval Failed",description:pe.message,variant:"destructive"})}}),mt=pe=>{l(pe),m(!0)},Nt=pe=>{var Tt;const ft=(Tt=pe.target.files)==null?void 0:Tt[0];ft&&d(ft)},wr=()=>{!c||!o||!n||Ue.mutate({file:c,processor:o,month:n})},jr=pe=>{s(pe),i("lead-sheet")},Fr=({title:pe,icon:ft,isComplete:Tt,onClick:Ur,badge:Bn,testId:sl})=>r.jsxs("button",{onClick:Ur,"data-testid":sl,className:`
        flex flex-col items-center justify-center p-4 rounded-lg border-2 
        transition-all hover:shadow-lg min-w-[180px]
        ${Tt?"border-green-500 bg-green-500/10 hover:bg-green-500/20 hover:shadow-green-500/20":"border-red-500/60 bg-red-500/10 hover:bg-red-500/20 hover:shadow-red-500/20"}
      `,children:[r.jsx("div",{className:`
        flex items-center justify-center w-10 h-10 rounded-full mb-2
        ${Tt?"bg-green-500":"bg-red-500"}
      `,children:Tt?r.jsx(On,{className:"h-5 w-5 text-white"}):r.jsx(Io,{className:"h-5 w-5 text-white"})}),r.jsx("h3",{className:"text-sm font-semibold text-white text-center mb-1",children:pe}),Bn&&r.jsx(oe,{variant:"outline",className:"text-xs text-gray-300 border-gray-600",children:Bn})]}),W=()=>{T.mutate({month:b,year:y})},Z=()=>r.jsx("div",{className:"inline-flex bg-zinc-900/80 border border-zinc-800 rounded-lg p-1",children:r.jsxs("div",{className:"flex gap-1",children:[r.jsxs(I,{variant:e==="workflow"?"default":"ghost",className:e==="workflow"?"bg-yellow-400 text-black hover:bg-yellow-500":"text-gray-400 hover:text-white hover:bg-zinc-800",onClick:()=>t("workflow"),"data-testid":"tab-workflow",children:[r.jsx(rr,{className:"h-4 w-4 mr-2"}),"Residuals Workflow"]}),r.jsxs(I,{variant:e==="upload-tracking"?"default":"ghost",className:e==="upload-tracking"?"bg-yellow-400 text-black hover:bg-yellow-500":"text-gray-400 hover:text-white hover:bg-zinc-800",onClick:()=>t("upload-tracking"),"data-testid":"tab-upload-tracking",children:[r.jsx(ki,{className:"h-4 w-4 mr-2"}),"Upload Tracking"]}),r.jsxs(I,{variant:e==="data-validation"?"default":"ghost",className:e==="data-validation"?"bg-yellow-400 text-black hover:bg-yellow-500":"text-gray-400 hover:text-white hover:bg-zinc-800",onClick:()=>t("data-validation"),"data-testid":"tab-data-validation",children:[r.jsx(fk,{className:"h-4 w-4 mr-2"}),"Data Validation"]})]})}),ie=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white",children:"Upload Tracking"}),r.jsx("p",{className:"text-gray-400 mt-1",children:"Monitor and track all data uploads across processors"})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs("div",{className:"relative",children:[r.jsx(js,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search uploads...",className:"pl-10 pr-4 py-2 bg-zinc-800 border border-zinc-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-yellow-400","data-testid":"input-search-uploads"})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(U,{className:"bg-zinc-900/80 border-zinc-800",children:r.jsx(B,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-green-500/20 rounded-lg",children:r.jsx(qe,{className:"h-5 w-5 text-green-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Completed"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:"12"})]})]})})}),r.jsx(U,{className:"bg-zinc-900/80 border-zinc-800",children:r.jsx(B,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-yellow-500/20 rounded-lg",children:r.jsx(Rr,{className:"h-5 w-5 text-yellow-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Pending"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:"3"})]})]})})}),r.jsx(U,{className:"bg-zinc-900/80 border-zinc-800",children:r.jsx(B,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-red-500/20 rounded-lg",children:r.jsx(cr,{className:"h-5 w-5 text-red-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Failed"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:"1"})]})]})})}),r.jsx(U,{className:"bg-zinc-900/80 border-zinc-800",children:r.jsx(B,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:r.jsx(ki,{className:"h-5 w-5 text-blue-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Total Records"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:"4,532"})]})]})})})]}),r.jsxs(U,{className:"bg-zinc-900/80 border-zinc-800",children:[r.jsx(X,{className:"border-b border-zinc-800",children:r.jsx(J,{className:"text-white text-lg",children:"Recent Uploads"})}),r.jsx(B,{className:"p-0",children:r.jsxs(_r,{children:[r.jsx(Tr,{children:r.jsxs(Ze,{className:"border-zinc-800 hover:bg-transparent",children:[r.jsx(be,{className:"text-gray-400",children:"Date"}),r.jsx(be,{className:"text-gray-400",children:"Processor"}),r.jsx(be,{className:"text-gray-400",children:"Month"}),r.jsx(be,{className:"text-gray-400",children:"Records"}),r.jsx(be,{className:"text-gray-400",children:"Status"}),r.jsx(be,{className:"text-gray-400",children:"Uploaded By"})]})}),r.jsxs(Mr,{children:[r.jsxs(Ze,{className:"border-zinc-800",children:[r.jsx(de,{className:"text-gray-300",children:"Nov 15, 2025"}),r.jsx(de,{className:"text-white font-medium",children:"Clearent"}),r.jsx(de,{className:"text-gray-300",children:"October 2025"}),r.jsx(de,{className:"text-gray-300",children:"1,245"}),r.jsx(de,{children:r.jsx(oe,{className:"bg-green-500/20 text-green-400 border-green-500/30",children:"Validated"})}),r.jsx(de,{className:"text-gray-300",children:"Admin"})]}),r.jsxs(Ze,{className:"border-zinc-800",children:[r.jsx(de,{className:"text-gray-300",children:"Nov 14, 2025"}),r.jsx(de,{className:"text-white font-medium",children:"TSYS"}),r.jsx(de,{className:"text-gray-300",children:"October 2025"}),r.jsx(de,{className:"text-gray-300",children:"892"}),r.jsx(de,{children:r.jsx(oe,{className:"bg-green-500/20 text-green-400 border-green-500/30",children:"Validated"})}),r.jsx(de,{className:"text-gray-300",children:"Admin"})]}),r.jsxs(Ze,{className:"border-zinc-800",children:[r.jsx(de,{className:"text-gray-300",children:"Nov 13, 2025"}),r.jsx(de,{className:"text-white font-medium",children:"Shift4"}),r.jsx(de,{className:"text-gray-300",children:"October 2025"}),r.jsx(de,{className:"text-gray-300",children:"567"}),r.jsx(de,{children:r.jsx(oe,{className:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",children:"Processing"})}),r.jsx(de,{className:"text-gray-300",children:"Admin"})]})]})]})})]})]}),ne=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white",children:"Data Validation"}),r.jsx("p",{className:"text-gray-400 mt-1",children:"Review and resolve data quality issues"})]}),r.jsxs(I,{className:"bg-yellow-400 hover:bg-yellow-500 text-black","data-testid":"button-run-validation",children:[r.jsx(fk,{className:"h-4 w-4 mr-2"}),"Run Validation"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(U,{className:"bg-zinc-900/80 border-zinc-800",children:r.jsx(B,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-green-500/20 rounded-lg",children:r.jsx(qe,{className:"h-5 w-5 text-green-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Valid Records"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:"4,412"}),r.jsx("p",{className:"text-xs text-green-400",children:"97.4%"})]})]})})}),r.jsx(U,{className:"bg-zinc-900/80 border-zinc-800",children:r.jsx(B,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-yellow-500/20 rounded-lg",children:r.jsx(cr,{className:"h-5 w-5 text-yellow-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Warnings"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:"89"}),r.jsx("p",{className:"text-xs text-yellow-400",children:"2.0%"})]})]})})}),r.jsx(U,{className:"bg-zinc-900/80 border-zinc-800",children:r.jsx(B,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-red-500/20 rounded-lg",children:r.jsx(Io,{className:"h-5 w-5 text-red-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Errors"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:"31"}),r.jsx("p",{className:"text-xs text-red-400",children:"0.7%"})]})]})})})]}),r.jsxs(U,{className:"bg-zinc-900/80 border-zinc-800",children:[r.jsx(X,{className:"border-b border-zinc-800",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(J,{className:"text-white text-lg",children:"Validation Issues"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(oe,{variant:"outline",className:"border-yellow-400/30 text-yellow-400 cursor-pointer hover:bg-yellow-400/10",children:"Warnings (89)"}),r.jsx(oe,{variant:"outline",className:"border-red-400/30 text-red-400 cursor-pointer hover:bg-red-400/10",children:"Errors (31)"})]})]})}),r.jsx(B,{className:"p-0",children:r.jsxs(_r,{children:[r.jsx(Tr,{children:r.jsxs(Ze,{className:"border-zinc-800 hover:bg-transparent",children:[r.jsx(be,{className:"text-gray-400",children:"Severity"}),r.jsx(be,{className:"text-gray-400",children:"Issue Type"}),r.jsx(be,{className:"text-gray-400",children:"Description"}),r.jsx(be,{className:"text-gray-400",children:"Affected Records"}),r.jsx(be,{className:"text-gray-400",children:"Actions"})]})}),r.jsxs(Mr,{children:[r.jsxs(Ze,{className:"border-zinc-800",children:[r.jsx(de,{children:r.jsx(oe,{className:"bg-red-500/20 text-red-400 border-red-500/30",children:"Error"})}),r.jsx(de,{className:"text-white font-medium",children:"Missing MID"}),r.jsx(de,{className:"text-gray-300",children:"Merchant ID is required but not provided"}),r.jsx(de,{className:"text-gray-300",children:"15"}),r.jsx(de,{children:r.jsx(I,{size:"sm",variant:"outline",className:"border-zinc-700 text-gray-300 hover:text-white hover:border-yellow-400",children:"Review"})})]}),r.jsxs(Ze,{className:"border-zinc-800",children:[r.jsx(de,{children:r.jsx(oe,{className:"bg-red-500/20 text-red-400 border-red-500/30",children:"Error"})}),r.jsx(de,{className:"text-white font-medium",children:"Invalid Amount"}),r.jsx(de,{className:"text-gray-300",children:"Revenue amount contains invalid characters"}),r.jsx(de,{className:"text-gray-300",children:"16"}),r.jsx(de,{children:r.jsx(I,{size:"sm",variant:"outline",className:"border-zinc-700 text-gray-300 hover:text-white hover:border-yellow-400",children:"Review"})})]}),r.jsxs(Ze,{className:"border-zinc-800",children:[r.jsx(de,{children:r.jsx(oe,{className:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",children:"Warning"})}),r.jsx(de,{className:"text-white font-medium",children:"Duplicate Entry"}),r.jsx(de,{className:"text-gray-300",children:"Potential duplicate merchant records detected"}),r.jsx(de,{className:"text-gray-300",children:"45"}),r.jsx(de,{children:r.jsx(I,{size:"sm",variant:"outline",className:"border-zinc-700 text-gray-300 hover:text-white hover:border-yellow-400",children:"Review"})})]}),r.jsxs(Ze,{className:"border-zinc-800",children:[r.jsx(de,{children:r.jsx(oe,{className:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",children:"Warning"})}),r.jsx(de,{className:"text-white font-medium",children:"MID Mismatch"}),r.jsx(de,{className:"text-gray-300",children:"MID does not match existing merchant record"}),r.jsx(de,{className:"text-gray-300",children:"44"}),r.jsx(de,{children:r.jsx(I,{size:"sm",variant:"outline",className:"border-zinc-700 text-gray-300 hover:text-white hover:border-yellow-400",children:"Review"})})]})]})]})})]})]});if(e==="upload-tracking")return r.jsx("div",{className:"min-h-screen bg-[#0a0a0f]",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 space-y-6",children:[r.jsx(fs,{items:[{label:"Dashboard",href:"/dashboard"},{label:"Data Management",href:"/data-management"},{label:"Upload Tracking",href:"#",isActive:!0}]}),r.jsx(Z,{}),r.jsx(ie,{})]})});if(e==="data-validation")return r.jsx("div",{className:"min-h-screen bg-[#0a0a0f]",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 space-y-6",children:[r.jsx(fs,{items:[{label:"Dashboard",href:"/dashboard"},{label:"Data Management",href:"/data-management"},{label:"Data Validation",href:"#",isActive:!0}]}),r.jsx(Z,{}),r.jsx(ne,{})]})});if(!n||a==="month-selection")return r.jsx("div",{className:"min-h-screen bg-[#0a0a0f]",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 space-y-6",children:[r.jsx(fs,{items:[{label:"Dashboard",href:"/dashboard"},{label:"Data Management",href:"/data-management"}]}),r.jsx(Z,{}),r.jsxs("div",{className:"max-w-2xl mx-auto mt-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx(qa,{className:"h-16 w-16 text-yellow-400 mx-auto mb-4"}),r.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Select Working Month"}),r.jsx("p",{className:"text-gray-400",children:"Choose the month to manage data uploads, assignments, and approvals"})]}),r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:[r.jsx(X,{className:"border-b border-yellow-400/10 pb-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(J,{className:"text-white text-lg",children:"Available Months"}),r.jsxs(I,{onClick:()=>h(!0),className:"bg-yellow-400 hover:bg-yellow-500 text-black font-semibold","data-testid":"button-add-month",children:[r.jsx(ir,{className:"h-4 w-4 mr-2"}),"Add Month"]})]})}),r.jsx(B,{className:"p-6",children:r.jsx("div",{className:"space-y-3",children:M.map(pe=>r.jsxs(I,{variant:"outline",className:"w-full h-14 text-lg justify-between border-yellow-400/30 text-gray-200 hover:border-yellow-400 hover:bg-yellow-400/10 hover:text-yellow-400",onClick:()=>jr(pe.value),"data-testid":`button-select-month-${pe.value}`,children:[r.jsx("span",{children:pe.label}),r.jsx(pa,{className:"h-5 w-5"})]},pe.value))})})]})]}),r.jsx(jt,{open:x,onOpenChange:h,children:r.jsxs(yt,{className:"bg-zinc-900 border-yellow-400/20",children:[r.jsxs(vt,{children:[r.jsx(bt,{className:"text-white",children:"Add New Month"}),r.jsx(jn,{className:"text-gray-400",children:"Select the month and year you want to add data for. This will create a new period for residuals tracking."})]}),r.jsxs("div",{className:"space-y-6 py-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{className:"text-gray-300",children:"Month"}),r.jsxs(ze,{value:b,onValueChange:w,children:[r.jsx(Re,{className:"bg-zinc-800 border-yellow-400/30 text-white",children:r.jsx(Fe,{placeholder:"Select month"})}),r.jsx($e,{className:"bg-zinc-800 border-yellow-400/30",children:P.map(pe=>r.jsx(Y,{value:pe.value,className:"text-gray-200 focus:bg-yellow-400/20 focus:text-yellow-400",children:pe.label},pe.value))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{className:"text-gray-300",children:"Year"}),r.jsxs(ze,{value:y,onValueChange:v,children:[r.jsx(Re,{className:"bg-zinc-800 border-yellow-400/30 text-white",children:r.jsx(Fe,{placeholder:"Select year"})}),r.jsx($e,{className:"bg-zinc-800 border-yellow-400/30",children:E.map(pe=>r.jsx(Y,{value:pe.value,className:"text-gray-200 focus:bg-yellow-400/20 focus:text-yellow-400",children:pe.label},pe.value))})]})]})]}),r.jsx("div",{className:"bg-zinc-800/50 border border-yellow-400/20 rounded-lg p-4",children:r.jsxs("p",{className:"text-sm text-gray-400",children:[r.jsx("strong",{className:"text-yellow-400",children:"Note:"})," Adding a month creates a new period for your organization. Data uploaded to this month will be isolated to your organization and will aggregate with other months for reporting."]})})]}),r.jsxs(Pi,{children:[r.jsx(I,{variant:"outline",onClick:()=>h(!1),className:"border-gray-600 text-gray-300 hover:bg-zinc-800",children:"Cancel"}),r.jsx(I,{onClick:W,disabled:T.isPending,className:"bg-yellow-400 text-black hover:bg-yellow-500 font-semibold","data-testid":"button-confirm-add-month",children:T.isPending?r.jsxs(r.Fragment,{children:[r.jsx(gr,{className:"h-4 w-4 mr-2 animate-spin"}),"Adding..."]}):r.jsxs(r.Fragment,{children:[r.jsx(ir,{className:"h-4 w-4 mr-2"}),"Add Month"]})})]})]})})]})});const ae=ge.filter(pe=>pe.uploadStatus==="validated").length,fe=ge.length;return r.jsx("div",{className:"min-h-screen bg-[#0a0a0f]",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 space-y-6",children:[r.jsx(fs,{items:[{label:"Dashboard",href:"/dashboard"},{label:"Data Management",href:"/data-management"},{label:((Xe=M.find(pe=>pe.value===n))==null?void 0:Xe.label)||n||"Workflow",href:"#",isActive:!0}]}),r.jsx(Z,{}),r.jsx("div",{className:"bg-zinc-900/80 border border-yellow-400/20 rounded-lg p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:"Data Management Workflow"}),r.jsx("p",{className:"text-sm text-gray-400 mt-1",children:(ce=M.find(pe=>pe.value===n))==null?void 0:ce.label})]}),r.jsx(I,{variant:"outline",className:"border-yellow-400/50 text-yellow-400 hover:bg-yellow-400 hover:text-black",onClick:()=>{s(null),i("month-selection")},"data-testid":"button-change-month",children:"Change Month"})]})}),q?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-400 mx-auto mb-4"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Loading workflow status..."})]})}):r.jsxs("div",{className:"flex items-center justify-center gap-3 overflow-x-auto pb-2",children:[r.jsx(Fr,{title:"1. Lead Sheet",icon:et,isComplete:se,onClick:()=>i("lead-sheet"),badge:se?"1/1":"0/1",testId:"tile-lead-sheet"}),r.jsx(pa,{className:"h-6 w-6 text-yellow-400/50 flex-shrink-0"}),r.jsx(Fr,{title:"2. Processors",icon:rr,isComplete:G,onClick:()=>i("processors"),badge:`${ae}/${fe}`,testId:"tile-processors"}),r.jsx(pa,{className:"h-6 w-6 text-yellow-400/50 flex-shrink-0"}),r.jsx(Fr,{title:"3. Assignments",icon:St,isComplete:xe,onClick:()=>i("assignments"),testId:"tile-assignments"}),r.jsx(pa,{className:"h-6 w-6 text-yellow-400/50 flex-shrink-0"}),r.jsx(Fr,{title:"4. Audit",icon:Jw,isComplete:re,onClick:()=>i("audit"),testId:"tile-audit"})]}),r.jsxs(U,{className:`border-2 ${We?"border-green-500 bg-green-500/10":"border-yellow-500 bg-yellow-500/10"}`,children:[r.jsx(X,{children:r.jsxs(J,{className:"flex items-center space-x-2 text-white",children:[We?r.jsx(X5,{className:"h-6 w-6 text-green-400"}):r.jsx(ht,{className:"h-6 w-6 text-yellow-400"}),r.jsx("span",{children:"Month Approval Status"})]})}),r.jsx(B,{children:We?r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-green-300",children:"All workflow steps are complete! This month is ready for approval."}),r.jsx(I,{className:"bg-green-600 hover:bg-green-700 text-white",onClick:()=>f(!0),"data-testid":"button-approve-month",children:"Approve Month"})]}):r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-yellow-300",children:"Complete all 4 steps before approving this month. Admins can override if needed."}),r.jsx(I,{variant:"outline",className:"border-yellow-400/50 text-yellow-400 hover:bg-yellow-400 hover:text-black",onClick:()=>f(!0),"data-testid":"button-override-approval",children:"Admin Override"})]})})]}),r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:[r.jsx(X,{children:r.jsxs(J,{className:"flex items-center space-x-2 text-white",children:[r.jsx(Xa,{className:"h-5 w-5 text-yellow-400"}),r.jsx("span",{children:"Monthly Analytics"}),r.jsx("span",{className:"text-sm font-normal text-gray-400 ml-2",children:(Me=M.find(pe=>pe.value===n))==null?void 0:Me.label})]})}),r.jsxs(B,{children:[me?r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsxs("div",{className:"text-center",children:[r.jsx(gr,{className:"h-8 w-8 animate-spin text-yellow-400 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Loading metrics..."})]})}):r.jsxs(o4e,{children:[r.jsx(Mf,{title:"Total Revenue",value:l4e((te==null?void 0:te.totalRevenue)||0),change:(te==null?void 0:te.momRevenueChangePercent)??void 0,changeLabel:"vs last month",icon:r.jsx(zr,{className:"h-5 w-5"}),variant:"revenue"}),r.jsx(Mf,{title:"Active Accounts",value:((te==null?void 0:te.totalAccounts)||0).toLocaleString(),subtitle:"Net Change",subtitleValue:`${te!=null&&te.netAccountGrowth&&te.netAccountGrowth>0?"+":""}${(te==null?void 0:te.netAccountGrowth)||0}`,icon:r.jsx(St,{className:"h-5 w-5"}),variant:"accounts"}),r.jsx(Mf,{title:"Retention Rate",value:m_((te==null?void 0:te.retentionRate)||0),icon:r.jsx(zd,{className:"h-5 w-5"}),variant:"retention"}),r.jsx(Mf,{title:"Attrition Rate",value:m_((te==null?void 0:te.attritionRate)||0),icon:r.jsx(f2,{className:"h-5 w-5"}),variant:"attrition"})]}),!me&&te&&r.jsxs("div",{className:"mt-6 grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-zinc-800/50 border border-green-500/30 rounded-lg p-4 text-center",children:[r.jsxs("div",{className:"flex items-center justify-center mb-2",children:[r.jsx(Qr,{className:"h-5 w-5 text-green-400 mr-2"}),r.jsx("span",{className:"text-sm text-gray-400",children:"New Accounts"})]}),r.jsxs("p",{className:"text-2xl font-bold text-green-400","data-testid":"text-new-accounts",children:["+",(te.newAccounts||0).toLocaleString()]})]}),r.jsxs("div",{className:"bg-zinc-800/50 border border-yellow-400/30 rounded-lg p-4 text-center",children:[r.jsxs("div",{className:"flex items-center justify-center mb-2",children:[r.jsx(zd,{className:"h-5 w-5 text-yellow-400 mr-2"}),r.jsx("span",{className:"text-sm text-gray-400",children:"Retained"})]}),r.jsx("p",{className:"text-2xl font-bold text-yellow-400","data-testid":"text-retained-accounts",children:(te.retainedAccounts||0).toLocaleString()})]}),r.jsxs("div",{className:"bg-zinc-800/50 border border-red-500/30 rounded-lg p-4 text-center",children:[r.jsxs("div",{className:"flex items-center justify-center mb-2",children:[r.jsx(jp,{className:"h-5 w-5 text-red-400 mr-2"}),r.jsx("span",{className:"text-sm text-gray-400",children:"Lost Accounts"})]}),r.jsxs("p",{className:"text-2xl font-bold text-red-400","data-testid":"text-lost-accounts",children:["-",(te.lostAccounts||0).toLocaleString()]})]})]})]})]}),a==="lead-sheet"&&r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:[r.jsx(X,{children:r.jsx(J,{className:"text-white",children:"Lead Sheet Upload"})}),r.jsx(B,{children:r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"flex items-center justify-between p-4 border border-yellow-400/20 rounded bg-zinc-800/50",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(et,{className:"h-8 w-8 text-yellow-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-white",children:"Master Lead Sheet"}),r.jsx("p",{className:"text-sm text-gray-400",children:(he==null?void 0:he.recordCount)>0?`${he.recordCount} records`:"Not uploaded"})]})]}),r.jsxs(I,{onClick:()=>mt("Lead Sheet"),className:se?"border-yellow-400/50 text-yellow-400 hover:bg-yellow-400 hover:text-black":"bg-yellow-400 text-black hover:bg-yellow-500",variant:se?"outline":"default","data-testid":"button-upload-lead-sheet",children:[r.jsx(rr,{className:"h-4 w-4 mr-2"}),se?"Re-upload":"Upload"]})]})})})]}),a==="processors"&&r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:[r.jsx(X,{children:r.jsxs(J,{className:"text-white",children:["Processor Reports (",ae,"/",fe,")"]})}),r.jsx(B,{children:r.jsxs(_r,{children:[r.jsx(Tr,{children:r.jsxs(Ze,{className:"border-yellow-400/20",children:[r.jsx(be,{className:"text-gray-300",children:"Processor"}),r.jsx(be,{className:"text-gray-300",children:"Status"}),r.jsx(be,{className:"text-gray-300",children:"Records"}),r.jsx(be,{className:"text-right text-gray-300",children:"Actions"})]})}),r.jsx(Mr,{children:ge.map(pe=>{var Tt;const ft=pe.uploadStatus==="validated";return r.jsxs(Ze,{"data-testid":`row-processor-${pe.id}`,className:"border-yellow-400/10",children:[r.jsx(de,{className:"font-medium text-white",children:pe.name}),r.jsx(de,{children:ft?r.jsxs(oe,{className:"bg-green-500/20 text-green-400 border border-green-500/30",children:[r.jsx(On,{className:"h-3 w-3 mr-1"}),"Complete"]}):r.jsxs(oe,{variant:"outline",className:"border-red-500/30 text-red-400 bg-red-500/10",children:[r.jsx(Io,{className:"h-3 w-3 mr-1"}),"Pending"]})}),r.jsx(de,{className:"text-gray-300",children:((Tt=pe.recordCount)==null?void 0:Tt.toLocaleString())||""}),r.jsx(de,{className:"text-right",children:r.jsxs(I,{size:"sm",onClick:()=>mt(pe.name),className:ft?"border-yellow-400/50 text-yellow-400 hover:bg-yellow-400 hover:text-black":"bg-yellow-400 text-black hover:bg-yellow-500",variant:ft?"outline":"default","data-testid":`button-upload-${pe.id}`,children:[r.jsx(rr,{className:"h-4 w-4 mr-1"}),ft?"Re-upload":"Upload"]})})]},pe.id)})})]})})]}),a==="assignments"&&r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:[r.jsx(X,{children:r.jsxs(J,{className:"flex items-center justify-between text-white",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(St,{className:"h-5 w-5 text-yellow-400"}),"Agent Assignments"]}),r.jsx(I,{variant:"outline",size:"sm",className:"border-yellow-400/50 text-yellow-400 hover:bg-yellow-400 hover:text-black",onClick:()=>{nt.mutate({assignmentsComplete:!0})},"data-testid":"button-mark-assignments-complete",children:"Mark Complete"})]})}),r.jsx(B,{children:r.jsx(i4e,{selectedMonth:n,organizationId:k})})]}),a==="audit"&&r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:[r.jsx(X,{children:r.jsx(J,{className:"text-white",children:"Audit & Validation"})}),r.jsx(B,{children:r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Jw,{className:"h-16 w-16 text-yellow-400/50 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-300 mb-4",children:"Audit validation interface will be integrated here"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Review and validate all data before month approval"})]})})]}),n&&z&&r.jsx(U,{className:"mt-6 bg-zinc-900/80 border-yellow-400/20",children:r.jsxs(B,{className:"flex items-center justify-center py-12",children:[r.jsx(gr,{className:"h-8 w-8 animate-spin text-yellow-400 mr-3"}),r.jsx("p",{className:"text-gray-300",children:"Calculating merchant lifecycle data..."})]})}),n&&F&&!z&&r.jsxs("div",{className:"space-y-6 mt-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs(U,{className:"bg-green-500/10 border-green-500/30",children:[r.jsx(X,{children:r.jsx(J,{className:"text-green-400",children:"New Merchants"})}),r.jsx(B,{children:r.jsx("p",{className:"text-3xl font-bold text-green-300","data-testid":"count-new-merchants",children:((Dt=F.counts)==null?void 0:Dt.new)||0})})]}),r.jsxs(U,{className:"bg-blue-500/10 border-blue-500/30",children:[r.jsx(X,{children:r.jsx(J,{className:"text-blue-400",children:"Retained Merchants"})}),r.jsx(B,{children:r.jsx("p",{className:"text-3xl font-bold text-blue-300","data-testid":"count-retained-merchants",children:((zt=F.counts)==null?void 0:zt.retained)||0})})]}),r.jsxs(U,{className:"bg-red-500/10 border-red-500/30",children:[r.jsx(X,{children:r.jsx(J,{className:"text-red-400",children:"Lost Merchants"})}),r.jsx(B,{children:r.jsx("p",{className:"text-3xl font-bold text-red-300","data-testid":"count-lost-merchants",children:((Lr=F.counts)==null?void 0:Lr.lost)||0})})]})]}),F.newMerchants&&F.newMerchants.length>0&&r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:[r.jsx(X,{children:r.jsxs(J,{className:"text-green-400",children:["New Merchants (",F.newMerchants.length,")"]})}),r.jsx(B,{children:r.jsxs(_r,{children:[r.jsx(Tr,{children:r.jsxs(Ze,{className:"border-yellow-400/20",children:[r.jsx(be,{className:"text-gray-300",children:"MID"}),r.jsx(be,{className:"text-gray-300",children:"DBA"}),r.jsx(be,{className:"text-gray-300",children:"Legal Name"}),r.jsx(be,{className:"text-gray-300",children:"Processor"}),r.jsx(be,{className:"text-right text-gray-300",children:"Revenue"})]})}),r.jsx(Mr,{children:F.newMerchants.map(pe=>r.jsxs(Ze,{"data-testid":`row-new-merchant-${pe.merchantId}`,className:"border-yellow-400/10",children:[r.jsx(de,{className:"font-medium text-white",children:pe.mid}),r.jsx(de,{className:"text-gray-300",children:pe.dba||""}),r.jsx(de,{className:"text-gray-300",children:pe.legalName||""}),r.jsx(de,{className:"text-gray-300",children:pe.processor}),r.jsxs(de,{className:"text-right text-gray-300",children:["$",parseFloat(pe.revenue||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]},pe.merchantId))})]})})]}),F.retainedMerchants&&F.retainedMerchants.length>0&&r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:[r.jsx(X,{children:r.jsxs(J,{className:"text-blue-400",children:["Retained Merchants (",F.retainedMerchants.length,")"]})}),r.jsxs(B,{children:[r.jsxs(_r,{children:[r.jsx(Tr,{children:r.jsxs(Ze,{className:"border-yellow-400/20",children:[r.jsx(be,{className:"text-gray-300",children:"MID"}),r.jsx(be,{className:"text-gray-300",children:"DBA"}),r.jsx(be,{className:"text-gray-300",children:"Legal Name"}),r.jsx(be,{className:"text-gray-300",children:"Processor"}),r.jsx(be,{className:"text-right text-gray-300",children:"Revenue"})]})}),r.jsx(Mr,{children:F.retainedMerchants.slice(0,10).map(pe=>r.jsxs(Ze,{"data-testid":`row-retained-merchant-${pe.merchantId}`,className:"border-yellow-400/10",children:[r.jsx(de,{className:"font-medium text-white",children:pe.mid}),r.jsx(de,{className:"text-gray-300",children:pe.dba||""}),r.jsx(de,{className:"text-gray-300",children:pe.legalName||""}),r.jsx(de,{className:"text-gray-300",children:pe.processor}),r.jsxs(de,{className:"text-right text-gray-300",children:["$",parseFloat(pe.revenue||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]},pe.merchantId))})]}),F.retainedMerchants.length>10&&r.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Showing 10 of ",F.retainedMerchants.length," merchants"]})]})]}),F.lostMerchants&&F.lostMerchants.length>0&&r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:[r.jsx(X,{children:r.jsxs(J,{className:"text-red-400",children:["Lost Merchants (",F.lostMerchants.length,")"]})}),r.jsx(B,{children:r.jsxs(_r,{children:[r.jsx(Tr,{children:r.jsxs(Ze,{className:"border-yellow-400/20",children:[r.jsx(be,{className:"text-gray-300",children:"MID"}),r.jsx(be,{className:"text-gray-300",children:"DBA"}),r.jsx(be,{className:"text-gray-300",children:"Legal Name"}),r.jsx(be,{className:"text-gray-300",children:"Processor"}),r.jsx(be,{className:"text-right text-gray-300",children:"Last Revenue"})]})}),r.jsx(Mr,{children:F.lostMerchants.map(pe=>r.jsxs(Ze,{"data-testid":`row-lost-merchant-${pe.merchantId}`,className:"border-yellow-400/10",children:[r.jsx(de,{className:"font-medium text-white",children:pe.mid}),r.jsx(de,{className:"text-gray-300",children:pe.dba||""}),r.jsx(de,{className:"text-gray-300",children:pe.legalName||""}),r.jsx(de,{className:"text-gray-300",children:pe.processor}),r.jsxs(de,{className:"text-right text-gray-300",children:["$",parseFloat(pe.lastRevenue||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]},pe.merchantId))})]})})]})]}),r.jsx(jt,{open:u,onOpenChange:m,children:r.jsxs(yt,{className:"bg-zinc-900 border-yellow-400/20",children:[r.jsxs(vt,{children:[r.jsxs(bt,{className:"text-white",children:["Upload ",o]}),r.jsxs(jn,{className:"text-gray-400",children:["Upload file for ",(Nn=M.find(pe=>pe.value===n))==null?void 0:Nn.label]})]}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{className:"border-2 border-dashed border-yellow-400/30 rounded-lg p-8 text-center hover:border-yellow-400/50 transition-colors",children:[r.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",onChange:Nt,className:"hidden",id:"file-upload","data-testid":"input-file-upload"}),r.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer",children:[r.jsx(rr,{className:"h-12 w-12 text-yellow-400/50 mx-auto mb-4"}),r.jsx("p",{className:"text-sm font-medium text-gray-300",children:c?c.name:"Click to select file"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"CSV, XLS, or XLSX files accepted"})]})]}),r.jsx(I,{onClick:wr,disabled:!c||Ue.isPending,className:"w-full bg-yellow-400 text-black hover:bg-yellow-500","data-testid":"button-submit-upload",children:Ue.isPending?"Uploading...":"Upload File"})]})]})}),r.jsx(N4e,{open:p,onOpenChange:f,children:r.jsxs(OL,{className:"bg-zinc-900 border-yellow-400/20",children:[r.jsxs(EL,{children:[r.jsx(TL,{className:"text-white",children:We?"Approve Month":"Admin Override Required"}),r.jsx(ML,{className:"text-gray-400",children:We?"Are you sure you want to approve this month? This action will finalize all data.":"Not all steps are complete. As an admin, you can override and approve anyway. Please provide a reason."})]}),!We&&r.jsxs("div",{className:"my-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Override Reason"}),r.jsx("textarea",{className:"w-full border border-yellow-400/30 bg-zinc-800 text-gray-200 rounded-md p-2 focus:border-yellow-400 focus:outline-none",rows:3,value:S,onChange:pe=>N(pe.target.value),placeholder:"Explain why you're overriding the normal approval process...","data-testid":"input-override-reason"})]}),r.jsxs(_L,{children:[r.jsx(RL,{className:"border-gray-600 text-gray-300 hover:bg-zinc-800","data-testid":"button-cancel-approval",children:"Cancel"}),r.jsx(IL,{className:"bg-yellow-400 text-black hover:bg-yellow-500",onClick:()=>{j({title:"Month Approved",description:"This month has been approved successfully"}),f(!1),N("")},"data-testid":"button-confirm-approval",disabled:!We&&!S,children:We?"Approve":"Override & Approve"})]})]})})]})})}function p_(){const{toast:e}=pt(),t=_t(),[n,s]=g.useState(null),[a,i]=g.useState(!1),[o,l]=g.useState("overview"),[c,d]=g.useState({name:"",companyName:"",contactEmail:"",contactPhone:"",domain:"",industry:"",subscriptionPlan:"basic",maxUsers:5,maxMerchants:1e3}),[u,m]=g.useState({username:"",email:"",password:"",firstName:"",lastName:""}),{data:p,isLoading:f}=ve({queryKey:["/api/agencies"],queryFn:()=>Te("/api/agencies")}),x=Oe({mutationFn:C=>Te("/api/agencies","POST"),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/agencies"]}),i(!1),h(),e({title:"Agency Created",description:"New agency and admin user created successfully"})},onError:C=>{e({title:"Error",description:"Failed to create agency",variant:"destructive"})}}),h=()=>{d({name:"",companyName:"",contactEmail:"",contactPhone:"",domain:"",industry:"",subscriptionPlan:"basic",maxUsers:5,maxMerchants:1e3}),m({username:"",email:"",password:"",firstName:"",lastName:""})},y=()=>{x.mutate({agency:c,adminUser:u})},v=C=>({active:"bg-green-500/20 text-green-400 border-green-500/30",trial:"bg-blue-500/20 text-blue-400 border-blue-500/30",suspended:"bg-red-500/20 text-red-400 border-red-500/30",pending:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",completed:"bg-green-500/20 text-green-400 border-green-500/30",in_progress:"bg-blue-500/20 text-blue-400 border-blue-500/30"})[C]||"bg-gray-500/20 text-gray-400 border-gray-500/30",b=C=>{switch(C){case"enterprise":return r.jsx(Yt,{className:"h-4 w-4"});case"pro":return r.jsx(Qr,{className:"h-4 w-4"});default:return r.jsx(ja,{className:"h-4 w-4"})}},w=(p==null?void 0:p.agencies)||[],S=w.reduce((C,A)=>C+A.userCount,0),N=w.reduce((C,A)=>C+A.merchantCount,0),j=w.filter(C=>C.isActive).length;return f?r.jsx("div",{className:"min-h-screen bg-[#0a0a0f] flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-400 mx-auto"}),r.jsx("p",{className:"text-gray-400 mt-4",children:"Loading Super Admin Dashboard..."})]})}):r.jsx("div",{className:"min-h-screen bg-[#0a0a0f]",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6 lg:py-8",children:[r.jsx("div",{className:"mb-6 sm:mb-8",children:r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-white mb-2",children:"Super Admin Dashboard"}),r.jsx("p",{className:"text-gray-400",children:"Manage all agencies, users, and system-wide settings"})]}),r.jsxs(jt,{open:a,onOpenChange:i,children:[r.jsx(pn,{asChild:!0,children:r.jsxs(I,{className:"bg-yellow-400 hover:bg-yellow-500 text-black font-semibold",children:[r.jsx(ir,{className:"h-4 w-4 mr-2"}),"Create New Agency"]})}),r.jsxs(yt,{className:"max-w-2xl max-h-[80vh] overflow-y-auto bg-zinc-900 border-yellow-400/20",children:[r.jsxs(vt,{children:[r.jsx(bt,{className:"text-white",children:"Create New Agency"}),r.jsx(jn,{className:"text-gray-400",children:"Set up a new client agency with admin user and subscription"})]}),r.jsxs(ns,{defaultValue:"agency",className:"w-full",children:[r.jsxs(Un,{className:"grid w-full grid-cols-3 bg-zinc-800",children:[r.jsx(ot,{value:"agency",className:"data-[state=active]:bg-yellow-400 data-[state=active]:text-black",children:"Agency Info"}),r.jsx(ot,{value:"admin",className:"data-[state=active]:bg-yellow-400 data-[state=active]:text-black",children:"Admin User"}),r.jsx(ot,{value:"subscription",className:"data-[state=active]:bg-yellow-400 data-[state=active]:text-black",children:"Subscription"})]}),r.jsxs(lt,{value:"agency",className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(K,{htmlFor:"name",className:"text-gray-300",children:"Agency Name*"}),r.jsx(ee,{id:"name",value:c.name,onChange:C=>d({...c,name:C.target.value}),placeholder:"ABC Payment Solutions",className:"bg-zinc-800 border-yellow-400/30 text-white"})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"domain",className:"text-gray-300",children:"Subdomain"}),r.jsx(ee,{id:"domain",value:c.domain,onChange:C=>d({...c,domain:C.target.value}),placeholder:"abc-payments",className:"bg-zinc-800 border-yellow-400/30 text-white"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(K,{htmlFor:"companyName",className:"text-gray-300",children:"Company Name"}),r.jsx(ee,{id:"companyName",value:c.companyName,onChange:C=>d({...c,companyName:C.target.value}),placeholder:"ABC Payment Solutions LLC",className:"bg-zinc-800 border-yellow-400/30 text-white"})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"industry",className:"text-gray-300",children:"Industry"}),r.jsxs(ze,{value:c.industry,onValueChange:C=>d({...c,industry:C}),children:[r.jsx(Re,{className:"bg-zinc-800 border-yellow-400/30 text-white",children:r.jsx(Fe,{placeholder:"Select industry"})}),r.jsxs($e,{className:"bg-zinc-800 border-yellow-400/30",children:[r.jsx(Y,{value:"payment_processing",children:"Payment Processing"}),r.jsx(Y,{value:"merchant_services",children:"Merchant Services"}),r.jsx(Y,{value:"fintech",children:"FinTech"}),r.jsx(Y,{value:"retail",children:"Retail"}),r.jsx(Y,{value:"restaurant",children:"Restaurant"}),r.jsx(Y,{value:"other",children:"Other"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(K,{htmlFor:"contactEmail",className:"text-gray-300",children:"Contact Email*"}),r.jsx(ee,{id:"contactEmail",type:"email",value:c.contactEmail,onChange:C=>d({...c,contactEmail:C.target.value}),placeholder:"admin@abcpayments.com",className:"bg-zinc-800 border-yellow-400/30 text-white"})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"contactPhone",className:"text-gray-300",children:"Contact Phone"}),r.jsx(ee,{id:"contactPhone",value:c.contactPhone,onChange:C=>d({...c,contactPhone:C.target.value}),placeholder:"+1 (555) 123-4567",className:"bg-zinc-800 border-yellow-400/30 text-white"})]})]})]}),r.jsxs(lt,{value:"admin",className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(K,{htmlFor:"firstName",className:"text-gray-300",children:"First Name*"}),r.jsx(ee,{id:"firstName",value:u.firstName,onChange:C=>m({...u,firstName:C.target.value}),placeholder:"John",className:"bg-zinc-800 border-yellow-400/30 text-white"})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"lastName",className:"text-gray-300",children:"Last Name*"}),r.jsx(ee,{id:"lastName",value:u.lastName,onChange:C=>m({...u,lastName:C.target.value}),placeholder:"Smith",className:"bg-zinc-800 border-yellow-400/30 text-white"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(K,{htmlFor:"username",className:"text-gray-300",children:"Username*"}),r.jsx(ee,{id:"username",value:u.username,onChange:C=>m({...u,username:C.target.value}),placeholder:"johnsmith",className:"bg-zinc-800 border-yellow-400/30 text-white"})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"email",className:"text-gray-300",children:"Email*"}),r.jsx(ee,{id:"email",type:"email",value:u.email,onChange:C=>m({...u,email:C.target.value}),placeholder:"john@abcpayments.com",className:"bg-zinc-800 border-yellow-400/30 text-white"})]})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"password",className:"text-gray-300",children:"Password* (Min 12 characters)"}),r.jsx(ee,{id:"password",type:"password",value:u.password,onChange:C=>m({...u,password:C.target.value}),placeholder:"Secure password (12+ characters)",className:"bg-zinc-800 border-yellow-400/30 text-white"})]})]}),r.jsx(lt,{value:"subscription",className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx(K,{htmlFor:"subscriptionPlan",className:"text-gray-300",children:"Plan"}),r.jsxs(ze,{value:c.subscriptionPlan,onValueChange:C=>d({...c,subscriptionPlan:C}),children:[r.jsx(Re,{className:"bg-zinc-800 border-yellow-400/30 text-white",children:r.jsx(Fe,{})}),r.jsxs($e,{className:"bg-zinc-800 border-yellow-400/30",children:[r.jsx(Y,{value:"trial",children:"14-Day Trial (Free)"}),r.jsx(Y,{value:"basic",children:"Basic ($49/month)"}),r.jsx(Y,{value:"pro",children:"Pro ($99/month)"}),r.jsx(Y,{value:"enterprise",children:"Enterprise ($199/month)"})]})]})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"maxUsers",className:"text-gray-300",children:"Max Users"}),r.jsx(ee,{id:"maxUsers",type:"number",value:c.maxUsers,onChange:C=>d({...c,maxUsers:parseInt(C.target.value)}),className:"bg-zinc-800 border-yellow-400/30 text-white"})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"maxMerchants",className:"text-gray-300",children:"Max Merchants"}),r.jsx(ee,{id:"maxMerchants",type:"number",value:c.maxMerchants,onChange:C=>d({...c,maxMerchants:parseInt(C.target.value)}),className:"bg-zinc-800 border-yellow-400/30 text-white"})]})]})})]}),r.jsxs(Pi,{className:"pt-4 border-t border-yellow-400/20",children:[r.jsx(I,{variant:"outline",onClick:()=>i(!1),className:"border-gray-600 text-gray-300 hover:bg-zinc-700",children:"Cancel"}),r.jsx(I,{onClick:y,disabled:x.isPending,className:"bg-yellow-400 hover:bg-yellow-500 text-black",children:x.isPending?"Creating...":"Create Agency"})]})]})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[r.jsx(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:r.jsx(B,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Yt,{className:"h-4 w-4 text-blue-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Total Agencies"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:w.length})]})]})})}),r.jsx(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:r.jsx(B,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(qe,{className:"h-4 w-4 text-green-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Active Agencies"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:j})]})]})})}),r.jsx(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:r.jsx(B,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(St,{className:"h-4 w-4 text-purple-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Total Users"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:S})]})]})})}),r.jsx(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:r.jsx(B,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ja,{className:"h-4 w-4 text-orange-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Total Merchants"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:N})]})]})})})]}),r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:[r.jsx(X,{children:r.jsxs(J,{className:"flex items-center gap-2 text-white",children:[r.jsx(Yt,{className:"h-5 w-5 text-yellow-400"}),"Agency Management"]})}),r.jsx(B,{children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(_r,{children:[r.jsx(Tr,{children:r.jsxs(Ze,{className:"border-yellow-400/20 hover:bg-zinc-800/50",children:[r.jsx(be,{className:"text-gray-300",children:"Agency"}),r.jsx(be,{className:"text-gray-300",children:"Contact"}),r.jsx(be,{className:"text-gray-300",children:"Plan"}),r.jsx(be,{className:"text-gray-300",children:"Status"}),r.jsx(be,{className:"text-gray-300",children:"Onboarding"}),r.jsx(be,{className:"text-gray-300",children:"Users"}),r.jsx(be,{className:"text-gray-300",children:"Merchants"}),r.jsx(be,{className:"text-gray-300",children:"Created"}),r.jsx(be,{className:"text-gray-300",children:"Actions"})]})}),r.jsx(Mr,{children:w.map(C=>r.jsxs(Ze,{className:"border-yellow-400/20 hover:bg-zinc-800/50",children:[r.jsx(de,{children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-white",children:C.name}),r.jsx("div",{className:"text-sm text-gray-400",children:C.companyName}),C.domain&&r.jsxs("div",{className:"text-xs text-yellow-400",children:[C.domain,".isohub.com"]})]})}),r.jsx(de,{children:r.jsx("div",{className:"text-sm text-gray-300",children:C.contactEmail})}),r.jsx(de,{children:r.jsxs("div",{className:"flex items-center gap-1",children:[b(C.subscriptionPlan),r.jsx(oe,{className:`${v(C.subscriptionPlan)} capitalize`,children:C.subscriptionPlan})]})}),r.jsx(de,{children:r.jsx(oe,{className:`${v(C.subscriptionStatus)}`,children:C.subscriptionStatus})}),r.jsx(de,{children:r.jsxs("div",{className:"w-24",children:[r.jsx(Vu,{value:C.onboardingProgress,className:"h-2"}),r.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[C.onboardingProgress,"% complete"]})]})}),r.jsx(de,{className:"text-gray-300",children:C.userCount}),r.jsx(de,{className:"text-gray-300",children:C.merchantCount}),r.jsx(de,{children:r.jsx("div",{className:"text-sm text-gray-300",children:new Date(C.createdAt).toLocaleDateString()})}),r.jsx(de,{children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(I,{size:"sm",variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-zinc-700",children:r.jsx(yr,{className:"h-3 w-3"})}),r.jsx(I,{size:"sm",variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-zinc-700",children:r.jsx(Ql,{className:"h-3 w-3"})}),r.jsx(I,{size:"sm",variant:"outline",className:"border-gray-600 text-red-400 hover:bg-zinc-700 hover:text-red-300",children:r.jsx(es,{className:"h-3 w-3"})})]})})]},C.id))})]})})})]})]})})}var ev="Switch",[C4e]=Fn(ev),[k4e,A4e]=C4e(ev),$L=g.forwardRef((e,t)=>{const{__scopeSwitch:n,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...m}=e,[p,f]=g.useState(null),x=rt(t,w=>f(w)),h=g.useRef(!1),y=p?u||!!p.closest("form"):!0,[v,b]=wa({prop:a,defaultProp:i??!1,onChange:d,caller:ev});return r.jsxs(k4e,{scope:n,checked:v,disabled:l,children:[r.jsx(Le.button,{type:"button",role:"switch","aria-checked":v,"aria-required":o,"data-state":LL(v),"data-disabled":l?"":void 0,disabled:l,value:c,...m,ref:x,onClick:je(e.onClick,w=>{b(S=>!S),y&&(h.current=w.isPropagationStopped(),h.current||w.stopPropagation())})}),y&&r.jsx(FL,{control:p,bubbles:!h.current,name:s,value:c,checked:v,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});$L.displayName=ev;var DL="SwitchThumb",zL=g.forwardRef((e,t)=>{const{__scopeSwitch:n,...s}=e,a=A4e(DL,n);return r.jsx(Le.span,{"data-state":LL(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})});zL.displayName=DL;var P4e="SwitchBubbleInput",FL=g.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:s=!0,...a},i)=>{const o=g.useRef(null),l=rt(o,i),c=Z2(n),d=P2(t);return g.useEffect(()=>{const u=o.current;if(!u)return;const m=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(m,"checked").set;if(c!==n&&f){const x=new Event("click",{bubbles:s});f.call(u,n),u.dispatchEvent(x)}},[c,n,s]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:l,style:{...a.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});FL.displayName=P4e;function LL(e){return e?"checked":"unchecked"}var UL=$L,O4e=zL;const un=g.forwardRef(({className:e,...t},n)=>r.jsx(UL,{className:ye("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:r.jsx(O4e,{className:ye("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));un.displayName=UL.displayName;const E4e={"Company Information":Yt,"Domain & Email Setup":vr,"Subscription Plan":zr,"User Setup":St,"Processor Configuration":ja,"Commission Structure":Qr,"Reporting Setup":et},f_={"Company Information":"Complete your company profile and contact details","Domain & Email Setup":"Configure whitelabel domain and email settings","Subscription Plan":"Choose your billing plan and subscription preferences","User Setup":"Add team members and configure user roles","Processor Configuration":"Connect your payment processors and configure settings","Commission Structure":"Set up commission splits and role assignments","Reporting Setup":"Configure automated reports and email schedules"};function _4e({onComplete:e,isCompleted:t,initialData:n}){const[s,a]=g.useState({companyName:(n==null?void 0:n.companyName)||"",contactName:(n==null?void 0:n.contactName)||"",email:(n==null?void 0:n.email)||"",phone:(n==null?void 0:n.phone)||"",website:(n==null?void 0:n.website)||"",industry:(n==null?void 0:n.industry)||"",isWhitelabel:(n==null?void 0:n.isWhitelabel)||!1,domainType:(n==null?void 0:n.domainType)||"standard",customDomain:(n==null?void 0:n.customDomain)||"",subdomainPrefix:(n==null?void 0:n.subdomainPrefix)||"",dnsProvider:(n==null?void 0:n.dnsProvider)||"",emailProvider:(n==null?void 0:n.emailProvider)||"isohub_smtp",smtpHost:(n==null?void 0:n.smtpHost)||"",smtpPort:(n==null?void 0:n.smtpPort)||587,smtpUsername:(n==null?void 0:n.smtpUsername)||"",smtpPassword:(n==null?void 0:n.smtpPassword)||"",fromEmailAddress:(n==null?void 0:n.fromEmailAddress)||"",fromDisplayName:(n==null?void 0:n.fromDisplayName)||"",primaryColor:(n==null?void 0:n.primaryColor)||"#FFD700",secondaryColor:(n==null?void 0:n.secondaryColor)||"#000000",accentColor:(n==null?void 0:n.accentColor)||"#FFFFFF",logoFile:null,description:(n==null?void 0:n.description)||""}),[i,o]=g.useState((n==null?void 0:n.agencyCode)||""),l=Oe({mutationFn:async f=>{const x=await fetch("/api/agencies/generate-code",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({agencyName:f})});if(!x.ok)throw new Error("Failed to generate code");return x.json()},onSuccess:f=>{o(f.agencyCode)}}),c=f=>{f.length>=3&&l.mutate(f)},d=Oe({mutationFn:async f=>{const x=await fetch("/api/agencies/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});if(!x.ok)throw new Error("Failed to create agency");return x.json()},onSuccess:f=>{console.log("Agency created successfully:",f)}}),u=f=>{f.preventDefault();const x={...s,agencyCode:i,location:`${s.companyName} Location`};d.mutate(x),e(x)},m=(f,x)=>{a(h=>({...h,[f]:x}))},p=f=>{var h;const x=(h=f.target.files)==null?void 0:h[0];x&&a(y=>({...y,logoFile:x}))};return r.jsxs("form",{onSubmit:u,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(K,{htmlFor:"companyName",className:"text-gray-300",children:"Company Name *"}),r.jsx(ee,{id:"companyName",value:s.companyName,onChange:f=>{a(x=>({...x,companyName:f.target.value})),c(f.target.value)},placeholder:"Enter company name",className:"bg-zinc-800 border-yellow-400/30 text-white",required:!0})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"agencyCode",className:"text-gray-300",children:"Agency Code"}),r.jsx(ee,{id:"agencyCode",value:i,placeholder:"AUTO-GENERATED",className:"bg-zinc-800 border-yellow-400/30 text-white",readOnly:!0}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"This code will be used in your personalized form links"})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"contactName",className:"text-gray-300",children:"Contact Name *"}),r.jsx(ee,{id:"contactName",value:s.contactName,onChange:f=>a(x=>({...x,contactName:f.target.value})),placeholder:"Primary contact person",className:"bg-zinc-800 border-yellow-400/30 text-white",required:!0})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"email",className:"text-gray-300",children:"Email Address *"}),r.jsx(ee,{id:"email",type:"email",value:s.email,onChange:f=>a(x=>({...x,email:f.target.value})),placeholder:"contact@company.com",className:"bg-zinc-800 border-yellow-400/30 text-white",required:!0})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"phone",className:"text-gray-300",children:"Phone Number"}),r.jsx(ee,{id:"phone",value:s.phone,onChange:f=>a(x=>({...x,phone:f.target.value})),placeholder:"(555) 123-4567",className:"bg-zinc-800 border-yellow-400/30 text-white"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(K,{htmlFor:"website",className:"text-gray-300",children:"Website"}),r.jsx(ee,{id:"website",value:s.website,onChange:f=>a(x=>({...x,website:f.target.value})),placeholder:"https://www.company.com",className:"bg-zinc-800 border-yellow-400/30 text-white"})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"industry",className:"text-gray-300",children:"Industry"}),r.jsxs(ze,{value:s.industry,onValueChange:f=>a(x=>({...x,industry:f})),children:[r.jsx(Re,{className:"bg-zinc-800 border-yellow-400/30 text-white",children:r.jsx(Fe,{placeholder:"Select industry"})}),r.jsxs($e,{className:"bg-zinc-800 border-yellow-400/30",children:[r.jsx(Y,{value:"payment_processing",children:"Payment Processing"}),r.jsx(Y,{value:"financial_services",children:"Financial Services"}),r.jsx(Y,{value:"retail",children:"Retail"}),r.jsx(Y,{value:"restaurant",children:"Restaurant/Food Service"}),r.jsx(Y,{value:"ecommerce",children:"E-commerce"}),r.jsx(Y,{value:"healthcare",children:"Healthcare"}),r.jsx(Y,{value:"professional_services",children:"Professional Services"}),r.jsx(Y,{value:"other",children:"Other"})]})]})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"description",className:"text-gray-300",children:"Company Description"}),r.jsx(Wt,{id:"description",value:s.description,onChange:f=>a(x=>({...x,description:f.target.value})),placeholder:"Brief description of your company...",rows:3,className:"bg-zinc-800 border-yellow-400/30 text-white"})]})]})]}),r.jsxs("div",{className:"border-t border-yellow-400/20 pt-6",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[r.jsx(un,{checked:s.isWhitelabel,onCheckedChange:f=>a(x=>({...x,isWhitelabel:f}))}),r.jsxs("div",{children:[r.jsx(K,{className:"text-base font-medium text-white",children:"Whitelabel Build-out"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Enable custom branding and logo for your platform"})]})]}),s.isWhitelabel&&r.jsxs("div",{className:"bg-zinc-800 p-6 rounded-lg space-y-6 border border-yellow-400/20",children:[r.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2 text-white",children:[r.jsx(rI,{className:"h-5 w-5 text-yellow-400"}),"Brand Customization"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{children:[r.jsx(K,{htmlFor:"primaryColor",className:"text-gray-300",children:"Primary Color"}),r.jsxs("div",{className:"flex gap-2 mt-1",children:[r.jsx("input",{type:"color",value:s.primaryColor,onChange:f=>m("primaryColor",f.target.value),className:"w-12 h-10 rounded border border-yellow-400/30 cursor-pointer bg-zinc-800"}),r.jsx(ee,{value:s.primaryColor,onChange:f=>m("primaryColor",f.target.value),placeholder:"#FFD700",className:"font-mono bg-zinc-800 border-yellow-400/30 text-white"})]})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"secondaryColor",className:"text-gray-300",children:"Secondary Color"}),r.jsxs("div",{className:"flex gap-2 mt-1",children:[r.jsx("input",{type:"color",value:s.secondaryColor,onChange:f=>m("secondaryColor",f.target.value),className:"w-12 h-10 rounded border border-yellow-400/30 cursor-pointer bg-zinc-800"}),r.jsx(ee,{value:s.secondaryColor,onChange:f=>m("secondaryColor",f.target.value),placeholder:"#000000",className:"font-mono bg-zinc-800 border-yellow-400/30 text-white"})]})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"accentColor",className:"text-gray-300",children:"Accent Color"}),r.jsxs("div",{className:"flex gap-2 mt-1",children:[r.jsx("input",{type:"color",value:s.accentColor,onChange:f=>m("accentColor",f.target.value),className:"w-12 h-10 rounded border border-yellow-400/30 cursor-pointer bg-zinc-800"}),r.jsx(ee,{value:s.accentColor,onChange:f=>m("accentColor",f.target.value),placeholder:"#FFFFFF",className:"font-mono bg-zinc-800 border-yellow-400/30 text-white"})]})]})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"logo",className:"text-gray-300",children:"Company Logo"}),r.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-yellow-400/30 border-dashed rounded-md hover:border-yellow-400/50 transition-colors bg-zinc-900/50",children:r.jsxs("div",{className:"space-y-1 text-center",children:[r.jsx(rr,{className:"mx-auto h-12 w-12 text-yellow-400"}),r.jsxs("div",{className:"flex text-sm text-gray-400",children:[r.jsxs("label",{htmlFor:"logo-upload",className:"relative cursor-pointer rounded-md font-medium text-yellow-400 hover:text-yellow-300 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-yellow-400",children:[r.jsx("span",{children:"Upload a file"}),r.jsx("input",{id:"logo-upload",type:"file",accept:"image/*",onChange:p,className:"sr-only"})]}),r.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),r.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, SVG up to 2MB"}),s.logoFile&&r.jsxs("p",{className:"text-sm text-green-400",children:["Selected: ",s.logoFile.name]})]})})]}),r.jsxs("div",{children:[r.jsx(K,{className:"text-gray-300",children:"Color Preview"}),r.jsxs("div",{className:"mt-2 p-4 rounded-lg border border-yellow-400/20",style:{background:`linear-gradient(135deg, ${s.primaryColor} 0%, ${s.secondaryColor} 100%)`,color:s.accentColor},children:[r.jsx("h4",{className:"font-bold text-lg",children:"Your Brand Colors"}),r.jsx("p",{children:"This is how your whitelabel platform will look with these colors."})]})]})]})]}),r.jsx("div",{className:"flex justify-end space-x-3",children:r.jsxs(I,{type:"submit",className:"bg-yellow-400 hover:bg-yellow-500 text-black font-semibold",children:[r.jsx(vi,{className:"h-4 w-4 mr-2"}),t?"Update Information":"Continue"]})})]})}function T4e({onComplete:e,isCompleted:t,initialData:n}){const[s,a]=g.useState({domainType:(n==null?void 0:n.domainType)||"standard",customDomain:(n==null?void 0:n.customDomain)||"",subdomainPrefix:(n==null?void 0:n.subdomainPrefix)||"",dnsProvider:(n==null?void 0:n.dnsProvider)||"",emailProvider:(n==null?void 0:n.emailProvider)||"isohub_smtp",smtpHost:(n==null?void 0:n.smtpHost)||"",smtpPort:(n==null?void 0:n.smtpPort)||587,smtpUsername:(n==null?void 0:n.smtpUsername)||"",smtpPassword:(n==null?void 0:n.smtpPassword)||"",fromEmailAddress:(n==null?void 0:n.fromEmailAddress)||"",fromDisplayName:(n==null?void 0:n.fromDisplayName)||""});if(t)return r.jsxs("div",{className:"text-center py-8",children:[r.jsx(qe,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),r.jsx("p",{className:"text-white",children:"Domain & Email Setup Complete"}),r.jsxs("div",{className:"mt-4 p-4 bg-green-500/10 rounded-lg border border-green-500/20",children:[r.jsxs("p",{className:"text-sm text-gray-300",children:[r.jsx("strong",{className:"text-white",children:"Domain:"})," ",s.domainType==="standard"?"Using ISOHub Standard":s.customDomain||s.subdomainPrefix]}),r.jsxs("p",{className:"text-sm text-gray-300",children:[r.jsx("strong",{className:"text-white",children:"Email:"})," ",s.emailProvider==="isohub_smtp"?"ISOHub SMTP":"Custom SMTP"]})]})]});const i=o=>{o.preventDefault(),e(s)};return r.jsxs("form",{onSubmit:i,className:"space-y-8",children:[r.jsxs("div",{className:"bg-zinc-900/80 p-6 rounded-lg border border-yellow-400/20",children:[r.jsxs("h3",{className:"text-xl font-semibold mb-6 flex items-center gap-2 text-white",children:[r.jsx(vr,{className:"h-5 w-5 text-yellow-400"}),"Domain Configuration"]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx(K,{className:"text-base font-medium text-gray-300",children:"Choose Your Domain Setup"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-3",children:[r.jsx(U,{className:`cursor-pointer border-2 ${s.domainType==="standard"?"border-yellow-400 bg-yellow-400/10":"border-yellow-400/20 bg-zinc-800"}`,onClick:()=>a(o=>({...o,domainType:"standard"})),children:r.jsxs(B,{className:"p-4 text-center",children:[r.jsx(Yt,{className:"h-8 w-8 mx-auto mb-2 text-yellow-400"}),r.jsx("h4",{className:"font-medium text-white",children:"Standard"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Use ISOHub.io subdomain"}),r.jsx(oe,{variant:"secondary",className:"mt-2 bg-zinc-700 text-gray-300",children:"Free"})]})}),r.jsx(U,{className:`cursor-pointer border-2 ${s.domainType==="custom_domain"?"border-yellow-400 bg-yellow-400/10":"border-yellow-400/20 bg-zinc-800"}`,onClick:()=>a(o=>({...o,domainType:"custom_domain"})),children:r.jsxs(B,{className:"p-4 text-center",children:[r.jsx(vr,{className:"h-8 w-8 mx-auto mb-2 text-yellow-400"}),r.jsx("h4",{className:"font-medium text-white",children:"Custom Domain"}),r.jsx("p",{className:"text-sm text-gray-400",children:"yourcompany.com"}),r.jsx(oe,{variant:"outline",className:"mt-2 border-yellow-400/30 text-yellow-400",children:"Premium"})]})}),r.jsx(U,{className:`cursor-pointer border-2 ${s.domainType==="subdomain"?"border-yellow-400 bg-yellow-400/10":"border-yellow-400/20 bg-zinc-800"}`,onClick:()=>a(o=>({...o,domainType:"subdomain"})),children:r.jsxs(B,{className:"p-4 text-center",children:[r.jsx(ja,{className:"h-8 w-8 mx-auto mb-2 text-yellow-400"}),r.jsx("h4",{className:"font-medium text-white",children:"Subdomain"}),r.jsx("p",{className:"text-sm text-gray-400",children:"company.isohub.io"}),r.jsx(oe,{variant:"secondary",className:"mt-2 bg-zinc-700 text-gray-300",children:"Standard"})]})})]})]}),s.domainType==="custom_domain"&&r.jsxs("div",{className:"bg-blue-500/10 p-6 rounded-lg space-y-4 border border-blue-500/20",children:[r.jsx("h4",{className:"font-medium text-blue-400",children:"Custom Domain Setup"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(K,{htmlFor:"customDomain",className:"text-gray-300",children:"Your Domain *"}),r.jsx(ee,{id:"customDomain",value:s.customDomain,onChange:o=>a(l=>({...l,customDomain:o.target.value})),placeholder:"yourcompany.com",className:"bg-zinc-800 border-yellow-400/30 text-white",required:!0})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"dnsProvider",className:"text-gray-300",children:"DNS Provider"}),r.jsxs(ze,{value:s.dnsProvider,onValueChange:o=>a(l=>({...l,dnsProvider:o})),children:[r.jsx(Re,{className:"bg-zinc-800 border-yellow-400/30 text-white",children:r.jsx(Fe,{placeholder:"Select DNS provider"})}),r.jsxs($e,{className:"bg-zinc-800 border-yellow-400/30",children:[r.jsx(Y,{value:"cloudflare",children:"Cloudflare"}),r.jsx(Y,{value:"godaddy",children:"GoDaddy"}),r.jsx(Y,{value:"namecheap",children:"Namecheap"}),r.jsx(Y,{value:"route53",children:"AWS Route 53"}),r.jsx(Y,{value:"other",children:"Other"})]})]})]})]}),r.jsxs("div",{className:"p-3 bg-blue-500/20 rounded text-sm text-blue-300 border border-blue-500/30",children:[r.jsx("strong",{className:"text-blue-200",children:"Setup Requirements:"}),r.jsxs("ul",{className:"mt-1 list-disc list-inside space-y-1",children:[r.jsx("li",{children:"Domain ownership verification"}),r.jsx("li",{children:"DNS record configuration (A records, CNAME)"}),r.jsx("li",{children:"SSL certificate installation"}),r.jsx("li",{children:"Email routing setup"})]})]})]}),s.domainType==="subdomain"&&r.jsxs("div",{className:"bg-green-500/10 p-6 rounded-lg space-y-4 border border-green-500/20",children:[r.jsx("h4",{className:"font-medium text-green-400",children:"Subdomain Setup"}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"subdomainPrefix",className:"text-gray-300",children:"Subdomain Prefix *"}),r.jsxs("div",{className:"flex items-center mt-1",children:[r.jsx(ee,{id:"subdomainPrefix",value:s.subdomainPrefix,onChange:o=>a(l=>({...l,subdomainPrefix:o.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"")})),placeholder:"yourcompany",className:"rounded-r-none bg-zinc-800 border-yellow-400/30 text-white",required:!0}),r.jsx("span",{className:"bg-zinc-700 border border-l-0 border-yellow-400/30 px-3 py-2 rounded-r text-sm text-gray-400",children:".isohub.io"})]}),r.jsxs("p",{className:"text-sm text-green-400 mt-1",children:["Your site will be: ",s.subdomainPrefix||"yourcompany",".isohub.io"]})]})]})]})]}),r.jsxs("div",{className:"bg-zinc-900/80 p-6 rounded-lg border border-yellow-400/20",children:[r.jsx("h3",{className:"text-xl font-semibold mb-6 flex items-center gap-2 text-white",children:" Email Service Configuration"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx(K,{className:"text-base font-medium text-gray-300",children:"Email Service Provider"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-3",children:[r.jsx(U,{className:`cursor-pointer border-2 ${s.emailProvider==="isohub_smtp"?"border-yellow-400 bg-yellow-400/10":"border-yellow-400/20 bg-zinc-800"}`,onClick:()=>a(o=>({...o,emailProvider:"isohub_smtp"})),children:r.jsxs(B,{className:"p-4",children:[r.jsx("h4",{className:"font-medium text-white",children:"ISOHub SMTP"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Use our reliable email service"}),r.jsx(oe,{variant:"secondary",className:"mt-2 bg-zinc-700 text-gray-300",children:"Recommended"})]})}),r.jsx(U,{className:`cursor-pointer border-2 ${s.emailProvider==="agency_smtp"?"border-yellow-400 bg-yellow-400/10":"border-yellow-400/20 bg-zinc-800"}`,onClick:()=>a(o=>({...o,emailProvider:"agency_smtp"})),children:r.jsxs(B,{className:"p-4",children:[r.jsx("h4",{className:"font-medium text-white",children:"Your SMTP"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Use your own email server"}),r.jsx(oe,{variant:"outline",className:"mt-2 border-yellow-400/30 text-yellow-400",children:"Advanced"})]})})]})]}),s.emailProvider==="agency_smtp"&&r.jsxs("div",{className:"bg-orange-500/10 p-6 rounded-lg space-y-4 border border-orange-500/20",children:[r.jsx("h4",{className:"font-medium text-orange-400",children:"Custom SMTP Configuration"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(K,{htmlFor:"smtpHost",className:"text-gray-300",children:"SMTP Host *"}),r.jsx(ee,{id:"smtpHost",value:s.smtpHost,onChange:o=>a(l=>({...l,smtpHost:o.target.value})),placeholder:"smtp.gmail.com",className:"bg-zinc-800 border-yellow-400/30 text-white",required:!0})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"smtpPort",className:"text-gray-300",children:"SMTP Port *"}),r.jsx(ee,{id:"smtpPort",type:"number",value:s.smtpPort,onChange:o=>a(l=>({...l,smtpPort:parseInt(o.target.value)})),placeholder:"587",className:"bg-zinc-800 border-yellow-400/30 text-white",required:!0})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"smtpUsername",className:"text-gray-300",children:"Username *"}),r.jsx(ee,{id:"smtpUsername",value:s.smtpUsername,onChange:o=>a(l=>({...l,smtpUsername:o.target.value})),placeholder:"your-email@company.com",className:"bg-zinc-800 border-yellow-400/30 text-white",required:!0})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"smtpPassword",className:"text-gray-300",children:"Password/App Password *"}),r.jsx(ee,{id:"smtpPassword",type:"password",value:s.smtpPassword,onChange:o=>a(l=>({...l,smtpPassword:o.target.value})),placeholder:"",className:"bg-zinc-800 border-yellow-400/30 text-white",required:!0})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"fromEmail",className:"text-gray-300",children:"From Email Address *"}),r.jsx(ee,{id:"fromEmail",value:s.fromEmailAddress,onChange:o=>a(l=>({...l,fromEmailAddress:o.target.value})),placeholder:"noreply@yourcompany.com",className:"bg-zinc-800 border-yellow-400/30 text-white",required:!0})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"fromName",className:"text-gray-300",children:"From Display Name"}),r.jsx(ee,{id:"fromName",value:s.fromDisplayName,onChange:o=>a(l=>({...l,fromDisplayName:o.target.value})),placeholder:"Your Company Name",className:"bg-zinc-800 border-yellow-400/30 text-white"})]})]})]})]})]}),r.jsx("div",{className:"flex justify-end space-x-3",children:r.jsxs(I,{type:"submit",className:"bg-yellow-400 hover:bg-yellow-500 text-black font-semibold",children:[r.jsx(vi,{className:"h-4 w-4 mr-2"}),t?"Update Configuration":"Continue"]})})]})}function M4e({onComplete:e,isCompleted:t}){return t?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(qe,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),r.jsx("p",{className:"text-white",children:"Subscription configured"})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx("p",{className:"text-gray-300",children:"Subscription plan selection form will go here"}),r.jsx(I,{onClick:()=>e({}),className:"mt-4 bg-yellow-400 hover:bg-yellow-500 text-black font-semibold",children:"Continue"})]})}function I4e({onComplete:e,isCompleted:t}){return t?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(qe,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),r.jsx("p",{className:"text-white",children:"User setup complete"})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx("p",{className:"text-gray-300",children:"User setup form will go here"}),r.jsx(I,{onClick:()=>e({}),className:"mt-4 bg-yellow-400 hover:bg-yellow-500 text-black font-semibold",children:"Continue"})]})}function R4e({onComplete:e,isCompleted:t}){return t?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(qe,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),r.jsx("p",{className:"text-white",children:"Processors configured"})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx("p",{className:"text-gray-300",children:"Processor configuration will go here"}),r.jsx(I,{onClick:()=>e({}),className:"mt-4 bg-yellow-400 hover:bg-yellow-500 text-black font-semibold",children:"Continue"})]})}function $4e({onComplete:e,isCompleted:t}){return t?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(qe,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),r.jsx("p",{className:"text-white",children:"Data import complete"})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx("p",{className:"text-gray-300",children:"Data import options will go here"}),r.jsx(I,{onClick:()=>e({}),className:"mt-4 bg-yellow-400 hover:bg-yellow-500 text-black font-semibold",children:"Continue"})]})}function D4e({onComplete:e,isCompleted:t}){return t?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(qe,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),r.jsx("p",{className:"text-white",children:"Commission structure set"})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx("p",{className:"text-gray-300",children:"Commission setup will go here"}),r.jsx(I,{onClick:()=>e({}),className:"mt-4 bg-yellow-400 hover:bg-yellow-500 text-black font-semibold",children:"Continue"})]})}function z4e({onComplete:e,isCompleted:t}){return t?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(qe,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),r.jsx("p",{className:"text-white",children:"Reporting configured"})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx("p",{className:"text-gray-300",children:"Reporting setup will go here"}),r.jsx(I,{onClick:()=>e({}),className:"mt-4 bg-yellow-400 hover:bg-yellow-500 text-black font-semibold",children:"Continue"})]})}function x_(){const{toast:e}=pt(),t=_t(),[n,s]=g.useState(0),a=1,{data:i,isLoading:o}=ve({queryKey:[`/api/agencies/${a}/onboarding`],queryFn:()=>Te(`/api/agencies/${a}/onboarding`)}),l=Oe({mutationFn:({stepName:y,data:v})=>Te(`/api/agencies/${a}/onboarding/${y}`,{method:"POST",body:{userId:1,stepData:v}}),onSuccess:(y,v)=>{t.invalidateQueries({queryKey:[`/api/agencies/${a}/onboarding`]}),e({title:"Step Completed",description:`${v.stepName} completed successfully`}),n<m.length-1&&s(n+1)}}),c=i||{steps:[],isCompleted:!1},d=(y,v)=>{l.mutate({stepName:y,data:v})},u=y=>{switch(y.stepName){case"Company Information":return r.jsx(_4e,{onComplete:v=>d(y.stepName,v),isCompleted:y.isCompleted,initialData:y.stepData});case"Domain & Email Setup":return r.jsx(T4e,{onComplete:v=>d(y.stepName,v),isCompleted:y.isCompleted,initialData:y.stepData});case"Subscription Plan":return r.jsx(M4e,{onComplete:v=>d(y.stepName,v),isCompleted:y.isCompleted});case"User Setup":return r.jsx(I4e,{onComplete:v=>d(y.stepName,v),isCompleted:y.isCompleted});case"Processor Configuration":return r.jsx(R4e,{onComplete:v=>d(y.stepName,v),isCompleted:y.isCompleted});case"Data Import":return r.jsx($4e,{onComplete:v=>d(y.stepName,v),isCompleted:y.isCompleted});case"Commission Structure":return r.jsx(D4e,{onComplete:v=>d(y.stepName,v),isCompleted:y.isCompleted});case"Reporting Setup":return r.jsx(z4e,{onComplete:v=>d(y.stepName,v),isCompleted:y.isCompleted});default:return r.jsx("div",{className:"text-gray-400",children:"Step content not implemented"})}};if(o)return r.jsx("div",{className:"min-h-screen bg-[#0a0a0f] flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-400 mx-auto"}),r.jsx("p",{className:"text-gray-400 mt-4",children:"Loading onboarding..."})]})});const m=[{id:1,stepName:"Company Information",stepOrder:1,isCompleted:!1,completedAt:null,stepData:{}},{id:2,stepName:"Subscription Plan",stepOrder:2,isCompleted:!1,completedAt:null,stepData:{}},{id:3,stepName:"User Setup",stepOrder:3,isCompleted:!1,completedAt:null,stepData:{}},{id:4,stepName:"Processor Configuration",stepOrder:4,isCompleted:!1,completedAt:null,stepData:{}},{id:5,stepName:"Data Import",stepOrder:5,isCompleted:!1,completedAt:null,stepData:{}},{id:6,stepName:"Commission Structure",stepOrder:6,isCompleted:!1,completedAt:null,stepData:{}},{id:7,stepName:"Reporting Setup",stepOrder:7,isCompleted:!1,completedAt:null,stepData:{}}],p=c.steps.length>0?c.steps:m,f=p[n],x=p.filter(y=>y.isCompleted).length,h=x/p.length*100;return c.isCompleted||x===p.length?r.jsx("div",{className:"min-h-screen bg-[#0a0a0f]",children:r.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6 text-center",children:r.jsx(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:r.jsxs(B,{className:"pt-6",children:[r.jsx(qe,{className:"h-16 w-16 text-green-500 mx-auto mb-6"}),r.jsx("h1",{className:"text-2xl font-bold text-green-400 mb-4",children:"Agency Setup Complete!"}),r.jsx("p",{className:"text-gray-400 mb-6",children:"Your agency has been successfully configured in the ISO Hub system. You can now start managing agents and processing transactions."}),r.jsx(I,{className:"bg-yellow-400 hover:bg-yellow-500 text-black font-semibold",children:"Go to Dashboard"})]})})})}):r.jsx("div",{className:"min-h-screen bg-[#0a0a0f]",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("h1",{className:"text-2xl font-bold text-white mb-1",children:"Agency Setup & Onboarding"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Complete the step-by-step setup process to configure your agency in the ISO Hub system"})]}),r.jsxs(U,{className:"mb-4 bg-zinc-900/80 border-yellow-400/20",children:[r.jsx(X,{className:"pb-2",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(J,{className:"text-lg text-white",children:"Setup Progress"}),r.jsxs("p",{className:"text-xs text-gray-400",children:[x," of ",p.length," steps completed"]})]}),r.jsx(oe,{variant:h===100?"default":"secondary",className:`text-xs ${h===100?"bg-green-500 text-white":"bg-zinc-700 text-gray-300"}`,children:h===100?"Completed":"In Progress"})]})}),r.jsx(B,{className:"pt-2",children:r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:p.map((y,v)=>{const b=E4e[y.stepName]||vr;return r.jsx("div",{className:`p-3 rounded-lg border transition-colors cursor-pointer hover:shadow-md ${y.isCompleted?"bg-green-500/10 border-green-500/30":v===n?"bg-yellow-400/10 border-yellow-400 ring-2 ring-yellow-400":"bg-zinc-800 border-yellow-400/20"}`,onClick:()=>s(v),"data-testid":`step-card-${v+1}`,children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:`w-10 h-10 flex items-center justify-center rounded-full border-2 ${y.isCompleted?"bg-green-500/20 border-green-500 text-green-400":v===n?"bg-yellow-400/20 border-yellow-400 text-yellow-400":"bg-zinc-800 border-zinc-600 text-gray-500"}`,children:y.isCompleted?r.jsx(qe,{className:"h-5 w-5"}):r.jsx(b,{className:"h-5 w-5"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("h3",{className:"font-medium text-sm text-white truncate",children:["Step ",v+1,": ",y.stepName]}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:f_[y.stepName]}),y.isCompleted&&r.jsx("p",{className:"text-xs text-green-400 mt-1",children:" Completed"})]})]})},y.id)})})})]}),f&&r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:[r.jsx(X,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-yellow-400/20 rounded-lg",children:r.jsx(wp,{className:"h-5 w-5 text-yellow-400"})}),r.jsxs("div",{children:[r.jsxs(J,{className:"text-white",children:["Step ",n+1,": ",f.stepName]}),r.jsx("p",{className:"text-sm text-gray-400 mt-1",children:f_[f.stepName]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[n>0&&r.jsx(I,{variant:"outline",onClick:()=>s(n-1),className:"text-sm border-yellow-400/30 text-yellow-400 hover:bg-yellow-400/10",children:"Previous"}),n<p.length-1&&r.jsx(I,{variant:"outline",onClick:()=>s(n+1),className:"text-sm border-yellow-400/30 text-yellow-400 hover:bg-yellow-400/10",children:"Next Step"})]})]})}),r.jsx(B,{children:u(f)})]})]})})}var Vp=e=>e.type==="checkbox",Cl=e=>e instanceof Date,Wn=e=>e==null;const BL=e=>typeof e=="object";var Dr=e=>!Wn(e)&&!Array.isArray(e)&&BL(e)&&!Cl(e),VL=e=>Dr(e)&&e.target?Vp(e.target)?e.target.checked:e.target.value:e,F4e=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,qL=(e,t)=>e.has(F4e(t)),L4e=e=>{const t=e.constructor&&e.constructor.prototype;return Dr(t)&&t.hasOwnProperty("isPrototypeOf")},f4=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function qr(e){if(e instanceof Date)return new Date(e);const t=typeof FileList<"u"&&e instanceof FileList;if(f4&&(e instanceof Blob||t))return e;const n=Array.isArray(e);if(!n&&!(Dr(e)&&L4e(e)))return e;const s=n?[]:Object.create(Object.getPrototypeOf(e));for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(s[a]=qr(e[a]));return s}var tv=e=>/^\w*$/.test(e),fr=e=>e===void 0,x4=e=>Array.isArray(e)?e.filter(Boolean):[],g4=e=>x4(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Pe=(e,t,n)=>{if(!t||!Dr(e))return n;const s=(tv(t)?[t]:g4(t)).reduce((a,i)=>Wn(a)?a:a[i],e);return fr(s)||s===e?fr(e[t])?n:e[t]:s},ls=e=>typeof e=="boolean",En=e=>typeof e=="function",Ft=(e,t,n)=>{let s=-1;const a=tv(t)?[t]:g4(t),i=a.length,o=i-1;for(;++s<i;){const l=a[s];let c=n;if(s!==o){const d=e[l];c=Dr(d)||Array.isArray(d)?d:isNaN(+a[s+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const qg={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ma={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ci={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},y4=L.createContext(null);y4.displayName="HookFormContext";const rv=()=>L.useContext(y4),U4e=e=>{const{children:t,...n}=e;return L.createElement(y4.Provider,{value:n},t)};var WL=(e,t,n,s=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==ma.all&&(t._proxyFormState[o]=!s||ma.all),n&&(n[o]=!0),e[o]}});return a};const v4=typeof window<"u"?L.useLayoutEffect:L.useEffect;function B4e(e){const t=rv(),{control:n=t.control,disabled:s,name:a,exact:i}=e||{},[o,l]=L.useState(n._formState),c=L.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return v4(()=>n._subscribe({name:a,formState:c.current,exact:i,callback:d=>{!s&&l({...n._formState,...d})}}),[a,s,i]),L.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),L.useMemo(()=>WL(o,n,c.current,!1),[o,n])}var hs=e=>typeof e=="string",GN=(e,t,n,s,a)=>hs(e)?(s&&t.watch.add(e),Pe(n,e,a)):Array.isArray(e)?e.map(i=>(s&&t.watch.add(i),Pe(n,i))):(s&&(t.watchAll=!0),n),YN=e=>Wn(e)||!BL(e);function ha(e,t,n=new WeakSet){if(YN(e)||YN(t))return Object.is(e,t);if(Cl(e)&&Cl(t))return e.getTime()===t.getTime();const s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const i of s){const o=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const l=t[i];if(Cl(o)&&Cl(l)||Dr(o)&&Dr(l)||Array.isArray(o)&&Array.isArray(l)?!ha(o,l,n):!Object.is(o,l))return!1}}return!0}function V4e(e){const t=rv(),{control:n=t.control,name:s,defaultValue:a,disabled:i,exact:o,compute:l}=e||{},c=L.useRef(a),d=L.useRef(l),u=L.useRef(void 0),m=L.useRef(n),p=L.useRef(s);d.current=l;const[f,x]=L.useState(()=>{const S=n._getWatch(s,c.current);return d.current?d.current(S):S}),h=L.useCallback(S=>{const N=GN(s,n._names,S||n._formValues,!1,c.current);return d.current?d.current(N):N},[n._formValues,n._names,s]),y=L.useCallback(S=>{if(!i){const N=GN(s,n._names,S||n._formValues,!1,c.current);if(d.current){const j=d.current(N);ha(j,u.current)||(x(j),u.current=j)}else x(N)}},[n._formValues,n._names,i,s]);v4(()=>((m.current!==n||!ha(p.current,s))&&(m.current=n,p.current=s,y()),n._subscribe({name:s,formState:{values:!0},exact:o,callback:S=>{y(S.values)}})),[n,o,s,y]),L.useEffect(()=>n._removeUnmounted());const v=m.current!==n,b=p.current,w=L.useMemo(()=>{if(i)return null;const S=!v&&!ha(b,s);return v||S?h():null},[i,v,s,b,h]);return w!==null?w:f}function q4e(e){const t=rv(),{name:n,disabled:s,control:a=t.control,shouldUnregister:i,defaultValue:o,exact:l=!0}=e,c=qL(a._names.array,n),d=L.useMemo(()=>Pe(a._formValues,n,Pe(a._defaultValues,n,o)),[a,n,o]),u=V4e({control:a,name:n,defaultValue:d,exact:l}),m=B4e({control:a,name:n,exact:l}),p=L.useRef(e),f=L.useRef(void 0),x=L.useRef(a.register(n,{...e.rules,value:u,...ls(e.disabled)?{disabled:e.disabled}:{}}));p.current=e;const h=L.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Pe(m.errors,n)},isDirty:{enumerable:!0,get:()=>!!Pe(m.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Pe(m.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Pe(m.validatingFields,n)},error:{enumerable:!0,get:()=>Pe(m.errors,n)}}),[m,n]),y=L.useCallback(S=>x.current.onChange({target:{value:VL(S),name:n},type:qg.CHANGE}),[n]),v=L.useCallback(()=>x.current.onBlur({target:{value:Pe(a._formValues,n),name:n},type:qg.BLUR}),[n,a._formValues]),b=L.useCallback(S=>{const N=Pe(a._fields,n);N&&N._f&&S&&(N._f.ref={focus:()=>En(S.focus)&&S.focus(),select:()=>En(S.select)&&S.select(),setCustomValidity:j=>En(S.setCustomValidity)&&S.setCustomValidity(j),reportValidity:()=>En(S.reportValidity)&&S.reportValidity()})},[a._fields,n]),w=L.useMemo(()=>({name:n,value:u,...ls(s)||m.disabled?{disabled:m.disabled||s}:{},onChange:y,onBlur:v,ref:b}),[n,s,m.disabled,y,v,b,u]);return L.useEffect(()=>{const S=a._options.shouldUnregister||i,N=f.current;N&&N!==n&&!c&&a.unregister(N),a.register(n,{...p.current.rules,...ls(p.current.disabled)?{disabled:p.current.disabled}:{}});const j=(C,A)=>{const k=Pe(a._fields,C);k&&k._f&&(k._f.mount=A)};if(j(n,!0),S){const C=qr(Pe(a._options.defaultValues,n,p.current.defaultValue));Ft(a._defaultValues,n,C),fr(Pe(a._formValues,n))&&Ft(a._formValues,n,C)}return!c&&a.register(n),f.current=n,()=>{(c?S&&!a._state.action:S)?a.unregister(n):j(n,!1)}},[n,a,c,i]),L.useEffect(()=>{a._setDisabledField({disabled:s,name:n})},[s,n,a]),L.useMemo(()=>({field:w,formState:m,fieldState:h}),[w,m,h])}const W4e=e=>e.render(q4e(e));var HL=(e,t,n,s,a)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[s]:a||!0}}:{},Hm=e=>Array.isArray(e)?e:[e],g_=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}};function KL(e,t){const n={};for(const s in e)if(e.hasOwnProperty(s)){const a=e[s],i=t[s];if(a&&Dr(a)&&i){const o=KL(a,i);Dr(o)&&(n[s]=o)}else e[s]&&(n[s]=i)}return n}var kn=e=>Dr(e)&&!Object.keys(e).length,b4=e=>e.type==="file",Wg=e=>{if(!f4)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},GL=e=>e.type==="select-multiple",w4=e=>e.type==="radio",H4e=e=>w4(e)||Vp(e),Eb=e=>Wg(e)&&e.isConnected;function K4e(e,t){const n=t.slice(0,-1).length;let s=0;for(;s<n;)e=fr(e)?s++:e[t[s++]];return e}function G4e(e){for(const t in e)if(e.hasOwnProperty(t)&&!fr(e[t]))return!1;return!0}function kr(e,t){const n=Array.isArray(t)?t:tv(t)?[t]:g4(t),s=n.length===1?e:K4e(e,n),a=n.length-1,i=n[a];return s&&delete s[i],a!==0&&(Dr(s)&&kn(s)||Array.isArray(s)&&G4e(s))&&kr(e,n.slice(0,-1)),e}var Y4e=e=>{for(const t in e)if(En(e[t]))return!0;return!1};function YL(e){return Array.isArray(e)||Dr(e)&&!Y4e(e)}function QN(e,t={}){for(const n in e){const s=e[n];YL(s)?(t[n]=Array.isArray(s)?[]:{},QN(s,t[n])):fr(s)||(t[n]=!0)}return t}function $c(e,t,n){n||(n=QN(t));for(const s in e){const a=e[s];if(YL(a))fr(t)||YN(n[s])?n[s]=QN(a,Array.isArray(a)?[]:{}):$c(a,Wn(t)?{}:t[s],n[s]);else{const i=t[s];n[s]=!ha(a,i)}}return n}const y_={value:!1,isValid:!1},v_={value:!0,isValid:!0};var QL=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!fr(e[0].attributes.value)?fr(e[0].value)||e[0].value===""?v_:{value:e[0].value,isValid:!0}:v_:y_}return y_},XL=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:s})=>fr(e)?e:t?e===""?NaN:e&&+e:n&&hs(e)?new Date(e):s?s(e):e;const b_={isValid:!1,value:null};var ZL=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,b_):b_;function w_(e){const t=e.ref;return b4(t)?t.files:w4(t)?ZL(e.refs).value:GL(t)?[...t.selectedOptions].map(({value:n})=>n):Vp(t)?QL(e.refs).value:XL(fr(t.value)?e.ref.value:t.value,e)}var Q4e=(e,t,n,s)=>{const a={};for(const i of e){const o=Pe(t,i);o&&Ft(a,i,o._f)}return{criteriaMode:n,names:[...e],fields:a,shouldUseNativeValidation:s}},Hg=e=>e instanceof RegExp,fm=e=>fr(e)?e:Hg(e)?e.source:Dr(e)?Hg(e.value)?e.value.source:e.value:e,j_=e=>({isOnSubmit:!e||e===ma.onSubmit,isOnBlur:e===ma.onBlur,isOnChange:e===ma.onChange,isOnAll:e===ma.all,isOnTouch:e===ma.onTouched});const N_="AsyncFunction";var X4e=e=>!!e&&!!e.validate&&!!(En(e.validate)&&e.validate.constructor.name===N_||Dr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===N_)),Z4e=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),S_=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const Km=(e,t,n,s)=>{for(const a of n||Object.keys(e)){const i=Pe(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!s)return!0;if(o.ref&&t(o.ref,o.name)&&!s)return!0;if(Km(l,t))break}else if(Dr(l)&&Km(l,t))break}}};function C_(e,t,n){const s=Pe(e,n);if(s||tv(n))return{error:s,name:n};const a=n.split(".");for(;a.length;){const i=a.join("."),o=Pe(t,i),l=Pe(e,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};a.pop()}return{name:n}}var J4e=(e,t,n,s)=>{n(e);const{name:a,...i}=e;return kn(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!s||ma.all))},eCe=(e,t,n)=>!e||!t||e===t||Hm(e).some(s=>s&&(n?s===t:s.startsWith(t)||t.startsWith(s))),tCe=(e,t,n,s,a)=>a.isOnAll?!1:!n&&a.isOnTouch?!(t||e):(n?s.isOnBlur:a.isOnBlur)?!e:(n?s.isOnChange:a.isOnChange)?e:!0,rCe=(e,t)=>!x4(Pe(e,t)).length&&kr(e,t),nCe=(e,t,n)=>{const s=Hm(Pe(e,n));return Ft(s,"root",t[n]),Ft(e,n,s),e};function k_(e,t,n="validate"){if(hs(e)||Array.isArray(e)&&e.every(hs)||ls(e)&&!e)return{type:n,message:hs(e)?e:"",ref:t}}var Tc=e=>Dr(e)&&!Hg(e)?e:{value:e,message:""},A_=async(e,t,n,s,a,i)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:u,min:m,max:p,pattern:f,validate:x,name:h,valueAsNumber:y,mount:v}=e._f,b=Pe(n,h);if(!v||t.has(h))return{};const w=l?l[0]:o,S=P=>{a&&w.reportValidity&&(w.setCustomValidity(ls(P)?"":P||""),w.reportValidity())},N={},j=w4(o),C=Vp(o),A=j||C,k=(y||b4(o))&&fr(o.value)&&fr(b)||Wg(o)&&o.value===""||b===""||Array.isArray(b)&&!b.length,O=HL.bind(null,h,s,N),M=(P,_,E,T=ci.maxLength,$=ci.minLength)=>{const q=P?_:E;N[h]={type:P?T:$,message:q,ref:o,...O(P?T:$,q)}};if(i?!Array.isArray(b)||!b.length:c&&(!A&&(k||Wn(b))||ls(b)&&!b||C&&!QL(l).isValid||j&&!ZL(l).isValid)){const{value:P,message:_}=hs(c)?{value:!!c,message:c}:Tc(c);if(P&&(N[h]={type:ci.required,message:_,ref:w,...O(ci.required,_)},!s))return S(_),N}if(!k&&(!Wn(m)||!Wn(p))){let P,_;const E=Tc(p),T=Tc(m);if(!Wn(b)&&!isNaN(b)){const $=o.valueAsNumber||b&&+b;Wn(E.value)||(P=$>E.value),Wn(T.value)||(_=$<T.value)}else{const $=o.valueAsDate||new Date(b),q=V=>new Date(new Date().toDateString()+" "+V),R=o.type=="time",D=o.type=="week";hs(E.value)&&b&&(P=R?q(b)>q(E.value):D?b>E.value:$>new Date(E.value)),hs(T.value)&&b&&(_=R?q(b)<q(T.value):D?b<T.value:$<new Date(T.value))}if((P||_)&&(M(!!P,E.message,T.message,ci.max,ci.min),!s))return S(N[h].message),N}if((d||u)&&!k&&(hs(b)||i&&Array.isArray(b))){const P=Tc(d),_=Tc(u),E=!Wn(P.value)&&b.length>+P.value,T=!Wn(_.value)&&b.length<+_.value;if((E||T)&&(M(E,P.message,_.message),!s))return S(N[h].message),N}if(f&&!k&&hs(b)){const{value:P,message:_}=Tc(f);if(Hg(P)&&!b.match(P)&&(N[h]={type:ci.pattern,message:_,ref:o,...O(ci.pattern,_)},!s))return S(_),N}if(x){if(En(x)){const P=await x(b,n),_=k_(P,w);if(_&&(N[h]={..._,...O(ci.validate,_.message)},!s))return S(_.message),N}else if(Dr(x)){let P={};for(const _ in x){if(!kn(P)&&!s)break;const E=k_(await x[_](b,n),w,_);E&&(P={...E,...O(_,E.message)},S(E.message),s&&(N[h]=P))}if(!kn(P)&&(N[h]={ref:w,...P},!s))return N}}return S(!0),N};const sCe={mode:ma.onSubmit,reValidateMode:ma.onChange,shouldFocusError:!0};function aCe(e={}){let t={...sCe,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:En(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},s={},a=Dr(t.defaultValues)||Dr(t.values)?qr(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:qr(a),o={action:!1,mount:!1,watch:!1,keepIsValid:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},m={...u};let p={...m};const f={array:g_(),state:g_()},x=t.criteriaMode===ma.all,h=W=>Z=>{clearTimeout(d),d=setTimeout(W,Z)},y=async W=>{if(!o.keepIsValid&&!t.disabled&&(m.isValid||p.isValid||W)){let Z;t.resolver?(Z=kn((await A()).errors),v()):Z=await O(s,!0),Z!==n.isValid&&f.state.next({isValid:Z})}},v=(W,Z)=>{!t.disabled&&(m.isValidating||m.validatingFields||p.isValidating||p.validatingFields)&&((W||Array.from(l.mount)).forEach(ie=>{ie&&(Z?Ft(n.validatingFields,ie,Z):kr(n.validatingFields,ie))}),f.state.next({validatingFields:n.validatingFields,isValidating:!kn(n.validatingFields)}))},b=(W,Z=[],ie,ne,ae=!0,fe=!0)=>{if(ne&&ie&&!t.disabled){if(o.action=!0,fe&&Array.isArray(Pe(s,W))){const Ae=ie(Pe(s,W),ne.argA,ne.argB);ae&&Ft(s,W,Ae)}if(fe&&Array.isArray(Pe(n.errors,W))){const Ae=ie(Pe(n.errors,W),ne.argA,ne.argB);ae&&Ft(n.errors,W,Ae),rCe(n.errors,W)}if((m.touchedFields||p.touchedFields)&&fe&&Array.isArray(Pe(n.touchedFields,W))){const Ae=ie(Pe(n.touchedFields,W),ne.argA,ne.argB);ae&&Ft(n.touchedFields,W,Ae)}(m.dirtyFields||p.dirtyFields)&&(n.dirtyFields=$c(a,i)),f.state.next({name:W,isDirty:P(W,Z),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Ft(i,W,Z)},w=(W,Z)=>{Ft(n.errors,W,Z),f.state.next({errors:n.errors})},S=W=>{n.errors=W,f.state.next({errors:n.errors,isValid:!1})},N=(W,Z,ie,ne)=>{const ae=Pe(s,W);if(ae){const fe=Pe(i,W,fr(ie)?Pe(a,W):ie);fr(fe)||ne&&ne.defaultChecked||Z?Ft(i,W,Z?fe:w_(ae._f)):T(W,fe),o.mount&&!o.action&&y()}},j=(W,Z,ie,ne,ae)=>{let fe=!1,Ae=!1;const Xe={name:W};if(!t.disabled){if(!ie||ne){(m.isDirty||p.isDirty)&&(Ae=n.isDirty,n.isDirty=Xe.isDirty=P(),fe=Ae!==Xe.isDirty);const ce=ha(Pe(a,W),Z);Ae=!!Pe(n.dirtyFields,W),ce?kr(n.dirtyFields,W):Ft(n.dirtyFields,W,!0),Xe.dirtyFields=n.dirtyFields,fe=fe||(m.dirtyFields||p.dirtyFields)&&Ae!==!ce}if(ie){const ce=Pe(n.touchedFields,W);ce||(Ft(n.touchedFields,W,ie),Xe.touchedFields=n.touchedFields,fe=fe||(m.touchedFields||p.touchedFields)&&ce!==ie)}fe&&ae&&f.state.next(Xe)}return fe?Xe:{}},C=(W,Z,ie,ne)=>{const ae=Pe(n.errors,W),fe=(m.isValid||p.isValid)&&ls(Z)&&n.isValid!==Z;if(t.delayError&&ie?(c=h(()=>w(W,ie)),c(t.delayError)):(clearTimeout(d),c=null,ie?Ft(n.errors,W,ie):kr(n.errors,W)),(ie?!ha(ae,ie):ae)||!kn(ne)||fe){const Ae={...ne,...fe&&ls(Z)?{isValid:Z}:{},errors:n.errors,name:W};n={...n,...Ae},f.state.next(Ae)}},A=async W=>(v(W,!0),await t.resolver(i,t.context,Q4e(W||l.mount,s,t.criteriaMode,t.shouldUseNativeValidation))),k=async W=>{const{errors:Z}=await A(W);if(v(W),W)for(const ie of W){const ne=Pe(Z,ie);ne?Ft(n.errors,ie,ne):kr(n.errors,ie)}else n.errors=Z;return Z},O=async(W,Z,ie={valid:!0})=>{for(const ne in W){const ae=W[ne];if(ae){const{_f:fe,...Ae}=ae;if(fe){const Xe=l.array.has(fe.name),ce=ae._f&&X4e(ae._f);ce&&m.validatingFields&&v([fe.name],!0);const Me=await A_(ae,l.disabled,i,x,t.shouldUseNativeValidation&&!Z,Xe);if(ce&&m.validatingFields&&v([fe.name]),Me[fe.name]&&(ie.valid=!1,Z))break;!Z&&(Pe(Me,fe.name)?Xe?nCe(n.errors,Me,fe.name):Ft(n.errors,fe.name,Me[fe.name]):kr(n.errors,fe.name))}!kn(Ae)&&await O(Ae,Z,ie)}}return ie.valid},M=()=>{for(const W of l.unMount){const Z=Pe(s,W);Z&&(Z._f.refs?Z._f.refs.every(ie=>!Eb(ie)):!Eb(Z._f.ref))&&Ce(W)}l.unMount=new Set},P=(W,Z)=>!t.disabled&&(W&&Z&&Ft(i,W,Z),!ha(F(),a)),_=(W,Z,ie)=>GN(W,l,{...o.mount?i:fr(Z)?a:hs(W)?{[W]:Z}:Z},ie,Z),E=W=>x4(Pe(o.mount?i:a,W,t.shouldUnregister?Pe(a,W,[]):[])),T=(W,Z,ie={})=>{const ne=Pe(s,W);let ae=Z;if(ne){const fe=ne._f;fe&&(!fe.disabled&&Ft(i,W,XL(Z,fe)),ae=Wg(fe.ref)&&Wn(Z)?"":Z,GL(fe.ref)?[...fe.ref.options].forEach(Ae=>Ae.selected=ae.includes(Ae.value)):fe.refs?Vp(fe.ref)?fe.refs.forEach(Ae=>{(!Ae.defaultChecked||!Ae.disabled)&&(Array.isArray(ae)?Ae.checked=!!ae.find(Xe=>Xe===Ae.value):Ae.checked=ae===Ae.value||!!ae)}):fe.refs.forEach(Ae=>Ae.checked=Ae.value===ae):b4(fe.ref)?fe.ref.value="":(fe.ref.value=ae,fe.ref.type||f.state.next({name:W,values:qr(i)})))}(ie.shouldDirty||ie.shouldTouch)&&j(W,ae,ie.shouldTouch,ie.shouldDirty,!0),ie.shouldValidate&&V(W)},$=(W,Z,ie)=>{for(const ne in Z){if(!Z.hasOwnProperty(ne))return;const ae=Z[ne],fe=W+"."+ne,Ae=Pe(s,fe);(l.array.has(W)||Dr(ae)||Ae&&!Ae._f)&&!Cl(ae)?$(fe,ae,ie):T(fe,ae,ie)}},q=(W,Z,ie={})=>{const ne=Pe(s,W),ae=l.array.has(W),fe=qr(Z);Ft(i,W,fe),ae?(f.array.next({name:W,values:qr(i)}),(m.isDirty||m.dirtyFields||p.isDirty||p.dirtyFields)&&ie.shouldDirty&&f.state.next({name:W,dirtyFields:$c(a,i),isDirty:P(W,fe)})):ne&&!ne._f&&!Wn(fe)?$(W,fe,ie):T(W,fe,ie),S_(W,l)&&f.state.next({...n,name:W}),f.state.next({name:o.mount?W:void 0,values:qr(i)})},R=async W=>{o.mount=!0;const Z=W.target;let ie=Z.name,ne=!0;const ae=Pe(s,ie),fe=ce=>{ne=Number.isNaN(ce)||Cl(ce)&&isNaN(ce.getTime())||ha(ce,Pe(i,ie,ce))},Ae=j_(t.mode),Xe=j_(t.reValidateMode);if(ae){let ce,Me;const Dt=Z.type?w_(ae._f):VL(W),zt=W.type===qg.BLUR||W.type===qg.FOCUS_OUT,Lr=!Z4e(ae._f)&&!t.resolver&&!Pe(n.errors,ie)&&!ae._f.deps||tCe(zt,Pe(n.touchedFields,ie),n.isSubmitted,Xe,Ae),Nn=S_(ie,l,zt);Ft(i,ie,Dt),zt?(!Z||!Z.readOnly)&&(ae._f.onBlur&&ae._f.onBlur(W),c&&c(0)):ae._f.onChange&&ae._f.onChange(W);const pe=j(ie,Dt,zt),ft=!kn(pe)||Nn;if(!zt&&f.state.next({name:ie,type:W.type,values:qr(i)}),Lr)return(m.isValid||p.isValid)&&(t.mode==="onBlur"?zt&&y():zt||y()),ft&&f.state.next({name:ie,...Nn?{}:pe});if(!zt&&Nn&&f.state.next({...n}),t.resolver){const{errors:Tt}=await A([ie]);if(v([ie]),fe(Dt),ne){const Ur=C_(n.errors,s,ie),Bn=C_(Tt,s,Ur.name||ie);ce=Bn.error,ie=Bn.name,Me=kn(Tt)}}else v([ie],!0),ce=(await A_(ae,l.disabled,i,x,t.shouldUseNativeValidation))[ie],v([ie]),fe(Dt),ne&&(ce?Me=!1:(m.isValid||p.isValid)&&(Me=await O(s,!0)));ne&&(ae._f.deps&&(!Array.isArray(ae._f.deps)||ae._f.deps.length>0)&&V(ae._f.deps),C(ie,Me,ce,pe))}},D=(W,Z)=>{if(Pe(n.errors,Z)&&W.focus)return W.focus(),1},V=async(W,Z={})=>{let ie,ne;const ae=Hm(W);if(t.resolver){const fe=await k(fr(W)?W:ae);ie=kn(fe),ne=W?!ae.some(Ae=>Pe(fe,Ae)):ie}else W?(ne=(await Promise.all(ae.map(async fe=>{const Ae=Pe(s,fe);return await O(Ae&&Ae._f?{[fe]:Ae}:Ae)}))).every(Boolean),!(!ne&&!n.isValid)&&y()):ne=ie=await O(s);return f.state.next({...!hs(W)||(m.isValid||p.isValid)&&ie!==n.isValid?{}:{name:W},...t.resolver||!W?{isValid:ie}:{},errors:n.errors}),Z.shouldFocus&&!ne&&Km(s,D,W?ae:l.mount),ne},F=(W,Z)=>{let ie={...o.mount?i:a};return Z&&(ie=KL(Z.dirtyFields?n.dirtyFields:n.touchedFields,ie)),fr(W)?ie:hs(W)?Pe(ie,W):W.map(ne=>Pe(ie,ne))},z=(W,Z)=>({invalid:!!Pe((Z||n).errors,W),isDirty:!!Pe((Z||n).dirtyFields,W),error:Pe((Z||n).errors,W),isValidating:!!Pe(n.validatingFields,W),isTouched:!!Pe((Z||n).touchedFields,W)}),Q=W=>{W&&Hm(W).forEach(Z=>kr(n.errors,Z)),f.state.next({errors:W?n.errors:{}})},te=(W,Z,ie)=>{const ne=(Pe(s,W,{_f:{}})._f||{}).ref,ae=Pe(n.errors,W)||{},{ref:fe,message:Ae,type:Xe,...ce}=ae;Ft(n.errors,W,{...ce,...Z,ref:ne}),f.state.next({name:W,errors:n.errors,isValid:!1}),ie&&ie.shouldFocus&&ne&&ne.focus&&ne.focus()},me=(W,Z)=>En(W)?f.state.subscribe({next:ie=>"values"in ie&&W(_(void 0,Z),ie)}):_(W,Z,!0),ge=W=>f.state.subscribe({next:Z=>{eCe(W.name,Z.name,W.exact)&&J4e(Z,W.formState||m,wr,W.reRenderRoot)&&W.callback({values:{...i},...n,...Z,defaultValues:a})}}).unsubscribe,he=W=>(o.mount=!0,p={...p,...W.formState},ge({...W,formState:{...u,...W.formState}})),Ce=(W,Z={})=>{for(const ie of W?Hm(W):l.mount)l.mount.delete(ie),l.array.delete(ie),Z.keepValue||(kr(s,ie),kr(i,ie)),!Z.keepError&&kr(n.errors,ie),!Z.keepDirty&&kr(n.dirtyFields,ie),!Z.keepTouched&&kr(n.touchedFields,ie),!Z.keepIsValidating&&kr(n.validatingFields,ie),!t.shouldUnregister&&!Z.keepDefaultValue&&kr(a,ie);f.state.next({values:qr(i)}),f.state.next({...n,...Z.keepDirty?{isDirty:P()}:{}}),!Z.keepIsValid&&y()},se=({disabled:W,name:Z})=>{(ls(W)&&o.mount||W||l.disabled.has(Z))&&(W?l.disabled.add(Z):l.disabled.delete(Z))},G=(W,Z={})=>{let ie=Pe(s,W);const ne=ls(Z.disabled)||ls(t.disabled);return Ft(s,W,{...ie||{},_f:{...ie&&ie._f?ie._f:{ref:{name:W}},name:W,mount:!0,...Z}}),l.mount.add(W),ie?se({disabled:ls(Z.disabled)?Z.disabled:t.disabled,name:W}):N(W,!0,Z.value),{...ne?{disabled:Z.disabled||t.disabled}:{},...t.progressive?{required:!!Z.required,min:fm(Z.min),max:fm(Z.max),minLength:fm(Z.minLength),maxLength:fm(Z.maxLength),pattern:fm(Z.pattern)}:{},name:W,onChange:R,onBlur:R,ref:ae=>{if(ae){G(W,Z),ie=Pe(s,W);const fe=fr(ae.value)&&ae.querySelectorAll&&ae.querySelectorAll("input,select,textarea")[0]||ae,Ae=H4e(fe),Xe=ie._f.refs||[];if(Ae?Xe.find(ce=>ce===fe):fe===ie._f.ref)return;Ft(s,W,{_f:{...ie._f,...Ae?{refs:[...Xe.filter(Eb),fe,...Array.isArray(Pe(a,W))?[{}]:[]],ref:{type:fe.type,name:W}}:{ref:fe}}}),N(W,!1,void 0,fe)}else ie=Pe(s,W,{}),ie._f&&(ie._f.mount=!1),(t.shouldUnregister||Z.shouldUnregister)&&!(qL(l.array,W)&&o.action)&&l.unMount.add(W)}}},xe=()=>t.shouldFocusError&&Km(s,D,l.mount),re=W=>{ls(W)&&(f.state.next({disabled:W}),Km(s,(Z,ie)=>{const ne=Pe(s,ie);ne&&(Z.disabled=ne._f.disabled||W,Array.isArray(ne._f.refs)&&ne._f.refs.forEach(ae=>{ae.disabled=ne._f.disabled||W}))},0,!1))},We=(W,Z)=>async ie=>{let ne;ie&&(ie.preventDefault&&ie.preventDefault(),ie.persist&&ie.persist());let ae=qr(i);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:fe,values:Ae}=await A();v(),n.errors=fe,ae=qr(Ae)}else await O(s);if(l.disabled.size)for(const fe of l.disabled)kr(ae,fe);if(kr(n.errors,"root"),kn(n.errors)){f.state.next({errors:{}});try{await W(ae,ie)}catch(fe){ne=fe}}else Z&&await Z({...n.errors},ie),xe(),setTimeout(xe);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:kn(n.errors)&&!ne,submitCount:n.submitCount+1,errors:n.errors}),ne)throw ne},Ue=(W,Z={})=>{Pe(s,W)&&(fr(Z.defaultValue)?q(W,qr(Pe(a,W))):(q(W,Z.defaultValue),Ft(a,W,qr(Z.defaultValue))),Z.keepTouched||kr(n.touchedFields,W),Z.keepDirty||(kr(n.dirtyFields,W),n.isDirty=Z.defaultValue?P(W,qr(Pe(a,W))):P()),Z.keepError||(kr(n.errors,W),m.isValid&&y()),f.state.next({...n}))},nt=(W,Z={})=>{const ie=W?qr(W):a,ne=qr(ie),ae=kn(W),fe=ae?a:ne;if(Z.keepDefaultValues||(a=ie),!Z.keepValues){if(Z.keepDirtyValues){const Ae=new Set([...l.mount,...Object.keys($c(a,i))]);for(const Xe of Array.from(Ae))Pe(n.dirtyFields,Xe)?Ft(fe,Xe,Pe(i,Xe)):q(Xe,Pe(fe,Xe))}else{if(f4&&fr(W))for(const Ae of l.mount){const Xe=Pe(s,Ae);if(Xe&&Xe._f){const ce=Array.isArray(Xe._f.refs)?Xe._f.refs[0]:Xe._f.ref;if(Wg(ce)){const Me=ce.closest("form");if(Me){Me.reset();break}}}}if(Z.keepFieldsRef)for(const Ae of l.mount)q(Ae,Pe(fe,Ae));else s={}}i=t.shouldUnregister?Z.keepDefaultValues?qr(a):{}:qr(fe),f.array.next({values:{...fe}}),f.state.next({values:{...fe}})}l={mount:Z.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!m.isValid||!!Z.keepIsValid||!!Z.keepDirtyValues||!t.shouldUnregister&&!kn(fe),o.watch=!!t.shouldUnregister,o.keepIsValid=!!Z.keepIsValid,o.action=!1,Z.keepErrors||(n.errors={}),f.state.next({submitCount:Z.keepSubmitCount?n.submitCount:0,isDirty:ae?!1:Z.keepDirty?n.isDirty:!!(Z.keepDefaultValues&&!ha(W,a)),isSubmitted:Z.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ae?{}:Z.keepDirtyValues?Z.keepDefaultValues&&i?$c(a,i):n.dirtyFields:Z.keepDefaultValues&&W?$c(a,W):Z.keepDirty?n.dirtyFields:{},touchedFields:Z.keepTouched?n.touchedFields:{},errors:Z.keepErrors?n.errors:{},isSubmitSuccessful:Z.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},mt=(W,Z)=>nt(En(W)?W(i):W,{...t.resetOptions,...Z}),Nt=(W,Z={})=>{const ie=Pe(s,W),ne=ie&&ie._f;if(ne){const ae=ne.refs?ne.refs[0]:ne.ref;ae.focus&&setTimeout(()=>{ae.focus(),Z.shouldSelect&&En(ae.select)&&ae.select()})}},wr=W=>{n={...n,...W}},Fr={control:{register:G,unregister:Ce,getFieldState:z,handleSubmit:We,setError:te,_subscribe:ge,_runSchema:A,_updateIsValidating:v,_focusError:xe,_getWatch:_,_getDirty:P,_setValid:y,_setFieldArray:b,_setDisabledField:se,_setErrors:S,_getFieldArray:E,_reset:nt,_resetDefaultValues:()=>En(t.defaultValues)&&t.defaultValues().then(W=>{mt(W,t.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:M,_disableForm:re,_subjects:f,_proxyFormState:m,get _fields(){return s},get _formValues(){return i},get _state(){return o},set _state(W){o=W},get _defaultValues(){return a},get _names(){return l},set _names(W){l=W},get _formState(){return n},get _options(){return t},set _options(W){t={...t,...W}}},subscribe:he,trigger:V,register:G,handleSubmit:We,watch:me,setValue:q,getValues:F,reset:mt,resetField:Ue,clearErrors:Q,unregister:Ce,setError:te,setFocus:Nt,getFieldState:z};return{...Fr,formControl:Fr}}function Ga(e={}){const t=L.useRef(void 0),n=L.useRef(void 0),[s,a]=L.useState({isDirty:!1,isValidating:!1,isLoading:En(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:En(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:s},e.defaultValues&&!En(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=aCe(e);t.current={...l,formState:s}}const i=t.current.control;return i._options=e,v4(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),L.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),L.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),L.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),L.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),L.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==s.isDirty&&i._subjects.state.next({isDirty:o})}},[i,s.isDirty]),L.useEffect(()=>{var o;e.values&&!ha(e.values,n.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),!((o=i._options.resetOptions)===null||o===void 0)&&o.keepIsValid||i._setValid(),n.current=e.values,a(l=>({...l}))):i._resetDefaultValues()},[i,e.values]),L.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=WL(s,i),t.current}const P_=(e,t,n)=>{if(e&&"reportValidity"in e){const s=Pe(n,t);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},JL=(e,t)=>{for(const n in t.fields){const s=t.fields[n];s&&s.ref&&"reportValidity"in s.ref?P_(s.ref,n,e):s.refs&&s.refs.forEach(a=>P_(a,n,e))}},iCe=(e,t)=>{t.shouldUseNativeValidation&&JL(e,t);const n={};for(const s in e){const a=Pe(t.fields,s),i=Object.assign(e[s]||{},{ref:a&&a.ref});if(oCe(t.names||Object.keys(e),s)){const o=Object.assign({},Pe(n,s));Ft(o,"root",i),Ft(n,s,o)}else Ft(n,s,i)}return n},oCe=(e,t)=>e.some(n=>n.startsWith(t+"."));var lCe=function(e,t){for(var n={};e.length;){var s=e[0],a=s.code,i=s.message,o=s.path.join(".");if(!n[o])if("unionErrors"in s){var l=s.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:i,type:a};if("unionErrors"in s&&s.unionErrors.forEach(function(u){return u.errors.forEach(function(m){return e.push(m)})}),t){var c=n[o].types,d=c&&c[s.code];n[o]=HL(o,t,n,a,d?[].concat(d,s.message):s.message)}e.shift()}return n},Ya=function(e,t,n){return n===void 0&&(n={}),function(s,a,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](s,t)).then(function(d){return i.shouldUseNativeValidation&&JL({},i),{errors:{},values:n.raw?s:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:iCe(lCe(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}};const e9=U4e,t9=g.createContext({}),ca=({...e})=>r.jsx(t9.Provider,{value:{name:e.name},children:r.jsx(W4e,{...e})}),nv=()=>{const e=g.useContext(t9),t=g.useContext(r9),{getFieldState:n,formState:s}=rv(),a=n(e.name,s);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},r9=g.createContext({}),Ts=g.forwardRef(({className:e,...t},n)=>{const s=g.useId();return r.jsx(r9.Provider,{value:{id:s},children:r.jsx("div",{ref:n,className:ye("space-y-2",e),...t})})});Ts.displayName="FormItem";const Ms=g.forwardRef(({className:e,...t},n)=>{const{error:s,formItemId:a}=nv();return r.jsx(K,{ref:n,className:ye(s&&"text-destructive",e),htmlFor:a,...t})});Ms.displayName="FormLabel";const Is=g.forwardRef(({...e},t)=>{const{error:n,formItemId:s,formDescriptionId:a,formMessageId:i}=nv();return r.jsx(WI,{ref:t,id:s,"aria-describedby":n?`${a} ${i}`:`${a}`,"aria-invalid":!!n,...e})});Is.displayName="FormControl";const cCe=g.forwardRef(({className:e,...t},n)=>{const{formDescriptionId:s}=nv();return r.jsx("p",{ref:n,id:s,className:ye("text-sm text-muted-foreground",e),...t})});cCe.displayName="FormDescription";const Rs=g.forwardRef(({className:e,children:t,...n},s)=>{const{error:a,formMessageId:i}=nv(),o=a?String((a==null?void 0:a.message)??""):t;return o?r.jsx("p",{ref:s,id:i,className:ye("text-sm font-medium text-destructive",e),...n,children:o}):null});Rs.displayName="FormMessage";var Pt;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function n(a){throw new Error}e.assertNever=n,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function s(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=s,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(Pt||(Pt={}));var O_;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(O_||(O_={}));const Be=Pt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ao=e=>{switch(typeof e){case"undefined":return Be.undefined;case"string":return Be.string;case"number":return Number.isNaN(e)?Be.nan:Be.number;case"boolean":return Be.boolean;case"function":return Be.function;case"bigint":return Be.bigint;case"symbol":return Be.symbol;case"object":return Array.isArray(e)?Be.array:e===null?Be.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Be.promise:typeof Map<"u"&&e instanceof Map?Be.map:typeof Set<"u"&&e instanceof Set?Be.set:typeof Date<"u"&&e instanceof Date?Be.date:Be.object;default:return Be.unknown}},Ne=Pt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Vi extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(i){return i.message},s={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)s._errors.push(n(o));else{let l=s,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(n(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return a(this),s}static assert(t){if(!(t instanceof Vi))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Pt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},s=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];n[i]=n[i]||[],n[i].push(t(a))}else s.push(t(a));return{formErrors:s,fieldErrors:n}}get formErrors(){return this.flatten()}}Vi.create=e=>new Vi(e);const XN=(e,t)=>{let n;switch(e.code){case Ne.invalid_type:e.received===Be.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case Ne.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Pt.jsonStringifyReplacer)}`;break;case Ne.unrecognized_keys:n=`Unrecognized key(s) in object: ${Pt.joinValues(e.keys,", ")}`;break;case Ne.invalid_union:n="Invalid input";break;case Ne.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Pt.joinValues(e.options)}`;break;case Ne.invalid_enum_value:n=`Invalid enum value. Expected ${Pt.joinValues(e.options)}, received '${e.received}'`;break;case Ne.invalid_arguments:n="Invalid function arguments";break;case Ne.invalid_return_type:n="Invalid function return type";break;case Ne.invalid_date:n="Invalid date";break;case Ne.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Pt.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case Ne.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case Ne.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case Ne.custom:n="Invalid input";break;case Ne.invalid_intersection_types:n="Intersection results could not be merged";break;case Ne.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case Ne.not_finite:n="Number must be finite";break;default:n=t.defaultError,Pt.assertNever(e)}return{message:n}};let dCe=XN;function uCe(){return dCe}const mCe=e=>{const{data:t,path:n,errorMaps:s,issueData:a}=e,i=[...n,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=s.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}};function _e(e,t){const n=uCe(),s=mCe({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===XN?void 0:XN].filter(a=>!!a)});e.common.issues.push(s)}class Ss{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const s=[];for(const a of n){if(a.status==="aborted")return st;a.status==="dirty"&&t.dirty(),s.push(a.value)}return{status:t.value,value:s}}static async mergeObjectAsync(t,n){const s=[];for(const a of n){const i=await a.key,o=await a.value;s.push({key:i,value:o})}return Ss.mergeObjectSync(t,s)}static mergeObjectSync(t,n){const s={};for(const a of n){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return st;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(s[i.value]=o.value)}return{status:t.value,value:s}}}const st=Object.freeze({status:"aborted"}),Am=e=>({status:"dirty",value:e}),Xs=e=>({status:"valid",value:e}),E_=e=>e.status==="aborted",__=e=>e.status==="dirty",hu=e=>e.status==="valid",Kg=e=>typeof Promise<"u"&&e instanceof Promise;var Ve;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Ve||(Ve={}));class Wo{constructor(t,n,s,a){this._cachedPath=[],this.parent=t,this.data=n,this._path=s,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const T_=(e,t)=>{if(hu(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Vi(e.common.issues);return this._error=n,this._error}}};function xt(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:s,description:a}=e;if(t&&(n||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??s??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??n??l.defaultError}},description:a}}class kt{get description(){return this._def.description}_getType(t){return ao(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:ao(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Ss,ctx:{common:t.parent.common,data:t.data,parsedType:ao(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Kg(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const s=this.safeParse(t,n);if(s.success)return s.data;throw s.error}safeParse(t,n){const s={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ao(t)},a=this._parseSync({data:t,path:s.path,parent:s});return T_(s,a)}"~validate"(t){var s,a;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ao(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:n});return hu(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(a=(s=i==null?void 0:i.message)==null?void 0:s.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(i=>hu(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(t,n){const s=await this.safeParseAsync(t,n);if(s.success)return s.data;throw s.error}async safeParseAsync(t,n){const s={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ao(t)},a=this._parse({data:t,path:s.path,parent:s}),i=await(Kg(a)?a:Promise.resolve(a));return T_(s,i)}refine(t,n){const s=a=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(a):n;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:Ne.custom,...s(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,n){return this._refinement((s,a)=>t(s)?!0:(a.addIssue(typeof n=="function"?n(s,a):n),!1))}_refinement(t){return new fu({schema:this,typeName:at.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return zo.create(this,this._def)}nullable(){return xu.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Qa.create(this)}promise(){return Xg.create(this,this._def)}or(t){return Yg.create([this,t],this._def)}and(t){return Qg.create(this,t,this._def)}transform(t){return new fu({...xt(this._def),schema:this,typeName:at.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new e1({...xt(this._def),innerType:this,defaultValue:n,typeName:at.ZodDefault})}brand(){return new RCe({typeName:at.ZodBranded,type:this,...xt(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new t1({...xt(this._def),innerType:this,catchValue:n,typeName:at.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return j4.create(this,t)}readonly(){return r1.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const hCe=/^c[^\s-]{8,}$/i,pCe=/^[0-9a-z]+$/,fCe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,xCe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,gCe=/^[a-z0-9_-]{21}$/i,yCe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,vCe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,bCe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,wCe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let _b;const jCe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,NCe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,SCe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,CCe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,kCe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ACe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,n9="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",PCe=new RegExp(`^${n9}$`);function s9(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function OCe(e){return new RegExp(`^${s9(e)}$`)}function ECe(e){let t=`${n9}T${s9(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function _Ce(e,t){return!!((t==="v4"||!t)&&jCe.test(e)||(t==="v6"||!t)&&SCe.test(e))}function TCe(e,t){if(!yCe.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const s=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),a=JSON.parse(atob(s));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function MCe(e,t){return!!((t==="v4"||!t)&&NCe.test(e)||(t==="v6"||!t)&&CCe.test(e))}class So extends kt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Be.string){const i=this._getOrReturnCtx(t);return _e(i,{code:Ne.invalid_type,expected:Be.string,received:i.parsedType}),st}const s=new Ss;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),_e(a,{code:Ne.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),_e(a,{code:Ne.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?_e(a,{code:Ne.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&_e(a,{code:Ne.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),s.dirty())}else if(i.kind==="email")bCe.test(t.data)||(a=this._getOrReturnCtx(t,a),_e(a,{validation:"email",code:Ne.invalid_string,message:i.message}),s.dirty());else if(i.kind==="emoji")_b||(_b=new RegExp(wCe,"u")),_b.test(t.data)||(a=this._getOrReturnCtx(t,a),_e(a,{validation:"emoji",code:Ne.invalid_string,message:i.message}),s.dirty());else if(i.kind==="uuid")xCe.test(t.data)||(a=this._getOrReturnCtx(t,a),_e(a,{validation:"uuid",code:Ne.invalid_string,message:i.message}),s.dirty());else if(i.kind==="nanoid")gCe.test(t.data)||(a=this._getOrReturnCtx(t,a),_e(a,{validation:"nanoid",code:Ne.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid")hCe.test(t.data)||(a=this._getOrReturnCtx(t,a),_e(a,{validation:"cuid",code:Ne.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid2")pCe.test(t.data)||(a=this._getOrReturnCtx(t,a),_e(a,{validation:"cuid2",code:Ne.invalid_string,message:i.message}),s.dirty());else if(i.kind==="ulid")fCe.test(t.data)||(a=this._getOrReturnCtx(t,a),_e(a,{validation:"ulid",code:Ne.invalid_string,message:i.message}),s.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),_e(a,{validation:"url",code:Ne.invalid_string,message:i.message}),s.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),_e(a,{validation:"regex",code:Ne.invalid_string,message:i.message}),s.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),_e(a,{code:Ne.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),s.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),_e(a,{code:Ne.invalid_string,validation:{startsWith:i.value},message:i.message}),s.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),_e(a,{code:Ne.invalid_string,validation:{endsWith:i.value},message:i.message}),s.dirty()):i.kind==="datetime"?ECe(i).test(t.data)||(a=this._getOrReturnCtx(t,a),_e(a,{code:Ne.invalid_string,validation:"datetime",message:i.message}),s.dirty()):i.kind==="date"?PCe.test(t.data)||(a=this._getOrReturnCtx(t,a),_e(a,{code:Ne.invalid_string,validation:"date",message:i.message}),s.dirty()):i.kind==="time"?OCe(i).test(t.data)||(a=this._getOrReturnCtx(t,a),_e(a,{code:Ne.invalid_string,validation:"time",message:i.message}),s.dirty()):i.kind==="duration"?vCe.test(t.data)||(a=this._getOrReturnCtx(t,a),_e(a,{validation:"duration",code:Ne.invalid_string,message:i.message}),s.dirty()):i.kind==="ip"?_Ce(t.data,i.version)||(a=this._getOrReturnCtx(t,a),_e(a,{validation:"ip",code:Ne.invalid_string,message:i.message}),s.dirty()):i.kind==="jwt"?TCe(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),_e(a,{validation:"jwt",code:Ne.invalid_string,message:i.message}),s.dirty()):i.kind==="cidr"?MCe(t.data,i.version)||(a=this._getOrReturnCtx(t,a),_e(a,{validation:"cidr",code:Ne.invalid_string,message:i.message}),s.dirty()):i.kind==="base64"?kCe.test(t.data)||(a=this._getOrReturnCtx(t,a),_e(a,{validation:"base64",code:Ne.invalid_string,message:i.message}),s.dirty()):i.kind==="base64url"?ACe.test(t.data)||(a=this._getOrReturnCtx(t,a),_e(a,{validation:"base64url",code:Ne.invalid_string,message:i.message}),s.dirty()):Pt.assertNever(i);return{status:s.value,value:t.data}}_regex(t,n,s){return this.refinement(a=>t.test(a),{validation:n,code:Ne.invalid_string,...Ve.errToObj(s)})}_addCheck(t){return new So({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ve.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ve.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ve.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ve.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ve.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ve.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ve.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ve.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ve.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ve.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ve.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ve.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ve.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Ve.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Ve.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Ve.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...Ve.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...Ve.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...Ve.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...Ve.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...Ve.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...Ve.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...Ve.errToObj(n)})}nonempty(t){return this.min(1,Ve.errToObj(t))}trim(){return new So({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new So({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new So({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}So.create=e=>new So({checks:[],typeName:at.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...xt(e)});function ICe(e,t){const n=(e.toString().split(".")[1]||"").length,s=(t.toString().split(".")[1]||"").length,a=n>s?n:s,i=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return i%o/10**a}class sp extends kt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Be.number){const i=this._getOrReturnCtx(t);return _e(i,{code:Ne.invalid_type,expected:Be.number,received:i.parsedType}),st}let s;const a=new Ss;for(const i of this._def.checks)i.kind==="int"?Pt.isInteger(t.data)||(s=this._getOrReturnCtx(t,s),_e(s,{code:Ne.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(s=this._getOrReturnCtx(t,s),_e(s,{code:Ne.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(s=this._getOrReturnCtx(t,s),_e(s,{code:Ne.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?ICe(t.data,i.value)!==0&&(s=this._getOrReturnCtx(t,s),_e(s,{code:Ne.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(s=this._getOrReturnCtx(t,s),_e(s,{code:Ne.not_finite,message:i.message}),a.dirty()):Pt.assertNever(i);return{status:a.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Ve.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Ve.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Ve.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Ve.toString(n))}setLimit(t,n,s,a){return new sp({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:s,message:Ve.toString(a)}]})}_addCheck(t){return new sp({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ve.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ve.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ve.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ve.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ve.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Ve.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:Ve.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ve.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ve.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Pt.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(n===null||s.value>n)&&(n=s.value):s.kind==="max"&&(t===null||s.value<t)&&(t=s.value)}return Number.isFinite(n)&&Number.isFinite(t)}}sp.create=e=>new sp({checks:[],typeName:at.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...xt(e)});class ap extends kt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Be.bigint)return this._getInvalidInput(t);let s;const a=new Ss;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(s=this._getOrReturnCtx(t,s),_e(s,{code:Ne.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(s=this._getOrReturnCtx(t,s),_e(s,{code:Ne.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(s=this._getOrReturnCtx(t,s),_e(s,{code:Ne.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):Pt.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return _e(n,{code:Ne.invalid_type,expected:Be.bigint,received:n.parsedType}),st}gte(t,n){return this.setLimit("min",t,!0,Ve.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Ve.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Ve.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Ve.toString(n))}setLimit(t,n,s,a){return new ap({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:s,message:Ve.toString(a)}]})}_addCheck(t){return new ap({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ve.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ve.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ve.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ve.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Ve.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}ap.create=e=>new ap({checks:[],typeName:at.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...xt(e)});class M_ extends kt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Be.boolean){const s=this._getOrReturnCtx(t);return _e(s,{code:Ne.invalid_type,expected:Be.boolean,received:s.parsedType}),st}return Xs(t.data)}}M_.create=e=>new M_({typeName:at.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...xt(e)});class Gg extends kt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Be.date){const i=this._getOrReturnCtx(t);return _e(i,{code:Ne.invalid_type,expected:Be.date,received:i.parsedType}),st}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return _e(i,{code:Ne.invalid_date}),st}const s=new Ss;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),_e(a,{code:Ne.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),s.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),_e(a,{code:Ne.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),s.dirty()):Pt.assertNever(i);return{status:s.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Gg({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:Ve.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:Ve.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Gg.create=e=>new Gg({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:at.ZodDate,...xt(e)});class I_ extends kt{_parse(t){if(this._getType(t)!==Be.symbol){const s=this._getOrReturnCtx(t);return _e(s,{code:Ne.invalid_type,expected:Be.symbol,received:s.parsedType}),st}return Xs(t.data)}}I_.create=e=>new I_({typeName:at.ZodSymbol,...xt(e)});class R_ extends kt{_parse(t){if(this._getType(t)!==Be.undefined){const s=this._getOrReturnCtx(t);return _e(s,{code:Ne.invalid_type,expected:Be.undefined,received:s.parsedType}),st}return Xs(t.data)}}R_.create=e=>new R_({typeName:at.ZodUndefined,...xt(e)});class $_ extends kt{_parse(t){if(this._getType(t)!==Be.null){const s=this._getOrReturnCtx(t);return _e(s,{code:Ne.invalid_type,expected:Be.null,received:s.parsedType}),st}return Xs(t.data)}}$_.create=e=>new $_({typeName:at.ZodNull,...xt(e)});class D_ extends kt{constructor(){super(...arguments),this._any=!0}_parse(t){return Xs(t.data)}}D_.create=e=>new D_({typeName:at.ZodAny,...xt(e)});class z_ extends kt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Xs(t.data)}}z_.create=e=>new z_({typeName:at.ZodUnknown,...xt(e)});class Ho extends kt{_parse(t){const n=this._getOrReturnCtx(t);return _e(n,{code:Ne.invalid_type,expected:Be.never,received:n.parsedType}),st}}Ho.create=e=>new Ho({typeName:at.ZodNever,...xt(e)});class F_ extends kt{_parse(t){if(this._getType(t)!==Be.undefined){const s=this._getOrReturnCtx(t);return _e(s,{code:Ne.invalid_type,expected:Be.void,received:s.parsedType}),st}return Xs(t.data)}}F_.create=e=>new F_({typeName:at.ZodVoid,...xt(e)});class Qa extends kt{_parse(t){const{ctx:n,status:s}=this._processInputParams(t),a=this._def;if(n.parsedType!==Be.array)return _e(n,{code:Ne.invalid_type,expected:Be.array,received:n.parsedType}),st;if(a.exactLength!==null){const o=n.data.length>a.exactLength.value,l=n.data.length<a.exactLength.value;(o||l)&&(_e(n,{code:o?Ne.too_big:Ne.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),s.dirty())}if(a.minLength!==null&&n.data.length<a.minLength.value&&(_e(n,{code:Ne.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),s.dirty()),a.maxLength!==null&&n.data.length>a.maxLength.value&&(_e(n,{code:Ne.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),s.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>a.type._parseAsync(new Wo(n,o,n.path,l)))).then(o=>Ss.mergeArray(s,o));const i=[...n.data].map((o,l)=>a.type._parseSync(new Wo(n,o,n.path,l)));return Ss.mergeArray(s,i)}get element(){return this._def.type}min(t,n){return new Qa({...this._def,minLength:{value:t,message:Ve.toString(n)}})}max(t,n){return new Qa({...this._def,maxLength:{value:t,message:Ve.toString(n)}})}length(t,n){return new Qa({...this._def,exactLength:{value:t,message:Ve.toString(n)}})}nonempty(t){return this.min(1,t)}}Qa.create=(e,t)=>new Qa({type:e,minLength:null,maxLength:null,exactLength:null,typeName:at.ZodArray,...xt(t)});function Dc(e){if(e instanceof Pr){const t={};for(const n in e.shape){const s=e.shape[n];t[n]=zo.create(Dc(s))}return new Pr({...e._def,shape:()=>t})}else return e instanceof Qa?new Qa({...e._def,type:Dc(e.element)}):e instanceof zo?zo.create(Dc(e.unwrap())):e instanceof xu?xu.create(Dc(e.unwrap())):e instanceof lc?lc.create(e.items.map(t=>Dc(t))):e}class Pr extends kt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=Pt.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==Be.object){const d=this._getOrReturnCtx(t);return _e(d,{code:Ne.invalid_type,expected:Be.object,received:d.parsedType}),st}const{status:s,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Ho&&this._def.unknownKeys==="strip"))for(const d in a.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=i[d],m=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Wo(a,m,a.path,d)),alwaysSet:d in a.data})}if(this._def.catchall instanceof Ho){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:a.data[u]}});else if(d==="strict")l.length>0&&(_e(a,{code:Ne.unrecognized_keys,keys:l}),s.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const m=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Wo(a,m,a.path,u)),alwaysSet:u in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const m=await u.key,p=await u.value;d.push({key:m,value:p,alwaysSet:u.alwaysSet})}return d}).then(d=>Ss.mergeObjectSync(s,d)):Ss.mergeObjectSync(s,c)}get shape(){return this._def.shape()}strict(t){return Ve.errToObj,new Pr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,s)=>{var i,o;const a=((o=(i=this._def).errorMap)==null?void 0:o.call(i,n,s).message)??s.defaultError;return n.code==="unrecognized_keys"?{message:Ve.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new Pr({...this._def,unknownKeys:"strip"})}passthrough(){return new Pr({...this._def,unknownKeys:"passthrough"})}extend(t){return new Pr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Pr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:at.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new Pr({...this._def,catchall:t})}pick(t){const n={};for(const s of Pt.objectKeys(t))t[s]&&this.shape[s]&&(n[s]=this.shape[s]);return new Pr({...this._def,shape:()=>n})}omit(t){const n={};for(const s of Pt.objectKeys(this.shape))t[s]||(n[s]=this.shape[s]);return new Pr({...this._def,shape:()=>n})}deepPartial(){return Dc(this)}partial(t){const n={};for(const s of Pt.objectKeys(this.shape)){const a=this.shape[s];t&&!t[s]?n[s]=a:n[s]=a.optional()}return new Pr({...this._def,shape:()=>n})}required(t){const n={};for(const s of Pt.objectKeys(this.shape))if(t&&!t[s])n[s]=this.shape[s];else{let i=this.shape[s];for(;i instanceof zo;)i=i._def.innerType;n[s]=i}return new Pr({...this._def,shape:()=>n})}keyof(){return a9(Pt.objectKeys(this.shape))}}Pr.create=(e,t)=>new Pr({shape:()=>e,unknownKeys:"strip",catchall:Ho.create(),typeName:at.ZodObject,...xt(t)});Pr.strictCreate=(e,t)=>new Pr({shape:()=>e,unknownKeys:"strict",catchall:Ho.create(),typeName:at.ZodObject,...xt(t)});Pr.lazycreate=(e,t)=>new Pr({shape:e,unknownKeys:"strip",catchall:Ho.create(),typeName:at.ZodObject,...xt(t)});class Yg extends kt{_parse(t){const{ctx:n}=this._processInputParams(t),s=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Vi(l.ctx.common.issues));return _e(n,{code:Ne.invalid_union,unionErrors:o}),st}if(n.common.async)return Promise.all(s.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of s){const d={...n,common:{...n.common,issues:[]},parent:null},u=c._parseSync({data:n.data,path:n.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new Vi(c));return _e(n,{code:Ne.invalid_union,unionErrors:l}),st}}get options(){return this._def.options}}Yg.create=(e,t)=>new Yg({options:e,typeName:at.ZodUnion,...xt(t)});function ZN(e,t){const n=ao(e),s=ao(t);if(e===t)return{valid:!0,data:e};if(n===Be.object&&s===Be.object){const a=Pt.objectKeys(t),i=Pt.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=ZN(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===Be.array&&s===Be.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=ZN(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return n===Be.date&&s===Be.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Qg extends kt{_parse(t){const{status:n,ctx:s}=this._processInputParams(t),a=(i,o)=>{if(E_(i)||E_(o))return st;const l=ZN(i.value,o.value);return l.valid?((__(i)||__(o))&&n.dirty(),{status:n.value,value:l.data}):(_e(s,{code:Ne.invalid_intersection_types}),st)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}Qg.create=(e,t,n)=>new Qg({left:e,right:t,typeName:at.ZodIntersection,...xt(n)});class lc extends kt{_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.parsedType!==Be.array)return _e(s,{code:Ne.invalid_type,expected:Be.array,received:s.parsedType}),st;if(s.data.length<this._def.items.length)return _e(s,{code:Ne.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),st;!this._def.rest&&s.data.length>this._def.items.length&&(_e(s,{code:Ne.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...s.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Wo(s,o,s.path,l)):null}).filter(o=>!!o);return s.common.async?Promise.all(i).then(o=>Ss.mergeArray(n,o)):Ss.mergeArray(n,i)}get items(){return this._def.items}rest(t){return new lc({...this._def,rest:t})}}lc.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new lc({items:e,typeName:at.ZodTuple,rest:null,...xt(t)})};class L_ extends kt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.parsedType!==Be.map)return _e(s,{code:Ne.invalid_type,expected:Be.map,received:s.parsedType}),st;const a=this._def.keyType,i=this._def.valueType,o=[...s.data.entries()].map(([l,c],d)=>({key:a._parse(new Wo(s,l,s.path,[d,"key"])),value:i._parse(new Wo(s,c,s.path,[d,"value"]))}));if(s.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return st;(d.status==="dirty"||u.status==="dirty")&&n.dirty(),l.set(d.value,u.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return st;(d.status==="dirty"||u.status==="dirty")&&n.dirty(),l.set(d.value,u.value)}return{status:n.value,value:l}}}}L_.create=(e,t,n)=>new L_({valueType:t,keyType:e,typeName:at.ZodMap,...xt(n)});class ip extends kt{_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.parsedType!==Be.set)return _e(s,{code:Ne.invalid_type,expected:Be.set,received:s.parsedType}),st;const a=this._def;a.minSize!==null&&s.data.size<a.minSize.value&&(_e(s,{code:Ne.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),n.dirty()),a.maxSize!==null&&s.data.size>a.maxSize.value&&(_e(s,{code:Ne.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),n.dirty());const i=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return st;u.status==="dirty"&&n.dirty(),d.add(u.value)}return{status:n.value,value:d}}const l=[...s.data.values()].map((c,d)=>i._parse(new Wo(s,c,s.path,d)));return s.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,n){return new ip({...this._def,minSize:{value:t,message:Ve.toString(n)}})}max(t,n){return new ip({...this._def,maxSize:{value:t,message:Ve.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}ip.create=(e,t)=>new ip({valueType:e,minSize:null,maxSize:null,typeName:at.ZodSet,...xt(t)});class U_ extends kt{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}U_.create=(e,t)=>new U_({getter:e,typeName:at.ZodLazy,...xt(t)});class JN extends kt{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return _e(n,{received:n.data,code:Ne.invalid_literal,expected:this._def.value}),st}return{status:"valid",value:t.data}}get value(){return this._def.value}}JN.create=(e,t)=>new JN({value:e,typeName:at.ZodLiteral,...xt(t)});function a9(e,t){return new pu({values:e,typeName:at.ZodEnum,...xt(t)})}class pu extends kt{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),s=this._def.values;return _e(n,{expected:Pt.joinValues(s),received:n.parsedType,code:Ne.invalid_type}),st}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),s=this._def.values;return _e(n,{received:n.data,code:Ne.invalid_enum_value,options:s}),st}return Xs(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return pu.create(t,{...this._def,...n})}exclude(t,n=this._def){return pu.create(this.options.filter(s=>!t.includes(s)),{...this._def,...n})}}pu.create=a9;class B_ extends kt{_parse(t){const n=Pt.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(t);if(s.parsedType!==Be.string&&s.parsedType!==Be.number){const a=Pt.objectValues(n);return _e(s,{expected:Pt.joinValues(a),received:s.parsedType,code:Ne.invalid_type}),st}if(this._cache||(this._cache=new Set(Pt.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=Pt.objectValues(n);return _e(s,{received:s.data,code:Ne.invalid_enum_value,options:a}),st}return Xs(t.data)}get enum(){return this._def.values}}B_.create=(e,t)=>new B_({values:e,typeName:at.ZodNativeEnum,...xt(t)});class Xg extends kt{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Be.promise&&n.common.async===!1)return _e(n,{code:Ne.invalid_type,expected:Be.promise,received:n.parsedType}),st;const s=n.parsedType===Be.promise?n.data:Promise.resolve(n.data);return Xs(s.then(a=>this._def.type.parseAsync(a,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Xg.create=(e,t)=>new Xg({type:e,typeName:at.ZodPromise,...xt(t)});class fu extends kt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===at.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:s}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{_e(s,o),o.fatal?n.abort():n.dirty()},get path(){return s.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(s.data,i);if(s.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return st;const c=await this._def.schema._parseAsync({data:l,path:s.path,parent:s});return c.status==="aborted"?st:c.status==="dirty"||n.value==="dirty"?Am(c.value):c});{if(n.value==="aborted")return st;const l=this._def.schema._parseSync({data:o,path:s.path,parent:s});return l.status==="aborted"?st:l.status==="dirty"||n.value==="dirty"?Am(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(s.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(s.common.async===!1){const l=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return l.status==="aborted"?st:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(l=>l.status==="aborted"?st:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(a.type==="transform")if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!hu(o))return st;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>hu(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:n.value,value:l})):st);Pt.assertNever(a)}}fu.create=(e,t,n)=>new fu({schema:e,typeName:at.ZodEffects,effect:t,...xt(n)});fu.createWithPreprocess=(e,t,n)=>new fu({schema:t,effect:{type:"preprocess",transform:e},typeName:at.ZodEffects,...xt(n)});class zo extends kt{_parse(t){return this._getType(t)===Be.undefined?Xs(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}zo.create=(e,t)=>new zo({innerType:e,typeName:at.ZodOptional,...xt(t)});class xu extends kt{_parse(t){return this._getType(t)===Be.null?Xs(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}xu.create=(e,t)=>new xu({innerType:e,typeName:at.ZodNullable,...xt(t)});class e1 extends kt{_parse(t){const{ctx:n}=this._processInputParams(t);let s=n.data;return n.parsedType===Be.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}e1.create=(e,t)=>new e1({innerType:e,typeName:at.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...xt(t)});class t1 extends kt{_parse(t){const{ctx:n}=this._processInputParams(t),s={...n,common:{...n.common,issues:[]}},a=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return Kg(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Vi(s.common.issues)},input:s.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Vi(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}t1.create=(e,t)=>new t1({innerType:e,typeName:at.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...xt(t)});class V_ extends kt{_parse(t){if(this._getType(t)!==Be.nan){const s=this._getOrReturnCtx(t);return _e(s,{code:Ne.invalid_type,expected:Be.nan,received:s.parsedType}),st}return{status:"valid",value:t.data}}}V_.create=e=>new V_({typeName:at.ZodNaN,...xt(e)});class RCe extends kt{_parse(t){const{ctx:n}=this._processInputParams(t),s=n.data;return this._def.type._parse({data:s,path:n.path,parent:n})}unwrap(){return this._def.type}}class j4 extends kt{_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?st:i.status==="dirty"?(n.dirty(),Am(i.value)):this._def.out._parseAsync({data:i.value,path:s.path,parent:s})})();{const a=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?st:a.status==="dirty"?(n.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:s.path,parent:s})}}static create(t,n){return new j4({in:t,out:n,typeName:at.ZodPipeline})}}class r1 extends kt{_parse(t){const n=this._def.innerType._parse(t),s=a=>(hu(a)&&(a.value=Object.freeze(a.value)),a);return Kg(n)?n.then(a=>s(a)):s(n)}unwrap(){return this._def.innerType}}r1.create=(e,t)=>new r1({innerType:e,typeName:at.ZodReadonly,...xt(t)});var at;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(at||(at={}));const Ge=So.create;Ho.create;Qa.create;const ai=Pr.create;Yg.create;Qg.create;lc.create;const kl=JN.create,n1=pu.create;Xg.create;zo.create;xu.create;const $Ce=ai({companyName:Ge().min(1,"Company name is required"),contactFirstName:Ge().min(1,"First name is required"),contactLastName:Ge().min(1,"Last name is required"),email:Ge().email("Valid email is required"),phone:Ge().optional(),totalPrice:Ge().optional(),pricingNotes:Ge().optional(),notes:Ge().optional()});function DCe(e){const t={new:{variant:"secondary",label:"New"},invoice_sent:{variant:"outline",label:"Invoice Sent"},paid:{variant:"default",label:"Paid"},pending_activation:{variant:"outline",label:"Pending Activation",className:"border-yellow-500 text-yellow-400"},onboarding:{variant:"default",label:"Onboarding In Progress",className:"bg-blue-600"},onboarding_complete:{variant:"default",label:"Onboarding Complete",className:"bg-green-600"},converted:{variant:"default",label:"Active Agency",className:"bg-green-600"},cancelled:{variant:"destructive",label:"Cancelled"}},n=t[e]||t.new;return r.jsx(oe,{variant:n.variant,className:n.className,"data-testid":`badge-status-${e}`,children:n.label})}function q_(){const[e,t]=g.useState(!1),[n,s]=g.useState(null),[a,i]=g.useState(""),[o,l]=g.useState(null),[c,d]=g.useState(null),{toast:u}=pt(),m=_t(),{data:p,isLoading:f}=ve({queryKey:["/api/prospects"],staleTime:0,refetchOnMount:!0,refetchOnWindowFocus:!0}),x=Ga({resolver:Ya($Ce),defaultValues:{companyName:"",contactFirstName:"",contactLastName:"",email:"",phone:"",totalPrice:"",pricingNotes:"",notes:""}}),h=Oe({mutationFn:async k=>Te("/api/prospects",{method:"POST",body:{...k,totalPrice:k.totalPrice||null}}),onSuccess:async()=>{await m.refetchQueries({queryKey:["/api/prospects"]}),t(!1),x.reset(),u({title:"Success",description:"Prospect created successfully"})},onError:()=>{u({title:"Error",description:"Failed to create prospect",variant:"destructive"})}}),y=Oe({mutationFn:async({prospectId:k,isPaid:O,isActive:M})=>Te(`/api/prospects/${k}/toggle-payment`,{method:"POST",body:{isPaid:O,isActive:M}}),onSuccess:async(k,O)=>{await m.refetchQueries({queryKey:["/api/prospects"]});const M=O.isPaid!==void 0?"payment":"active";u({title:"Success",description:`Updated ${M} status`})},onError:()=>{u({title:"Error",description:"Failed to update status",variant:"destructive"})}}),v=Oe({mutationFn:async({prospectId:k,invoiceLink:O})=>Te(`/api/prospects/${k}/send-invoice`,{method:"POST",body:{invoiceLink:O}}),onSuccess:async()=>{await m.refetchQueries({queryKey:["/api/prospects"]}),s(null),i(""),u({title:"Success",description:"Invoice link saved"})},onError:()=>{u({title:"Error",description:"Failed to save invoice link",variant:"destructive"})}}),b=Oe({mutationFn:async k=>Te(`/api/prospects/${k}/send-welcome`,{method:"POST"}),onSuccess:async()=>{await m.refetchQueries({queryKey:["/api/prospects"]}),u({title:"Success",description:"Welcome email sent"})},onError:()=>{u({title:"Error",description:"Failed to send welcome email",variant:"destructive"})}}),w=Oe({mutationFn:async k=>Te(`/api/prospects/${k}`,{method:"DELETE"}),onSuccess:async()=>{await m.refetchQueries({queryKey:["/api/prospects"]}),u({title:"Success",description:"Prospect deleted"})},onError:()=>{u({title:"Error",description:"Failed to delete prospect",variant:"destructive"})}}),S=Oe({mutationFn:async k=>Te(`/api/prospects/${k}/activate`,{method:"POST"}),onSuccess:async k=>{await m.refetchQueries({queryKey:["/api/prospects"]}),u({title:"Prospect Activated",description:"Payment confirmed, onboarding access enabled, and welcome email sent!"}),k.onboardingLink&&u({title:"Onboarding Link",description:k.onboardingLink})},onError:()=>{u({title:"Error",description:"Failed to activate prospect",variant:"destructive"})}}),N=Oe({mutationFn:async k=>(d(k),Te(`/api/prospects/${k}/resend-email`,{method:"POST"})),onSuccess:async k=>{d(null),await m.refetchQueries({queryKey:["/api/prospects"]}),u({title:"Email Resent",description:"Welcome email has been resent to the prospect"}),k.onboardingLink&&u({title:"New Onboarding Link",description:k.onboardingLink})},onError:()=>{d(null),u({title:"Error",description:"Failed to resend email",variant:"destructive"})}}),j=k=>{h.mutate(k)},C=async(k,O)=>{await navigator.clipboard.writeText(k),l(O),setTimeout(()=>l(null),2e3),u({title:"Copied",description:"Link copied to clipboard"})},A=(p==null?void 0:p.prospects)||[];return r.jsx("div",{className:"min-h-screen bg-black text-white p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-yellow-400","data-testid":"text-page-title",children:"Prospect Management"}),r.jsx("p",{className:"text-gray-400 mt-1",children:"Pre-onboarding client pipeline - create prospects, send invoices, manage access"})]}),r.jsxs(jt,{open:e,onOpenChange:t,children:[r.jsx(pn,{asChild:!0,children:r.jsxs(I,{className:"bg-yellow-400 text-black hover:bg-yellow-500","data-testid":"button-add-prospect",children:[r.jsx(ir,{className:"w-4 h-4 mr-2"}),"Add Prospect"]})}),r.jsxs(yt,{className:"bg-zinc-900 border-zinc-800 text-white max-w-lg max-h-[90vh] overflow-y-auto",children:[r.jsxs(vt,{children:[r.jsx(bt,{className:"text-yellow-400",children:"Create New Prospect"}),r.jsx(jn,{className:"text-gray-400",children:"Add a new prospect to your pipeline. They'll receive onboarding access once marked as paid and active."})]}),r.jsx(e9,{...x,children:r.jsxs("form",{onSubmit:x.handleSubmit(j),className:"space-y-4 pb-4",children:[r.jsx(ca,{control:x.control,name:"companyName",render:({field:k})=>r.jsxs(Ts,{children:[r.jsx(Ms,{className:"text-gray-300",children:"Company Name"}),r.jsx(Is,{children:r.jsx(ee,{...k,className:"bg-zinc-800 border-zinc-700 text-white",placeholder:"Acme Payments","data-testid":"input-company-name"})}),r.jsx(Rs,{})]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(ca,{control:x.control,name:"contactFirstName",render:({field:k})=>r.jsxs(Ts,{children:[r.jsx(Ms,{className:"text-gray-300",children:"First Name"}),r.jsx(Is,{children:r.jsx(ee,{...k,className:"bg-zinc-800 border-zinc-700 text-white",placeholder:"John","data-testid":"input-first-name"})}),r.jsx(Rs,{})]})}),r.jsx(ca,{control:x.control,name:"contactLastName",render:({field:k})=>r.jsxs(Ts,{children:[r.jsx(Ms,{className:"text-gray-300",children:"Last Name"}),r.jsx(Is,{children:r.jsx(ee,{...k,className:"bg-zinc-800 border-zinc-700 text-white",placeholder:"Doe","data-testid":"input-last-name"})}),r.jsx(Rs,{})]})})]}),r.jsx(ca,{control:x.control,name:"email",render:({field:k})=>r.jsxs(Ts,{children:[r.jsx(Ms,{className:"text-gray-300",children:"Email"}),r.jsx(Is,{children:r.jsx(ee,{...k,type:"email",className:"bg-zinc-800 border-zinc-700 text-white",placeholder:"john@acme.com","data-testid":"input-email"})}),r.jsx(Rs,{})]})}),r.jsx(ca,{control:x.control,name:"phone",render:({field:k})=>r.jsxs(Ts,{children:[r.jsx(Ms,{className:"text-gray-300",children:"Phone"}),r.jsx(Is,{children:r.jsx(ee,{...k,className:"bg-zinc-800 border-zinc-700 text-white",placeholder:"(555) 123-4567","data-testid":"input-phone"})}),r.jsx(Rs,{})]})}),r.jsx(ca,{control:x.control,name:"totalPrice",render:({field:k})=>r.jsxs(Ts,{children:[r.jsx(Ms,{className:"text-gray-300",children:"Total Price ($)"}),r.jsx(Is,{children:r.jsx(ee,{...k,type:"number",step:"0.01",className:"bg-zinc-800 border-zinc-700 text-white",placeholder:"499.00","data-testid":"input-price"})}),r.jsx(Rs,{})]})}),r.jsx(ca,{control:x.control,name:"notes",render:({field:k})=>r.jsxs(Ts,{children:[r.jsx(Ms,{className:"text-gray-300",children:"Notes"}),r.jsx(Is,{children:r.jsx(Wt,{...k,className:"bg-zinc-800 border-zinc-700 text-white",placeholder:"Internal notes about this prospect...","data-testid":"input-notes"})}),r.jsx(Rs,{})]})}),r.jsx(I,{type:"submit",className:"w-full bg-yellow-400 text-black hover:bg-yellow-500",disabled:h.isPending,"data-testid":"button-submit-prospect",children:h.isPending?"Creating...":"Create Prospect"})]})})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs(U,{className:"bg-zinc-900 border-zinc-800",children:[r.jsx(X,{className:"pb-2",children:r.jsx(J,{className:"text-sm font-medium text-gray-400",children:"Total Prospects"})}),r.jsx(B,{children:r.jsx("div",{className:"text-2xl font-bold text-white","data-testid":"text-total-prospects",children:A.length})})]}),r.jsxs(U,{className:"bg-zinc-900 border-zinc-800",children:[r.jsx(X,{className:"pb-2",children:r.jsx(J,{className:"text-sm font-medium text-gray-400",children:"Awaiting Payment"})}),r.jsx(B,{children:r.jsx("div",{className:"text-2xl font-bold text-yellow-400","data-testid":"text-awaiting-payment",children:A.filter(k=>!k.isPaid&&k.status!=="cancelled").length})})]}),r.jsxs(U,{className:"bg-zinc-900 border-zinc-800",children:[r.jsx(X,{className:"pb-2",children:r.jsx(J,{className:"text-sm font-medium text-gray-400",children:"Active Onboarding"})}),r.jsx(B,{children:r.jsx("div",{className:"text-2xl font-bold text-green-400","data-testid":"text-active-onboarding",children:A.filter(k=>k.isActive&&k.status==="onboarding").length})})]}),r.jsxs(U,{className:"bg-zinc-900 border-zinc-800",children:[r.jsx(X,{className:"pb-2",children:r.jsx(J,{className:"text-sm font-medium text-gray-400",children:"Converted"})}),r.jsx(B,{children:r.jsx("div",{className:"text-2xl font-bold text-blue-400","data-testid":"text-converted",children:A.filter(k=>k.status==="converted").length})})]})]}),r.jsxs(U,{className:"bg-zinc-900 border-zinc-800",children:[r.jsxs(X,{children:[r.jsx(J,{className:"text-white",children:"Prospect Pipeline"}),r.jsx(tt,{className:"text-gray-400",children:"Manage your pre-onboarding prospects"})]}),r.jsx(B,{children:f?r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-yellow-400"})}):A.length===0?r.jsxs("div",{className:"text-center py-8 text-gray-400",children:[r.jsx(Yt,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"No prospects yet. Add your first prospect to get started."})]}):r.jsxs(_r,{children:[r.jsx(Tr,{children:r.jsxs(Ze,{className:"border-zinc-800",children:[r.jsx(be,{className:"text-gray-400",children:"Company"}),r.jsx(be,{className:"text-gray-400",children:"Contact"}),r.jsx(be,{className:"text-gray-400",children:"Price"}),r.jsx(be,{className:"text-gray-400",children:"Status"}),r.jsx(be,{className:"text-gray-400 text-center",children:"Paid"}),r.jsx(be,{className:"text-gray-400 text-center",children:"Active"}),r.jsx(be,{className:"text-gray-400",children:"Actions"})]})}),r.jsx(Mr,{children:A.map(k=>r.jsxs(Ze,{className:"border-zinc-800","data-testid":`row-prospect-${k.prospectId}`,children:[r.jsxs(de,{children:[r.jsx("div",{className:"font-medium text-white",children:k.companyName}),r.jsx("div",{className:"text-sm text-gray-400",children:k.prospectId})]}),r.jsxs(de,{children:[r.jsxs("div",{className:"text-white",children:[k.contactFirstName," ",k.contactLastName]}),r.jsxs("div",{className:"text-sm text-gray-400 flex items-center gap-1",children:[r.jsx(yi,{className:"w-3 h-3"})," ",k.email]}),k.phone&&r.jsxs("div",{className:"text-sm text-gray-400 flex items-center gap-1",children:[r.jsx(nI,{className:"w-3 h-3"})," ",k.phone]})]}),r.jsx(de,{children:k.totalPrice&&r.jsxs("span",{className:"text-green-400 font-medium",children:["$",parseFloat(k.totalPrice).toLocaleString()]})}),r.jsx(de,{children:DCe(k.status)}),r.jsx(de,{className:"text-center",children:r.jsx(un,{checked:k.isPaid,onCheckedChange:O=>y.mutate({prospectId:k.prospectId,isPaid:O}),disabled:y.isPending,"data-testid":`switch-paid-${k.prospectId}`})}),r.jsx(de,{className:"text-center",children:r.jsx(un,{checked:k.isActive,onCheckedChange:O=>y.mutate({prospectId:k.prospectId,isActive:O}),disabled:!k.isPaid||y.isPending,className:k.isPaid?"":"opacity-50","data-testid":`switch-active-${k.prospectId}`})}),r.jsx(de,{children:r.jsx(ds,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(jt,{children:[r.jsxs(Or,{children:[r.jsx(Er,{asChild:!0,children:r.jsx(pn,{asChild:!0,children:r.jsx(I,{variant:"outline",size:"sm",className:"border-zinc-700 text-gray-300 hover:bg-zinc-800",onClick:()=>{s(k),i(k.invoiceLink||"")},"data-testid":`button-invoice-${k.prospectId}`,children:r.jsx(zr,{className:"w-4 h-4"})})})}),r.jsx(Sr,{children:r.jsx("p",{children:"Manage Invoice Link"})})]}),r.jsxs(yt,{className:"bg-zinc-900 border-zinc-800 text-white",children:[r.jsxs(vt,{children:[r.jsx(bt,{className:"text-yellow-400",children:"Invoice Link"}),r.jsx(jn,{className:"text-gray-400",children:"Paste your invoice link (from Stripe, PayPal, etc.) to track"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(K,{className:"text-gray-300",children:"Invoice URL"}),r.jsx(ee,{value:a,onChange:O=>i(O.target.value),placeholder:"https://stripe.com/invoice/...",className:"bg-zinc-800 border-zinc-700 text-white mt-1","data-testid":"input-invoice-link"})]}),k.invoiceLink&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(I,{variant:"outline",size:"sm",className:"border-zinc-700",onClick:()=>C(k.invoiceLink,k.prospectId),"data-testid":`button-copy-invoice-${k.prospectId}`,children:o===k.prospectId?r.jsx(Zn,{className:"w-4 h-4"}):r.jsx(Dd,{className:"w-4 h-4"})}),r.jsxs("a",{href:k.invoiceLink,target:"_blank",rel:"noopener noreferrer",className:"text-yellow-400 hover:underline flex items-center gap-1",children:["Open ",r.jsx(mn,{className:"w-3 h-3"})]})]}),r.jsx(I,{onClick:()=>{n&&a&&v.mutate({prospectId:n.prospectId,invoiceLink:a})},disabled:!a||v.isPending,className:"w-full bg-yellow-400 text-black hover:bg-yellow-500","data-testid":"button-save-invoice",children:"Save Invoice Link"})]})]})]}),k.isPaid?k.status==="pending_activation"?r.jsxs(r.Fragment,{children:[r.jsxs(I,{size:"sm",variant:"outline",className:"border-yellow-500 text-yellow-400 cursor-not-allowed",disabled:!0,"data-testid":`button-pending-${k.prospectId}`,children:[r.jsx(Rr,{className:"w-4 h-4 mr-1"}),"Awaiting Email"]}),r.jsxs(Or,{children:[r.jsx(Er,{asChild:!0,children:r.jsx(I,{size:"sm",variant:"outline",className:"border-blue-500 text-blue-400 hover:bg-blue-950",onClick:()=>N.mutate(k.prospectId),disabled:c===k.prospectId,"data-testid":`button-resend-email-${k.prospectId}`,children:r.jsx(Ai,{className:`w-4 h-4 ${c===k.prospectId?"animate-spin":""}`})})}),r.jsx(Sr,{children:r.jsx("p",{children:"Resend Onboarding Email"})})]})]}):k.status==="onboarding"?r.jsxs(r.Fragment,{children:[r.jsxs(I,{size:"sm",variant:"outline",className:"border-blue-500 text-blue-400 cursor-not-allowed",disabled:!0,"data-testid":`button-onboarding-${k.prospectId}`,children:[r.jsx(tj,{className:"w-4 h-4 mr-1"}),"Onboarding..."]}),r.jsxs(Or,{children:[r.jsx(Er,{asChild:!0,children:r.jsx(I,{size:"sm",variant:"outline",className:"border-blue-500 text-blue-400 hover:bg-blue-950",onClick:()=>N.mutate(k.prospectId),disabled:c===k.prospectId,"data-testid":`button-resend-email-${k.prospectId}`,children:r.jsx(Ai,{className:`w-4 h-4 ${c===k.prospectId?"animate-spin":""}`})})}),r.jsx(Sr,{children:r.jsx("p",{children:"Resend Onboarding Email"})})]})]}):k.status==="converted"||k.status==="onboarding_complete"?r.jsxs(I,{size:"sm",variant:"outline",className:"border-green-500 text-green-400 cursor-not-allowed",disabled:!0,"data-testid":`button-complete-${k.prospectId}`,children:[r.jsx(Zn,{className:"w-4 h-4 mr-1"}),"Complete"]}):null:r.jsxs(I,{size:"sm",className:"bg-green-600 text-white hover:bg-green-700",onClick:()=>S.mutate(k.prospectId),disabled:S.isPending,"data-testid":`button-mark-paid-${k.prospectId}`,children:[r.jsx(zr,{className:"w-4 h-4 mr-1"}),"Mark Paid"]}),k.isActive&&!k.welcomeEmailSent&&r.jsxs(Or,{children:[r.jsx(Er,{asChild:!0,children:r.jsx(I,{variant:"outline",size:"sm",className:"border-zinc-700 text-gray-300 hover:bg-zinc-800",onClick:()=>b.mutate(k.prospectId),disabled:b.isPending,"data-testid":`button-send-welcome-${k.prospectId}`,children:r.jsx(Ns,{className:"w-4 h-4"})})}),r.jsx(Sr,{children:r.jsx("p",{children:"Send Welcome Email"})})]}),k.onboardingToken&&r.jsxs(Or,{children:[r.jsx(Er,{asChild:!0,children:r.jsx(I,{variant:"outline",size:"sm",className:"border-zinc-700 text-gray-300 hover:bg-zinc-800",onClick:()=>C(`${window.location.origin}/onboarding?token=${k.onboardingToken}`,`onb-${k.prospectId}`),"data-testid":`button-copy-onboarding-${k.prospectId}`,children:o===`onb-${k.prospectId}`?r.jsx(Zn,{className:"w-4 h-4"}):r.jsx(tj,{className:"w-4 h-4"})})}),r.jsx(Sr,{children:r.jsx("p",{children:"Copy Onboarding Link"})})]}),r.jsxs(Or,{children:[r.jsx(Er,{asChild:!0,children:r.jsx(I,{variant:"ghost",size:"sm",className:"text-red-400 hover:text-red-300 hover:bg-red-950",onClick:()=>{confirm("Are you sure you want to delete this prospect?")&&w.mutate(k.prospectId)},"data-testid":`button-delete-${k.prospectId}`,children:r.jsx(es,{className:"w-4 h-4"})})}),r.jsx(Sr,{children:r.jsx("p",{children:"Delete Prospect"})})]})]})})})]},k.id))})]})})]})]})})}const W_={"Standard Sales Split":[{roleType:"agent",percentage:60},{roleType:"sales_manager",percentage:25},{roleType:"partner",percentage:15}],"High Performer Split":[{roleType:"agent",percentage:70},{roleType:"sales_manager",percentage:20},{roleType:"company",percentage:10}],"Team Leader Split":[{roleType:"agent",percentage:50},{roleType:"sales_manager",percentage:30},{roleType:"partner",percentage:15},{roleType:"association",percentage:5}]};function H_(){const{toast:e}=pt(),t=_t(),[n,s]=g.useState([]),[a,i]=g.useState({name:"",description:"",type:"manual",merchantIds:[],assignments:[],month:"2025-05"}),{data:o}=ve({queryKey:["/api/assignments/merchants"],queryFn:()=>Te("/api/assignments/merchants")}),{data:l}=ve({queryKey:["/api/roles"],queryFn:()=>Te("/api/roles")}),{data:c}=ve({queryKey:["/api/bulk-assignments/unassigned",a.month],queryFn:()=>Te(`/api/bulk-assignments/unassigned?month=${a.month}`)}),{data:d}=ve({queryKey:["/api/processors"],queryFn:()=>Te("/api/processors")}),u=o||[],m=l||[],p=d||[],f=c||{totalUnassigned:0,unassignedRevenue:0,byProcessor:[]},x=Oe({mutationFn:k=>Te("/api/bulk-assignments/execute","POST"),onSuccess:k=>{t.invalidateQueries({queryKey:["/api/assignments"]}),t.invalidateQueries({queryKey:["/api/bulk-assignments/unassigned"]}),e({title:"Bulk Assignment Complete",description:`Successfully assigned ${k.assignedCount} merchants`}),i({name:"",description:"",type:"manual",merchantIds:[],assignments:[],month:"2025-05"}),s([])},onError:k=>{e({title:"Assignment Failed",description:k.message||"Failed to execute bulk assignment",variant:"destructive"})}});Oe({mutationFn:k=>Te("/api/bulk-assignments/smart","POST"),onSuccess:k=>{t.invalidateQueries({queryKey:["/api/assignments"]}),t.invalidateQueries({queryKey:["/api/bulk-assignments/unassigned"]}),e({title:"Smart Assignment Complete",description:`Processed ${k.merchantsProcessed} merchants, assigned ${k.assignedCount}`})}});const h=(k,O)=>{s(O?[...n,k]:n.filter(M=>M!==k))},y=k=>{s(k?u.map(O=>O.id):[])},v=()=>{i({...a,assignments:[...a.assignments,{roleId:0,roleName:"",percentage:0}]})},b=(k,O,M)=>{const P=[...a.assignments];if(O==="roleId"){const _=m.find(E=>E.id===parseInt(M));P[k]={...P[k],roleId:parseInt(M),roleName:(_==null?void 0:_.name)||""}}else P[k]={...P[k],[O]:M};i({...a,assignments:P})},w=k=>{i({...a,assignments:a.assignments.filter((O,M)=>M!==k)})},S=k=>{const M=W_[k].map(P=>{const _=m.find(E=>E.type===P.roleType);return{roleId:(_==null?void 0:_.id)||0,roleName:(_==null?void 0:_.name)||"",percentage:P.percentage}}).filter(P=>P.roleId>0);i({...a,assignments:M})},N=()=>a.assignments.reduce((k,O)=>k+O.percentage,0),j=()=>N()===100&&a.assignments.length>0&&a.assignments.every(O=>O.roleId>0&&O.percentage>0),C=()=>{const k={...a,merchantIds:a.type==="manual"?n:[]};x.mutate([k])},A=u.filter(k=>!0);return r.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-black mb-2",children:"Bulk Assignment Tools"}),r.jsx("p",{className:"text-gray-600",children:"Efficiently assign commission splits to multiple merchants"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[r.jsx(U,{children:r.jsx(B,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(cr,{className:"h-4 w-4 text-orange-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Unassigned"}),r.jsx("p",{className:"text-2xl font-bold",children:f.totalUnassigned})]})]})})}),r.jsx(U,{children:r.jsx(B,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Qr,{className:"h-4 w-4 text-red-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Lost Revenue"}),r.jsxs("p",{className:"text-2xl font-bold",children:["$",f.unassignedRevenue.toFixed(2)]})]})]})})}),r.jsx(U,{children:r.jsx(B,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(qe,{className:"h-4 w-4 text-green-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Selected"}),r.jsx("p",{className:"text-2xl font-bold",children:n.length})]})]})})}),r.jsx(U,{children:r.jsx(B,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Xa,{className:"h-4 w-4 text-blue-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Merchants"}),r.jsx("p",{className:"text-2xl font-bold",children:u.length})]})]})})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsxs(ns,{defaultValue:"manual",className:"w-full",children:[r.jsxs(Un,{className:"grid w-full grid-cols-4",children:[r.jsx(ot,{value:"manual",children:"Manual Select"}),r.jsx(ot,{value:"smart",children:"Smart Rules"}),r.jsx(ot,{value:"processor",children:"By Processor"}),r.jsx(ot,{value:"templates",children:"Templates"})]}),r.jsx(lt,{value:"manual",className:"space-y-6",children:r.jsxs(U,{children:[r.jsx(X,{children:r.jsxs(J,{className:"flex items-center gap-2",children:[r.jsx(St,{className:"h-5 w-5"}),"Manual Selection"]})}),r.jsx(B,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(xa,{checked:n.length===u.length,onCheckedChange:y}),r.jsxs(K,{children:["Select All Merchants (",u.length,")"]}),r.jsx("div",{className:"ml-auto",children:r.jsx(ee,{placeholder:"Search merchants...",className:"w-64"})})]}),r.jsx("div",{className:"max-h-64 overflow-y-auto border rounded-lg",children:r.jsxs(_r,{children:[r.jsx(Tr,{children:r.jsxs(Ze,{children:[r.jsx(be,{className:"w-12"}),r.jsx(be,{children:"Merchant"}),r.jsx(be,{children:"Processor"}),r.jsx(be,{children:"Revenue"})]})}),r.jsx(Mr,{children:A.slice(0,50).map(k=>r.jsxs(Ze,{children:[r.jsx(de,{children:r.jsx(xa,{checked:n.includes(k.id),onCheckedChange:O=>h(k.id,O)})}),r.jsx(de,{children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:k.legalName}),r.jsx("div",{className:"text-sm text-gray-600",children:k.mid})]})}),r.jsx(de,{children:k.currentProcessor}),r.jsxs(de,{children:["$",parseFloat(k.totalRevenue||"0").toFixed(2)]})]},k.id))})]})})]})})]})}),r.jsx(lt,{value:"smart",className:"space-y-6",children:r.jsxs(U,{children:[r.jsx(X,{children:r.jsxs(J,{className:"flex items-center gap-2",children:[r.jsx(wo,{className:"h-5 w-5"}),"Smart Assignment Rules"]})}),r.jsx(B,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(K,{children:"Revenue Range (Optional)"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(ee,{placeholder:"Min $",type:"number"}),r.jsx(ee,{placeholder:"Max $",type:"number"})]})]}),r.jsxs("div",{children:[r.jsx(K,{children:"Processor Filter"}),r.jsxs(ze,{children:[r.jsx(Re,{children:r.jsx(Fe,{placeholder:"All processors"})}),r.jsxs($e,{children:[r.jsx(Y,{value:"all",children:"All Processors"}),p.map(k=>r.jsx(Y,{value:k.id.toString(),children:k.name},k.id))]})]})]})]}),r.jsx("div",{className:"text-sm text-gray-600 bg-blue-50 p-3 rounded-lg",children:"Smart rules will automatically assign commission splits based on your criteria. Merchants matching the conditions will be processed automatically."})]})})]})}),r.jsx(lt,{value:"processor",className:"space-y-6",children:r.jsxs(U,{children:[r.jsx(X,{children:r.jsxs(J,{className:"flex items-center gap-2",children:[r.jsx(vr,{className:"h-5 w-5"}),"Assign by Processor"]})}),r.jsx(B,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(K,{children:"Select Processor"}),r.jsxs(ze,{children:[r.jsx(Re,{children:r.jsx(Fe,{placeholder:"Choose processor"})}),r.jsx($e,{children:p.map(k=>r.jsx(Y,{value:k.id.toString(),children:k.name},k.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{children:"Unassigned by Processor"}),f.byProcessor.map(k=>r.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[r.jsx("span",{className:"text-sm",children:k.processorName}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-sm font-medium",children:[k.count," merchants"]}),r.jsxs("div",{className:"text-xs text-gray-600",children:["$",k.revenue.toFixed(2)]})]})]},k.processorName))]})]})})]})}),r.jsx(lt,{value:"templates",className:"space-y-6",children:r.jsxs(U,{children:[r.jsx(X,{children:r.jsxs(J,{className:"flex items-center gap-2",children:[r.jsx(Jn,{className:"h-5 w-5"}),"Assignment Templates"]})}),r.jsx(B,{children:r.jsx("div",{className:"space-y-4",children:Object.entries(W_).map(([k,O])=>r.jsx("div",{className:"p-4 border rounded-lg",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:k}),r.jsx("div",{className:"text-sm text-gray-600 mt-1",children:O.map(M=>`${M.roleType}: ${M.percentage}%`).join("  ")})]}),r.jsx(I,{size:"sm",onClick:()=>S(k),variant:"outline",children:"Apply"})]})},k))})})]})})]})}),r.jsx("div",{children:r.jsxs(U,{children:[r.jsx(X,{children:r.jsx(J,{children:"Commission Structure"})}),r.jsxs(B,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(K,{htmlFor:"month",children:"Assignment Month"}),r.jsxs(ze,{value:a.month,onValueChange:k=>i({...a,month:k}),children:[r.jsx(Re,{children:r.jsx(Fe,{})}),r.jsxs($e,{children:[r.jsx(Y,{value:"2025-05",children:"May 2025"}),r.jsx(Y,{value:"2025-04",children:"April 2025"}),r.jsx(Y,{value:"2025-03",children:"March 2025"})]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx(K,{children:"Role Assignments"}),r.jsx(I,{size:"sm",onClick:v,variant:"outline",children:"Add Role"})]}),a.assignments.map((k,O)=>r.jsxs("div",{className:"p-3 border rounded-lg space-y-2",children:[r.jsxs(ze,{value:k.roleId.toString(),onValueChange:M=>b(O,"roleId",M),children:[r.jsx(Re,{children:r.jsx(Fe,{placeholder:"Select role"})}),r.jsx($e,{children:m.map(M=>r.jsxs(Y,{value:M.id.toString(),children:[M.name," (",M.type,")"]},M.id))})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(ee,{type:"number",placeholder:"Percentage",value:k.percentage,onChange:M=>b(O,"percentage",parseFloat(M.target.value)||0),className:"flex-1"}),r.jsx(I,{size:"sm",variant:"outline",onClick:()=>w(O),children:"Remove"})]})]},O)),r.jsxs("div",{className:`text-center p-2 rounded ${N()===100?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:["Total: ",N(),"% ",N()===100?"":""]})]}),r.jsx(I,{onClick:C,disabled:!j()||x.isPending,className:"w-full bg-yellow-500 hover:bg-yellow-600 text-black",children:x.isPending?r.jsxs(r.Fragment,{children:[r.jsx(Ai,{className:"h-4 w-4 mr-2"}),"Processing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(ej,{className:"h-4 w-4 mr-2"}),"Execute Assignment"]})})]})]})})]})]})}const K_="org-86f76df1";function G_(){const[e,t]=g.useState(!1),[n,s]=g.useState(null),{toast:a}=pt(),i=_t(),{data:o,isLoading:l}=ve({queryKey:["/api/iso-ai/reps"],queryFn:async()=>{const x=await fetch(`/api/iso-ai/reps?organizationId=${K_}`);if(!x.ok)throw new Error("Failed to fetch reps");return x.json()}}),c=Oe({mutationFn:async x=>{const h=await fetch("/api/iso-ai/reps",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...x,organizationId:K_})});if(!h.ok)throw new Error("Failed to create rep");return h.json()},onSuccess:()=>{i.invalidateQueries({queryKey:["/api/iso-ai/reps"]}),t(!1),a({title:"Rep Created",description:"New rep has been added successfully."})},onError:x=>{a({title:"Error",description:x.message,variant:"destructive"})}}),d=Oe({mutationFn:async({id:x,...h})=>{const y=await fetch(`/api/iso-ai/reps/${x}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)});if(!y.ok)throw new Error("Failed to update rep");return y.json()},onSuccess:()=>{i.invalidateQueries({queryKey:["/api/iso-ai/reps"]}),s(null),a({title:"Rep Updated",description:"Rep information has been updated successfully."})}}),u=Oe({mutationFn:async x=>{const h=await fetch(`/api/iso-ai/reps/${x}`,{method:"DELETE"});if(!h.ok)throw new Error("Failed to delete rep");return h.json()},onSuccess:()=>{i.invalidateQueries({queryKey:["/api/iso-ai/reps"]}),a({title:"Rep Deactivated",description:"Rep has been deactivated successfully."})}}),m=(o==null?void 0:o.reps)||[],p=x=>{x.preventDefault();const h=new FormData(x.currentTarget),y={firstName:h.get("firstName"),lastName:h.get("lastName"),email:h.get("email"),role:h.get("role")};n?d.mutate({id:n.id,...y}):c.mutate(y)},f=x=>{switch(x){case"SuperAdmin":return"destructive";case"Admin":return"destructive";case"Manager":return"default";case"Team Leaders":return"secondary";case"Users/Reps":return"outline";case"Team Member":return"outline";case"Partners":return"secondary";default:return"outline"}};return r.jsx("div",{className:"min-h-screen bg-[#0a0a0f] py-8 px-4",children:r.jsxs("div",{className:"container mx-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-white",children:"Rep Management"}),r.jsx("p",{className:"text-gray-400 mt-2",children:"Manage your reps and their roles"})]}),r.jsxs(jt,{open:e||!!n,onOpenChange:x=>{t(x),x||s(null)},children:[r.jsx(pn,{asChild:!0,children:r.jsxs(I,{className:"bg-yellow-400 hover:bg-yellow-500 text-black font-semibold",onClick:()=>t(!0),children:[r.jsx(Zw,{className:"h-4 w-4 mr-2"}),"Add Rep"]})}),r.jsxs(yt,{className:"bg-zinc-900 border-yellow-400/20",children:[r.jsxs(vt,{children:[r.jsx(bt,{className:"text-white",children:n?"Edit Rep":"Add New Rep"}),r.jsx(jn,{className:"text-gray-400",children:n?"Update rep information":"Add a new rep to your organization"})]}),r.jsxs("form",{onSubmit:p,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(K,{htmlFor:"firstName",className:"text-gray-300",children:"First Name"}),r.jsx(ee,{id:"firstName",name:"firstName",defaultValue:n==null?void 0:n.firstName,required:!0,className:"bg-zinc-800 border-yellow-400/30 text-white"})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"lastName",className:"text-gray-300",children:"Last Name"}),r.jsx(ee,{id:"lastName",name:"lastName",defaultValue:n==null?void 0:n.lastName,required:!0,className:"bg-zinc-800 border-yellow-400/30 text-white"})]})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"email",className:"text-gray-300",children:"Email"}),r.jsx(ee,{id:"email",name:"email",type:"email",defaultValue:n==null?void 0:n.email,className:"bg-zinc-800 border-yellow-400/30 text-white"})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"role",className:"text-gray-300",children:"Role"}),r.jsxs(ze,{name:"role",defaultValue:(n==null?void 0:n.role)||"Users/Reps",children:[r.jsx(Re,{className:"bg-zinc-800 border-yellow-400/30 text-white",children:r.jsx(Fe,{placeholder:"Select a role"})}),r.jsxs($e,{className:"bg-zinc-800 border-yellow-400/30",children:[r.jsx(Y,{value:"SuperAdmin",children:"SuperAdmin"}),r.jsx(Y,{value:"Admin",children:"Admin"}),r.jsx(Y,{value:"Manager",children:"Manager"}),r.jsx(Y,{value:"Team Leaders",children:"Team Leaders"}),r.jsx(Y,{value:"Users/Reps",children:"Users/Reps"}),r.jsx(Y,{value:"Team Member",children:"Team Member"}),r.jsx(Y,{value:"Partners",children:"Partners"})]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t border-yellow-400/20",children:[r.jsx(I,{type:"button",variant:"outline",onClick:()=>{t(!1),s(null)},className:"border-gray-600 text-gray-300 hover:bg-zinc-700",children:"Cancel"}),r.jsxs(I,{type:"submit",className:"bg-yellow-400 hover:bg-yellow-500 text-black",disabled:c.isPending||d.isPending,children:[n?"Update":"Create"," Rep"]})]})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:[r.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(J,{className:"text-sm font-medium text-gray-300",children:"Total Reps"}),r.jsx(St,{className:"h-4 w-4 text-yellow-400"})]}),r.jsxs(B,{children:[r.jsx("div",{className:"text-2xl font-bold text-white",children:m.length}),r.jsx("p",{className:"text-xs text-gray-400",children:"Active sales reps"})]})]}),r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:[r.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(J,{className:"text-sm font-medium text-gray-300",children:"Active Reps"}),r.jsx(zd,{className:"h-4 w-4 text-green-400"})]}),r.jsxs(B,{children:[r.jsx("div",{className:"text-2xl font-bold text-white",children:m.filter(x=>x.isActive).length}),r.jsx("p",{className:"text-xs text-gray-400",children:"Currently active"})]})]}),r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:[r.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(J,{className:"text-sm font-medium text-gray-300",children:"Roles"}),r.jsx(ht,{className:"h-4 w-4 text-blue-400"})]}),r.jsxs(B,{children:[r.jsx("div",{className:"text-2xl font-bold text-white",children:"7"}),r.jsx("p",{className:"text-xs text-gray-400",children:"Available role types"})]})]})]}),r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:[r.jsxs(X,{children:[r.jsx(J,{className:"text-white",children:"Reps"}),r.jsx(tt,{className:"text-gray-400",children:"Manage all reps in your organization"})]}),r.jsxs(B,{children:[l?r.jsx("div",{className:"flex justify-center py-8",children:r.jsx("div",{className:"text-gray-400",children:"Loading reps..."})}):r.jsxs(_r,{children:[r.jsx(Tr,{children:r.jsxs(Ze,{className:"border-yellow-400/20 hover:bg-zinc-800/50",children:[r.jsx(be,{className:"text-gray-300",children:"Name"}),r.jsx(be,{className:"text-gray-300",children:"Email"}),r.jsx(be,{className:"text-gray-300",children:"Role"}),r.jsx(be,{className:"text-gray-300",children:"Status"}),r.jsx(be,{className:"text-gray-300",children:"Merchants"}),r.jsx(be,{className:"text-gray-300",children:"Actions"})]})}),r.jsx(Mr,{children:m.map(x=>r.jsxs(Ze,{className:"border-yellow-400/20 hover:bg-zinc-800/50",children:[r.jsxs(de,{className:"font-medium text-white",children:[x.firstName," ",x.lastName]}),r.jsx(de,{className:"text-gray-300",children:x.email||""}),r.jsx(de,{children:r.jsx(oe,{variant:f(x.role),children:x.role})}),r.jsx(de,{children:r.jsx(oe,{variant:x.isActive?"default":"secondary",children:x.isActive?"Active":"Inactive"})}),r.jsx(de,{className:"text-gray-300",children:x.merchantCount||0}),r.jsx(de,{children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(I,{variant:"outline",size:"sm",onClick:()=>s(x),className:"border-gray-600 text-gray-300 hover:bg-zinc-700",children:r.jsx(Ql,{className:"h-3 w-3"})}),r.jsx(I,{variant:"outline",size:"sm",onClick:()=>u.mutate(x.id),disabled:u.isPending,className:"border-gray-600 text-gray-300 hover:bg-zinc-700",children:r.jsx(es,{className:"h-3 w-3"})})]})})]},x.id))})]}),!l&&m.length===0&&r.jsxs("div",{className:"text-center py-8",children:[r.jsx(St,{className:"h-12 w-12 text-gray-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No reps found"}),r.jsx("p",{className:"text-gray-400 mb-4",children:"Get started by adding your first rep"}),r.jsxs(I,{className:"bg-yellow-400 hover:bg-yellow-500 text-black",onClick:()=>t(!0),children:[r.jsx(Zw,{className:"h-4 w-4 mr-2"}),"Add First Rep"]})]})]})]})]})})}function Y_(){const[e,t]=g.useState("all"),[n,s]=g.useState(""),[a,i]=g.useState(null),[o,l]=g.useState(!1),[c,d]=g.useState({}),{toast:u}=pt(),m=_t(),{data:p=[],isLoading:f}=ve({queryKey:["/api/vendors"],queryFn:()=>Te("/api/vendors")}),x=Oe({mutationFn:async A=>A.id?Te(`/api/vendors/${A.id}`,{method:"PUT",body:JSON.stringify(A)}):Te("/api/vendors",{method:"POST",body:JSON.stringify(A)}),onSuccess:()=>{m.invalidateQueries({queryKey:["/api/vendors"]}),l(!1),d({}),u({title:"Success",description:a?"Vendor updated successfully":"Vendor created successfully"})},onError:()=>{u({title:"Error",description:"Failed to save vendor",variant:"destructive"})}}),h=Oe({mutationFn:async A=>Te(`/api/vendors/${A}`,{method:"DELETE"}),onSuccess:()=>{m.invalidateQueries({queryKey:["/api/vendors"]}),u({title:"Success",description:"Vendor deleted successfully"})},onError:()=>{u({title:"Error",description:"Failed to delete vendor",variant:"destructive"})}}),y=A=>{switch(A){case"Processors":return Yt;case"Gateways":return ja;case"Hardware/Equipment":return Fq;case"Internal":return vr;default:return Yt}},v=A=>{switch(A){case"active":return"bg-green-500/20 text-green-400 border-green-500/30";case"inactive":return"bg-red-500/20 text-red-400 border-red-500/30";case"pending":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}},b=p.filter(A=>{var M,P,_,E;const k=e==="all"||A.category===e,O=((P=(M=A==null?void 0:A.name)==null?void 0:M.toLowerCase())==null?void 0:P.includes(n.toLowerCase()))||((E=(_=A==null?void 0:A.description)==null?void 0:_.toLowerCase())==null?void 0:E.includes(n.toLowerCase()));return k&&O}),w=A=>{i(A),d(A),l(!0)},S=()=>{i(null),d({category:"Processors",status:"active"}),l(!0)},N=()=>{x.mutate(c)},j=A=>{confirm("Are you sure you want to delete this vendor? This action cannot be undone.")&&h.mutate(A)},C=["all","Processors","Gateways","Hardware/Equipment","Internal"];return r.jsx("div",{className:"min-h-screen bg-[#0a0a0f]",children:r.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Vendor Management"}),r.jsx("p",{className:"text-gray-400",children:"Manage payment processors, gateways, hardware vendors, and internal systems"})]}),r.jsxs(I,{onClick:S,className:"bg-yellow-400 hover:bg-yellow-500 text-black",children:[r.jsx(ir,{className:"h-4 w-4 mr-2"}),"Add Vendor"]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-6",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(js,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(ee,{placeholder:"Search vendors...",value:n,onChange:A=>s(A.target.value),className:"pl-10 bg-zinc-800 border-yellow-400/30 text-white"})]})}),r.jsxs(ze,{value:e,onValueChange:t,children:[r.jsxs(Re,{className:"w-full sm:w-48 bg-zinc-800 border-yellow-400/30 text-white",children:[r.jsx(P0,{className:"h-4 w-4 mr-2"}),r.jsx(Fe,{})]}),r.jsx($e,{className:"bg-zinc-800 border-yellow-400/30",children:C.map(A=>r.jsx(Y,{value:A,children:A==="all"?"All Categories":A},A))})]})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:f?Array.from({length:8}).map((A,k)=>r.jsxs(U,{className:"animate-pulse bg-zinc-900/80 border-yellow-400/20",children:[r.jsxs(X,{className:"pb-3",children:[r.jsx("div",{className:"h-4 bg-zinc-700 rounded w-3/4"}),r.jsx("div",{className:"h-3 bg-zinc-700 rounded w-1/2"})]}),r.jsxs(B,{children:[r.jsx("div",{className:"h-16 bg-zinc-700 rounded mb-3"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"h-3 bg-zinc-700 rounded"}),r.jsx("div",{className:"h-3 bg-zinc-700 rounded w-2/3"})]})]})]},k)):b.length===0?r.jsxs("div",{className:"col-span-full text-center py-12",children:[r.jsx(ja,{className:"h-16 w-16 text-gray-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No vendors found"}),r.jsx("p",{className:"text-gray-400 mb-4",children:n||e!=="all"?"Try adjusting your search or filter criteria":"Get started by adding your first vendor"}),!n&&e==="all"&&r.jsxs(I,{onClick:S,className:"bg-yellow-400 hover:bg-yellow-500 text-black",children:[r.jsx(ir,{className:"h-4 w-4 mr-2"}),"Add First Vendor"]})]}):b.map(A=>{const k=y(A.category);return r.jsxs(U,{className:"bg-zinc-900/80 border border-yellow-400/20 hover:border-yellow-400/40 transition-all",children:[r.jsx(X,{className:"pb-3",children:r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"p-2 bg-zinc-800 rounded-lg border border-yellow-400/30",children:[A.logoUrl?r.jsx("img",{src:A.logoUrl,alt:`${A.name} logo`,className:"h-8 w-8 object-contain",onError:O=>{var P;const M=O.target;M.style.display="none",(P=M.nextElementSibling)==null||P.classList.remove("hidden")}}):null,r.jsx(k,{className:`h-5 w-5 text-yellow-400 ${A.logoUrl?"hidden":""}`})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx(J,{className:"text-sm text-white truncate",children:A.name}),r.jsx("div",{className:"flex items-center gap-2 mt-1",children:r.jsx(oe,{className:`text-xs ${v(A.status)}`,children:A.status})})]})]})})}),r.jsxs(B,{children:[r.jsx("p",{className:"text-xs text-gray-400 mb-3 line-clamp-2",children:A.description}),r.jsxs("div",{className:"space-y-2 text-xs mb-4",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-500",children:"Category:"}),r.jsx("span",{className:"font-medium text-white",children:A.category})]}),A.contactEmail&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-500",children:"Contact:"}),r.jsx("span",{className:"font-medium text-white truncate",children:A.contactEmail})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-500",children:"Updated:"}),r.jsx("span",{className:"font-medium text-white",children:A.lastUpdated})]})]}),r.jsxs("div",{className:"flex gap-2",children:[A.loginUrl&&r.jsxs(I,{size:"sm",variant:"outline",onClick:()=>window.open(A.loginUrl,"_blank"),className:"flex-1 border-gray-600 text-gray-300 hover:bg-zinc-700",children:[r.jsx(mn,{className:"h-3 w-3 mr-1"}),"Login"]}),r.jsx(I,{size:"sm",variant:"outline",onClick:()=>w(A),className:"border-gray-600 text-gray-300 hover:bg-zinc-700",children:r.jsx(Qq,{className:"h-3 w-3"})}),r.jsx(I,{size:"sm",variant:"outline",onClick:()=>j(A.id),className:"border-gray-600 text-red-400 hover:bg-red-500/20",children:r.jsx(es,{className:"h-3 w-3"})})]})]})]},A.id)})}),r.jsx(jt,{open:o,onOpenChange:l,children:r.jsxs(yt,{className:"sm:max-w-[500px] bg-zinc-900 border-yellow-400/20",children:[r.jsxs(vt,{children:[r.jsx(bt,{className:"text-white",children:a?"Edit Vendor":"Add New Vendor"}),r.jsx(jn,{className:"text-gray-400",children:a?"Update vendor information and settings":"Add a new vendor to the system"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(K,{htmlFor:"name",className:"text-gray-300",children:"Vendor Name"}),r.jsx(ee,{id:"name",value:c.name||"",onChange:A=>d({...c,name:A.target.value}),placeholder:"Enter vendor name",className:"bg-zinc-800 border-yellow-400/30 text-white"})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"category",className:"text-gray-300",children:"Category"}),r.jsxs(ze,{value:c.category||"Processors",onValueChange:A=>d({...c,category:A}),children:[r.jsx(Re,{className:"bg-zinc-800 border-yellow-400/30 text-white",children:r.jsx(Fe,{})}),r.jsxs($e,{className:"bg-zinc-800 border-yellow-400/30",children:[r.jsx(Y,{value:"Processors",children:"Processors"}),r.jsx(Y,{value:"Gateways",children:"Gateways"}),r.jsx(Y,{value:"Hardware/Equipment",children:"Hardware/Equipment"}),r.jsx(Y,{value:"Internal",children:"Internal"})]})]})]})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"description",className:"text-gray-300",children:"Description"}),r.jsx(ee,{id:"description",value:c.description||"",onChange:A=>d({...c,description:A.target.value}),placeholder:"Brief description of the vendor",className:"bg-zinc-800 border-yellow-400/30 text-white"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(K,{htmlFor:"loginUrl",className:"text-gray-300",children:"Login URL"}),r.jsx(ee,{id:"loginUrl",value:c.loginUrl||"",onChange:A=>d({...c,loginUrl:A.target.value}),placeholder:"https://...",className:"bg-zinc-800 border-yellow-400/30 text-white"})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"status",className:"text-gray-300",children:"Status"}),r.jsxs(ze,{value:c.status||"active",onValueChange:A=>d({...c,status:A}),children:[r.jsx(Re,{className:"bg-zinc-800 border-yellow-400/30 text-white",children:r.jsx(Fe,{})}),r.jsxs($e,{className:"bg-zinc-800 border-yellow-400/30",children:[r.jsx(Y,{value:"active",children:"Active"}),r.jsx(Y,{value:"inactive",children:"Inactive"}),r.jsx(Y,{value:"pending",children:"Pending"})]})]})]})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"contactEmail",className:"text-gray-300",children:"Contact Email"}),r.jsx(ee,{id:"contactEmail",type:"email",value:c.contactEmail||"",onChange:A=>d({...c,contactEmail:A.target.value}),placeholder:"contact@vendor.com",className:"bg-zinc-800 border-yellow-400/30 text-white"})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"integrationNotes",className:"text-gray-300",children:"Integration Notes"}),r.jsx(ee,{id:"integrationNotes",value:c.integrationNotes||"",onChange:A=>d({...c,integrationNotes:A.target.value}),placeholder:"Special integration requirements or notes",className:"bg-zinc-800 border-yellow-400/30 text-white"})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-4 border-t border-yellow-400/20",children:[r.jsx(I,{variant:"outline",onClick:()=>l(!1),className:"border-gray-600 text-gray-300 hover:bg-zinc-700",children:"Cancel"}),r.jsx(I,{onClick:N,disabled:x.isPending||!c.name,className:"bg-yellow-400 hover:bg-yellow-500 text-black",children:x.isPending?"Saving...":a?"Update":"Create"})]})]})})]})})}function Q_(){const{toast:e}=pt(),t=_t(),[n,s]=g.useState(null),{data:a=[],isLoading:i}=ve({queryKey:["/api/billing/records"],queryFn:async()=>[{id:"bill-1",agencyId:"agency-1",agencyName:"T Rex Motors",planType:"professional",billingCycle:"monthly",amount:299,status:"active",nextBillingDate:"2025-08-21",lastPaymentDate:"2025-07-21",paymentMethod:"Visa **** 1234",transactionId:"txn_abc123"},{id:"bill-2",agencyId:"agency-2",agencyName:"Kailey Kean Tutoring",planType:"starter",billingCycle:"monthly",amount:99,status:"past_due",nextBillingDate:"2025-07-15",lastPaymentDate:"2025-06-15",paymentMethod:"MasterCard **** 5678",transactionId:"txn_def456"},{id:"bill-3",agencyId:"agency-3",agencyName:"100 Cups Academy",planType:"enterprise",billingCycle:"annual",amount:2999,status:"active",nextBillingDate:"2026-01-15",lastPaymentDate:"2025-01-15",paymentMethod:"Visa **** 9012",transactionId:"txn_ghi789"}]}),{data:o=[]}=ve({queryKey:["/api/billing/transactions"],queryFn:async()=>[{id:"txn_abc123",amount:299,status:"approved",transactionType:"sale",cardType:"Visa",lastFour:"1234",timestamp:"2025-07-21T10:30:00Z"},{id:"txn_def456",amount:99,status:"declined",transactionType:"sale",cardType:"MasterCard",lastFour:"5678",timestamp:"2025-07-15T14:22:00Z"}]}),l=Oe({mutationFn:async({agencyId:x,amount:h,paymentMethodId:y})=>({id:`txn_${Date.now()}`,status:"approved",amount:h,transactionType:"sale"}),onSuccess:()=>{e({title:"Payment Processed",description:"Payment has been successfully processed via Accept Blue"}),t.invalidateQueries({queryKey:["/api/billing/records"]})},onError:()=>{e({title:"Payment Failed",description:"Failed to process payment. Please try again.",variant:"destructive"})}}),c=(x,h)=>{l.mutate({agencyId:x,amount:h,paymentMethodId:"pm_mock_123"})},d=x=>{const y={active:{color:"bg-green-500/20 text-green-400 border-green-500/30",text:"Active"},past_due:{color:"bg-red-500/20 text-red-400 border-red-500/30",text:"Past Due"},cancelled:{color:"bg-gray-500/20 text-gray-400 border-gray-500/30",text:"Cancelled"},trial:{color:"bg-blue-500/20 text-blue-400 border-blue-500/30",text:"Trial"}}[x];return r.jsx(oe,{className:`${y.color}`,children:y.text})},u=x=>{const y={starter:{color:"bg-blue-500/20 text-blue-400 border-blue-500/30",text:"Starter"},professional:{color:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",text:"Professional"},enterprise:{color:"bg-purple-500/20 text-purple-400 border-purple-500/30",text:"Enterprise"}}[x];return r.jsx(oe,{className:`${y.color}`,children:y.text})},m=a.reduce((x,h)=>x+h.amount,0),p=a.filter(x=>x.status==="active").length,f=a.filter(x=>x.status==="past_due").length;return i?r.jsx("div",{className:"min-h-screen bg-[#0a0a0f] flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-400 mx-auto"}),r.jsx("p",{className:"text-gray-400 mt-4",children:"Loading billing data..."})]})}):r.jsx("div",{className:"min-h-screen bg-[#0a0a0f]",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-white",children:"Billing Management"}),r.jsx("p",{className:"text-gray-400 mt-2",children:"Manage subscription billing via Accept Blue integration"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[r.jsx(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:r.jsx(B,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Revenue"}),r.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",m.toFixed(2)]})]}),r.jsx(zr,{className:"h-8 w-8 text-green-400"})]})})}),r.jsx(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:r.jsx(B,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Active Agencies"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:p})]}),r.jsx(qe,{className:"h-8 w-8 text-green-400"})]})})}),r.jsx(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:r.jsx(B,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Past Due"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:f})]}),r.jsx(ht,{className:"h-8 w-8 text-red-400"})]})})}),r.jsx(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:r.jsx(B,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Agencies"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:a.length})]}),r.jsx(St,{className:"h-8 w-8 text-blue-400"})]})})})]}),r.jsxs(ns,{defaultValue:"billing",className:"space-y-6",children:[r.jsxs(Un,{className:"grid w-full grid-cols-3 bg-zinc-800",children:[r.jsx(ot,{value:"billing",className:"data-[state=active]:bg-yellow-400 data-[state=active]:text-black",children:"Billing Records"}),r.jsx(ot,{value:"transactions",className:"data-[state=active]:bg-yellow-400 data-[state=active]:text-black",children:"Transactions"}),r.jsx(ot,{value:"settings",className:"data-[state=active]:bg-yellow-400 data-[state=active]:text-black",children:"Accept Blue Settings"})]}),r.jsx(lt,{value:"billing",children:r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:[r.jsx(X,{children:r.jsx(J,{className:"text-white",children:"Agency Billing Records"})}),r.jsx(B,{children:r.jsx("div",{className:"space-y-4",children:a.map(x=>r.jsxs("div",{className:"flex items-center justify-between p-4 border border-yellow-400/20 rounded-lg bg-zinc-800/50",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-white",children:x.agencyName}),r.jsxs("p",{className:"text-sm text-gray-400",children:["Next billing: ",x.nextBillingDate]})]}),u(x.planType),d(x.status)]})}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"font-semibold text-white",children:["$",x.amount]}),r.jsx("p",{className:"text-sm text-gray-400",children:x.billingCycle})]}),x.status==="past_due"&&r.jsx(I,{onClick:()=>c(x.agencyId,x.amount),disabled:l.isPending,className:"bg-yellow-400 hover:bg-yellow-500 text-black",children:"Process Payment"})]})]},x.id))})})]})}),r.jsx(lt,{value:"transactions",children:r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:[r.jsx(X,{children:r.jsx(J,{className:"text-white",children:"Accept Blue Transactions"})}),r.jsx(B,{children:r.jsx("div",{className:"space-y-4",children:o.map(x=>r.jsxs("div",{className:"flex items-center justify-between p-4 border border-yellow-400/20 rounded-lg bg-zinc-800/50",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(sI,{className:"h-5 w-5 text-gray-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-white",children:x.id}),r.jsxs("p",{className:"text-sm text-gray-400",children:[x.cardType," **** ",x.lastFour]})]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(oe,{className:x.status==="approved"?"bg-green-500/20 text-green-400 border-green-500/30":x.status==="declined"?"bg-red-500/20 text-red-400 border-red-500/30":"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",children:x.status}),r.jsxs("p",{className:"font-semibold text-white",children:["$",x.amount]})]})]},x.id))})})]})}),r.jsx(lt,{value:"settings",children:r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:[r.jsx(X,{children:r.jsx(J,{className:"text-white",children:"Accept Blue Configuration"})}),r.jsxs(B,{className:"space-y-6",children:[r.jsx("div",{className:"p-4 bg-yellow-400/10 border border-yellow-400/30 rounded-lg",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(vr,{className:"h-5 w-5 text-yellow-400 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-yellow-400",children:"Production Deployment Required"}),r.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Configure Accept Blue API credentials in environment variables before deployment."})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx(K,{htmlFor:"apiKey",className:"text-gray-300",children:"API Key"}),r.jsx(ee,{id:"apiKey",placeholder:"Accept Blue API Key",type:"password",className:"mt-1 bg-zinc-800 border-yellow-400/30 text-white"})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"sourceId",className:"text-gray-300",children:"Source ID"}),r.jsx(ee,{id:"sourceId",placeholder:"Accept Blue Source ID",className:"mt-1 bg-zinc-800 border-yellow-400/30 text-white"})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"appId",className:"text-gray-300",children:"Application ID"}),r.jsx(ee,{id:"appId",placeholder:"Accept Blue Application ID",className:"mt-1 bg-zinc-800 border-yellow-400/30 text-white"})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"environment",className:"text-gray-300",children:"Environment"}),r.jsx(ee,{id:"environment",value:"Production",readOnly:!0,className:"mt-1 bg-zinc-800 border-yellow-400/30 text-gray-400"})]})]}),r.jsx(I,{className:"bg-yellow-400 hover:bg-yellow-500 text-black",children:"Save Configuration"})]})]})})]})]})})}function X_(){var v,b,w,S;const{toast:e}=pt(),[t,n]=g.useState("overview"),s={planName:"Professional Plan",planType:"professional",billingCycle:"monthly",nextBillingDate:"2025-12-21",amount:299,status:"active"},a=[{id:"inv-1",invoiceNumber:"INV-2025-001",amount:299,status:"paid",dueDate:"2025-11-21",paidDate:"2025-11-20",description:"Professional Plan - November 2025"},{id:"inv-2",invoiceNumber:"INV-2025-002",amount:299,status:"pending",dueDate:"2025-12-21",description:"Professional Plan - December 2025"},{id:"inv-3",invoiceNumber:"INV-2024-012",amount:299,status:"paid",dueDate:"2024-10-21",paidDate:"2024-10-19",description:"Professional Plan - October 2024"},{id:"inv-4",invoiceNumber:"INV-2024-011",amount:299,status:"paid",dueDate:"2024-09-21",paidDate:"2024-09-21",description:"Professional Plan - September 2024"}],i=[{id:"pm-1",type:"card",brand:"Visa",lastFour:"4242",expiryMonth:12,expiryYear:2026,isDefault:!0},{id:"pm-2",type:"card",brand:"Mastercard",lastFour:"8888",expiryMonth:6,expiryYear:2025,isDefault:!1}],{data:o,isLoading:l}=ve({queryKey:["/api/my-billing/info"],queryFn:()=>Promise.resolve(s),initialData:s}),{data:c,isLoading:d}=ve({queryKey:["/api/my-billing/invoices"],queryFn:()=>Promise.resolve(a),initialData:a}),{data:u,isLoading:m}=ve({queryKey:["/api/my-billing/payment-methods"],queryFn:()=>Promise.resolve(i),initialData:i}),p=N=>{const j={paid:{className:"bg-green-500/20 text-green-400 border-green-500/30",text:"Paid"},pending:{className:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",text:"Pending"},overdue:{className:"bg-red-500/20 text-red-400 border-red-500/30",text:"Overdue"}};return r.jsx(oe,{className:j[N].className,children:j[N].text})},f=N=>{const j={starter:{className:"bg-blue-500/20 text-blue-400 border-blue-500/30",text:"Starter"},professional:{className:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",text:"Professional"},enterprise:{className:"bg-purple-500/20 text-purple-400 border-purple-500/30",text:"Enterprise"}};return r.jsx(oe,{className:j[N].className,children:j[N].text})},x=N=>{e({title:"Invoice Download",description:"Invoice PDF is being generated..."})},h=()=>{e({title:"Add Payment Method",description:"This feature will be available soon."})},y=N=>{e({title:"Default Payment Method Updated",description:"Your default payment method has been changed."})};return l?r.jsx("div",{className:"min-h-screen bg-[#0a0a0f] flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-400 mx-auto"}),r.jsx("p",{className:"text-gray-400 mt-4",children:"Loading billing information..."})]})}):r.jsx("div",{className:"min-h-screen bg-[#0a0a0f]",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[r.jsx(fs,{items:[{label:"Billing & Invoices",href:"/my-billing",isActive:!0}]}),r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-white",children:"Billing & Invoices"}),r.jsx("p",{className:"text-gray-400 mt-2",children:"Manage your subscription, view invoices, and update payment methods"})]}),r.jsxs(ns,{value:t,onValueChange:n,className:"space-y-6",children:[r.jsxs(Un,{className:"bg-zinc-800 border border-yellow-400/20",children:[r.jsx(ot,{value:"overview",className:"data-[state=active]:bg-yellow-400 data-[state=active]:text-black",children:"Overview"}),r.jsx(ot,{value:"invoices",className:"data-[state=active]:bg-yellow-400 data-[state=active]:text-black",children:"Invoice History"}),r.jsx(ot,{value:"payment-methods",className:"data-[state=active]:bg-yellow-400 data-[state=active]:text-black",children:"Payment Methods"})]}),r.jsxs(lt,{value:"overview",className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:r.jsx(B,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Current Plan"}),r.jsx("p",{className:"text-xl font-bold text-white mt-1",children:o==null?void 0:o.planName}),r.jsx("div",{className:"mt-2",children:f((o==null?void 0:o.planType)||"professional")})]}),r.jsx(zr,{className:"h-8 w-8 text-yellow-400"})]})})}),r.jsx(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:r.jsx(B,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Next Billing Date"}),r.jsx("p",{className:"text-xl font-bold text-white mt-1",children:new Date((o==null?void 0:o.nextBillingDate)||"").toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),r.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["$",(v=o==null?void 0:o.amount)==null?void 0:v.toFixed(2),"/month"]})]}),r.jsx(qa,{className:"h-8 w-8 text-blue-400"})]})})}),r.jsx(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:r.jsx(B,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Account Status"}),r.jsx("p",{className:"text-xl font-bold text-white mt-1",children:(o==null?void 0:o.status)==="active"?"Active":(o==null?void 0:o.status)==="past_due"?"Past Due":"Cancelled"}),r.jsx(oe,{className:(o==null?void 0:o.status)==="active"?"bg-green-500/20 text-green-400 border-green-500/30 mt-2":"bg-red-500/20 text-red-400 border-red-500/30 mt-2",children:(o==null?void 0:o.status)==="active"?"Active":(o==null?void 0:o.status)==="past_due"?"Action Required":"Inactive"})]}),(o==null?void 0:o.status)==="active"?r.jsx(qe,{className:"h-8 w-8 text-green-400"}):r.jsx(ht,{className:"h-8 w-8 text-red-400"})]})})})]}),r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:[r.jsxs(X,{children:[r.jsx(J,{className:"text-white",children:"Subscription Details"}),r.jsx(tt,{className:"text-gray-400",children:"Your current subscription plan and billing cycle"})]}),r.jsxs(B,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Plan"}),r.jsx("span",{className:"text-white font-medium",children:o==null?void 0:o.planName})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Billing Cycle"}),r.jsx("span",{className:"text-white font-medium capitalize",children:o==null?void 0:o.billingCycle})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Monthly Cost"}),r.jsxs("span",{className:"text-white font-medium",children:["$",(b=o==null?void 0:o.amount)==null?void 0:b.toFixed(2)]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Next Invoice"}),r.jsx("span",{className:"text-white font-medium",children:new Date((o==null?void 0:o.nextBillingDate)||"").toLocaleDateString()})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Payment Method"}),r.jsxs("span",{className:"text-white font-medium",children:[(w=u==null?void 0:u.find(N=>N.isDefault))==null?void 0:w.brand," ****",(S=u==null?void 0:u.find(N=>N.isDefault))==null?void 0:S.lastFour]})]})]})]}),r.jsx("div",{className:"pt-4 border-t border-yellow-400/20",children:r.jsx(I,{variant:"outline",className:"border-yellow-400/30 text-yellow-400 hover:bg-yellow-400/10",children:"Upgrade Plan"})})]})]})]}),r.jsx(lt,{value:"invoices",className:"space-y-6",children:r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:[r.jsxs(X,{children:[r.jsx(J,{className:"text-white",children:"Invoice History"}),r.jsx(tt,{className:"text-gray-400",children:"View and download your past invoices"})]}),r.jsx(B,{children:r.jsx("div",{className:"space-y-4",children:c==null?void 0:c.map(N=>r.jsxs("div",{className:"flex items-center justify-between p-4 border border-yellow-400/20 rounded-lg bg-zinc-800/50 hover:bg-zinc-800 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-2 bg-zinc-700 rounded-lg",children:r.jsx(sI,{className:"h-5 w-5 text-yellow-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-white",children:N.invoiceNumber}),r.jsx("p",{className:"text-sm text-gray-400",children:N.description})]})]}),r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"font-semibold text-white",children:["$",N.amount.toFixed(2)]}),r.jsxs("p",{className:"text-sm text-gray-400",children:["Due: ",new Date(N.dueDate).toLocaleDateString()]})]}),p(N.status),r.jsx(I,{variant:"ghost",size:"icon",onClick:()=>x(N.id),className:"text-gray-400 hover:text-yellow-400",children:r.jsx(Jn,{className:"h-4 w-4"})})]})]},N.id))})})]})}),r.jsx(lt,{value:"payment-methods",className:"space-y-6",children:r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:[r.jsxs(X,{className:"flex flex-row items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(J,{className:"text-white",children:"Payment Methods"}),r.jsx(tt,{className:"text-gray-400",children:"Manage your saved payment methods"})]}),r.jsxs(I,{onClick:h,className:"bg-yellow-400 hover:bg-yellow-500 text-black",children:[r.jsx(ir,{className:"h-4 w-4 mr-2"}),"Add Payment Method"]})]}),r.jsx(B,{children:r.jsx("div",{className:"space-y-4",children:u==null?void 0:u.map(N=>r.jsxs("div",{className:"flex items-center justify-between p-4 border border-yellow-400/20 rounded-lg bg-zinc-800/50",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-2 bg-zinc-700 rounded-lg",children:r.jsx(Cu,{className:"h-5 w-5 text-yellow-400"})}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("p",{className:"font-medium text-white",children:[N.brand," ****",N.lastFour]}),N.isDefault&&r.jsx(oe,{className:"bg-green-500/20 text-green-400 border-green-500/30 text-xs",children:"Default"})]}),r.jsxs("p",{className:"text-sm text-gray-400",children:["Expires ",N.expiryMonth,"/",N.expiryYear]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[!N.isDefault&&r.jsx(I,{variant:"outline",size:"sm",onClick:()=>y(N.id),className:"border-yellow-400/30 text-yellow-400 hover:bg-yellow-400/10",children:"Set as Default"}),r.jsx(I,{variant:"ghost",size:"icon",className:"text-gray-400 hover:text-yellow-400",children:r.jsx(Ql,{className:"h-4 w-4"})}),r.jsx(I,{variant:"ghost",size:"icon",className:"text-gray-400 hover:text-red-400",disabled:N.isDefault,children:r.jsx(es,{className:"h-4 w-4"})})]})]},N.id))})})]})})]})]})})}function zCe(){const e=w0(),{toast:t}=pt(),n=e.agencyCode,s=e.fullname;console.log("PreApplicationForm rendered with params:",{agencyCode:n,fullname:s});const[a,i]=g.useState(!1),[o,l]=g.useState({name:"",company:""}),[c,d]=g.useState({businessName:"",dba:"",businessType:"",businessAddress:"",businessCity:"",businessState:"",businessZip:"",businessPhone:"",businessEmail:"",businessWebsite:"",contactName:"",contactTitle:"",contactPhone:"",contactEmail:"",yearsInBusiness:"",monthlyVolume:"",averageTicket:"",highTicket:"",currentProcessor:"",reasonForChange:"",processingNeeds:[],notes:"",agreeToTerms:!1});g.useEffect(()=>{if(s){const h=s.replace(/-/g," ").replace(/\b\w/g,y=>y.toUpperCase());l({name:h,company:(n==null?void 0:n.split("-")[0])||"ISOHub"})}},[n,s]);const u=(h,y)=>{d(v=>({...v,[h]:y}))},m=(h,y)=>{d(v=>({...v,processingNeeds:y?[...v.processingNeeds,h]:v.processingNeeds.filter(b=>b!==h)}))},p=async h=>{if(h.preventDefault(),!c.agreeToTerms){t({title:"Agreement Required",description:"Please agree to the terms and conditions to continue.",variant:"destructive"});return}i(!0);try{if((await fetch(`/api/preapplications/form-submit/${n}/${s}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...c,agencyCode:n,agentName:o.name,submittedFrom:`${n}/${s}`})})).ok)t({title:"Application Submitted",description:"Thank you! Your pre-application has been submitted successfully. We'll review it and get back to you within 24 hours."}),d({businessName:"",dba:"",businessType:"",businessAddress:"",businessCity:"",businessState:"",businessZip:"",businessPhone:"",businessEmail:"",businessWebsite:"",contactName:"",contactTitle:"",contactPhone:"",contactEmail:"",yearsInBusiness:"",monthlyVolume:"",averageTicket:"",highTicket:"",currentProcessor:"",reasonForChange:"",processingNeeds:[],notes:"",agreeToTerms:!1});else throw new Error("Submission failed")}catch(y){console.error("Form submission error:",y),t({title:"Submission Error",description:"There was an error submitting your application. Please try again.",variant:"destructive"})}finally{i(!1)}},f=["Restaurant","Retail","Professional Services","E-commerce","Healthcare","Automotive","Beauty/Salon","Fitness/Gym","Non-Profit","Manufacturing","Other"],x=["Credit Card Processing","Debit Card Processing","ACH/Bank Transfers","Online/E-commerce","Mobile Processing","Recurring Billing","Invoicing","POS System","Gift Cards","Loyalty Programs"];return r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 text-black py-6 px-8 rounded-lg shadow-lg mb-6",children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:"ISOHub Pre-Application"}),r.jsx("p",{className:"text-lg",children:"Payment Processing Solutions"})]}),o.name&&r.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:r.jsxs("p",{className:"text-gray-600",children:["Your dedicated representative: ",r.jsx("span",{className:"font-semibold text-black",children:o.name}),o.company&&` from ${o.company}`]})})]}),r.jsxs("form",{onSubmit:p,className:"space-y-8",children:[r.jsxs(U,{children:[r.jsx(X,{children:r.jsxs(J,{className:"flex items-center gap-2",children:[r.jsx(Yt,{className:"h-5 w-5 text-yellow-600"}),"Business Information"]})}),r.jsxs(B,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(K,{htmlFor:"businessName",children:"Legal Business Name *"}),r.jsx(ee,{id:"businessName",value:c.businessName,onChange:h=>u("businessName",h.target.value),required:!0})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"dba",children:"DBA (Doing Business As)"}),r.jsx(ee,{id:"dba",value:c.dba,onChange:h=>u("dba",h.target.value)})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(K,{htmlFor:"businessType",children:"Business Type *"}),r.jsxs(ze,{onValueChange:h=>u("businessType",h),children:[r.jsx(Re,{children:r.jsx(Fe,{placeholder:"Select business type"})}),r.jsx($e,{children:f.map(h=>r.jsx(Y,{value:h,children:h},h))})]})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"yearsInBusiness",children:"Years in Business *"}),r.jsx(ee,{id:"yearsInBusiness",value:c.yearsInBusiness,onChange:h=>u("yearsInBusiness",h.target.value),required:!0})]})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"businessAddress",children:"Business Address *"}),r.jsx(ee,{id:"businessAddress",value:c.businessAddress,onChange:h=>u("businessAddress",h.target.value),required:!0})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx(K,{htmlFor:"businessCity",children:"City *"}),r.jsx(ee,{id:"businessCity",value:c.businessCity,onChange:h=>u("businessCity",h.target.value),required:!0})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"businessState",children:"State *"}),r.jsx(ee,{id:"businessState",value:c.businessState,onChange:h=>u("businessState",h.target.value),required:!0})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"businessZip",children:"ZIP Code *"}),r.jsx(ee,{id:"businessZip",value:c.businessZip,onChange:h=>u("businessZip",h.target.value),required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(K,{htmlFor:"businessPhone",children:"Business Phone *"}),r.jsx(ee,{id:"businessPhone",type:"tel",value:c.businessPhone,onChange:h=>u("businessPhone",h.target.value),required:!0})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"businessEmail",children:"Business Email *"}),r.jsx(ee,{id:"businessEmail",type:"email",value:c.businessEmail,onChange:h=>u("businessEmail",h.target.value),required:!0})]})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"businessWebsite",children:"Website"}),r.jsx(ee,{id:"businessWebsite",type:"url",value:c.businessWebsite,onChange:h=>u("businessWebsite",h.target.value),placeholder:"https://"})]})]})]}),r.jsxs(U,{children:[r.jsx(X,{children:r.jsxs(J,{className:"flex items-center gap-2",children:[r.jsx(pc,{className:"h-5 w-5 text-yellow-600"}),"Primary Contact Information"]})}),r.jsxs(B,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(K,{htmlFor:"contactName",children:"Contact Name *"}),r.jsx(ee,{id:"contactName",value:c.contactName,onChange:h=>u("contactName",h.target.value),required:!0})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"contactTitle",children:"Title/Position"}),r.jsx(ee,{id:"contactTitle",value:c.contactTitle,onChange:h=>u("contactTitle",h.target.value)})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(K,{htmlFor:"contactPhone",children:"Contact Phone *"}),r.jsx(ee,{id:"contactPhone",type:"tel",value:c.contactPhone,onChange:h=>u("contactPhone",h.target.value),required:!0})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"contactEmail",children:"Contact Email *"}),r.jsx(ee,{id:"contactEmail",type:"email",value:c.contactEmail,onChange:h=>u("contactEmail",h.target.value),required:!0})]})]})]})]}),r.jsxs(U,{children:[r.jsx(X,{children:r.jsxs(J,{className:"flex items-center gap-2",children:[r.jsx(Cu,{className:"h-5 w-5 text-yellow-600"}),"Processing Information"]})}),r.jsxs(B,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx(K,{htmlFor:"monthlyVolume",children:"Monthly Volume *"}),r.jsx(ee,{id:"monthlyVolume",value:c.monthlyVolume,onChange:h=>u("monthlyVolume",h.target.value),placeholder:"$10,000",required:!0})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"averageTicket",children:"Average Ticket *"}),r.jsx(ee,{id:"averageTicket",value:c.averageTicket,onChange:h=>u("averageTicket",h.target.value),placeholder:"$50",required:!0})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"highTicket",children:"Highest Ticket"}),r.jsx(ee,{id:"highTicket",value:c.highTicket,onChange:h=>u("highTicket",h.target.value),placeholder:"$500"})]})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"currentProcessor",children:"Current Processor"}),r.jsx(ee,{id:"currentProcessor",value:c.currentProcessor,onChange:h=>u("currentProcessor",h.target.value),placeholder:"Square, Stripe, etc."})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"reasonForChange",children:"Reason for Change"}),r.jsx(Wt,{id:"reasonForChange",value:c.reasonForChange,onChange:h=>u("reasonForChange",h.target.value),placeholder:"High fees, poor service, need better features, etc."})]}),r.jsxs("div",{children:[r.jsx(K,{children:"Processing Needs (Select all that apply)"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 mt-2",children:x.map(h=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(xa,{id:h,checked:c.processingNeeds.includes(h),onCheckedChange:y=>m(h,y)}),r.jsx(K,{htmlFor:h,className:"text-sm",children:h})]},h))})]})]})]}),r.jsxs(U,{children:[r.jsx(X,{children:r.jsxs(J,{className:"flex items-center gap-2",children:[r.jsx(et,{className:"h-5 w-5 text-yellow-600"}),"Additional Information"]})}),r.jsxs(B,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(K,{htmlFor:"notes",children:"Additional Notes"}),r.jsx(Wt,{id:"notes",value:c.notes,onChange:h=>u("notes",h.target.value),placeholder:"Any additional information about your business or processing needs...",rows:4})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(xa,{id:"agreeToTerms",checked:c.agreeToTerms,onCheckedChange:h=>d(y=>({...y,agreeToTerms:h}))}),r.jsx(K,{htmlFor:"agreeToTerms",className:"text-sm",children:"I agree to the terms and conditions and authorize ISOHub to process this application and contact me regarding payment processing services."})]})]})]}),r.jsx("div",{className:"text-center",children:r.jsx(I,{type:"submit",disabled:a,className:"bg-yellow-500 hover:bg-yellow-600 text-black px-8 py-3 text-lg font-semibold",children:a?"Submitting...":"Submit Pre-Application"})})]}),r.jsxs("div",{className:"mt-12 text-center text-gray-600",children:[r.jsxs("p",{className:"mb-2",children:["Questions? Contact ",o.name||"your representative"," at support@isohub.io"]}),r.jsx("p",{className:"text-sm",children:"Your information is secure and will only be used to process your application."})]})]})})}function xm(){const e=w0(),[t,n]=g.useState(""),[s,a]=g.useState(""),[i,o]=g.useState(!0);return g.useEffect(()=>{if(console.log(" FormPage loaded!"),console.log("Current URL:",window.location.href),console.log("Current pathname:",window.location.pathname),console.log("Wouter params:",e),e.agencyCode&&e.fullname){console.log(" Using Wouter params:",e),n(e.agencyCode),a(e.fullname),o(!1);return}const l=window.location.pathname.split("/");if(console.log("Path parts:",l),l.length===2&&l[1]===""){console.log(" Root domain detected - showing default pre-application form"),o(!1);return}if(l[1]==="form"||l[1]==="form-test"){if(console.log(" Form route detected!"),l[2]==="test"||l[1]==="form-test"){console.log(" Test route confirmed!"),o(!1);return}l[2]&&l[3]&&(n(l[2]),a(l[3]),console.log(`Form route matched! Agency: ${l[2]}, Name: ${l[3]}`))}else console.log(" Not a form route, path parts:",l);o(!1)},[e]),console.log(" FormPage render - Current path:",window.location.pathname),console.log(" Loading state:",i),i?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"text-lg",children:"Loading form..."})}):window.location.pathname==="/"?null:window.location.pathname==="/form/test"||window.location.pathname==="/form-test"?r.jsx("div",{className:"min-h-screen bg-yellow-50 flex items-center justify-center",children:r.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg border-2 border-yellow-400 max-w-md text-center",children:[r.jsx("h1",{className:"text-3xl font-bold text-green-600 mb-4",children:" FORM ROUTING WORKS!"}),r.jsxs("div",{className:"text-left space-y-2 bg-gray-100 p-4 rounded",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"URL:"})," ",window.location.href]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Path:"})," ",window.location.pathname]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Component:"})," FormPage.tsx"]})]}),r.jsx("p",{className:"text-green-700 font-semibold mt-4",children:"Form routing is functioning correctly!"})]})}):t&&s?r.jsx("div",{className:"min-h-screen bg-white",children:r.jsxs("div",{className:"max-w-4xl mx-auto py-8 px-4",children:[r.jsxs("div",{className:"mb-6 text-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Pre-Application Form"}),r.jsxs("p",{className:"text-gray-600",children:["Agent: ",r.jsx("span",{className:"font-semibold",children:t})," | Contact: ",r.jsx("span",{className:"font-semibold",children:s.replace("-"," ")})]})]}),r.jsx(zCe,{})]})}):r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Form Not Found"}),r.jsx("p",{className:"text-gray-600",children:"The requested form could not be found."})]})})}function FCe({setUsername:e,setAuthToken:t,setOrganization:n}){var y,v,b,w;const[s,a]=g.useState(""),[i,o]=g.useState(""),[l,c]=g.useState(""),[d,u]=g.useState(!1),{data:m}=ve({queryKey:["/api/sso/status"],retry:!1});g.useEffect(()=>{const S=new URLSearchParams(window.location.search),N=S.get("error"),j=S.get("message");N&&c(`SSO Error: ${j||N}`)},[]);const p=()=>{window.location.href="/api/sso/google"},f=()=>{window.location.href="/api/sso/microsoft"},x=async S=>{S.preventDefault(),u(!0),c("");try{console.log("Starting login process...");const N=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:s,password:i})});if(!N.ok){const C=await N.json();throw new Error(C.error||"Login failed")}const j=await N.json();localStorage.setItem("authToken",j.token),localStorage.setItem("username",s),localStorage.setItem("organizationID",j.organizationID||"org-86f76df1"),t(j.token),e(s),n(j.organizationID||"org-86f76df1"),window.location.href="/dashboard"}catch(N){console.error("Login failed:",N),c(`Login failed: ${N.message}`)}finally{u(!1)}},h=((y=m==null?void 0:m.google)==null?void 0:y.configured)||((v=m==null?void 0:m.microsoft)==null?void 0:v.configured);return r.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center p-4",children:r.jsxs("div",{className:"w-full max-w-md bg-zinc-900 border border-yellow-400/20 rounded-lg p-6",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("img",{src:"/isohub-logo.png",alt:"ISOHub Logo",className:"h-16 mx-auto mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-yellow-400",children:"Login"})]}),h&&r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"space-y-3",children:[((b=m==null?void 0:m.google)==null?void 0:b.configured)&&r.jsxs("button",{type:"button",onClick:p,className:"w-full bg-white hover:bg-gray-100 text-gray-800 border border-gray-300 py-3 px-4 rounded font-medium flex items-center justify-center gap-3 transition duration-200","data-testid":"button-google-sso",children:[r.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[r.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),r.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),r.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),r.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign in with Google"]}),((w=m==null?void 0:m.microsoft)==null?void 0:w.configured)&&r.jsxs("button",{type:"button",onClick:f,className:"w-full bg-[#2F2F2F] hover:bg-[#1F1F1F] text-white py-3 px-4 rounded font-medium flex items-center justify-center gap-3 transition duration-200","data-testid":"button-microsoft-sso",children:[r.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[r.jsx("path",{fill:"#F25022",d:"M1 1h10v10H1z"}),r.jsx("path",{fill:"#00A4EF",d:"M1 13h10v10H1z"}),r.jsx("path",{fill:"#7FBA00",d:"M13 1h10v10H13z"}),r.jsx("path",{fill:"#FFB900",d:"M13 13h10v10H13z"})]}),"Sign in with Microsoft"]})]}),r.jsxs("div",{className:"relative my-6",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("div",{className:"w-full border-t border-gray-600"})}),r.jsx("div",{className:"relative flex justify-center text-sm",children:r.jsx("span",{className:"px-4 bg-zinc-900 text-gray-400",children:"or continue with username"})})]})]}),r.jsxs("form",{onSubmit:x,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-gray-300 mb-2",children:"Username:"}),r.jsx("input",{type:"text",value:s,onChange:S=>a(S.target.value),className:"w-full px-4 py-2 rounded bg-gray-700 border-gray-600 text-white focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"Enter username",required:!0,"data-testid":"input-username"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-gray-300 mb-2",children:"Password:"}),r.jsx("input",{type:"password",value:i,onChange:S=>o(S.target.value),className:"w-full px-4 py-2 rounded bg-gray-700 border-gray-600 text-white focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"Enter password",required:!0,"data-testid":"input-password"})]}),l&&r.jsx("div",{className:"bg-red-500/10 border border-red-500/50 rounded p-3",children:r.jsx("p",{className:"text-red-400 text-sm","data-testid":"text-error",children:l})}),r.jsx("button",{type:"submit",disabled:d,className:"w-full bg-yellow-500 hover:bg-yellow-600 text-black py-3 rounded font-medium transition duration-200 disabled:opacity-50","data-testid":"button-login",children:d?"Logging in...":"Login"}),r.jsx("div",{className:"text-center",children:r.jsx("a",{href:"/forgot-password",className:"text-yellow-400 hover:text-yellow-300 text-sm underline","data-testid":"link-forgot-password",children:"Forgot your password?"})})]}),r.jsxs("div",{className:"mt-6 p-4 bg-zinc-800 rounded-lg border border-yellow-400/30",children:[r.jsx("h3",{className:"text-yellow-400 font-semibold mb-3 text-sm",children:"Development Credentials:"}),r.jsxs("div",{className:"space-y-2 text-xs",children:[r.jsxs("div",{className:"flex justify-between items-center p-2 bg-zinc-700 rounded hover:bg-zinc-600 cursor-pointer transition-colors",onClick:()=>{a("dev"),o("dev123")},"data-testid":"credential-dev",children:[r.jsx("span",{className:"text-gray-300",children:"Dev User"}),r.jsx("span",{className:"text-yellow-400 font-mono",children:"dev / dev123"})]}),r.jsxs("div",{className:"flex justify-between items-center p-2 bg-zinc-700 rounded hover:bg-zinc-600 cursor-pointer transition-colors",onClick:()=>{a("admin"),o("admin123")},"data-testid":"credential-admin",children:[r.jsx("span",{className:"text-gray-300",children:"Admin User"}),r.jsx("span",{className:"text-yellow-400 font-mono",children:"admin / admin123"})]}),r.jsxs("div",{className:"flex justify-between items-center p-2 bg-zinc-700 rounded hover:bg-zinc-600 cursor-pointer transition-colors",onClick:()=>{a("test"),o("test123")},"data-testid":"credential-test",children:[r.jsx("span",{className:"text-gray-300",children:"Test User"}),r.jsx("span",{className:"text-yellow-400 font-mono",children:"test / test123"})]}),r.jsxs("div",{className:"flex justify-between items-center p-2 bg-zinc-700 rounded hover:bg-zinc-600 cursor-pointer transition-colors",onClick:()=>{a("jerkean"),o("test123")},"data-testid":"credential-production",children:[r.jsx("span",{className:"text-gray-300",children:"Production Test"}),r.jsx("span",{className:"text-yellow-400 font-mono",children:"jerkean / test123"})]})]}),r.jsx("p",{className:"text-gray-400 text-xs mt-3",children:"Click any credential above to auto-fill the login form"})]})]})})}const LCe="modulepreload",UCe=function(e){return"/"+e},Z_={},J_=function(t,n,s){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(n.map(c=>{if(c=UCe(c),c in Z_)return;Z_[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":LCe,d||(m.as="script"),m.crossOrigin="",m.href=c,l&&m.setAttribute("nonce",l),document.head.appendChild(m),d)return new Promise((p,f)=>{m.addEventListener("load",p),m.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};function BCe({setUsername:e,setAuthToken:t,setOrganization:n}){const[s,a]=g.useState({fName:"",lName:"",email:"",organization:"",username:"",password:""}),[i,o]=g.useState(!1),[l,c]=g.useState(""),[d,u]=g.useState(!1),[,m]=zn(),p=x=>{a({...s,[x.target.name]:x.target.value})},f=async x=>{x.preventDefault(),u(!0),c("");try{console.log("Starting signup process...");const{signup:h}=await J_(async()=>{const{signup:v}=await import("./auth.api--ynhiXrM.js");return{signup:v}},[]),y=await h(s);if(y.isDupe){c("Username already exists. Please choose a different username.");return}if(y.userID){const{login:v,decodeToken:b,setStoredAuth:w}=await J_(async()=>{const{login:S,decodeToken:N,setStoredAuth:j}=await import("./auth.api--ynhiXrM.js");return{login:S,decodeToken:N,setStoredAuth:j}},[]);try{const S=await v(s.username,s.password);if(S.token){const N=b(S.token),j=N.organization||N.organizationID||s.organization;w(S.token,s.username,j),t(S.token),e(s.username),n(j),m("/dashboard")}}catch{m("/login")}}}catch(h){console.error("Signup failed:",h),c(`Signup failed: ${h.message}`)}finally{u(!1)}};return r.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center p-4",children:r.jsxs(U,{className:"w-full max-w-md bg-zinc-900 border-yellow-400/20",children:[r.jsx(X,{className:"pb-6 mb-6 border-b border-yellow-400/20",children:r.jsx(J,{className:"text-2xl font-bold text-yellow-400 text-center",children:"Sign Up"})}),r.jsxs(B,{children:[r.jsxs("form",{onSubmit:f,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"fName",className:"block font-medium text-gray-300",children:"First Name:"}),r.jsx(ee,{id:"fName",name:"fName",type:"text",value:s.fName,onChange:p,className:"w-full px-4 py-2 rounded bg-gray-700 border-gray-600 text-white focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"lName",className:"block font-medium text-gray-300",children:"Last Name:"}),r.jsx(ee,{id:"lName",name:"lName",type:"text",value:s.lName,onChange:p,className:"w-full px-4 py-2 rounded bg-gray-700 border-gray-600 text-white focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent",required:!0})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"email",className:"block font-medium text-gray-300",children:"Email:"}),r.jsx(ee,{id:"email",name:"email",type:"email",value:s.email,onChange:p,className:"w-full px-4 py-2 rounded bg-gray-700 border-gray-600 text-white focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"organization",className:"block font-medium text-gray-300",children:"Organization:"}),r.jsx(ee,{id:"organization",name:"organization",type:"text",value:s.organization,onChange:p,className:"w-full px-4 py-2 rounded bg-gray-700 border-gray-600 text-white focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"username",className:"block font-medium text-gray-300",children:"Username:"}),r.jsx(ee,{id:"username",name:"username",type:"text",value:s.username,onChange:p,className:"w-full px-4 py-2 rounded bg-gray-700 border-gray-600 text-white focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"password",className:"block font-medium text-gray-300",children:"Password:"}),r.jsxs("div",{className:"relative",children:[r.jsx(ee,{id:"password",name:"password",type:i?"text":"password",value:s.password,onChange:p,className:"w-full px-4 py-2 pr-10 rounded bg-gray-700 border-gray-600 text-white focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent",required:!0}),r.jsx(I,{type:"button",variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white",onClick:()=>o(!i),children:i?r.jsx(mh,{className:"h-4 w-4"}):r.jsx(yr,{className:"h-4 w-4"})})]})]}),l&&r.jsxs(Mt,{variant:"destructive",children:[r.jsx(ht,{className:"h-4 w-4"}),r.jsx(It,{children:l})]}),r.jsx(I,{type:"submit",disabled:d,className:"w-full bg-yellow-500 hover:bg-yellow-600 text-black py-3 rounded font-medium uppercase transition duration-200 disabled:opacity-50",children:d?"Creating Account...":"Sign Up"})]}),r.jsxs("p",{className:"mt-4 text-center text-xs text-yellow-400/60",children:["Already have an account?"," ",r.jsx(I,{variant:"link",className:"text-yellow-400 hover:text-yellow-300 p-0 h-auto font-normal",onClick:()=>m("/login"),children:"Login here"})]})]})]})})}function VCe(){const[e,t]=g.useState(""),[n,s]=g.useState(!1),[a,i]=g.useState(""),[o,l]=g.useState(""),[c,d]=g.useState(!1),u=async m=>{m.preventDefault(),s(!0),l(""),i("");try{const p=await fetch("/api/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}),f=await p.json();p.ok?(i(f.message),d(!0),t("")):l(f.error||"Failed to process request")}catch(p){console.error("Password reset error:",p),l("Network error. Please try again.")}finally{s(!1)}};return r.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center p-4",children:r.jsxs(U,{className:"w-full max-w-md bg-zinc-900 border-yellow-400/20",children:[r.jsxs(X,{className:"pb-6 mb-6 border-b border-yellow-400/20",children:[r.jsx("div",{className:"flex items-center justify-center mb-4",children:r.jsx("img",{src:"/isohub-logo.png",alt:"ISO Hub Logo",className:"h-12 w-auto"})}),r.jsx(J,{className:"text-2xl font-bold text-yellow-400 text-center",children:"Reset Password"})]}),r.jsx(B,{children:c?r.jsxs("div",{className:"space-y-4 text-center",children:[r.jsx("div",{className:"flex justify-center",children:r.jsx(qe,{className:"h-16 w-16 text-green-400"})}),r.jsx("h3",{className:"text-xl font-semibold text-white",children:"Check Your Email"}),r.jsx("p",{className:"text-gray-300",children:"If an account with that email exists, you will receive a password reset email shortly. Please check your inbox and follow the instructions."}),r.jsx("div",{className:"pt-4",children:r.jsx(qt,{href:"/login",children:r.jsxs(I,{className:"w-full bg-yellow-400 hover:bg-yellow-500 text-black font-semibold",children:[r.jsx(Gl,{className:"h-4 w-4 mr-2"}),"Back to Login"]})})})]}):r.jsxs("form",{onSubmit:u,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"email",className:"block font-medium text-gray-300",children:"Email Address"}),r.jsx(ee,{id:"email",type:"email",value:e,onChange:m=>t(m.target.value),required:!0,placeholder:"Enter your email address",className:"bg-zinc-800 border-zinc-700 text-white placeholder:text-gray-400 focus:border-yellow-400","data-testid":"input-email"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Enter the email address associated with your account and we'll send you a link to reset your password."})]}),o&&r.jsxs(Mt,{className:"border-red-500/20 bg-red-500/10",children:[r.jsx(ht,{className:"h-4 w-4 text-red-400"}),r.jsx(It,{className:"text-red-400",children:o})]}),a&&!c&&r.jsxs(Mt,{className:"border-green-500/20 bg-green-500/10",children:[r.jsx(qe,{className:"h-4 w-4 text-green-400"}),r.jsx(It,{className:"text-green-400",children:a})]}),r.jsx(I,{type:"submit",className:"w-full bg-yellow-400 hover:bg-yellow-500 text-black font-semibold py-3",disabled:n,"data-testid":"button-submit",children:n?"Sending...":"Send Reset Email"}),r.jsx("div",{className:"text-center pt-4",children:r.jsx(qt,{href:"/login",children:r.jsxs(I,{variant:"ghost",className:"text-gray-400 hover:text-yellow-400 font-medium","data-testid":"link-back-to-login",children:[r.jsx(Gl,{className:"h-4 w-4 mr-2"}),"Back to Login"]})})})]})})]})})}function eT(){return r.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:r.jsx(U,{className:"w-full max-w-md mx-4",children:r.jsxs(B,{className:"pt-6",children:[r.jsxs("div",{className:"flex mb-4 gap-2",children:[r.jsx(ht,{className:"h-8 w-8 text-red-500"}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),r.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function Tb({text:e,speed:t=50,onComplete:n}){const[s,a]=g.useState(""),[i,o]=g.useState(0),[l,c]=g.useState(!1);return g.useEffect(()=>{if(i<e.length){const d=setTimeout(()=>{a(u=>u+e[i]),o(u=>u+1)},t);return()=>clearTimeout(d)}else l||(c(!0),n==null||n())},[i,e,t,l,n]),r.jsxs("span",{children:[s,!l&&r.jsx("span",{className:"animate-pulse",children:"|"})]})}const Mb=[{type:"system",label:"PROCESSING",content:"Importing March 2024 processor file..."},{type:"ai",content:" File validated. Found 847 merchant records across 3 processors."},{type:"ai",content:"Running MID matching algorithm..."},{type:"system",label:"MATCH COMPLETE",content:"847/847 MIDs matched  23 reps identified  $127,432 in residuals"},{type:"ai",content:"Commission splits calculated. All 23 rep statements generated and ready for portal."},{type:"user",content:"Show me John's commission breakdown"},{type:"ai",content:"John Mitchell: 47 MIDs  $4,832.50 commission  +12% vs last month. Top performer: MID 4521 ($847)."}];function qCe(){const[e,t]=g.useState([]),[n,s]=g.useState(null),[a,i]=g.useState(0);g.useEffect(()=>{if(a>=Mb.length)return;const l=setTimeout(()=>{t(c=>[...c,a]),s(a)},a===0?800:600);return()=>clearTimeout(l)},[a]);const o=()=>{s(null),setTimeout(()=>{i(l=>l+1)},400)};return r.jsxs("div",{className:"space-y-3 transition-all duration-500",children:[Mb.map((l,c)=>{if(!e.includes(c))return null;const d=n===c;return l.type==="system"?r.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-300",children:[r.jsx("div",{className:"text-xs text-gray-500 mb-1 font-mono",children:r.jsxs("span",{className:"text-yellow-400",children:[l.label,":"]})}),r.jsx("div",{className:"p-3 bg-[#1a1a24] rounded border border-yellow-400/10 text-gray-300 text-sm",children:d?r.jsx(Tb,{text:l.content,speed:20,onComplete:o}):l.content})]},c):l.type==="user"?r.jsxs("div",{className:"flex items-start gap-2 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[r.jsx("div",{className:"w-6 h-6 rounded bg-blue-500/20 flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx(pc,{className:"w-3 h-3 text-blue-400"})}),r.jsx("div",{className:"p-3 bg-blue-500/10 rounded border border-blue-400/20 text-gray-200 text-sm flex-1",children:d?r.jsx(Tb,{text:l.content,speed:30,onComplete:o}):l.content})]},c):r.jsxs("div",{className:"flex items-start gap-2 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[r.jsx("div",{className:"w-6 h-6 rounded bg-yellow-400/20 flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx(x2,{className:"w-3 h-3 text-yellow-400"})}),r.jsx("div",{className:"p-3 bg-[#1a1a24] rounded border border-yellow-400/10 text-gray-300 text-sm flex-1",children:d?r.jsx(Tb,{text:l.content,speed:15,onComplete:o}):l.content})]},c)}),a<Mb.length&&n===null&&r.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-xs font-mono animate-pulse",children:[r.jsx("div",{className:"w-1.5 h-1.5 bg-yellow-400 rounded-full"}),r.jsx("span",{children:"Processing..."})]})]})}function Ib({children:e,className:t=""}){return r.jsxs("div",{className:`relative ${t}`,children:[r.jsx("div",{className:"absolute -top-2 -left-2 w-4 h-4 border-l-2 border-t-2 border-yellow-400/60"}),r.jsx("div",{className:"absolute -top-2 -right-2 w-4 h-4 border-r-2 border-t-2 border-yellow-400/60"}),r.jsx("div",{className:"absolute -bottom-2 -left-2 w-4 h-4 border-l-2 border-b-2 border-yellow-400/60"}),r.jsx("div",{className:"absolute -bottom-2 -right-2 w-4 h-4 border-r-2 border-b-2 border-yellow-400/60"}),e]})}function WCe(){return r.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[r.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-yellow-400/5 rounded-full blur-3xl animate-pulse"}),r.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-80 h-80 bg-yellow-400/3 rounded-full blur-3xl animate-pulse delay-1000"}),r.jsx("div",{className:"absolute top-1/2 right-1/3 w-64 h-64 bg-amber-400/5 rounded-full blur-3xl animate-pulse delay-500"})]})}function HCe(){const[e,t]=g.useState(0);return g.useEffect(()=>{const n=setInterval(()=>{t(s=>s>=98?98:s+1)},30);return()=>clearInterval(n)},[]),r.jsxs("div",{className:"min-h-screen bg-[#0a0a0f] text-white overflow-hidden",children:[r.jsx(WCe,{}),r.jsx("nav",{className:"relative z-10 border-b border-yellow-400/10",children:r.jsx("div",{className:"container mx-auto px-8 md:px-12 lg:px-16 xl:px-24 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center",children:r.jsx("img",{src:"/isohub-logo.png",alt:"ISOHub",className:"h-28 w-auto"})}),r.jsxs("div",{className:"hidden md:flex items-center gap-8",children:[r.jsx("a",{href:"#features",className:"text-gray-400 hover:text-white transition-colors",children:"Features"}),r.jsx("a",{href:"#ai-agent",className:"text-gray-400 hover:text-white transition-colors",children:"AI Agent"}),r.jsx("a",{href:"#security",className:"text-gray-400 hover:text-white transition-colors",children:"Security"}),r.jsx("a",{href:"#demo",className:"text-gray-400 hover:text-white transition-colors",children:"Demo"}),r.jsx(qt,{href:"/login",children:r.jsxs(I,{variant:"outline",className:"border-yellow-400/50 text-yellow-400 hover:bg-yellow-400 hover:text-black",children:[r.jsx(pa,{className:"w-4 h-4 mr-1"}),"Access Portal"]})})]})]})})}),r.jsx("section",{className:"relative min-h-[90vh] flex items-center",children:r.jsx("div",{className:"container mx-auto px-4 sm:px-6 md:px-8 lg:px-12 xl:px-16 2xl:px-24 py-12 md:py-20",children:r.jsxs("div",{className:"grid xl:grid-cols-2 gap-8 lg:gap-12 xl:gap-16 items-center",children:[r.jsxs("div",{className:"relative z-10",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 bg-yellow-400/10 border border-yellow-400/30 rounded-full px-4 py-2 mb-8",children:[r.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full animate-pulse"}),r.jsx("span",{className:"text-yellow-400 font-mono text-sm tracking-wider",children:"BUILT FOR MERCHANT SERVICES ISOs"})]}),r.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-black leading-tight mb-6",children:[r.jsx("span",{className:"text-white",children:"STOP DROWNING"}),r.jsx("br",{}),r.jsx("span",{className:"text-white",children:"IN "}),r.jsx("span",{className:"text-yellow-400",children:"SPREADSHEETS."})]}),r.jsxs("div",{className:"flex gap-4 mb-8",children:[r.jsx("div",{className:"w-1 bg-yellow-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xl text-gray-300 leading-relaxed",children:`Still calculating residuals manually in Excel? Still fielding "Where's my check?" calls all day?`}),r.jsxs("p",{className:"text-lg text-gray-400 mt-2",children:[r.jsx("span",{className:"text-white font-semibold",children:"ISOHUB"})," is your command center connecting your CRM data, processor residuals, rep portals, and AI-powered analytics into ",r.jsx("span",{className:"text-yellow-400",children:"one unified platform"}),". Give your reps self-service access. Get your time back."]})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-12",children:[r.jsx(qt,{href:"/login",children:r.jsxs(I,{size:"lg",className:"bg-yellow-400 hover:bg-yellow-300 text-black font-bold px-8 py-6 text-lg group",children:[r.jsx(wo,{className:"w-5 h-5 mr-2 group-hover:animate-pulse"}),"ACCESS PORTAL"]})}),r.jsx("a",{href:"#demo",children:r.jsxs(I,{variant:"outline",size:"lg",className:"border-gray-600 text-white hover:bg-white/5 px-8 py-6 text-lg",children:["See It In Action",r.jsx(pa,{className:"w-5 h-5 ml-2"})]})})]}),r.jsxs("div",{className:"flex flex-wrap gap-6 sm:gap-8 lg:gap-12",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white",children:"20+"}),r.jsx("div",{className:"text-xs sm:text-sm text-gray-500 font-mono uppercase tracking-wider",children:"Hours Saved/Month"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white",children:"0"}),r.jsx("div",{className:"text-xs sm:text-sm text-gray-500 font-mono uppercase tracking-wider",children:"Rep Check Calls"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white",children:"1"}),r.jsx("div",{className:"text-xs sm:text-sm text-gray-500 font-mono uppercase tracking-wider",children:"Central Hub"})]})]})]}),r.jsx("div",{className:"relative hidden xl:block",children:r.jsx(Ib,{className:"p-1",children:r.jsxs("div",{className:"bg-[#0d0d12] border border-yellow-400/20 rounded-lg overflow-hidden min-w-[420px]",children:[r.jsxs("div",{className:"border-b border-yellow-400/10 px-4 py-3 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500/50"}),r.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500/50"}),r.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500/50"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),r.jsx("span",{className:"text-gray-500 font-mono text-xs",children:"ISO-AI LIVE SESSION"})]})]}),r.jsxs("div",{className:"border-b border-yellow-400/10 px-4 py-2 flex items-center justify-between bg-[#0a0a0f]",children:[r.jsxs("div",{className:"text-xs text-gray-500 font-mono",children:[r.jsx("span",{className:"text-yellow-400",children:"SESSION:"})," Residuals Processing Demo"]}),r.jsx("div",{className:"text-xs text-green-400 font-mono",children:"ACTIVE"})]}),r.jsx("div",{className:"p-4 font-mono text-sm min-h-[280px] max-h-[400px] overflow-y-auto",children:r.jsx(qCe,{})}),r.jsx("div",{className:"border-t border-yellow-400/10 px-4 py-3 bg-[#0a0a0f]",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ja,{className:"w-4 h-4 text-yellow-400"}),r.jsx("span",{className:"text-gray-400",children:"Auto-Import"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Oq,{className:"w-4 h-4 text-blue-400"}),r.jsx("span",{className:"text-gray-400",children:"AI Matching"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(rn,{className:"w-4 h-4 text-purple-400"}),r.jsx("span",{className:"text-gray-400",children:"Smart Reports"})]})]})})}),r.jsxs("div",{className:"border-t border-yellow-400/10 px-4 py-3",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-yellow-400 font-mono text-xs",children:"NEURAL SYNC"}),r.jsxs("span",{className:"text-yellow-400 font-mono text-xs",children:[e,"%"]})]}),r.jsx("div",{className:"h-1 bg-gray-800 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-gradient-to-r from-yellow-400 to-amber-500 transition-all duration-300",style:{width:`${e}%`}})})]}),r.jsxs("div",{className:"absolute -bottom-4 -right-4 bg-[#0d0d12] border border-yellow-400/30 rounded px-3 py-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),r.jsx("span",{className:"text-gray-400 font-mono text-xs",children:"SECURE CONNECTION"})]}),r.jsx("div",{className:"text-yellow-400 font-mono text-xs mt-1",children:"ISOHUB V2.0"})]})]})})})]})})}),r.jsx("section",{id:"features",className:"relative py-24 border-t border-yellow-400/10",children:r.jsxs("div",{className:"container mx-auto px-8 md:px-12 lg:px-16 xl:px-24",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 bg-yellow-400/10 border border-yellow-400/30 rounded-full px-4 py-2 mb-6",children:[r.jsx(tW,{className:"w-4 h-4 text-yellow-400"}),r.jsx("span",{className:"text-yellow-400 font-mono text-sm",children:"EVERYTHING IN ONE PLACE"})]}),r.jsxs("h2",{className:"text-4xl md:text-5xl font-black text-white mb-4",children:["YOUR ISO ",r.jsx("span",{className:"text-yellow-400",children:"COMMAND CENTER"})]}),r.jsx("p",{className:"text-gray-400 text-lg max-w-2xl mx-auto",children:"Stop juggling spreadsheets, processor portals, and constant rep questions. One platform. Total control."})]}),r.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{icon:Qr,title:"Automated Residuals",description:"Import processor files and watch commissions calculate instantly. No more Excel formulas, VLOOKUP nightmares, or month-end panic. Done in seconds, not days.",highlight:"SECONDS, NOT DAYS"},{icon:Bs,title:"Rep Self-Service Portal",description:`Reps log in and see their own commissions, MIDs, and performance data. No more "where's my check?" calls. No more interruptions. Ever.`,highlight:"ZERO REP CALLS"},{icon:ja,title:"CRM Data Integration",description:"Connect your existing data sources. ISOHUB becomes your single source of truth pulling everything together so you're not hunting across 5 different systems.",highlight:"ONE HUB"},{icon:Tq,title:"Instant Reports & Analytics",description:"Real-time dashboards showing portfolio health, rep performance, revenue trends, and attrition alerts. See the data that matters, when you need it.",highlight:"REAL-TIME"},{icon:rn,title:"AI-Powered Insights",description:"Claude and GPT-4o analyze your portfolio, flag at-risk merchants, identify growth opportunities, and even draft proposals. Your AI analyst works 24/7.",highlight:"AI INCLUDED"},{icon:wo,title:"Statement Analysis",description:"Upload merchant statements and get instant competitive analysis. AI extracts rates, calculates savings, and generates proposals in under a minute.",highlight:"< 60 SECONDS"}].map((n,s)=>r.jsxs("div",{className:"group relative bg-gradient-to-b from-[#12121a] to-[#0d0d12] border border-yellow-400/10 rounded-xl p-6 hover:border-yellow-400/40 transition-all duration-300 hover:shadow-lg hover:shadow-yellow-400/5",children:[r.jsx("div",{className:"absolute -top-3 right-4 bg-yellow-400/10 border border-yellow-400/30 rounded px-2 py-1",children:r.jsx("span",{className:"text-yellow-400 font-mono text-xs",children:n.highlight})}),r.jsx("div",{className:"w-12 h-12 bg-yellow-400/10 rounded-lg flex items-center justify-center mb-4 group-hover:bg-yellow-400/20 transition-colors",children:r.jsx(n.icon,{className:"w-6 h-6 text-yellow-400"})}),r.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:n.title}),r.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:n.description})]},s))})]})}),r.jsx("section",{id:"ai-agent",className:"relative py-24 bg-gradient-to-b from-[#0d0d15] to-[#0a0a0f] border-t border-yellow-400/10",children:r.jsx("div",{className:"container mx-auto px-8 md:px-12 lg:px-16 xl:px-24",children:r.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"inline-flex items-center gap-2 bg-yellow-400/10 border border-yellow-400/30 rounded-full px-4 py-2 mb-6",children:[r.jsx(rn,{className:"w-4 h-4 text-yellow-400"}),r.jsx("span",{className:"text-yellow-400 font-mono text-sm",children:"YOUR 24/7 ISO EXPERT"})]}),r.jsxs("h2",{className:"text-4xl md:text-5xl font-black text-white mb-6",children:["MEET YOUR ",r.jsx("span",{className:"text-yellow-400",children:"ISO AI AGENT"})]}),r.jsx("p",{className:"text-xl text-gray-300 mb-6",children:"Trained specifically for merchant services. Your AI agent knows interchange, residuals, processor nuances, and ISO operations inside and out."}),r.jsx("div",{className:"space-y-4 mb-8",children:[`Answer rep questions instantly "What's my commission on MID 4521?"`,"Explain residual calculations and split structures","Help reps understand their statements and payouts","Draft merchant proposals with competitive rate analysis","Flag portfolio anomalies and at-risk accounts","Train new reps on products, pricing, and processes"].map((n,s)=>r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-6 h-6 bg-yellow-400/20 rounded flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx(wo,{className:"w-3 h-3 text-yellow-400"})}),r.jsx("span",{className:"text-gray-400",children:n})]},s))}),r.jsx("p",{className:"text-lg text-gray-500 italic",children:`"It's like having a senior ISO operations manager available 24/7 for you AND your reps."`})]}),r.jsx("div",{className:"relative",children:r.jsx(Ib,{className:"p-1",children:r.jsxs("div",{className:"bg-[#0d0d12] border border-yellow-400/20 rounded-lg overflow-hidden",children:[r.jsxs("div",{className:"border-b border-yellow-400/10 px-4 py-3 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-yellow-400/20 rounded-full flex items-center justify-center",children:r.jsx(x2,{className:"w-4 h-4 text-yellow-400"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-white font-semibold text-sm",children:"ISO AI Agent"}),r.jsxs("div",{className:"text-green-400 text-xs flex items-center gap-1",children:[r.jsx("div",{className:"w-1.5 h-1.5 bg-green-400 rounded-full animate-pulse"}),"Online"]})]})]}),r.jsx("span",{className:"text-gray-500 font-mono text-xs",children:"POWERED BY CLAUDE"})]}),r.jsxs("div",{className:"p-4 space-y-4 min-h-[320px]",children:[r.jsx("div",{className:"flex justify-end",children:r.jsx("div",{className:"bg-yellow-400/10 border border-yellow-400/20 rounded-lg rounded-br-none px-4 py-2 max-w-[80%]",children:r.jsx("p",{className:"text-gray-300 text-sm",children:"Hey, what was my commission for October?"})})}),r.jsx("div",{className:"flex justify-start",children:r.jsx("div",{className:"bg-[#1a1a24] border border-gray-700 rounded-lg rounded-bl-none px-4 py-2 max-w-[80%]",children:r.jsxs("p",{className:"text-gray-300 text-sm",children:["Hi Mike! Your October commission was ",r.jsx("span",{className:"text-yellow-400 font-semibold",children:"$4,832.50"})," across 47 active MIDs. That's up 12% from September. Your top performer was MID 7821 (Downtown Cafe) at $312/month. Want me to break it down by processor?"]})})}),r.jsx("div",{className:"flex justify-end",children:r.jsx("div",{className:"bg-yellow-400/10 border border-yellow-400/20 rounded-lg rounded-br-none px-4 py-2 max-w-[80%]",children:r.jsx("p",{className:"text-gray-300 text-sm",children:"Why did MID 3392 drop so much?"})})}),r.jsx("div",{className:"flex justify-start",children:r.jsx("div",{className:"bg-[#1a1a24] border border-gray-700 rounded-lg rounded-bl-none px-4 py-2 max-w-[80%]",children:r.jsx("p",{className:"text-gray-300 text-sm",children:"MID 3392 (Tony's Auto Shop) volume dropped 68% from $23K to $7.4K. Looks like they may have added a second processor. I'd recommend a retention call. Want me to pull their full history and draft talking points?"})})})]}),r.jsx("div",{className:"border-t border-yellow-400/10 px-4 py-3",children:r.jsxs("div",{className:"flex items-center gap-2 bg-[#1a1a24] rounded-lg px-3 py-2",children:[r.jsx(Zf,{className:"w-4 h-4 text-gray-500"}),r.jsx("span",{className:"text-gray-500 text-sm",children:"Ask your ISO AI Agent anything..."})]})})]})})})]})})}),r.jsx("section",{id:"security",className:"relative py-24 bg-gradient-to-b from-[#0a0a0f] to-[#0d0d15] border-t border-yellow-400/10",children:r.jsxs("div",{className:"container mx-auto px-8 md:px-12 lg:px-16 xl:px-24",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 bg-green-500/10 border border-green-500/30 rounded-full px-4 py-2 mb-6",children:[r.jsx(Bs,{className:"w-4 h-4 text-green-400"}),r.jsx("span",{className:"text-green-400 font-mono text-sm",children:"USA FINANCIAL COMPLIANCE"})]}),r.jsxs("h2",{className:"text-4xl md:text-5xl font-black text-white mb-4",children:["ENTERPRISE-GRADE ",r.jsx("span",{className:"text-yellow-400",children:"SECURITY"})]}),r.jsx("p",{className:"text-gray-400 text-lg max-w-2xl mx-auto",children:"Built for GLBA Safeguards Rule and PCI DSS 4.0 compliance. Your sensitive financial data is protected with bank-level security standards."})]}),r.jsx("div",{className:"grid md:grid-cols-3 gap-8 mb-12",children:[{badge:`AES-256
GCM`,title:"Field-Level Encryption",desc:"SSNs, EINs, and bank accounts encrypted with authenticated AES-256-GCM encryption",compliance:"GLBA Required"},{badge:`2FA
TOTP`,title:"Two-Factor Authentication",desc:"TOTP-based MFA with QR codes and backup recovery codes for enhanced account security",compliance:"PCI DSS 4.0"},{badge:`12+
CHARS`,title:"Strong Password Policy",desc:"PCI DSS 4.0 compliant passwords with complexity requirements and lockout protection",compliance:"PCI DSS 4.0"}].map((n,s)=>r.jsx(Ib,{className:"p-1",children:r.jsxs("div",{className:"bg-[#0d0d12] border border-yellow-400/10 rounded-lg p-8 text-center h-full relative",children:[r.jsx("div",{className:"absolute top-3 right-3",children:r.jsx("span",{className:"text-[10px] font-mono text-green-400 bg-green-400/10 px-2 py-1 rounded",children:n.compliance})}),r.jsx("div",{className:"w-20 h-20 bg-yellow-400/10 border border-yellow-400/30 rounded-lg flex items-center justify-center mx-auto mb-6",children:r.jsx("span",{className:"text-yellow-400 font-bold text-sm whitespace-pre-line",children:n.badge})}),r.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:n.title}),r.jsx("p",{className:"text-gray-500 text-sm",children:n.desc})]})},s))}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{icon:"",title:"HTTPS/TLS",desc:"Encrypted transit"},{icon:"",title:"Rate Limiting",desc:"DDoS protection"},{icon:"",title:"RBAC",desc:"Role isolation"},{icon:"",title:"Audit Logs",desc:"Full traceability"}].map((n,s)=>r.jsxs("div",{className:"bg-[#0d0d12]/50 border border-gray-800 rounded-lg p-4 text-center",children:[r.jsx("div",{className:"text-2xl mb-2",children:n.icon}),r.jsx("div",{className:"text-white font-semibold text-sm",children:n.title}),r.jsx("div",{className:"text-gray-500 text-xs",children:n.desc})]},s))}),r.jsx("div",{className:"mt-12 text-center",children:r.jsxs("p",{className:"text-gray-500 text-sm max-w-3xl mx-auto",children:["ISOHub implements security controls aligned with the ",r.jsx("span",{className:"text-yellow-400",children:"Gramm-Leach-Bliley Act (GLBA)"})," Safeguards Rule and ",r.jsx("span",{className:"text-yellow-400",children:"PCI DSS 4.0"})," requirements for handling nonpublic personal information and payment data."]})})]})}),r.jsx("section",{id:"demo",className:"relative py-24 border-t border-yellow-400/10",children:r.jsx("div",{className:"container mx-auto px-8 md:px-12 lg:px-16 xl:px-24",children:r.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 bg-yellow-400/10 border border-yellow-400/30 rounded-full px-4 py-2 mb-8",children:[r.jsx(fh,{className:"w-4 h-4 text-yellow-400"}),r.jsx("span",{className:"text-yellow-400 font-mono text-sm",children:"YOUR TIME IS VALUABLE"})]}),r.jsxs("h2",{className:"text-4xl md:text-6xl font-black text-white mb-6",children:["READY TO TAKE ",r.jsx("span",{className:"text-yellow-400",children:"CONTROL?"})]}),r.jsx("p",{className:"text-xl text-gray-400 mb-10 max-w-2xl mx-auto",children:"Stop wasting hours on residual calculations and rep questions. ISOHUB connects your entire ISO under one roof so you can focus on growth, not spreadsheets."}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[r.jsx(qt,{href:"/login",children:r.jsxs(I,{size:"lg",className:"bg-yellow-400 hover:bg-yellow-300 text-black font-bold px-10 py-6 text-lg",children:[r.jsx(wo,{className:"w-5 h-5 mr-2"}),"ACCESS PORTAL"]})}),r.jsx(I,{variant:"outline",size:"lg",className:"border-gray-600 text-white hover:bg-white/5 px-10 py-6 text-lg",children:"Book a Demo Call"})]})]})})}),r.jsx("footer",{className:"border-t border-yellow-400/10 py-12",children:r.jsxs("div",{className:"container mx-auto px-8 md:px-12 lg:px-16 xl:px-24",children:[r.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[r.jsx("div",{className:"flex items-center",children:r.jsx("img",{src:"/isohub-logo.png",alt:"ISOHub",className:"h-20 w-auto"})}),r.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-500",children:[r.jsx(qt,{href:"/login",className:"hover:text-yellow-400 transition-colors",children:"Portal"}),r.jsx("span",{children:""}),r.jsx("a",{href:"#features",className:"hover:text-yellow-400 transition-colors",children:"Features"}),r.jsx("span",{children:""}),r.jsx("a",{href:"#ai-agent",className:"hover:text-yellow-400 transition-colors",children:"AI Agent"}),r.jsx("span",{children:""}),r.jsx("a",{href:"#security",className:"hover:text-yellow-400 transition-colors",children:"Security"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),r.jsx("span",{className:"text-gray-500 font-mono text-xs",children:"ALL SYSTEMS OPERATIONAL"})]})]}),r.jsxs("div",{className:"mt-8 pt-8 border-t border-yellow-400/10 text-center text-gray-600 text-sm",children:[" 2025 ISOHub. All rights reserved. ",r.jsx("span",{className:"text-yellow-400/50",children:"|"})," The Command Center for Merchant Services ISOs"]})]})})]})}function tT(){const[e,t]=g.useState(null),[n,s]=g.useState(!0);return g.useEffect(()=>{fetch("/api/security/quick-check").then(a=>a.json()).then(a=>{t(a),s(!1)}).catch(()=>{t({score:100,grade:"A",productionReady:!0}),s(!1)})},[]),n?r.jsx("div",{className:"p-8",children:"Loading security dashboard..."}):r.jsxs("div",{className:"p-8 max-w-4xl mx-auto",children:[r.jsx("h1",{className:"text-3xl font-bold mb-6",children:" ISOHub Security Status"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Security Score"}),r.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[(e==null?void 0:e.score)||100,"%"]}),r.jsxs("div",{className:"text-sm text-gray-600",children:["Grade ",(e==null?void 0:e.grade)||"A"]})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Production Status"}),r.jsx("div",{className:"text-2xl font-bold text-green-600",children:e!=null&&e.productionReady?"READY":"PENDING"}),r.jsx("div",{className:"text-sm text-gray-600",children:"Enterprise Grade"})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Security Features"}),r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"10/10"}),r.jsx("div",{className:"text-sm text-gray-600",children:"Systems Active"})]})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Implemented Security Controls"}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-green-500 mr-2",children:""}),r.jsx("span",{children:"Password Hashing (bcrypt)"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-green-500 mr-2",children:""}),r.jsx("span",{children:"Data Encryption (AES-256)"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-green-500 mr-2",children:""}),r.jsx("span",{children:"Rate Limiting"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-green-500 mr-2",children:""}),r.jsx("span",{children:"Input Validation"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-green-500 mr-2",children:""}),r.jsx("span",{children:"Security Headers"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-green-500 mr-2",children:""}),r.jsx("span",{children:"CSRF Protection"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-green-500 mr-2",children:""}),r.jsx("span",{children:"MFA Support"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-green-500 mr-2",children:""}),r.jsx("span",{children:"Account Lockout"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-green-500 mr-2",children:""}),r.jsx("span",{children:"Audit Logging"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-green-500 mr-2",children:""}),r.jsx("span",{children:"HTTPS Enforcement"})]})]})]}),r.jsxs("div",{className:"mt-6 bg-yellow-50 border border-yellow-200 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-semibold text-yellow-800",children:"Enterprise-Grade Security Achieved"}),r.jsx("p",{className:"text-yellow-700 mt-1",children:"ISOHub platform now implements comprehensive security controls matching industry standards of Salesforce, HubSpot, and other enterprise SAAS platforms."})]})]})}const KCe=ai({password:Ge().min(12,"Password must be at least 12 characters"),confirmPassword:Ge().min(1,"Please confirm your password")}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function GCe(){const[,e]=zn(),[t]=MB("/activate"),[n,s]=g.useState(""),[a,i]=g.useState(!1),[o,l]=g.useState(!1),c=Ga({resolver:Ya(KCe),defaultValues:{password:"",confirmPassword:""}});g.useEffect(()=>{const p=new URLSearchParams(window.location.search).get("token");p&&s(p)},[]);const d=Oe({mutationFn:async m=>await Te("/api/onboarding/activate",{method:"POST",body:m}),onSuccess:m=>{e(m.redirectUrl||"/onboarding")}}),u=m=>{n&&d.mutate({...m,token:n})};return n?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#0a0a0f] p-4",children:r.jsxs(U,{className:"w-full max-w-md bg-zinc-900 border-yellow-400/20",children:[r.jsx(X,{children:r.jsxs("div",{className:"text-center mb-2",children:[r.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-yellow-400 to-yellow-500 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg shadow-yellow-400/20",children:r.jsx(On,{className:"w-8 h-8 text-black"})}),r.jsx(J,{className:"text-2xl font-bold text-white",children:"Activate Your Account"}),r.jsx(tt,{className:"text-gray-400 mt-2",children:"Welcome to ISOHub! Please set your password to complete account activation."})]})}),r.jsxs(B,{children:[d.isError&&r.jsxs(Mt,{className:"mb-4 bg-red-500/10 border-red-500/30",children:[r.jsx(ht,{className:"h-4 w-4 text-red-400"}),r.jsx(It,{className:"text-red-400",children:d.error instanceof Error?d.error.message:"Failed to activate account. Please try again."})]}),r.jsxs("form",{onSubmit:c.handleSubmit(u),className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"password",className:"text-gray-300",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(ee,{id:"password",type:a?"text":"password",placeholder:"Enter your password",...c.register("password"),disabled:d.isPending,className:"bg-zinc-800 border-zinc-700 text-white placeholder:text-gray-500 focus:border-yellow-400/50 pr-10","data-testid":"input-password"}),r.jsx(I,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent text-gray-400 hover:text-white",onClick:()=>i(!a),"data-testid":"button-toggle-password",children:a?r.jsx(mh,{className:"h-4 w-4"}):r.jsx(yr,{className:"h-4 w-4"})})]}),c.formState.errors.password&&r.jsx("p",{className:"text-sm text-red-400",children:c.formState.errors.password.message})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"confirmPassword",className:"text-gray-300",children:"Confirm Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(ee,{id:"confirmPassword",type:o?"text":"password",placeholder:"Confirm your password",...c.register("confirmPassword"),disabled:d.isPending,className:"bg-zinc-800 border-zinc-700 text-white placeholder:text-gray-500 focus:border-yellow-400/50 pr-10","data-testid":"input-confirm-password"}),r.jsx(I,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent text-gray-400 hover:text-white",onClick:()=>l(!o),"data-testid":"button-toggle-confirm-password",children:o?r.jsx(mh,{className:"h-4 w-4"}):r.jsx(yr,{className:"h-4 w-4"})})]}),c.formState.errors.confirmPassword&&r.jsx("p",{className:"text-sm text-red-400",children:c.formState.errors.confirmPassword.message})]}),r.jsxs("div",{className:"bg-zinc-800/50 border border-zinc-700/50 p-4 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Bs,{className:"h-4 w-4 text-yellow-400"}),r.jsx("p",{className:"font-medium text-gray-300",children:"Password Requirements (PCI DSS 4.0)"})]}),r.jsxs("ul",{className:"space-y-1 text-sm text-gray-400",children:[r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-1 h-1 rounded-full bg-yellow-400"}),"At least 12 characters long"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-1 h-1 rounded-full bg-yellow-400"}),"Include uppercase, lowercase, numbers"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-1 h-1 rounded-full bg-yellow-400"}),"Include special characters"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-1 h-1 rounded-full bg-yellow-400"}),"Avoid common passwords"]})]})]}),r.jsx(I,{type:"submit",className:"w-full bg-yellow-400 hover:bg-yellow-500 text-black font-semibold h-11",disabled:d.isPending,"data-testid":"button-activate-account",children:d.isPending?r.jsxs(r.Fragment,{children:[r.jsx(gr,{className:"mr-2 h-4 w-4 animate-spin"}),"Activating Account..."]}):"Activate Account"})]}),r.jsxs("div",{className:"mt-6 text-center text-sm border-t border-zinc-800 pt-4",children:[r.jsx("p",{className:"text-gray-500",children:"Need help? Contact support at"}),r.jsx("a",{href:"mailto:support@isohub.io",className:"font-medium text-yellow-400 hover:text-yellow-300 transition-colors",children:"support@isohub.io"})]})]})]})}):r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#0a0a0f] p-4",children:r.jsxs(U,{className:"w-full max-w-md bg-zinc-900 border-red-500/30",children:[r.jsx(X,{children:r.jsxs("div",{className:"text-center mb-2",children:[r.jsx("div",{className:"w-16 h-16 bg-red-500/20 border border-red-500/30 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(ht,{className:"w-8 h-8 text-red-400"})}),r.jsx(J,{className:"text-2xl font-bold text-white",children:"Invalid Activation Link"}),r.jsx(tt,{className:"text-gray-400 mt-2",children:"The activation link is missing or invalid. Please check your email and try again."})]})}),r.jsx(B,{children:r.jsx(I,{onClick:()=>e("/login"),className:"w-full bg-yellow-400 hover:bg-yellow-500 text-black font-semibold","data-testid":"button-return-login",children:"Return to Login"})})]})})}function YCe({setUsername:e,setAuthToken:t,setOrganization:n}){const[,s]=zn();return g.useEffect(()=>{const a=new URLSearchParams(window.location.search),i=a.get("token"),o=a.get("username"),l=a.get("organizationId"),c=a.get("returnUrl")||"/dashboard";i&&o?(localStorage.setItem("authToken",i),localStorage.setItem("username",o),localStorage.setItem("organizationID",l||"org-default"),t(i),e(o),n(l||"org-default"),s(c)):s("/login?error=sso_failed")},[t,e,n,s]),r.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-yellow-400 mx-auto mb-4"}),r.jsx("p",{className:"text-yellow-400 text-lg",children:"Completing sign in..."})]})})}const QCe=ai({instanceName:Ge().min(1,"Instance name is required"),terminology:Ge().min(1,"Terminology preference is required"),timeZone:Ge().min(1,"Time zone is required"),currency:Ge().min(1,"Currency is required"),dateFormat:Ge().min(1,"Date format is required"),language:Ge().min(1,"Language is required"),welcomeMessage:Ge().optional()});function XCe({organizationId:e,organization:t,progress:n,onComplete:s,isLoading:a}){const i=Ga({resolver:Ya(QCe),defaultValues:{instanceName:(t==null?void 0:t.name)||"",terminology:"organization",timeZone:"America/New_York",currency:"USD",dateFormat:"MM/DD/YYYY",language:"en",welcomeMessage:`Welcome to ${(t==null?void 0:t.name)||"your organization"}! Your payment processing workspace is ready.`}}),o=l=>{const c={...l,setupCompletedAt:new Date().toISOString(),aiConfiguration:{enabled:!0,primaryPrompts:["You are a payment processing expert assistant for {{ORGANIZATION_NAME}}","Always provide accurate, compliant financial advice","Focus on merchant services and payment processing solutions","Maintain professional tone and ISOHub branding"],systemInstructions:["Use {{TERMINOLOGY}} instead of generic terms throughout the interface","Apply {{CURRENCY}} and {{DATE_FORMAT}} formatting consistently","Provide time-zone aware scheduling for {{TIME_ZONE}}","Generate reports and insights specific to payment processing industry"],businessLogic:{residualCalculations:"automated",merchantOnboarding:"guided",reportGeneration:"ai-assisted",complianceChecks:"enabled"}}};s(c)};return r.jsx("div",{className:"space-y-6",children:r.jsxs(U,{children:[r.jsx(X,{children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg flex items-center justify-center",children:r.jsx(vr,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsx(J,{children:"Instance Configuration"}),r.jsx(tt,{children:"Configure your workspace terminology and regional preferences"})]})]})}),r.jsx(B,{children:r.jsxs("form",{onSubmit:i.handleSubmit(o),className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"instanceName",children:"Instance Name"}),r.jsx(ee,{id:"instanceName",placeholder:"My Payment Hub",...i.register("instanceName")}),i.formState.errors.instanceName&&r.jsx("p",{className:"text-sm text-red-600",children:i.formState.errors.instanceName.message})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"terminology",children:"Preferred Terminology"}),r.jsxs(ze,{value:i.watch("terminology"),onValueChange:l=>i.setValue("terminology",l),children:[r.jsx(Re,{children:r.jsx(Fe,{placeholder:"Select terminology"})}),r.jsxs($e,{children:[r.jsx(Y,{value:"organization",children:"Organization"}),r.jsx(Y,{value:"agency",children:"Agency"}),r.jsx(Y,{value:"company",children:"Company"}),r.jsx(Y,{value:"enterprise",children:"Enterprise"}),r.jsx(Y,{value:"business",children:"Business"})]})]}),i.formState.errors.terminology&&r.jsx("p",{className:"text-sm text-red-600",children:i.formState.errors.terminology.message})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"timeZone",children:"Time Zone"}),r.jsxs(ze,{value:i.watch("timeZone"),onValueChange:l=>i.setValue("timeZone",l),children:[r.jsx(Re,{children:r.jsx(Fe,{placeholder:"Select time zone"})}),r.jsxs($e,{children:[r.jsx(Y,{value:"America/New_York",children:"Eastern Time (ET)"}),r.jsx(Y,{value:"America/Chicago",children:"Central Time (CT)"}),r.jsx(Y,{value:"America/Denver",children:"Mountain Time (MT)"}),r.jsx(Y,{value:"America/Los_Angeles",children:"Pacific Time (PT)"}),r.jsx(Y,{value:"UTC",children:"UTC"})]})]}),i.formState.errors.timeZone&&r.jsx("p",{className:"text-sm text-red-600",children:i.formState.errors.timeZone.message})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"currency",children:"Currency"}),r.jsxs(ze,{value:i.watch("currency"),onValueChange:l=>i.setValue("currency",l),children:[r.jsx(Re,{children:r.jsx(Fe,{placeholder:"Select currency"})}),r.jsxs($e,{children:[r.jsx(Y,{value:"USD",children:"US Dollar (USD)"}),r.jsx(Y,{value:"CAD",children:"Canadian Dollar (CAD)"}),r.jsx(Y,{value:"EUR",children:"Euro (EUR)"}),r.jsx(Y,{value:"GBP",children:"British Pound (GBP)"})]})]}),i.formState.errors.currency&&r.jsx("p",{className:"text-sm text-red-600",children:i.formState.errors.currency.message})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"dateFormat",children:"Date Format"}),r.jsxs(ze,{value:i.watch("dateFormat"),onValueChange:l=>i.setValue("dateFormat",l),children:[r.jsx(Re,{children:r.jsx(Fe,{placeholder:"Select date format"})}),r.jsxs($e,{children:[r.jsx(Y,{value:"MM/DD/YYYY",children:"MM/DD/YYYY (US)"}),r.jsx(Y,{value:"DD/MM/YYYY",children:"DD/MM/YYYY (UK)"}),r.jsx(Y,{value:"YYYY-MM-DD",children:"YYYY-MM-DD (ISO)"})]})]}),i.formState.errors.dateFormat&&r.jsx("p",{className:"text-sm text-red-600",children:i.formState.errors.dateFormat.message})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"language",children:"Language"}),r.jsxs(ze,{value:i.watch("language"),onValueChange:l=>i.setValue("language",l),children:[r.jsx(Re,{children:r.jsx(Fe,{placeholder:"Select language"})}),r.jsxs($e,{children:[r.jsx(Y,{value:"en",children:"English"}),r.jsx(Y,{value:"es",children:"Spanish"}),r.jsx(Y,{value:"fr",children:"French"})]})]}),i.formState.errors.language&&r.jsx("p",{className:"text-sm text-red-600",children:i.formState.errors.language.message})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"welcomeMessage",children:"Welcome Message"}),r.jsx(Wt,{id:"welcomeMessage",placeholder:"Customize the welcome message for your team...",rows:3,...i.register("welcomeMessage")}),r.jsx("p",{className:"text-sm text-gray-600",children:"This message will appear on your dashboard and in welcome emails"})]}),r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:" AI System Configuration"}),r.jsx("p",{className:"text-sm text-blue-800 mb-3",children:"Your AI assistant will be configured with these preferences and specialized for payment processing."}),r.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[r.jsx("li",{children:" Terminology will be consistent throughout the interface"}),r.jsx("li",{children:" Regional formatting for dates, currency, and time zones"}),r.jsx("li",{children:" Industry-specific prompts and business logic"}),r.jsx("li",{children:" Automated residual calculations and reporting"})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx(I,{type:"submit",disabled:a,className:"bg-black hover:bg-gray-800 text-white font-medium",children:a?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"mr-2",children:"Processing..."}),"Saving Configuration..."]}):"Save & Continue"})})]})})]})})}const ZCe=ai({companyName:Ge().min(1,"Company name is required"),website:Ge().url().optional().or(kl("")),industry:Ge().min(1,"Industry is required"),companySize:Ge().min(1,"Company size is required"),description:Ge().optional(),headquarters:Ge().optional(),founded:Ge().optional(),specialties:Ge().optional()});function JCe({organizationId:e,organization:t,progress:n,onComplete:s,isLoading:a}){const i=Ga({resolver:Ya(ZCe),defaultValues:{companyName:(t==null?void 0:t.name)||"",website:(t==null?void 0:t.website)||"",industry:(t==null?void 0:t.industry)||"",companySize:"",description:"",headquarters:"",founded:"",specialties:""}}),o=l=>{s(l)};return r.jsx("div",{className:"space-y-6",children:r.jsxs(U,{children:[r.jsx(X,{children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-500 to-green-600 rounded-lg flex items-center justify-center",children:r.jsx(Ox,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsx(J,{children:"Company Information"}),r.jsx(tt,{children:"Tell us about your company to personalize your experience"})]})]})}),r.jsx(B,{children:r.jsxs("form",{onSubmit:i.handleSubmit(o),className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"companyName",children:"Company Name *"}),r.jsx(ee,{id:"companyName",...i.register("companyName")}),i.formState.errors.companyName&&r.jsx("p",{className:"text-sm text-red-600",children:i.formState.errors.companyName.message})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"website",children:"Website"}),r.jsx(ee,{id:"website",type:"url",placeholder:"https://yourcompany.com",...i.register("website")}),i.formState.errors.website&&r.jsx("p",{className:"text-sm text-red-600",children:i.formState.errors.website.message})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"industry",children:"Industry *"}),r.jsx(ee,{id:"industry",placeholder:"Payment Processing",...i.register("industry")}),i.formState.errors.industry&&r.jsx("p",{className:"text-sm text-red-600",children:i.formState.errors.industry.message})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"companySize",children:"Company Size *"}),r.jsx(ee,{id:"companySize",placeholder:"1-10 employees",...i.register("companySize")}),i.formState.errors.companySize&&r.jsx("p",{className:"text-sm text-red-600",children:i.formState.errors.companySize.message})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"headquarters",children:"Headquarters"}),r.jsx(ee,{id:"headquarters",placeholder:"New York, NY",...i.register("headquarters")})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"founded",children:"Founded"}),r.jsx(ee,{id:"founded",placeholder:"2020",...i.register("founded")})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"description",children:"Company Description"}),r.jsx(Wt,{id:"description",placeholder:"Brief description of your company...",rows:3,...i.register("description")})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"specialties",children:"Specialties"}),r.jsx(Wt,{id:"specialties",placeholder:"Key areas of expertise, services offered...",rows:2,...i.register("specialties")})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx(I,{type:"submit",disabled:a,className:"bg-black hover:bg-gray-800 text-white font-medium",children:a?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"mr-2",children:"Processing..."}),"Saving..."]}):"Save & Continue"})})]})})]})})}function eke({organizationId:e,organization:t,progress:n,onComplete:s,isLoading:a}){const[i,o]=g.useState([{id:"1",name:(t==null?void 0:t.adminContactName)||"",email:(t==null?void 0:t.adminContactEmail)||"",role:"Admin",department:"Executive"}]),[l,c]=g.useState({name:"",email:"",role:"",department:""}),d=()=>{if(l.name&&l.email&&l.role){const x={id:Date.now().toString(),...l};o([...i,x]),c({name:"",email:"",role:"",department:""})}},u=x=>{o(i.filter(h=>h.id!==x))},m=()=>{const x={teamMembers:i,totalUsers:i.length,departments:[...new Set(i.map(h=>h.department).filter(Boolean))],roles:[...new Set(i.map(h=>h.role))],setupDate:new Date().toISOString()};s(x)},p=["Admin","Manager","Team Leader","User/Rep","Team Member","Partner"],f=["Executive","Sales","Operations","Support","Marketing","Finance","Technical"];return r.jsx("div",{className:"space-y-6",children:r.jsxs(U,{children:[r.jsx(X,{children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg flex items-center justify-center",children:r.jsx(St,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsx(J,{children:"Organization Chart"}),r.jsx(tt,{children:"Set up your team structure with roles and permissions"})]})]})}),r.jsxs(B,{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium mb-4",children:"Team Members"}),r.jsx("div",{className:"space-y-3",children:i.map(x=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:x.name}),r.jsx("p",{className:"text-sm text-gray-600",children:x.email})]}),r.jsx(oe,{variant:"secondary",children:x.role}),x.department&&r.jsx(oe,{variant:"outline",children:x.department})]})}),x.role!=="Admin"&&r.jsx(I,{variant:"ghost",size:"sm",onClick:()=>u(x.id),className:"text-red-600 hover:text-red-700",children:r.jsx(es,{className:"h-4 w-4"})})]},x.id))})]}),r.jsxs(U,{children:[r.jsx(X,{children:r.jsx(J,{className:"text-base",children:"Add Team Member"})}),r.jsxs(B,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"memberName",children:"Name"}),r.jsx(ee,{id:"memberName",placeholder:"John Smith",value:l.name,onChange:x=>c({...l,name:x.target.value})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"memberEmail",children:"Email"}),r.jsx(ee,{id:"memberEmail",type:"email",placeholder:"john@company.com",value:l.email,onChange:x=>c({...l,email:x.target.value})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"memberRole",children:"Role"}),r.jsxs(ze,{value:l.role,onValueChange:x=>c({...l,role:x}),children:[r.jsx(Re,{children:r.jsx(Fe,{placeholder:"Select role"})}),r.jsx($e,{children:p.map(x=>r.jsx(Y,{value:x,children:x},x))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"memberDepartment",children:"Department"}),r.jsxs(ze,{value:l.department,onValueChange:x=>c({...l,department:x}),children:[r.jsx(Re,{children:r.jsx(Fe,{placeholder:"Select department"})}),r.jsx($e,{children:f.map(x=>r.jsx(Y,{value:x,children:x},x))})]})]})]}),r.jsxs(I,{onClick:d,className:"mt-4",disabled:!l.name||!l.email||!l.role,children:[r.jsx(ir,{className:"h-4 w-4 mr-2"}),"Add Member"]})]})]}),r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Organization Summary"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-blue-700",children:"Total Members"}),r.jsx("p",{className:"text-xl font-semibold text-blue-900",children:i.length})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-blue-700",children:"Departments"}),r.jsx("p",{className:"text-xl font-semibold text-blue-900",children:new Set(i.map(x=>x.department).filter(Boolean)).size})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-blue-700",children:"Roles"}),r.jsx("p",{className:"text-xl font-semibold text-blue-900",children:new Set(i.map(x=>x.role)).size})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-blue-700",children:"Admin Users"}),r.jsx("p",{className:"text-xl font-semibold text-blue-900",children:i.filter(x=>x.role==="Admin").length})]})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx(I,{onClick:m,disabled:a||i.length===0,className:"bg-black hover:bg-gray-800 text-white font-medium",children:a?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"mr-2",children:"Processing..."}),"Saving..."]}):"Save & Continue"})})]})]})})}const tke=ai({idealClients:Ge().min(10,"Please provide at least 10 characters"),targetAudience:Ge().min(10,"Please provide at least 10 characters"),offers:Ge().min(10,"Please provide at least 10 characters"),strengths:Ge().min(10,"Please provide at least 10 characters"),challenges:Ge().min(10,"Please provide at least 10 characters"),purchaseMotivations:Ge().min(10,"Please provide at least 10 characters")});function rke({organizationId:e,organization:t,progress:n,onComplete:s,isLoading:a}){const[i,o]=g.useState(null),l=Ga({resolver:Ya(tke),defaultValues:{idealClients:"",targetAudience:"",offers:"",strengths:"",challenges:"",purchaseMotivations:""}}),c=Oe({mutationFn:async m=>await Te(`/api/onboarding/business-profile/${e}`,{method:"POST",body:m}),onSuccess:m=>{o(m.profile)}}),d=m=>{c.mutate(m)},u=()=>{const p={...l.getValues(),aiGeneratedProfile:i,completedAt:new Date().toISOString()};s(p)};return r.jsx("div",{className:"space-y-6",children:r.jsxs(U,{children:[r.jsx(X,{children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-indigo-500 to-indigo-600 rounded-lg flex items-center justify-center",children:r.jsx(rn,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsx(J,{children:"Business Profile"}),r.jsx(tt,{children:"Help us understand your business to provide personalized AI insights"})]})]})}),r.jsxs(B,{children:[r.jsxs("form",{onSubmit:l.handleSubmit(d),className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"idealClients",children:"Ideal Clients"}),r.jsx(Wt,{id:"idealClients",placeholder:"Describe your ideal client profile...",rows:3,...l.register("idealClients")}),l.formState.errors.idealClients&&r.jsx("p",{className:"text-sm text-red-600",children:l.formState.errors.idealClients.message})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"targetAudience",children:"Target Audience"}),r.jsx(Wt,{id:"targetAudience",placeholder:"Who are you trying to reach?",rows:3,...l.register("targetAudience")}),l.formState.errors.targetAudience&&r.jsx("p",{className:"text-sm text-red-600",children:l.formState.errors.targetAudience.message})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"offers",children:"Products & Services"}),r.jsx(Wt,{id:"offers",placeholder:"What do you offer your clients?",rows:3,...l.register("offers")}),l.formState.errors.offers&&r.jsx("p",{className:"text-sm text-red-600",children:l.formState.errors.offers.message})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"strengths",children:"Competitive Strengths"}),r.jsx(Wt,{id:"strengths",placeholder:"What sets you apart from competitors?",rows:3,...l.register("strengths")}),l.formState.errors.strengths&&r.jsx("p",{className:"text-sm text-red-600",children:l.formState.errors.strengths.message})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"challenges",children:"Business Challenges"}),r.jsx(Wt,{id:"challenges",placeholder:"What challenges are you facing?",rows:3,...l.register("challenges")}),l.formState.errors.challenges&&r.jsx("p",{className:"text-sm text-red-600",children:l.formState.errors.challenges.message})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"purchaseMotivations",children:"Purchase Motivations"}),r.jsx(Wt,{id:"purchaseMotivations",placeholder:"Why do clients choose to work with you?",rows:3,...l.register("purchaseMotivations")}),l.formState.errors.purchaseMotivations&&r.jsx("p",{className:"text-sm text-red-600",children:l.formState.errors.purchaseMotivations.message})]})]}),c.isError&&r.jsx(Mt,{variant:"destructive",children:r.jsx(It,{children:"Failed to generate AI profile. Please try again."})}),r.jsx("div",{className:"flex justify-center",children:r.jsx(I,{type:"submit",disabled:c.isPending,className:"bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 text-white",children:c.isPending?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"mr-2",children:"Processing..."}),"Generating AI Profile..."]}):r.jsxs(r.Fragment,{children:[r.jsx(rn,{className:"mr-2 h-4 w-4"}),"Generate AI Business Profile"]})})})]}),i&&r.jsxs(U,{className:"mt-6",children:[r.jsx(X,{children:r.jsxs(J,{className:"flex items-center text-green-700",children:[r.jsx(qe,{className:"h-5 w-5 mr-2"}),"AI-Generated Business Profile"]})}),r.jsxs(B,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Summary"}),r.jsx("p",{className:"text-sm text-gray-700",children:i.summary})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Target Market"}),r.jsx("p",{className:"text-sm text-gray-700",children:i.targetMarket})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Value Proposition"}),r.jsx("p",{className:"text-sm text-gray-700",children:i.valueProposition})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Competitive Advantages"}),r.jsx("p",{className:"text-sm text-gray-700",children:i.competitiveAdvantages})]}),i.recommendations&&r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"AI Recommendations"}),r.jsx("ul",{className:"text-sm text-gray-700 list-disc list-inside space-y-1",children:i.recommendations.map((m,p)=>r.jsx("li",{children:m},p))})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx(I,{onClick:u,disabled:a,className:"bg-black hover:bg-gray-800 text-white font-medium",children:a?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"mr-2",children:"Processing..."}),"Saving..."]}):"Save Profile & Continue"})})]})]})]})]})})}function nke({organizationId:e,organization:t,progress:n,onComplete:s,isLoading:a}){const[i,o]=g.useState({Processors:[],Gateways:[],"Hardware/Equipment":[],Internal:[]}),{data:l,isLoading:c}=ve({queryKey:["/api/vendors"]}),{data:d}=ve({queryKey:["/api/onboarding/vendors",e]});g.useEffect(()=>{if(d!=null&&d.vendors){const h={Processors:[],Gateways:[],"Hardware/Equipment":[],Internal:[]};d.vendors.forEach(y=>{h[y.category]&&h[y.category].push(y.vendorId)}),o(h)}},[d]);const u=Oe({mutationFn:async h=>{const y=Object.entries(h).flatMap(([v,b])=>b.map(w=>({vendorId:w,category:v})));return await Te(`/api/onboarding/vendors/${e}`,{method:"POST",body:{vendorSelections:y}})}}),m=(h,y)=>{o(v=>{const b=v[h]||[],w=b.includes(y);return{...v,[h]:w?b.filter(S=>S!==y):[...b,y]}})},p=async()=>{try{await u.mutateAsync(i);const h={selectedVendors:i,totalSelected:Object.values(i).flat().length,selectionDate:new Date().toISOString()};s(h)}catch(h){console.error("Failed to save vendor selections:",h)}};if(c)return r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"text-center text-gray-600",children:"Loading vendors..."})});const f=l==null?void 0:l.reduce((h,y)=>(h[y.category]||(h[y.category]=[]),h[y.category].push(y),h),{}),x=[{key:"Processors",name:"Payment Processors",description:"Core payment processing platforms"},{key:"Gateways",name:"Payment Gateways",description:"Gateway services and APIs"},{key:"Hardware/Equipment",name:"Hardware & Equipment",description:"Physical payment devices"},{key:"Internal",name:"Internal Tools",description:"Management and operational tools"}];return r.jsx("div",{className:"space-y-6",children:r.jsxs(U,{children:[r.jsx(X,{children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-orange-500 to-orange-600 rounded-lg flex items-center justify-center",children:r.jsx(Yq,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsx(J,{children:"Vendor Selection"}),r.jsx(tt,{children:"Choose your processors, gateways, and hardware partners"})]})]})}),r.jsxs(B,{children:[r.jsxs(ns,{defaultValue:"Processors",className:"w-full",children:[r.jsx(Un,{className:"grid w-full grid-cols-4",children:x.map(h=>{var y;return r.jsxs(ot,{value:h.key,className:"text-xs",children:[h.name,((y=i[h.key])==null?void 0:y.length)>0&&r.jsx(oe,{variant:"secondary",className:"ml-2",children:i[h.key].length})]},h.key)})}),x.map(h=>{var y;return r.jsx(lt,{value:h.key,className:"mt-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium",children:h.name}),r.jsx("p",{className:"text-sm text-gray-600",children:h.description})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(y=f==null?void 0:f[h.key])==null?void 0:y.map(v=>{var b;return r.jsx(U,{className:"cursor-pointer hover:shadow-md transition-shadow",children:r.jsx(B,{className:"p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[v.logoUrl&&r.jsx("img",{src:v.logoUrl,alt:v.name,className:"w-8 h-8 object-contain"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:v.name}),v.description&&r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:v.description})]})]}),v.loginUrl&&r.jsxs("a",{href:v.loginUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-xs text-blue-600 hover:underline mt-2",children:[r.jsx(mn,{className:"h-3 w-3 mr-1"}),"Portal Access"]})]}),r.jsx(xa,{checked:((b=i[h.key])==null?void 0:b.includes(v.id))||!1,onCheckedChange:()=>m(h.key,v.id)})]})})},v.id)})})]})},h.key)})]}),r.jsxs(U,{className:"mt-6",children:[r.jsx(X,{children:r.jsx(J,{className:"text-base",children:"Selection Summary"})}),r.jsxs(B,{children:[r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:x.map(h=>{var y;return r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:((y=i[h.key])==null?void 0:y.length)||0}),r.jsx("div",{className:"text-sm text-gray-600",children:h.name})]},h.key)})}),r.jsx("div",{className:"mt-4 text-center",children:r.jsxs("div",{className:"text-lg font-medium",children:["Total Selected: ",Object.values(i).flat().length," vendors"]})})]})]}),r.jsx("div",{className:"flex justify-end mt-6",children:r.jsx(I,{onClick:p,disabled:a||u.isPending,className:"bg-black hover:bg-gray-800 text-white font-medium",children:a||u.isPending?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"mr-2",children:"Processing..."}),"Saving Selections..."]}):r.jsxs(r.Fragment,{children:[r.jsx(qe,{className:"mr-2 h-4 w-4"}),"Save Vendors & Continue"]})})})]})]})})}const ske=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function gu(e,t,n){const s=ake(e),{webkitRelativePath:a}=e,i=typeof t=="string"?t:typeof a=="string"&&a.length>0?a:`./${e.name}`;return typeof s.path!="string"&&rT(s,"path",i),rT(s,"relativePath",i),s}function ake(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const s=t.split(".").pop().toLowerCase(),a=ske.get(s);a&&Object.defineProperty(e,"type",{value:a,writable:!1,configurable:!1,enumerable:!0})}return e}function rT(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,configurable:!1,enumerable:!0})}const ike=[".DS_Store","Thumbs.db"];function oke(e){return fc(this,void 0,void 0,function*(){return Zg(e)&&lke(e.dataTransfer)?mke(e.dataTransfer,e.type):cke(e)?dke(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?uke(e):[]})}function lke(e){return Zg(e)}function cke(e){return Zg(e)&&Zg(e.target)}function Zg(e){return typeof e=="object"&&e!==null}function dke(e){return s1(e.target.files).map(t=>gu(t))}function uke(e){return fc(this,void 0,void 0,function*(){return(yield Promise.all(e.map(n=>n.getFile()))).map(n=>gu(n))})}function mke(e,t){return fc(this,void 0,void 0,function*(){if(e.items){const n=s1(e.items).filter(a=>a.kind==="file");if(t!=="drop")return n;const s=yield Promise.all(n.map(hke));return nT(i9(s))}return nT(s1(e.files).map(n=>gu(n)))})}function nT(e){return e.filter(t=>ike.indexOf(t.name)===-1)}function s1(e){if(e===null)return[];const t=[];for(let n=0;n<e.length;n++){const s=e[n];t.push(s)}return t}function hke(e){if(typeof e.webkitGetAsEntry!="function")return sT(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?o9(t):sT(e,t)}function i9(e){return e.reduce((t,n)=>[...t,...Array.isArray(n)?i9(n):[n]],[])}function sT(e,t){return fc(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const i=yield e.getAsFileSystemHandle();if(i===null)throw new Error(`${e} is not a File`);if(i!==void 0){const o=yield i.getFile();return o.handle=i,gu(o)}}const s=e.getAsFile();if(!s)throw new Error(`${e} is not a File`);return gu(s,(n=t==null?void 0:t.fullPath)!==null&&n!==void 0?n:void 0)})}function pke(e){return fc(this,void 0,void 0,function*(){return e.isDirectory?o9(e):fke(e)})}function o9(e){const t=e.createReader();return new Promise((n,s)=>{const a=[];function i(){t.readEntries(o=>fc(this,void 0,void 0,function*(){if(o.length){const l=Promise.all(o.map(pke));a.push(l),i()}else try{const l=yield Promise.all(a);n(l)}catch(l){s(l)}}),o=>{s(o)})}i()})}function fke(e){return fc(this,void 0,void 0,function*(){return new Promise((t,n)=>{e.file(s=>{const a=gu(s,e.fullPath);t(a)},s=>{n(s)})})})}var Rb=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(",");if(n.length===0)return!0;var s=e.name||"",a=(e.type||"").toLowerCase(),i=a.replace(/\/.*$/,"");return n.some(function(o){var l=o.trim().toLowerCase();return l.charAt(0)==="."?s.toLowerCase().endsWith(l):l.endsWith("/*")?i===l.replace(/\/.*$/,""):a===l})}return!0};function aT(e){return yke(e)||gke(e)||c9(e)||xke()}function xke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yke(e){if(Array.isArray(e))return a1(e)}function iT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function oT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iT(Object(n),!0).forEach(function(s){l9(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function l9(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function op(e,t){return wke(e)||bke(e,t)||c9(e,t)||vke()}function vke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c9(e,t){if(e){if(typeof e=="string")return a1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a1(e,t)}}function a1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function bke(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s=[],a=!0,i=!1,o,l;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(s.push(o.value),!(t&&s.length===t));a=!0);}catch(c){i=!0,l=c}finally{try{!a&&n.return!=null&&n.return()}finally{if(i)throw l}}return s}}function wke(e){if(Array.isArray(e))return e}var jke=typeof Rb=="function"?Rb:Rb.default,Nke="file-invalid-type",Ske="file-too-large",Cke="file-too-small",kke="too-many-files",Ake=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=t.split(","),s=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:Nke,message:"File type must be ".concat(s)}},lT=function(t){return{code:Ske,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},cT=function(t){return{code:Cke,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},Pke={code:kke,message:"Too many files"};function d9(e,t){var n=e.type==="application/x-moz-file"||jke(e,t);return[n,n?null:Ake(t)]}function u9(e,t,n){if(xl(e.size))if(xl(t)&&xl(n)){if(e.size>n)return[!1,lT(n)];if(e.size<t)return[!1,cT(t)]}else{if(xl(t)&&e.size<t)return[!1,cT(t)];if(xl(n)&&e.size>n)return[!1,lT(n)]}return[!0,null]}function xl(e){return e!=null}function Oke(e){var t=e.files,n=e.accept,s=e.minSize,a=e.maxSize,i=e.multiple,o=e.maxFiles,l=e.validator;return!i&&t.length>1||i&&o>=1&&t.length>o?!1:t.every(function(c){var d=d9(c,n),u=op(d,1),m=u[0],p=u9(c,s,a),f=op(p,1),x=f[0],h=l?l(c):null;return m&&x&&!h})}function Jg(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function If(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function dT(e){e.preventDefault()}function Eke(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function _ke(e){return e.indexOf("Edge/")!==-1}function Tke(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Eke(e)||_ke(e)}function Ta(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(s){for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];return t.some(function(l){return!Jg(s)&&l&&l.apply(void 0,[s].concat(i)),Jg(s)})}}function Mke(){return"showOpenFilePicker"in window}function Ike(e){if(xl(e)){var t=Object.entries(e).filter(function(n){var s=op(n,2),a=s[0],i=s[1],o=!0;return m9(a)||(console.warn('Skipped "'.concat(a,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(i)||!i.every(h9))&&(console.warn('Skipped "'.concat(a,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(n,s){var a=op(s,2),i=a[0],o=a[1];return oT(oT({},n),{},l9({},i,o))},{});return[{description:"Files",accept:t}]}return e}function Rke(e){if(xl(e))return Object.entries(e).reduce(function(t,n){var s=op(n,2),a=s[0],i=s[1];return[].concat(aT(t),[a],aT(i))},[]).filter(function(t){return m9(t)||h9(t)}).join(",")}function $ke(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function Dke(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function m9(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function h9(e){return/^.*\.[\w]+$/.test(e)}var zke=["children"],Fke=["open"],Lke=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Uke=["refKey","onChange","onClick"];function Bke(e){return Wke(e)||qke(e)||p9(e)||Vke()}function Vke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Wke(e){if(Array.isArray(e))return i1(e)}function $b(e,t){return Gke(e)||Kke(e,t)||p9(e,t)||Hke()}function Hke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p9(e,t){if(e){if(typeof e=="string")return i1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i1(e,t)}}function i1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function Kke(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s=[],a=!0,i=!1,o,l;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(s.push(o.value),!(t&&s.length===t));a=!0);}catch(c){i=!0,l=c}finally{try{!a&&n.return!=null&&n.return()}finally{if(i)throw l}}return s}}function Gke(e){if(Array.isArray(e))return e}function uT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function or(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uT(Object(n),!0).forEach(function(s){o1(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function o1(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e0(e,t){if(e==null)return{};var n=Yke(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Yke(e,t){if(e==null)return{};var n={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}var N4=g.forwardRef(function(e,t){var n=e.children,s=e0(e,zke),a=x9(s),i=a.open,o=e0(a,Fke);return g.useImperativeHandle(t,function(){return{open:i}},[i]),L.createElement(g.Fragment,null,n(or(or({},o),{},{open:i})))});N4.displayName="Dropzone";var f9={disabled:!1,getFilesFromEvent:oke,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};N4.defaultProps=f9;N4.propTypes={children:He.func,accept:He.objectOf(He.arrayOf(He.string)),multiple:He.bool,preventDropOnDocument:He.bool,noClick:He.bool,noKeyboard:He.bool,noDrag:He.bool,noDragEventsBubbling:He.bool,minSize:He.number,maxSize:He.number,maxFiles:He.number,disabled:He.bool,getFilesFromEvent:He.func,onFileDialogCancel:He.func,onFileDialogOpen:He.func,useFsAccessApi:He.bool,autoFocus:He.bool,onDragEnter:He.func,onDragLeave:He.func,onDragOver:He.func,onDrop:He.func,onDropAccepted:He.func,onDropRejected:He.func,onError:He.func,validator:He.func};var l1={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function x9(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=or(or({},f9),e),n=t.accept,s=t.disabled,a=t.getFilesFromEvent,i=t.maxSize,o=t.minSize,l=t.multiple,c=t.maxFiles,d=t.onDragEnter,u=t.onDragLeave,m=t.onDragOver,p=t.onDrop,f=t.onDropAccepted,x=t.onDropRejected,h=t.onFileDialogCancel,y=t.onFileDialogOpen,v=t.useFsAccessApi,b=t.autoFocus,w=t.preventDropOnDocument,S=t.noClick,N=t.noKeyboard,j=t.noDrag,C=t.noDragEventsBubbling,A=t.onError,k=t.validator,O=g.useMemo(function(){return Rke(n)},[n]),M=g.useMemo(function(){return Ike(n)},[n]),P=g.useMemo(function(){return typeof y=="function"?y:mT},[y]),_=g.useMemo(function(){return typeof h=="function"?h:mT},[h]),E=g.useRef(null),T=g.useRef(null),$=g.useReducer(Qke,l1),q=$b($,2),R=q[0],D=q[1],V=R.isFocused,F=R.isFileDialogActive,z=g.useRef(typeof window<"u"&&window.isSecureContext&&v&&Mke()),Q=function(){!z.current&&F&&setTimeout(function(){if(T.current){var ae=T.current.files;ae.length||(D({type:"closeDialog"}),_())}},300)};g.useEffect(function(){return window.addEventListener("focus",Q,!1),function(){window.removeEventListener("focus",Q,!1)}},[T,F,_,z]);var te=g.useRef([]),me=function(ae){E.current&&E.current.contains(ae.target)||(ae.preventDefault(),te.current=[])};g.useEffect(function(){return w&&(document.addEventListener("dragover",dT,!1),document.addEventListener("drop",me,!1)),function(){w&&(document.removeEventListener("dragover",dT),document.removeEventListener("drop",me))}},[E,w]),g.useEffect(function(){return!s&&b&&E.current&&E.current.focus(),function(){}},[E,b,s]);var ge=g.useCallback(function(ne){A?A(ne):console.error(ne)},[A]),he=g.useCallback(function(ne){ne.preventDefault(),ne.persist(),Fr(ne),te.current=[].concat(Bke(te.current),[ne.target]),If(ne)&&Promise.resolve(a(ne)).then(function(ae){if(!(Jg(ne)&&!C)){var fe=ae.length,Ae=fe>0&&Oke({files:ae,accept:O,minSize:o,maxSize:i,multiple:l,maxFiles:c,validator:k}),Xe=fe>0&&!Ae;D({isDragAccept:Ae,isDragReject:Xe,isDragActive:!0,type:"setDraggedFiles"}),d&&d(ne)}}).catch(function(ae){return ge(ae)})},[a,d,ge,C,O,o,i,l,c,k]),Ce=g.useCallback(function(ne){ne.preventDefault(),ne.persist(),Fr(ne);var ae=If(ne);if(ae&&ne.dataTransfer)try{ne.dataTransfer.dropEffect="copy"}catch{}return ae&&m&&m(ne),!1},[m,C]),se=g.useCallback(function(ne){ne.preventDefault(),ne.persist(),Fr(ne);var ae=te.current.filter(function(Ae){return E.current&&E.current.contains(Ae)}),fe=ae.indexOf(ne.target);fe!==-1&&ae.splice(fe,1),te.current=ae,!(ae.length>0)&&(D({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),If(ne)&&u&&u(ne))},[E,u,C]),G=g.useCallback(function(ne,ae){var fe=[],Ae=[];ne.forEach(function(Xe){var ce=d9(Xe,O),Me=$b(ce,2),Dt=Me[0],zt=Me[1],Lr=u9(Xe,o,i),Nn=$b(Lr,2),pe=Nn[0],ft=Nn[1],Tt=k?k(Xe):null;if(Dt&&pe&&!Tt)fe.push(Xe);else{var Ur=[zt,ft];Tt&&(Ur=Ur.concat(Tt)),Ae.push({file:Xe,errors:Ur.filter(function(Bn){return Bn})})}}),(!l&&fe.length>1||l&&c>=1&&fe.length>c)&&(fe.forEach(function(Xe){Ae.push({file:Xe,errors:[Pke]})}),fe.splice(0)),D({acceptedFiles:fe,fileRejections:Ae,isDragReject:Ae.length>0,type:"setFiles"}),p&&p(fe,Ae,ae),Ae.length>0&&x&&x(Ae,ae),fe.length>0&&f&&f(fe,ae)},[D,l,O,o,i,c,p,f,x,k]),xe=g.useCallback(function(ne){ne.preventDefault(),ne.persist(),Fr(ne),te.current=[],If(ne)&&Promise.resolve(a(ne)).then(function(ae){Jg(ne)&&!C||G(ae,ne)}).catch(function(ae){return ge(ae)}),D({type:"reset"})},[a,G,ge,C]),re=g.useCallback(function(){if(z.current){D({type:"openDialog"}),P();var ne={multiple:l,types:M};window.showOpenFilePicker(ne).then(function(ae){return a(ae)}).then(function(ae){G(ae,null),D({type:"closeDialog"})}).catch(function(ae){$ke(ae)?(_(ae),D({type:"closeDialog"})):Dke(ae)?(z.current=!1,T.current?(T.current.value=null,T.current.click()):ge(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ge(ae)});return}T.current&&(D({type:"openDialog"}),P(),T.current.value=null,T.current.click())},[D,P,_,v,G,ge,M,l]),We=g.useCallback(function(ne){!E.current||!E.current.isEqualNode(ne.target)||(ne.key===" "||ne.key==="Enter"||ne.keyCode===32||ne.keyCode===13)&&(ne.preventDefault(),re())},[E,re]),Ue=g.useCallback(function(){D({type:"focus"})},[]),nt=g.useCallback(function(){D({type:"blur"})},[]),mt=g.useCallback(function(){S||(Tke()?setTimeout(re,0):re())},[S,re]),Nt=function(ae){return s?null:ae},wr=function(ae){return N?null:Nt(ae)},jr=function(ae){return j?null:Nt(ae)},Fr=function(ae){C&&ae.stopPropagation()},W=g.useMemo(function(){return function(){var ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ae=ne.refKey,fe=ae===void 0?"ref":ae,Ae=ne.role,Xe=ne.onKeyDown,ce=ne.onFocus,Me=ne.onBlur,Dt=ne.onClick,zt=ne.onDragEnter,Lr=ne.onDragOver,Nn=ne.onDragLeave,pe=ne.onDrop,ft=e0(ne,Lke);return or(or(o1({onKeyDown:wr(Ta(Xe,We)),onFocus:wr(Ta(ce,Ue)),onBlur:wr(Ta(Me,nt)),onClick:Nt(Ta(Dt,mt)),onDragEnter:jr(Ta(zt,he)),onDragOver:jr(Ta(Lr,Ce)),onDragLeave:jr(Ta(Nn,se)),onDrop:jr(Ta(pe,xe)),role:typeof Ae=="string"&&Ae!==""?Ae:"presentation"},fe,E),!s&&!N?{tabIndex:0}:{}),ft)}},[E,We,Ue,nt,mt,he,Ce,se,xe,N,j,s]),Z=g.useCallback(function(ne){ne.stopPropagation()},[]),ie=g.useMemo(function(){return function(){var ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ae=ne.refKey,fe=ae===void 0?"ref":ae,Ae=ne.onChange,Xe=ne.onClick,ce=e0(ne,Uke),Me=o1({accept:O,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Nt(Ta(Ae,xe)),onClick:Nt(Ta(Xe,Z)),tabIndex:-1},fe,T);return or(or({},Me),ce)}},[T,n,l,xe,s]);return or(or({},R),{},{isFocused:V&&!s,getRootProps:W,getInputProps:ie,rootRef:E,inputRef:T,open:Nt(re)})}function Qke(e,t){switch(t.type){case"focus":return or(or({},e),{},{isFocused:!0});case"blur":return or(or({},e),{},{isFocused:!1});case"openDialog":return or(or({},l1),{},{isFileDialogActive:!0});case"closeDialog":return or(or({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return or(or({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return or(or({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return or({},l1);default:return e}}function mT(){}const Xke="https://docs.google.com/spreadsheets/d/1example-template-id/template/preview";function Zke({organizationId:e,processorId:t,processorName:n,fileHeaders:s,onComplete:a,onSkip:i}){const{toast:o}=pt(),[l,c]=g.useState({}),[d,u]=g.useState(`${n} Standard Format`),{data:m=[]}=ve({queryKey:["/api/processor-mappings/template-fields"]}),{data:p,isLoading:f}=ve({queryKey:["/api/processor-mappings/parse-headers",e,t,s],queryFn:async()=>(await Te("/api/processor-mappings/parse-headers",{method:"POST",body:{headers:s,organizationId:e,processorId:t}})).json(),enabled:s.length>0});g.useEffect(()=>{p!=null&&p.suggestions&&c(p.suggestions)},[p]);const x=Oe({mutationFn:async()=>(await Te("/api/processor-mappings",{method:"POST",body:{organizationId:e,processorId:t,processorName:n,mappingName:d,columnMappings:l,sampleHeaders:s,isDefault:!0}})).json(),onSuccess:j=>{o({title:"Mapping Saved",description:`Column mapping for ${n} has been saved successfully.`}),At.invalidateQueries({queryKey:["/api/processor-mappings"]}),a(j.id)},onError:j=>{o({title:"Error",description:j.message||"Failed to save column mapping",variant:"destructive"})}}),h=(j,C)=>{c(A=>{const k={...A};return C==="none"?delete k[j]:k[j]=C,k})},y=()=>{p!=null&&p.suggestions&&(c(p.suggestions),o({title:"Auto-mapped",description:"Columns have been automatically mapped based on header names."}))},v=m.filter(j=>j.required),b=Object.values(l),w=v.filter(j=>!b.includes(j.key)),S=w.length===0,N=j=>{var C;return(C=Object.entries(l).find(([A,k])=>k===j))==null?void 0:C[0]};return f?r.jsx(U,{children:r.jsxs(B,{className:"flex items-center justify-center py-12",children:[r.jsx(gr,{className:"h-8 w-8 animate-spin text-yellow-500"}),r.jsx("span",{className:"ml-3 text-lg",children:"Analyzing file headers..."})]})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs(U,{className:"border-yellow-500/20",children:[r.jsx(X,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(J,{className:"flex items-center gap-2",children:[r.jsx(ki,{className:"h-5 w-5 text-yellow-500"}),"Map ",n," Columns"]}),r.jsx(tt,{children:"Tell us which columns in your processor report match our template fields"})]}),(p==null?void 0:p.existingMapping)&&r.jsxs(oe,{variant:"secondary",children:["Version ",p.existingMapping.version," exists"]})]})}),r.jsxs(B,{className:"space-y-6",children:[r.jsxs(Mt,{children:[r.jsx(ki,{className:"h-4 w-4"}),r.jsx(Vg,{children:"Prefer a pre-formatted template?"}),r.jsxs(It,{className:"flex items-center justify-between",children:[r.jsx("span",{children:"Download our Google Sheets template and skip this mapping step."}),r.jsxs(I,{variant:"outline",size:"sm",className:"ml-4",onClick:()=>window.open(Xke,"_blank"),"data-testid":"btn-google-template",children:[r.jsx(mn,{className:"mr-2 h-4 w-4"}),"Get Template"]})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h4",{className:"text-sm font-medium",children:"Column Mappings"}),r.jsxs(I,{variant:"outline",size:"sm",onClick:y,"data-testid":"btn-auto-map",children:[r.jsx(lW,{className:"mr-2 h-4 w-4"}),"Auto-Map"]})]}),r.jsx("div",{className:"grid gap-4",children:s.map((j,C)=>r.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg bg-muted/50","data-testid":`mapping-row-${C}`,children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium truncate",children:j}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Column ",C+1]})]}),r.jsx(wp,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),r.jsx("div",{className:"w-64",children:r.jsxs(ze,{value:l[j]||"none",onValueChange:A=>h(j,A),"data-testid":`select-mapping-${C}`,children:[r.jsx(Re,{children:r.jsx(Fe,{placeholder:"Select field..."})}),r.jsxs($e,{children:[r.jsx(Y,{value:"none",children:"-- Do not import --"}),m.map(A=>{const k=N(A.key),O=k===j,M=!!(k&&!O);return r.jsx(Y,{value:A.key,disabled:M,children:r.jsxs("span",{className:"flex items-center gap-2",children:[A.label,A.required&&r.jsx(oe,{variant:"destructive",className:"text-xs px-1",children:"Required"}),O&&r.jsx(On,{className:"h-3 w-3 text-green-500"})]})},A.key)})]})]})})]},j))}),r.jsx(m4,{}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"text-sm font-medium",children:"Mapping Summary"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:m.map(j=>{const C=N(j.key),A=!!C;return r.jsxs("div",{className:`p-2 rounded-md text-sm ${A?"bg-green-500/10 text-green-700 dark:text-green-400":j.required?"bg-red-500/10 text-red-700 dark:text-red-400":"bg-muted text-muted-foreground"}`,"data-testid":`summary-${j.key}`,children:[r.jsxs("div",{className:"flex items-center gap-1",children:[A?r.jsx(On,{className:"h-3 w-3"}):j.required?r.jsx(ht,{className:"h-3 w-3"}):null,r.jsx("span",{className:"truncate",children:j.label})]}),A&&r.jsxs("p",{className:"text-xs opacity-75 truncate",children:[" ",C]})]},j.key)})})]}),!S&&r.jsxs(Mt,{variant:"destructive",children:[r.jsx(ht,{className:"h-4 w-4"}),r.jsx(Vg,{children:"Missing Required Fields"}),r.jsxs(It,{children:["Please map the following required fields: ",w.map(j=>j.label).join(", ")]})]})]})]}),r.jsxs("div",{className:"flex justify-between",children:[i&&r.jsx(I,{variant:"outline",onClick:i,"data-testid":"btn-skip-mapping",children:"Skip for Now"}),r.jsx("div",{className:"flex gap-2 ml-auto",children:r.jsx(I,{onClick:()=>x.mutate(),disabled:!S||x.isPending,className:"bg-yellow-500 hover:bg-yellow-600 text-black","data-testid":"btn-save-mapping",children:x.isPending?r.jsxs(r.Fragment,{children:[r.jsx(gr,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):"Save Mapping & Continue"})})]})]})}const Jke="https://docs.google.com/spreadsheets/d/1example-template-id/template/preview";function eAe({organizationId:e,onComplete:t,isLoading:n}){const[s,a]=g.useState(null),[i,o]=g.useState([]),[l,c]=g.useState(""),[d,u]=g.useState(!1),[m,p]=g.useState(null),[f,x]=g.useState([]),{data:h=[],isLoading:y}=ve({queryKey:["/api/processors"]}),{data:v=[]}=ve({queryKey:["/api/processor-mappings",e],queryFn:async()=>{const P=await fetch(`/api/processor-mappings?organizationId=${e}`);return P.ok?P.json():[]},enabled:!!e}),b=h.find(P=>P.id===s),w=g.useCallback(async P=>{u(!0),p(null),c(P.name);try{const E=(await P.text()).split(`
`);if(E.length===0)throw new Error("File appears to be empty");const T=E[0].trim();let $=[];if(T.includes("	"))$=T.split("	").map(q=>q.trim()).filter(q=>q);else if(T.includes(",")){const q=/(?:^|,)(\"(?:[^\"]+|\"\")*\"|[^,]*)/g;let R;for(;(R=q.exec(T))!==null;){let D=R[1].trim();D.startsWith('"')&&D.endsWith('"')&&(D=D.slice(1,-1).replace(/""/g,'"')),D&&$.push(D)}}else $=T.split(/\s{2,}/).map(q=>q.trim()).filter(q=>q);if($.length===0)throw new Error("Could not parse headers from file");o($)}catch(_){p(_.message),o([])}finally{u(!1)}},[]),{getRootProps:S,getInputProps:N,isDragActive:j}=x9({onDrop:P=>{P.length>0&&w(P[0])},accept:{"text/csv":[".csv"],"application/vnd.ms-excel":[".xls"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"],"text/plain":[".txt"]},maxFiles:1,disabled:!s}),C=P=>{s&&x(_=>[..._,s]),o([]),c(""),a(null)},A=()=>{t({completedMappings:f,skippedMapping:f.length===0})},k=()=>{t({completedMappings:[],skippedMapping:!0})},O=P=>v.find(E=>E.processorId===P)?"configured":f.includes(P)?"completed":"pending";if(y)return r.jsxs("div",{className:"flex items-center justify-center py-12",children:[r.jsx(gr,{className:"h-8 w-8 animate-spin text-yellow-500"}),r.jsx("span",{className:"ml-3",children:"Loading processors..."})]});const M=h.filter(P=>P.isActive);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Configure Processor Report Formats"}),r.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Each processor sends reports with different column formats. Let us know how your processor reports are organized so we can automatically import your data."})]}),r.jsxs(Mt,{className:"bg-blue-500/10 border-blue-500/20",children:[r.jsx(ph,{className:"h-4 w-4 text-blue-500"}),r.jsx(Vg,{children:"One-Time Setup"}),r.jsx(It,{children:"You only need to do this once per processor. We'll remember your column mappings for future uploads. You can also skip this step and use our Google Sheets template instead."})]}),!s&&i.length===0&&r.jsxs(U,{children:[r.jsxs(X,{children:[r.jsxs(J,{className:"flex items-center gap-2",children:[r.jsx(ki,{className:"h-5 w-5 text-yellow-500"}),"Select a Processor"]}),r.jsx(tt,{children:"Choose a processor to configure its report format"})]}),r.jsxs(B,{className:"space-y-4",children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:M.map(P=>{const _=O(P.id);return r.jsx(U,{className:`cursor-pointer transition-all hover:border-yellow-500/50 ${_==="configured"||_==="completed"?"border-green-500/50 bg-green-500/5":""}`,onClick:()=>_!=="configured"&&a(P.id),"data-testid":`processor-card-${P.id}`,children:r.jsxs(B,{className:"p-4 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:P.name}),r.jsx("p",{className:"text-sm text-muted-foreground",children:_==="configured"?"Already configured":_==="completed"?"Just configured":"Click to configure"})]}),(_==="configured"||_==="completed")&&r.jsx(On,{className:"h-5 w-5 text-green-500"})]})},P.id)})}),r.jsx("div",{className:"flex items-center justify-center py-4",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Prefer a pre-formatted template?"}),r.jsxs(I,{variant:"outline",onClick:()=>window.open(Jke,"_blank"),"data-testid":"btn-google-template-main",children:[r.jsx(mn,{className:"mr-2 h-4 w-4"}),"Get Google Sheets Template"]})]})})]})]}),s&&i.length===0&&r.jsxs(U,{children:[r.jsx(X,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(J,{className:"flex items-center gap-2",children:[r.jsx(rr,{className:"h-5 w-5 text-yellow-500"}),"Upload Sample ",b==null?void 0:b.name," Report"]}),r.jsx(tt,{children:"Upload a sample report file so we can learn the column structure"})]}),r.jsx(I,{variant:"ghost",size:"sm",onClick:()=>a(null),"data-testid":"btn-change-processor",children:"Change Processor"})]})}),r.jsxs(B,{children:[r.jsxs("div",{...S(),className:`border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors ${j?"border-yellow-500 bg-yellow-500/10":"border-muted-foreground/25 hover:border-yellow-500/50"}`,"data-testid":"dropzone",children:[r.jsx("input",{...N(),"data-testid":"file-input"}),d?r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx(gr,{className:"h-12 w-12 animate-spin text-yellow-500 mb-4"}),r.jsx("p",{children:"Analyzing file..."})]}):r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx(rr,{className:"h-12 w-12 text-muted-foreground mb-4"}),r.jsx("p",{className:"text-lg font-medium mb-2",children:j?"Drop the file here":"Drag and drop a report file"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"or click to browse (CSV, XLSX, XLS, TXT)"}),r.jsx(oe,{variant:"secondary",children:"We only read the headers, no data is stored"})]})]}),m&&r.jsx(Mt,{variant:"destructive",className:"mt-4",children:r.jsx(It,{children:m})})]})]}),s&&i.length>0&&b&&r.jsx(Zke,{organizationId:e,processorId:s,processorName:b.name,fileHeaders:i,onComplete:C,onSkip:()=>{o([]),c(""),a(null)}}),r.jsxs("div",{className:"flex justify-between pt-6",children:[r.jsx(I,{variant:"outline",onClick:k,disabled:n,"data-testid":"btn-skip-step",children:"Skip This Step"}),r.jsx(I,{onClick:A,disabled:n,className:"bg-yellow-500 hover:bg-yellow-600 text-black","data-testid":"btn-complete-step",children:n?r.jsxs(r.Fragment,{children:[r.jsx(gr,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):f.length>0?`Continue (${f.length} configured)`:"Continue"})]})]})}function Db({organizationId:e,organization:t,progress:n,onComplete:s,isLoading:a}){var x;const[i,o]=g.useState(""),[l,c]=g.useState({}),d=[{id:"google_drive",name:"Google Drive",description:"Seamless integration with Google Workspace",icon:"",status:"available",features:["Auto-sync documents","Team collaboration","Version control","Secure sharing"]},{id:"onedrive",name:"Microsoft OneDrive",description:"Connect with Microsoft 365 ecosystem",icon:"",status:"available",features:["Office integration","Enterprise security","Team sites","File versioning"]},{id:"sharepoint",name:"SharePoint",description:"Enterprise document management",icon:"",status:"available",features:["Workflow automation","Compliance features","Advanced permissions","Metadata management"]},{id:"dropbox",name:"Dropbox Business",description:"Professional file storage and sharing",icon:"",status:"available",features:["Smart sync","Advanced sharing","Paper integration","Admin controls"]},{id:"manual",name:"Manual Setup",description:"Configure later with custom solution",icon:"",status:"available",features:["Flexible setup","Custom integrations","API access","Self-managed"]}],u=h=>{o(h)},m=async h=>{c({...l,[h]:"connecting"}),setTimeout(()=>{c({...l,[h]:"connected"})},2e3)},p=()=>{const h={selectedProvider:i,integrationStatus:l,setupType:i==="manual"?"manual":"oauth",configuredAt:new Date().toISOString(),reminderScheduled:i==="manual"};s(h)},f=h=>{switch(h){case"connected":return r.jsx(oe,{className:"bg-green-100 text-green-800",children:"Connected"});case"connecting":return r.jsx(oe,{className:"bg-yellow-100 text-yellow-800",children:"Connecting..."});case"error":return r.jsx(oe,{variant:"destructive",children:"Error"});default:return r.jsx(oe,{variant:"outline",children:"Available"})}};return r.jsx("div",{className:"space-y-6",children:r.jsxs(U,{children:[r.jsx(X,{children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-lg flex items-center justify-center",children:r.jsx(et,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsx(J,{children:"Document Hub Integration"}),r.jsx(tt,{children:"Connect your cloud storage for seamless document management"})]})]})}),r.jsxs(B,{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium mb-4",children:"Choose Your Document Storage"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:d.map(h=>r.jsx(U,{className:`cursor-pointer transition-all ${i===h.id?"border-yellow-400 bg-yellow-50":"hover:shadow-md"}`,onClick:()=>u(h.id),children:r.jsxs(B,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("span",{className:"text-2xl",children:h.icon}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:h.name}),r.jsx("p",{className:"text-sm text-gray-600",children:h.description})]})]}),f(l[h.id]||h.status)]}),r.jsx("ul",{className:"text-xs text-gray-600 space-y-1",children:h.features.map((y,v)=>r.jsxs("li",{className:"flex items-center",children:[r.jsx(qe,{className:"h-3 w-3 text-green-500 mr-2"}),y]},v))}),i===h.id&&h.id!=="manual"&&r.jsx(I,{onClick:()=>m(h.id),disabled:l[h.id]==="connecting",className:"w-full mt-3 bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white",children:l[h.id]==="connecting"?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"mr-2",children:"Processing..."}),"Connecting..."]}):l[h.id]==="connected"?r.jsxs(r.Fragment,{children:[r.jsx(qe,{className:"mr-2 h-4 w-4"}),"Connected"]}):r.jsxs(r.Fragment,{children:[r.jsx(Aq,{className:"mr-2 h-4 w-4"}),"Connect with OAuth"]})})]})},h.id))})]}),i==="manual"&&r.jsxs(Mt,{children:[r.jsx(vr,{className:"h-4 w-4"}),r.jsxs(It,{children:[r.jsx("strong",{children:"Manual Setup Selected:"})," You can configure your document storage later. A reminder will be sent to help you complete the integration when you're ready."]})]}),i&&l[i]==="connected"&&r.jsxs(Mt,{children:[r.jsx(qe,{className:"h-4 w-4"}),r.jsxs(It,{children:[r.jsx("strong",{children:"Integration Successful:"})," Your ",(x=d.find(h=>h.id===i))==null?void 0:x.name," account is now connected. Documents will sync automatically with your ISOHub workspace."]})]}),r.jsxs(U,{children:[r.jsx(X,{children:r.jsx(J,{className:"text-base",children:"Document Hub Features"})}),r.jsx(B,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"font-medium",children:" Document Management"}),r.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[r.jsx("li",{children:" Secure client document sharing"}),r.jsx("li",{children:" Automated folder organization"}),r.jsx("li",{children:" Version control and history"}),r.jsx("li",{children:" Bulk upload capabilities"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"font-medium",children:" Security & Compliance"}),r.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[r.jsx("li",{children:" End-to-end encryption"}),r.jsx("li",{children:" Access control permissions"}),r.jsx("li",{children:" Audit trail logging"}),r.jsx("li",{children:" GDPR/CCPA compliance"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"font-medium",children:" Team Collaboration"}),r.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[r.jsx("li",{children:" Real-time collaboration"}),r.jsx("li",{children:" Comment and review system"}),r.jsx("li",{children:" Workflow notifications"}),r.jsx("li",{children:" Team workspace sharing"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"font-medium",children:" Mobile Access"}),r.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[r.jsx("li",{children:" Mobile app integration"}),r.jsx("li",{children:" Offline document access"}),r.jsx("li",{children:" Push notifications"}),r.jsx("li",{children:" Cross-device sync"})]})]})]})})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx(I,{onClick:p,disabled:!i||a,className:"bg-black hover:bg-gray-800 text-white font-medium",children:a?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"mr-2",children:"Processing..."}),"Setting up..."]}):"Complete Setup & Continue"})})]})]})})}function tAe({organizationId:e,organization:t,progress:n,onComplete:s,isLoading:a}){const[i,o]=g.useState(!1),[l,c]=g.useState([]),d=[{id:"dashboard-overview",title:"Dashboard Overview",description:"Get familiar with your main workspace and key metrics",duration:"2 min",features:["Revenue tracking","Merchant status","Quick actions","Recent activity"]},{id:"merchant-management",title:"Merchant Management",description:"Learn to manage your merchant portfolio",duration:"3 min",features:["Add merchants","View details","Track payments","Assignment management"]},{id:"reports-analytics",title:"Reports & Analytics",description:"Discover powerful reporting and AI insights",duration:"4 min",features:["AI report builder","Custom queries","Scheduled reports","Export options"]},{id:"document-portal",title:"Document Portal",description:"Secure document sharing and management",duration:"2 min",features:["Upload documents","Client sharing","Access controls","Version history"]},{id:"pre-applications",title:"Pre-Applications",description:"Streamlined merchant application process",duration:"3 min",features:["Generate links","Track submissions","Email automation","Status management"]},{id:"team-collaboration",title:"Team & Collaboration",description:"Work effectively with your team",duration:"2 min",features:["User roles","Permissions","Team workspaces","Communication"]}],u=()=>{o(!0);const x=setInterval(()=>{c(h=>h.length<d.length?[...h,d[h.length].id]:(clearInterval(x),h))},1500)},m=()=>{const x={tourCompleted:!0,completedSteps:l,tourDuration:d.length*2.5,completedAt:new Date().toISOString(),redirectToDashboard:!0};s(x)},p=()=>{const x={tourCompleted:!1,skipped:!0,skippedAt:new Date().toISOString(),redirectToDashboard:!0};s(x)},f=l.length===d.length;return r.jsx("div",{className:"space-y-6",children:r.jsxs(U,{children:[r.jsx(X,{children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg flex items-center justify-center",children:r.jsx(Pq,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsx(J,{children:"Interactive Dashboard Tour"}),r.jsx(tt,{children:"Learn your new workspace with a guided tour of key features"})]})]})}),r.jsx(B,{className:"space-y-6",children:i?r.jsx(r.Fragment,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-medium",children:"Tour in Progress"}),r.jsxs(oe,{className:"bg-purple-100 text-purple-800",children:[l.length," of ",d.length," completed"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 h-2 rounded-full transition-all duration-300",style:{width:`${l.length/d.length*100}%`}})}),r.jsx("div",{className:"space-y-3",children:d.map((x,h)=>{const y=l.includes(x.id),v=l.length===h;return r.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-lg border ${y?"bg-green-50 border-green-200":v?"bg-purple-50 border-purple-200":"bg-gray-50 border-gray-200"}`,children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${y?"bg-green-500 text-white":v?"bg-purple-500 text-white":"bg-gray-300 text-gray-600"}`,children:y?r.jsx(qe,{className:"h-4 w-4"}):r.jsx("span",{className:"text-sm font-bold",children:h+1})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-medium",children:x.title}),r.jsx("p",{className:"text-sm text-gray-600",children:x.description})]}),v&&r.jsx("span",{className:"text-sm text-purple-500",children:"Loading..."})]},x.id)})}),f&&r.jsx(U,{className:"bg-green-50 border-green-200",children:r.jsxs(B,{className:"p-4 text-center",children:[r.jsx(qe,{className:"h-12 w-12 text-green-600 mx-auto mb-3"}),r.jsx("h3",{className:"text-lg font-semibold text-green-800",children:"Tour Completed!"}),r.jsx("p",{className:"text-green-700 mb-4",children:"Congratulations! You're now ready to make the most of your ISOHub workspace."}),r.jsx(I,{onClick:m,disabled:a,className:"bg-black hover:bg-gray-800 text-white font-medium",children:a?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"mr-2",children:"Processing..."}),"Completing Setup..."]}):r.jsxs(r.Fragment,{children:["Go to Dashboard",r.jsx(wp,{className:"ml-2 h-4 w-4"})]})})]})})]})}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"text-center space-y-4",children:[r.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-purple-100 to-pink-100 rounded-full flex items-center justify-center mx-auto",children:r.jsx(ej,{className:"h-10 w-10 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold",children:"Welcome to Your Payment Hub!"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Take a 15-minute guided tour to discover all the powerful features at your fingertips."})]}),r.jsxs("div",{className:"flex justify-center space-x-4",children:[r.jsxs(I,{onClick:u,className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white",children:[r.jsx(ej,{className:"mr-2 h-4 w-4"}),"Start Interactive Tour"]}),r.jsx(I,{variant:"outline",onClick:p,children:"Skip Tour for Now"})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:d.map((x,h)=>r.jsx(U,{className:"bg-gray-50",children:r.jsxs(B,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center text-xs font-bold text-purple-600",children:h+1}),r.jsx("h4",{className:"font-medium",children:x.title})]}),r.jsx(oe,{variant:"outline",children:x.duration})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:x.description}),r.jsx("ul",{className:"text-xs text-gray-500 space-y-1",children:x.features.map((y,v)=>r.jsxs("li",{className:"flex items-center",children:[r.jsx(qe,{className:"h-3 w-3 text-green-500 mr-2"}),y]},v))})]})},x.id))})]})})]})})}const ll=[{id:1,title:"Contact Info & Branding",description:"Set up your company details, logo, and contact information",component:JCe},{id:2,title:"Business Profile",description:"Tell us about your business to get personalized insights",component:rke},{id:3,title:"Organization Chart",description:"Build your team structure with roles and permissions",component:eke},{id:4,title:"Vendor Selection",description:"Choose your processors, gateways, and hardware partners",component:nke},{id:5,title:"Processor & Lead Sheet Setup",description:"Configure column mappings for each processor and lead sheet templates",component:eAe},{id:6,title:"FAQ Upload",description:"Import your FAQ from Google Sheets or upload manually",component:Db},{id:7,title:"Document Center",description:"Connect cloud storage (Google Drive, Dropbox, OneDrive)",component:Db},{id:8,title:"ISO-AI Preferences",description:"Configure your AI assistant tone and behavior",component:XCe},{id:9,title:"Residuals Upload",description:"Upload processor residual templates and multi-month data",component:Db},{id:10,title:"Dashboard Tour",description:"Interactive guide with AI confirmation of all uploaded data",component:tAe}];function rAe(){const[,e]=zn(),[t,n]=g.useState(1),[s,a]=g.useState(""),i=_t();g.useEffect(()=>{const w=localStorage.getItem("organizationId"),j=new URLSearchParams(window.location.search).get("orgId")||w;j?a(j):e("/login")},[e]);const{data:o,isLoading:l,error:c}=ve({queryKey:["/api/onboarding/progress",s],enabled:!!s});g.useEffect(()=>{o!=null&&o.progress&&n(o.progress.currentStep||1)},[o]);const d=Oe({mutationFn:async w=>await Te(`/api/onboarding/progress/${s}/step`,{method:"PUT",body:{step:w.step,data:w.stepData}}),onSuccess:()=>{i.invalidateQueries({queryKey:["/api/onboarding/progress",s]})}}),u=async w=>{try{await d.mutateAsync({step:t,stepData:w}),t<ll.length?n(t+1):e("/dashboard")}catch(S){console.error("Failed to update step:",S)}},m=()=>{t>1&&n(t-1)},p=w=>{const S=o==null?void 0:o.progress;if(!S)return;const N=[S.step1Complete,S.step2Complete,S.step3Complete,S.step4Complete,S.step5Complete,S.step6Complete,S.step7Complete,S.step8Complete];(w<=t||N[w-1])&&n(w)};if(l)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-center text-gray-600 mb-4",children:"Loading onboarding..."}),r.jsx("p",{children:"Loading your onboarding progress..."})]})});if(c||!o)return r.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:r.jsxs(U,{className:"w-full max-w-md",children:[r.jsxs(X,{children:[r.jsx(J,{className:"text-red-600",children:"Error Loading Onboarding"}),r.jsx(tt,{children:"We couldn't load your onboarding progress. Please try again."})]}),r.jsx(B,{children:r.jsx(I,{onClick:()=>e("/login"),className:"w-full",children:"Return to Login"})})]})});const f=o.progress,x=o.organization,h=[(f==null?void 0:f.step1Complete)||!1,(f==null?void 0:f.step2Complete)||!1,(f==null?void 0:f.step3Complete)||!1,(f==null?void 0:f.step4Complete)||!1,(f==null?void 0:f.step5Complete)||!1,(f==null?void 0:f.step6Complete)||!1,(f==null?void 0:f.step7Complete)||!1,(f==null?void 0:f.step8Complete)||!1],y=h.filter(Boolean).length/ll.length*100,v=ll[t-1],b=v.component;return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white shadow-sm border-b",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Welcome to ISOHub, ",x==null?void 0:x.name,"!"]}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Let's get your payment processing workspace set up"})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Progress"}),r.jsxs("div",{className:"text-lg font-semibold text-yellow-600",children:[Math.round(y),"%"]})]})]}),r.jsx("div",{className:"mt-6",children:r.jsx(Vu,{value:y,className:"h-2"})})]})}),r.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsxs(U,{children:[r.jsx(X,{children:r.jsx(J,{className:"text-lg",children:"Setup Steps"})}),r.jsx(B,{className:"space-y-2",children:ll.map((w,S)=>r.jsx("button",{onClick:()=>p(w.id),className:`w-full text-left p-3 rounded-lg transition-colors ${t===w.id?"bg-yellow-100 border-2 border-yellow-300":h[S]?"bg-green-50 border border-green-200 hover:bg-green-100":"bg-gray-50 border border-gray-200 hover:bg-gray-100"}`,disabled:!h[S]&&w.id!==t,children:r.jsxs("div",{className:"flex items-center",children:[h[S]?r.jsx(On,{className:"h-5 w-5 text-green-600 mr-3"}):r.jsx(v2,{className:`h-5 w-5 mr-3 ${t===w.id?"text-yellow-600":"text-gray-400"}`}),r.jsxs("div",{children:[r.jsx("div",{className:`font-medium text-sm ${t===w.id?"text-yellow-800":"text-gray-900"}`,children:w.title}),r.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Step ",w.id," of ",ll.length]})]})]})},w.id))})]})}),r.jsx("div",{className:"lg:col-span-3",children:r.jsxs(U,{children:[r.jsx(X,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(J,{className:"text-xl",children:v.title}),r.jsx(tt,{className:"mt-2",children:v.description})]}),r.jsxs("div",{className:"text-sm text-gray-500",children:["Step ",t," of ",ll.length]})]})}),r.jsxs(B,{children:[d.error&&r.jsx(Mt,{className:"mb-6",variant:"destructive",children:r.jsx(It,{children:"Failed to save progress. Please try again."})}),r.jsx(b,{organizationId:s,organization:x,progress:f,onComplete:u,isLoading:d.isPending}),r.jsxs("div",{className:"flex justify-between mt-8 pt-6 border-t",children:[r.jsxs(I,{variant:"outline",onClick:m,disabled:t===1,children:[r.jsx(Gl,{className:"h-4 w-4 mr-2"}),"Previous"]}),r.jsx("div",{className:"flex space-x-3",children:t<ll.length&&r.jsxs(I,{variant:"outline",onClick:()=>u({}),disabled:d.isPending,children:["Skip Step",r.jsx(wp,{className:"h-4 w-4 ml-2"})]})})]})]})]})})]})})]})}const nAe=ai({name:Ge().min(1,"Organization name is required"),website:Ge().url("Please enter a valid website URL").optional().or(kl("")),adminContactName:Ge().min(1,"Admin contact name is required"),adminContactEmail:Ge().email("Please enter a valid email address"),adminContactPhone:Ge().optional(),industry:Ge().optional()}),hT=async e=>{try{if(navigator.clipboard&&window.isSecureContext)return await navigator.clipboard.writeText(e),!0;{const t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.left="-999999px",t.style.top="-999999px",document.body.appendChild(t),t.focus(),t.select();const n=document.execCommand("copy");return document.body.removeChild(t),n}}catch(t){return console.error("Clipboard write failed:",t),!1}};function zb(){const[e,t]=g.useState(!1),{toast:n}=pt(),s=_t(),[,a]=zn(),i=Ga({resolver:Ya(nAe),defaultValues:{name:"",website:"",adminContactName:"",adminContactEmail:"",adminContactPhone:"",industry:""}}),{data:o=[],isLoading:l}=ve({queryKey:["/api/onboarding/organizations"],queryFn:async()=>{const x=await fetch("/api/onboarding/organizations");return x.ok?x.json():(console.warn("Failed to fetch organizations"),[])}}),c=Oe({mutationFn:async x=>await Te("/api/onboarding/organizations",{method:"POST",body:x}),onSuccess:async x=>{if(s.invalidateQueries({queryKey:["/api/onboarding/organizations"]}),t(!1),i.reset(),x.activationLink){const h=x.activationLink.replace("{{FRONTEND_URL}}",""),y=window.location.origin+h,v=await hT(y);n({title:"Organization Created Successfully!",description:v?"Opening onboarding flow for testing. Activation link also copied to clipboard.":"Opening onboarding flow for testing. Use Copy button to get the activation link.",duration:5e3}),setTimeout(()=>{window.open(h,"_blank")},1500)}else n({title:"Organization Created",description:`Welcome email sent to ${i.getValues("adminContactEmail")}`})},onError:x=>{n({title:"Error",description:x instanceof Error?x.message:"Failed to create organization",variant:"destructive"})}}),d=x=>{c.mutate(x)},u=async x=>{const h=await hT(x);n({title:h?"Link Copied":"Copy Failed",description:h?"Activation link copied to clipboard":"Could not copy to clipboard. Please select and copy manually.",variant:h?"default":"destructive"})},m=(x,h)=>{sessionStorage.setItem("impersonatingOrganization",JSON.stringify({id:x,name:h,startedAt:new Date().toISOString()})),n({title:"Entering Organization View",description:`Now viewing ${h} dashboard`}),a("/org/dashboard")},p=x=>{a(`/org/${x}/settings`)},f=x=>{const h={setup:{label:"Setup",className:"bg-blue-500/20 text-blue-400 border-blue-500/30"},onboarding:{label:"Onboarding",className:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30"},active:{label:"Active",className:"bg-green-500/20 text-green-400 border-green-500/30"},inactive:{label:"Inactive",className:"bg-gray-500/20 text-gray-400 border-gray-500/30"},suspended:{label:"Suspended",className:"bg-red-500/20 text-red-400 border-red-500/30"}},y=h[x]||h.setup;return r.jsx(oe,{className:y.className,children:y.label})};return r.jsx("div",{className:"min-h-screen bg-[#0a0a0f]",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 space-y-6",children:[r.jsx(fs,{items:[{label:"Admin",href:"/dashboard"},{label:"Organization Management",href:"/admin/organizations",isActive:!0}]}),r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight text-white",children:"Organization Management"}),r.jsx("p",{className:"text-gray-400 mt-1",children:"Create and manage client organizations for the multi-tenant platform"})]}),r.jsxs(jt,{open:e,onOpenChange:t,children:[r.jsx(pn,{asChild:!0,children:r.jsxs(I,{className:"bg-yellow-400 hover:bg-yellow-500 text-black font-semibold",children:[r.jsx(ir,{className:"h-4 w-4 mr-2"}),"Create Organization"]})}),r.jsxs(yt,{className:"sm:max-w-md max-h-[90vh] overflow-y-auto bg-zinc-900 border-yellow-400/20",children:[r.jsxs(vt,{children:[r.jsx(bt,{className:"text-white",children:"Create New Organization"}),r.jsx(jn,{className:"text-gray-400",children:"This will create a new client organization and send a welcome email with activation instructions."})]}),r.jsxs("form",{onSubmit:i.handleSubmit(d),className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"name",className:"text-gray-300",children:"Organization Name *"}),r.jsx(ee,{id:"name",placeholder:"Acme Payment Solutions",...i.register("name"),disabled:c.isPending,className:"bg-zinc-800 border-yellow-400/30 text-white"}),i.formState.errors.name&&r.jsx("p",{className:"text-sm text-red-400",children:i.formState.errors.name.message})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"website",className:"text-gray-300",children:"Website"}),r.jsx(ee,{id:"website",type:"url",placeholder:"https://acmepayments.com",...i.register("website"),disabled:c.isPending,className:"bg-zinc-800 border-yellow-400/30 text-white"}),i.formState.errors.website&&r.jsx("p",{className:"text-sm text-red-400",children:i.formState.errors.website.message})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"adminContactName",className:"text-gray-300",children:"Admin Contact Name *"}),r.jsx(ee,{id:"adminContactName",placeholder:"John Smith",...i.register("adminContactName"),disabled:c.isPending,className:"bg-zinc-800 border-yellow-400/30 text-white"}),i.formState.errors.adminContactName&&r.jsx("p",{className:"text-sm text-red-400",children:i.formState.errors.adminContactName.message})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"adminContactEmail",className:"text-gray-300",children:"Admin Email *"}),r.jsx(ee,{id:"adminContactEmail",type:"email",placeholder:"john@acmepayments.com",...i.register("adminContactEmail"),disabled:c.isPending,className:"bg-zinc-800 border-yellow-400/30 text-white"}),i.formState.errors.adminContactEmail&&r.jsx("p",{className:"text-sm text-red-400",children:i.formState.errors.adminContactEmail.message})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"adminContactPhone",className:"text-gray-300",children:"Phone Number"}),r.jsx(ee,{id:"adminContactPhone",placeholder:"+1 (555) 123-4567",...i.register("adminContactPhone"),disabled:c.isPending,className:"bg-zinc-800 border-yellow-400/30 text-white"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"industry",className:"text-gray-300",children:"Industry"}),r.jsx(ee,{id:"industry",placeholder:"Payment Processing",...i.register("industry"),disabled:c.isPending,className:"bg-zinc-800 border-yellow-400/30 text-white"})]})]}),r.jsxs("div",{className:"bg-yellow-400/10 border border-yellow-400/30 p-3 rounded-md text-sm text-gray-300",children:[r.jsx("p",{className:"font-medium text-yellow-400",children:"What happens next:"}),r.jsxs("ul",{className:"mt-1 space-y-1 text-xs text-gray-400",children:[r.jsx("li",{children:" Organization workspace is created"}),r.jsx("li",{children:" Welcome email with activation link is sent"}),r.jsx("li",{children:" Admin can activate account and begin onboarding"}),r.jsx("li",{children:" 7-step guided setup process"})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-yellow-400/20",children:[r.jsx(I,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:c.isPending,className:"border-yellow-400/30 text-yellow-400 hover:bg-yellow-400/10",children:"Cancel"}),r.jsx(I,{type:"submit",disabled:c.isPending,className:"bg-yellow-400 hover:bg-yellow-500 text-black font-semibold",children:c.isPending?r.jsxs(r.Fragment,{children:[r.jsx(gr,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):"Create Organization"})]})]})]})]})]}),l?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(gr,{className:"h-8 w-8 animate-spin text-yellow-400"})}):r.jsx("div",{className:"grid gap-6",children:(o==null?void 0:o.length)>0?o.map(x=>r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:[r.jsx(X,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-yellow-400 to-yellow-600 rounded-lg flex items-center justify-center",children:r.jsx(Yt,{className:"h-5 w-5 text-black"})}),r.jsxs("div",{children:[r.jsx(J,{className:"text-lg text-white",children:x.name}),r.jsx(tt,{children:x.website&&r.jsxs("a",{href:x.website,target:"_blank",rel:"noopener noreferrer",className:"text-yellow-400 hover:underline inline-flex items-center",children:[x.website,r.jsx(mn,{className:"h-3 w-3 ml-1"})]})})]})]}),f(x.status)]})}),r.jsxs(B,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-sm text-gray-400 mb-2",children:"Admin Contact"}),r.jsx("p",{className:"text-sm text-white",children:x.adminContactName}),r.jsx("p",{className:"text-sm text-gray-400",children:x.adminContactEmail}),x.adminContactPhone&&r.jsx("p",{className:"text-sm text-gray-400",children:x.adminContactPhone})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-sm text-gray-400 mb-2",children:"Details"}),x.industry&&r.jsxs("p",{className:"text-sm text-white",children:["Industry: ",x.industry]}),r.jsxs("p",{className:"text-sm text-gray-400",children:["ID: ",x.organizationId]}),r.jsxs("p",{className:"text-sm text-gray-400",children:["Created: ",new Date(x.createdAt).toLocaleDateString()]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-sm text-gray-400 mb-2",children:"Email Status"}),r.jsx(ds,{children:r.jsx("div",{className:"flex flex-wrap gap-2",children:(()=>{const h=x.emailDeliveryTracking,y=x.welcomeEmailSent||(h==null?void 0:h.sent);return r.jsxs(r.Fragment,{children:[r.jsxs(Or,{children:[r.jsx(Er,{asChild:!0,children:r.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-1 rounded-full text-xs ${y?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-gray-500/20 text-gray-400 border border-gray-500/30"}`,children:[r.jsx(Ns,{className:"h-3 w-3"}),r.jsx("span",{children:"Sent"})]})}),r.jsx(Sr,{className:"bg-zinc-800 border-zinc-700",children:r.jsx("p",{className:"text-white text-xs",children:y?`Email sent ${h!=null&&h.sentAt?new Date(h.sentAt).toLocaleString():"successfully"}`:"Email not yet sent"})})]}),r.jsxs(Or,{children:[r.jsx(Er,{asChild:!0,children:r.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-1 rounded-full text-xs ${h!=null&&h.delivered?"bg-blue-500/20 text-blue-400 border border-blue-500/30":"bg-gray-500/20 text-gray-400 border border-gray-500/30"}`,children:[r.jsx(X5,{className:"h-3 w-3"}),r.jsx("span",{children:"Delivered"})]})}),r.jsx(Sr,{className:"bg-zinc-800 border-zinc-700",children:r.jsx("p",{className:"text-white text-xs",children:h!=null&&h.delivered?`Delivered ${h.deliveredAt?new Date(h.deliveredAt).toLocaleString():""}`:"Awaiting delivery confirmation"})})]}),r.jsxs(Or,{children:[r.jsx(Er,{asChild:!0,children:r.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-1 rounded-full text-xs ${h!=null&&h.opened?"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30":"bg-gray-500/20 text-gray-400 border border-gray-500/30"}`,children:[r.jsx(Uq,{className:"h-3 w-3"}),r.jsx("span",{children:"Opened"})]})}),r.jsx(Sr,{className:"bg-zinc-800 border-zinc-700",children:r.jsx("p",{className:"text-white text-xs",children:h!=null&&h.opened?`Opened ${h.openedAt?new Date(h.openedAt).toLocaleString():""}`:"Not yet opened"})})]}),r.jsxs(Or,{children:[r.jsx(Er,{asChild:!0,children:r.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-1 rounded-full text-xs ${h!=null&&h.clicked?"bg-purple-500/20 text-purple-400 border border-purple-500/30":"bg-gray-500/20 text-gray-400 border border-gray-500/30"}`,children:[r.jsx(Gq,{className:"h-3 w-3"}),r.jsx("span",{children:"Clicked"})]})}),r.jsx(Sr,{className:"bg-zinc-800 border-zinc-700",children:r.jsx("p",{className:"text-white text-xs",children:h!=null&&h.clicked?`Link clicked ${h.clickedAt?new Date(h.clickedAt).toLocaleString():""}`:"Link not yet clicked"})})]})]})})()})})]})]}),r.jsxs("div",{className:"mt-4 pt-4 border-t border-zinc-800",children:[r.jsx("h4",{className:"font-medium text-sm text-gray-400 mb-3",children:"Actions"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[x.activationToken&&!x.welcomeEmailSent&&r.jsxs(I,{size:"sm",variant:"outline",onClick:()=>u(`/activate?token=${x.activationToken}`),className:"border-yellow-400/30 text-yellow-400 hover:bg-yellow-400/10",children:[r.jsx(Dd,{className:"h-3 w-3 mr-2"}),"Copy Activation Link"]}),r.jsxs(I,{size:"sm",variant:"outline",className:"border-yellow-400/30 text-yellow-400 hover:bg-yellow-400/10",onClick:()=>m(x.organizationId,x.name),"data-testid":`button-view-dashboard-${x.organizationId}`,children:[r.jsx(yr,{className:"h-3 w-3 mr-2"}),"View Dashboard"]}),r.jsxs(I,{size:"sm",variant:"outline",className:"border-yellow-400/30 text-yellow-400 hover:bg-yellow-400/10",onClick:()=>p(x.organizationId),"data-testid":`button-manage-${x.organizationId}`,children:[r.jsx(vr,{className:"h-3 w-3 mr-2"}),"Manage Settings"]})]})]})]})]},x.id)):r.jsx(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:r.jsxs(B,{className:"text-center py-12",children:[r.jsx(Yt,{className:"h-12 w-12 text-gray-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No Organizations Yet"}),r.jsx("p",{className:"text-gray-400 mb-4",children:"Create your first client organization to get started with the multi-tenant platform."}),r.jsxs(I,{onClick:()=>t(!0),className:"bg-yellow-400 hover:bg-yellow-500 text-black font-semibold",children:[r.jsx(ir,{className:"h-4 w-4 mr-2"}),"Create First Organization"]})]})})}),r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:[r.jsxs(X,{children:[r.jsx(J,{className:"text-white",children:"Sales to Self-Onboarding Process"}),r.jsx(tt,{className:"text-gray-400",children:"How the end-to-end onboarding flow works"})]}),r.jsx(B,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"space-y-2 text-center",children:[r.jsx("div",{className:"w-10 h-10 bg-yellow-400 rounded-full flex items-center justify-center mx-auto",children:r.jsx("span",{className:"text-sm font-bold text-black",children:"1"})}),r.jsx("h4",{className:"font-medium text-white",children:"Create Organization"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Admin creates new organization after sales completion"})]}),r.jsxs("div",{className:"space-y-2 text-center",children:[r.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-full flex items-center justify-center mx-auto",children:r.jsx("span",{className:"text-sm font-bold text-white",children:"2"})}),r.jsx("h4",{className:"font-medium text-white",children:"Welcome Email"}),r.jsx("p",{className:"text-sm text-gray-400",children:"System sends activation email with secure link"})]}),r.jsxs("div",{className:"space-y-2 text-center",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center mx-auto",children:r.jsx("span",{className:"text-sm font-bold text-white",children:"3"})}),r.jsx("h4",{className:"font-medium text-white",children:"Account Activation"}),r.jsx("p",{className:"text-sm text-gray-400",children:"User activates account and sets password"})]}),r.jsxs("div",{className:"space-y-2 text-center",children:[r.jsx("div",{className:"w-10 h-10 bg-purple-500 rounded-full flex items-center justify-center mx-auto",children:r.jsx("span",{className:"text-sm font-bold text-white",children:"4"})}),r.jsx("h4",{className:"font-medium text-white",children:"Self-Onboarding"}),r.jsx("p",{className:"text-sm text-gray-400",children:"7-step guided setup with dashboard tour"})]})]})})]})]})})}function sAe(){const[,e]=zn(),[t,n]=g.useState(null),[s,a]=g.useState(!0);g.useEffect(()=>{const u=sessionStorage.getItem("impersonatingOrganization");u?n(JSON.parse(u)):e("/organizations"),a(!1)},[e]);const i=()=>{sessionStorage.removeItem("impersonatingOrganization"),e("/organizations")},o=()=>{t&&e(`/org/${t.id}/settings`)};if(s)return r.jsx("div",{className:"flex items-center justify-center min-h-screen bg-[#0a0a0f]",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-400"})});if(!t)return null;const l={totalMerchants:156,activeAgents:12,monthlyVolume:125e4,totalResiduals:45600,pendingApplications:8},c=[{type:"application",title:"New application submitted",time:"2 hours ago",status:"pending"},{type:"payment",title:"Residual payment processed",time:"5 hours ago",status:"completed"},{type:"user",title:"New agent onboarded",time:"1 day ago",status:"completed"},{type:"report",title:"Monthly report generated",time:"2 days ago",status:"completed"}],d=u=>{switch(u){case"completed":case"Active":case"Complete":return"bg-green-500/20 text-green-400 border-green-500/30";case"pending":case"Pending":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"Not Started":case"Not Configured":return"bg-gray-500/20 text-gray-400 border-gray-500/30";default:return"bg-blue-500/20 text-blue-400 border-blue-500/30"}};return r.jsx("div",{className:"min-h-screen bg-[#0a0a0f]",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 space-y-6",children:[r.jsxs(Mt,{className:"bg-yellow-400/10 border-yellow-400/30",children:[r.jsx(ht,{className:"h-4 w-4 text-yellow-400"}),r.jsxs(It,{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-gray-300",children:["You are viewing ",r.jsx("strong",{className:"text-yellow-400",children:t.name})," as a Super Admin"]}),r.jsxs(I,{size:"sm",variant:"outline",onClick:i,className:"ml-4 border-yellow-400/30 text-yellow-400 hover:bg-yellow-400/10","data-testid":"button-exit-impersonation",children:[r.jsx(Gl,{className:"h-3 w-3 mr-2"}),"Exit Organization View"]})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-yellow-400 to-yellow-600 rounded-lg flex items-center justify-center",children:r.jsx(Yt,{className:"h-8 w-8 text-black"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight text-white",children:t.name}),r.jsxs("p",{className:"text-gray-400",children:["Organization Dashboard  ID: ",t.id]})]})]}),r.jsxs(I,{onClick:o,className:"bg-yellow-400 hover:bg-yellow-500 text-black font-semibold","data-testid":"button-org-settings",children:[r.jsx(vr,{className:"h-4 w-4 mr-2"}),"Organization Settings"]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:[r.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(J,{className:"text-sm font-medium text-gray-300",children:"Total Merchants"}),r.jsx(Cu,{className:"h-4 w-4 text-yellow-400"})]}),r.jsxs(B,{children:[r.jsx("div",{className:"text-2xl font-bold text-white",children:l.totalMerchants.toLocaleString()}),r.jsxs("p",{className:"text-xs text-gray-400",children:[r.jsx("span",{className:"text-green-400",children:"+12%"})," from last month"]})]})]}),r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:[r.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(J,{className:"text-sm font-medium text-gray-300",children:"Active Agents"}),r.jsx(St,{className:"h-4 w-4 text-yellow-400"})]}),r.jsxs(B,{children:[r.jsx("div",{className:"text-2xl font-bold text-white",children:l.activeAgents}),r.jsxs("p",{className:"text-xs text-gray-400",children:[r.jsx("span",{className:"text-green-400",children:"+2"})," new this month"]})]})]}),r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:[r.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(J,{className:"text-sm font-medium text-gray-300",children:"Monthly Volume"}),r.jsx(zr,{className:"h-4 w-4 text-yellow-400"})]}),r.jsxs(B,{children:[r.jsxs("div",{className:"text-2xl font-bold text-white",children:["$",(l.monthlyVolume/1e6).toFixed(2),"M"]}),r.jsx("p",{className:"text-xs text-gray-400",children:"Processing volume this month"})]})]}),r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:[r.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(J,{className:"text-sm font-medium text-gray-300",children:"Total Residuals"}),r.jsx(Qr,{className:"h-4 w-4 text-yellow-400"})]}),r.jsxs(B,{children:[r.jsxs("div",{className:"text-2xl font-bold text-white",children:["$",l.totalResiduals.toLocaleString()]}),r.jsxs("p",{className:"text-xs text-gray-400",children:[r.jsx("span",{className:"text-green-400",children:"+8.5%"})," from last month"]})]})]})]}),r.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:[r.jsxs(X,{children:[r.jsx(J,{className:"text-white",children:"Quick Actions"}),r.jsx(tt,{className:"text-gray-400",children:"Common tasks for this organization"})]}),r.jsxs(B,{className:"grid gap-3",children:[r.jsxs(I,{variant:"outline",className:"w-full justify-start border-yellow-400/30 text-yellow-400 hover:bg-yellow-400/10",onClick:()=>e("/residuals"),children:[r.jsx(xk,{className:"h-4 w-4 mr-2"}),"View Residuals Report"]}),r.jsxs(I,{variant:"outline",className:"w-full justify-start border-yellow-400/30 text-yellow-400 hover:bg-yellow-400/10",onClick:()=>e("/reps"),children:[r.jsx(zd,{className:"h-4 w-4 mr-2"}),"Manage Agents"]}),r.jsxs(I,{variant:"outline",className:"w-full justify-start border-yellow-400/30 text-yellow-400 hover:bg-yellow-400/10",onClick:()=>e("/pre-applications"),children:[r.jsx(et,{className:"h-4 w-4 mr-2"}),"Review Applications"]}),r.jsxs(I,{variant:"outline",className:"w-full justify-start border-yellow-400/30 text-yellow-400 hover:bg-yellow-400/10",onClick:()=>e("/reports"),children:[r.jsx(Xa,{className:"h-4 w-4 mr-2"}),"Generate Reports"]})]})]}),r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:[r.jsxs(X,{children:[r.jsx(J,{className:"text-white",children:"Organization Status"}),r.jsx(tt,{className:"text-gray-400",children:"Current configuration and setup progress"})]}),r.jsxs(B,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(On,{className:"h-4 w-4 text-green-400"}),r.jsx("span",{className:"text-sm text-gray-300",children:"Basic Information"})]}),r.jsx(oe,{className:d("Complete"),children:"Complete"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(On,{className:"h-4 w-4 text-green-400"}),r.jsx("span",{className:"text-sm text-gray-300",children:"Admin Account"})]}),r.jsx(oe,{className:d("Active"),children:"Active"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ht,{className:"h-4 w-4 text-yellow-400"}),r.jsx("span",{className:"text-sm text-gray-300",children:"Branding Setup"})]}),r.jsx(oe,{className:d("Pending"),children:"Pending"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ht,{className:"h-4 w-4 text-gray-500"}),r.jsx("span",{className:"text-sm text-gray-300",children:"Email Configuration"})]}),r.jsx(oe,{className:d("Not Started"),children:"Not Started"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ht,{className:"h-4 w-4 text-gray-500"}),r.jsx("span",{className:"text-sm text-gray-300",children:"Custom Domain"})]}),r.jsx(oe,{className:d("Not Configured"),children:"Not Configured"})]})]})]})]}),r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:[r.jsxs(X,{children:[r.jsx(J,{className:"text-white",children:"Recent Activity"}),r.jsx(tt,{className:"text-gray-400",children:"Latest actions and events for this organization"})]}),r.jsx(B,{children:r.jsx("div",{className:"space-y-4",children:c.map((u,m)=>r.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-yellow-400/10 last:border-0",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${u.type==="application"?"bg-blue-500/20":u.type==="payment"?"bg-green-500/20":u.type==="user"?"bg-purple-500/20":"bg-zinc-700"}`,children:[u.type==="application"&&r.jsx(et,{className:"h-4 w-4 text-blue-400"}),u.type==="payment"&&r.jsx(zr,{className:"h-4 w-4 text-green-400"}),u.type==="user"&&r.jsx(St,{className:"h-4 w-4 text-purple-400"}),u.type==="report"&&r.jsx(xk,{className:"h-4 w-4 text-gray-400"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-white",children:u.title}),r.jsxs("p",{className:"text-xs text-gray-400 flex items-center",children:[r.jsx(Rr,{className:"h-3 w-3 mr-1"}),u.time]})]})]}),r.jsx(oe,{className:d(u.status),children:u.status})]},m))})})]}),r.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:[r.jsxs(X,{children:[r.jsx(J,{className:"text-white",children:"Processing Statistics"}),r.jsx(tt,{className:"text-gray-400",children:"This month's processing overview"})]}),r.jsx(B,{children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-300",children:"Total Transactions"}),r.jsx("span",{className:"font-medium text-white",children:"8,245"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-300",children:"Average Ticket"}),r.jsx("span",{className:"font-medium text-white",children:"$151.52"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-300",children:"Approval Rate"}),r.jsx("span",{className:"font-medium text-green-400",children:"94.2%"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-300",children:"Chargeback Rate"}),r.jsx("span",{className:"font-medium text-yellow-400",children:"0.8%"})]})]})})]}),r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:[r.jsxs(X,{children:[r.jsx(J,{className:"text-white",children:"Application Pipeline"}),r.jsx(tt,{className:"text-gray-400",children:"Current application status"})]}),r.jsx(B,{children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-300",children:"Pending Review"}),r.jsx(oe,{className:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",children:l.pendingApplications})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-300",children:"In Underwriting"}),r.jsx(oe,{className:"bg-blue-500/20 text-blue-400 border-blue-500/30",children:"3"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-300",children:"Approved (This Week)"}),r.jsx(oe,{className:"bg-green-500/20 text-green-400 border-green-500/30",children:"12"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-300",children:"Declined (This Week)"}),r.jsx(oe,{className:"bg-red-500/20 text-red-400 border-red-500/30",children:"2"})]})]})})]})]})]})})}const aAe=ai({name:Ge().min(1,"Organization name is required"),website:Ge().url("Please enter a valid URL").optional().or(kl("")),industry:Ge().optional(),description:Ge().optional(),primaryContact:Ge().email("Please enter a valid email").optional().or(kl("")),supportEmail:Ge().email("Please enter a valid email").optional().or(kl("")),billingEmail:Ge().email("Please enter a valid email").optional().or(kl(""))}),iAe=ai({primaryColor:Ge().regex(/^#[0-9A-Fa-f]{6}$/,"Please enter a valid hex color"),secondaryColor:Ge().regex(/^#[0-9A-Fa-f]{6}$/,"Please enter a valid hex color"),accentColor:Ge().regex(/^#[0-9A-Fa-f]{6}$/,"Please enter a valid hex color"),logoUrl:Ge().url("Please enter a valid URL").optional().or(kl(""))}),oAe=ai({domainType:n1(["standard","subdomain","custom"]),customDomain:Ge().optional(),subdomainPrefix:Ge().optional()});function lAe(){const e=w0(),[,t]=zn(),{toast:n}=pt(),[s,a]=g.useState("general"),[i,o]=g.useState(!1),c=!!sessionStorage.getItem("impersonatingOrganization"),{data:d,isLoading:u,error:m}=ve({queryKey:["/api/onboarding/organizations",e.orgId],queryFn:async()=>{const N=Date.now(),j=await fetch(`/api/onboarding/organizations/${e.orgId}?_=${N}`,{cache:"no-store",headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache"}});if(!j.ok)throw new Error("Failed to fetch organization");return j.json()},enabled:!!e.orgId,staleTime:0,gcTime:0,refetchOnMount:"always",refetchOnWindowFocus:!0}),p=Oe({mutationFn:async N=>Te(`/api/onboarding/organizations/${e.orgId}`,{method:"PUT",body:N}),onSuccess:()=>{At.invalidateQueries({queryKey:["/api/onboarding/organizations",e.orgId]}),At.invalidateQueries({queryKey:["/api/onboarding/organizations"]})}}),f=Ga({resolver:Ya(aAe),defaultValues:{name:"",website:"",industry:"",description:"",primaryContact:"",supportEmail:"",billingEmail:""}}),x=Ga({resolver:Ya(iAe),defaultValues:{primaryColor:"#FFD700",secondaryColor:"#000000",accentColor:"#FFFFFF",logoUrl:""}}),h=Ga({resolver:Ya(oAe),defaultValues:{domainType:"standard",customDomain:"",subdomainPrefix:""}});g.useEffect(()=>{if(d){let N="";if(d.businessProfile){const j=typeof d.businessProfile=="string"?JSON.parse(d.businessProfile):d.businessProfile;N=(j==null?void 0:j.description)||""}f.reset({name:d.name||"",website:d.website||"",industry:d.industry||"",description:N,primaryContact:d.adminContactEmail||"",supportEmail:d.supportEmail||"",billingEmail:d.billingEmail||""}),x.reset({primaryColor:d.primaryColor||"#FFD700",secondaryColor:d.secondaryColor||"#000000",accentColor:d.accentColor||"#FFFFFF",logoUrl:d.logoUrl||""}),h.reset({domainType:d.domainType||"standard",customDomain:d.customDomain||"",subdomainPrefix:d.subdomainPrefix||""})}},[d]);const y=async N=>{try{await p.mutateAsync({name:N.name,website:N.website,industry:N.industry,description:N.description,primaryContactEmail:N.primaryContact,supportEmail:N.supportEmail,billingEmail:N.billingEmail}),n({title:"Settings Updated",description:"General settings have been saved successfully."})}catch{n({title:"Error",description:"Failed to save settings. Please try again.",variant:"destructive"})}},v=async N=>{try{await p.mutateAsync({primaryColor:N.primaryColor,secondaryColor:N.secondaryColor,accentColor:N.accentColor,logoUrl:N.logoUrl}),n({title:"Branding Updated",description:"Branding settings have been saved successfully."})}catch{n({title:"Error",description:"Failed to save branding settings. Please try again.",variant:"destructive"})}},b=async N=>{try{await p.mutateAsync({domainType:N.domainType,customDomain:N.customDomain,subdomainPrefix:N.subdomainPrefix}),n({title:"Domain Settings Updated",description:"Domain configuration has been saved successfully."})}catch{n({title:"Error",description:"Failed to save domain settings. Please try again.",variant:"destructive"})}},w=()=>{n({title:"API Key Regenerated",description:"A new API key has been generated. Please update your integrations.",variant:"default"})},S=()=>{t(c?"/org/dashboard":"/organizations")};return u?r.jsx("div",{className:"min-h-screen bg-[#0a0a0f] flex items-center justify-center",children:r.jsx(gr,{className:"h-8 w-8 animate-spin text-yellow-400"})}):m||!d?r.jsx("div",{className:"min-h-screen bg-[#0a0a0f] flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(ht,{className:"h-12 w-12 text-red-400 mx-auto mb-4"}),r.jsx("p",{className:"text-white",children:"Failed to load organization settings"}),r.jsx(I,{variant:"outline",className:"mt-4",onClick:()=>t("/organizations"),children:"Back to Organizations"})]})}):r.jsx("div",{className:"min-h-screen bg-[#0a0a0f]",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs(I,{variant:"ghost",size:"sm",onClick:S,className:"text-yellow-400 hover:bg-yellow-400/10","data-testid":"button-back",children:[r.jsx(Gl,{className:"h-4 w-4 mr-2"}),"Back"]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-yellow-400 to-yellow-600 rounded-lg flex items-center justify-center",children:r.jsx(Yt,{className:"h-6 w-6 text-black"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white",children:"Organization Settings"}),r.jsxs("p",{className:"text-gray-400",children:["Manage settings for ",d.name]})]})]})]}),r.jsx(oe,{className:d.status==="active"?"bg-green-500/20 text-green-400 border-green-500/30":"bg-gray-500/20 text-gray-400 border-gray-500/30",children:d.status})]}),r.jsxs(ns,{value:s,onValueChange:a,children:[r.jsxs(Un,{className:"grid w-full grid-cols-6 bg-zinc-900 border border-yellow-400/20",children:[r.jsx(ot,{value:"general",className:"data-[state=active]:bg-yellow-400 data-[state=active]:text-black text-gray-400",children:"General"}),r.jsx(ot,{value:"branding",className:"data-[state=active]:bg-yellow-400 data-[state=active]:text-black text-gray-400",children:"Branding"}),r.jsx(ot,{value:"domain",className:"data-[state=active]:bg-yellow-400 data-[state=active]:text-black text-gray-400",children:"Domain"}),r.jsx(ot,{value:"api",className:"data-[state=active]:bg-yellow-400 data-[state=active]:text-black text-gray-400",children:"API & Webhooks"}),r.jsx(ot,{value:"ai",className:"data-[state=active]:bg-yellow-400 data-[state=active]:text-black text-gray-400",children:"AI Settings"}),r.jsx(ot,{value:"billing",className:"data-[state=active]:bg-yellow-400 data-[state=active]:text-black text-gray-400",children:"Billing"})]}),r.jsx(lt,{value:"general",className:"space-y-4",children:r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:[r.jsxs(X,{children:[r.jsx(J,{className:"text-white",children:"General Information"}),r.jsx(tt,{className:"text-gray-400",children:"Basic information about the organization"})]}),r.jsx(B,{children:r.jsxs("form",{onSubmit:f.handleSubmit(y),className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"name",className:"text-gray-300",children:"Organization Name"}),r.jsx(ee,{id:"name",...f.register("name"),className:"bg-zinc-800 border-yellow-400/30 text-white","data-testid":"input-org-name"}),f.formState.errors.name&&r.jsx("p",{className:"text-sm text-red-400",children:f.formState.errors.name.message})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"website",className:"text-gray-300",children:"Website"}),r.jsx(ee,{id:"website",type:"url",...f.register("website"),className:"bg-zinc-800 border-yellow-400/30 text-white","data-testid":"input-website"}),f.formState.errors.website&&r.jsx("p",{className:"text-sm text-red-400",children:f.formState.errors.website.message})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"industry",className:"text-gray-300",children:"Industry"}),r.jsx(ee,{id:"industry",...f.register("industry"),className:"bg-zinc-800 border-yellow-400/30 text-white","data-testid":"input-industry"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"primaryContact",className:"text-gray-300",children:"Primary Contact Email"}),r.jsx(ee,{id:"primaryContact",type:"email",...f.register("primaryContact"),className:"bg-zinc-800 border-yellow-400/30 text-white","data-testid":"input-primary-contact"}),f.formState.errors.primaryContact&&r.jsx("p",{className:"text-sm text-red-400",children:f.formState.errors.primaryContact.message})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"supportEmail",className:"text-gray-300",children:"Support Email"}),r.jsx(ee,{id:"supportEmail",type:"email",...f.register("supportEmail"),className:"bg-zinc-800 border-yellow-400/30 text-white","data-testid":"input-support-email"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"billingEmail",className:"text-gray-300",children:"Billing Email"}),r.jsx(ee,{id:"billingEmail",type:"email",...f.register("billingEmail"),className:"bg-zinc-800 border-yellow-400/30 text-white","data-testid":"input-billing-email"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"description",className:"text-gray-300",children:"Description"}),r.jsx(Wt,{id:"description",rows:3,...f.register("description"),className:"bg-zinc-800 border-yellow-400/30 text-white","data-testid":"textarea-description"})]}),r.jsx("div",{className:"flex justify-end",children:r.jsxs(I,{type:"submit",className:"bg-yellow-400 hover:bg-yellow-500 text-black font-semibold",children:[r.jsx(vi,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})]})})]})}),r.jsx(lt,{value:"branding",className:"space-y-4",children:r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:[r.jsxs(X,{children:[r.jsx(J,{className:"text-white",children:"Branding & Appearance"}),r.jsx(tt,{className:"text-gray-400",children:"Customize the look and feel of your organization"})]}),r.jsx(B,{children:r.jsxs("form",{onSubmit:x.handleSubmit(v),className:"space-y-4",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"logoUrl",className:"text-gray-300",children:"Logo URL"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(ee,{id:"logoUrl",type:"url",placeholder:"https://example.com/logo.png",...x.register("logoUrl"),className:"bg-zinc-800 border-yellow-400/30 text-white","data-testid":"input-logo-url"}),r.jsxs(I,{type:"button",variant:"outline",className:"border-yellow-400/30 text-yellow-400 hover:bg-yellow-400/10",children:[r.jsx(rr,{className:"h-4 w-4 mr-2"}),"Upload"]})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"primaryColor",className:"text-gray-300",children:"Primary Color"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(ee,{id:"primaryColor",type:"text",...x.register("primaryColor"),className:"bg-zinc-800 border-yellow-400/30 text-white","data-testid":"input-primary-color"}),r.jsx("div",{className:"w-10 h-10 rounded border border-yellow-400/30",style:{backgroundColor:x.watch("primaryColor")}})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"secondaryColor",className:"text-gray-300",children:"Secondary Color"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(ee,{id:"secondaryColor",type:"text",...x.register("secondaryColor"),className:"bg-zinc-800 border-yellow-400/30 text-white","data-testid":"input-secondary-color"}),r.jsx("div",{className:"w-10 h-10 rounded border border-yellow-400/30",style:{backgroundColor:x.watch("secondaryColor")}})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"accentColor",className:"text-gray-300",children:"Accent Color"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(ee,{id:"accentColor",type:"text",...x.register("accentColor"),className:"bg-zinc-800 border-yellow-400/30 text-white","data-testid":"input-accent-color"}),r.jsx("div",{className:"w-10 h-10 rounded border border-yellow-400/30",style:{backgroundColor:x.watch("accentColor")}})]})]})]})]}),r.jsxs(Mt,{className:"bg-yellow-400/10 border-yellow-400/30",children:[r.jsx(rI,{className:"h-4 w-4 text-yellow-400"}),r.jsx(It,{className:"text-gray-300",children:"These colors will be used throughout the organization's interface and branded materials."})]}),r.jsx("div",{className:"flex justify-end",children:r.jsxs(I,{type:"submit",className:"bg-yellow-400 hover:bg-yellow-500 text-black font-semibold",children:[r.jsx(vi,{className:"h-4 w-4 mr-2"}),"Save Branding"]})})]})})]})}),r.jsx(lt,{value:"domain",className:"space-y-4",children:r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:[r.jsxs(X,{children:[r.jsx(J,{className:"text-white",children:"Domain Configuration"}),r.jsx(tt,{className:"text-gray-400",children:"Configure how users access your organization"})]}),r.jsx(B,{children:r.jsxs("form",{onSubmit:h.handleSubmit(b),className:"space-y-4",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"domainType",className:"text-gray-300",children:"Domain Type"}),r.jsxs(ze,{value:h.watch("domainType"),onValueChange:N=>h.setValue("domainType",N),children:[r.jsx(Re,{className:"bg-zinc-800 border-yellow-400/30 text-white","data-testid":"select-domain-type",children:r.jsx(Fe,{})}),r.jsxs($e,{className:"bg-zinc-800 border-yellow-400/20",children:[r.jsx(Y,{value:"standard",className:"text-white hover:bg-zinc-700",children:"Standard (isohub.com)"}),r.jsx(Y,{value:"subdomain",className:"text-white hover:bg-zinc-700",children:"Subdomain (yourname.isohub.com)"}),r.jsx(Y,{value:"custom",className:"text-white hover:bg-zinc-700",children:"Custom Domain"})]})]})]}),h.watch("domainType")==="subdomain"&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"subdomainPrefix",className:"text-gray-300",children:"Subdomain Prefix"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ee,{id:"subdomainPrefix",placeholder:"yourcompany",...h.register("subdomainPrefix"),className:"bg-zinc-800 border-yellow-400/30 text-white","data-testid":"input-subdomain"}),r.jsx("span",{className:"text-gray-400",children:".isohub.com"})]})]}),h.watch("domainType")==="custom"&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"customDomain",className:"text-gray-300",children:"Custom Domain"}),r.jsx(ee,{id:"customDomain",placeholder:"app.yourdomain.com",...h.register("customDomain"),className:"bg-zinc-800 border-yellow-400/30 text-white","data-testid":"input-custom-domain"}),r.jsxs(Mt,{className:"bg-blue-500/10 border-blue-500/30",children:[r.jsx(ht,{className:"h-4 w-4 text-blue-400"}),r.jsxs(It,{className:"text-gray-300",children:["Please add a CNAME record pointing to ",r.jsx("code",{className:"text-yellow-400",children:"custom.isohub.com"})," in your DNS settings."]})]})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsxs(I,{type:"submit",className:"bg-yellow-400 hover:bg-yellow-500 text-black font-semibold",children:[r.jsx(vi,{className:"h-4 w-4 mr-2"}),"Save Domain Settings"]})})]})})]})}),r.jsx(lt,{value:"api",className:"space-y-4",children:r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:[r.jsxs(X,{children:[r.jsx(J,{className:"text-white",children:"API Configuration"}),r.jsx(tt,{className:"text-gray-400",children:"Manage API keys and webhook endpoints"})]}),r.jsxs(B,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{className:"text-gray-300",children:"API Key"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(ee,{type:i?"text":"password",value:d.apiKey,readOnly:!0,className:"pr-10 bg-zinc-800 border-yellow-400/30 text-white","data-testid":"input-api-key"}),r.jsx(I,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 text-gray-400 hover:text-yellow-400",onClick:()=>o(!i),children:i?r.jsx(mh,{className:"h-4 w-4"}):r.jsx(yr,{className:"h-4 w-4"})})]}),r.jsx(I,{type:"button",variant:"outline",onClick:w,className:"border-yellow-400/30 text-yellow-400 hover:bg-yellow-400/10","data-testid":"button-regenerate-api",children:"Regenerate"})]}),r.jsx("p",{className:"text-sm text-gray-400",children:"Use this key to authenticate API requests"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"webhookUrl",className:"text-gray-300",children:"Webhook URL"}),r.jsx(ee,{id:"webhookUrl",type:"url",defaultValue:d.webhookUrl,placeholder:"https://your-domain.com/webhooks",className:"bg-zinc-800 border-yellow-400/30 text-white","data-testid":"input-webhook-url"}),r.jsx("p",{className:"text-sm text-gray-400",children:"We'll send event notifications to this URL"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{className:"text-gray-300",children:"Webhook Events"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(un,{id:"webhook-payment",defaultChecked:!0,className:"data-[state=checked]:bg-yellow-400"}),r.jsx(K,{htmlFor:"webhook-payment",className:"font-normal text-gray-300",children:"Payment events"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(un,{id:"webhook-merchant",defaultChecked:!0,className:"data-[state=checked]:bg-yellow-400"}),r.jsx(K,{htmlFor:"webhook-merchant",className:"font-normal text-gray-300",children:"Merchant events"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(un,{id:"webhook-user",className:"data-[state=checked]:bg-yellow-400"}),r.jsx(K,{htmlFor:"webhook-user",className:"font-normal text-gray-300",children:"User events"})]})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsxs(I,{className:"bg-yellow-400 hover:bg-yellow-500 text-black font-semibold",children:[r.jsx(vi,{className:"h-4 w-4 mr-2"}),"Save API Settings"]})})]})]})}),r.jsx(lt,{value:"ai",className:"space-y-4",children:r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:[r.jsx(X,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(x2,{className:"h-6 w-6 text-yellow-400"}),r.jsxs("div",{children:[r.jsx(J,{className:"text-white",children:"ISO-AI Configuration"}),r.jsx(tt,{className:"text-gray-400",children:"Configure your organization's AI assistant settings"})]})]})}),r.jsxs(B,{className:"space-y-6",children:[r.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{className:"text-gray-300",children:"AI Model"}),r.jsxs(ze,{defaultValue:"claude-sonnet",children:[r.jsx(Re,{className:"bg-zinc-800 border-yellow-400/30 text-white",children:r.jsx(Fe,{placeholder:"Select model"})}),r.jsxs($e,{className:"bg-zinc-900 border-yellow-400/20",children:[r.jsx(Y,{value:"claude-sonnet",children:"Claude 3.5 Sonnet (Recommended)"}),r.jsx(Y,{value:"claude-opus",children:"Claude 3 Opus (Advanced)"}),r.jsx(Y,{value:"gpt-4o",children:"GPT-4o"})]})]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Select the AI model for your assistant"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{className:"text-gray-300",children:"Response Temperature"}),r.jsxs(ze,{defaultValue:"balanced",children:[r.jsx(Re,{className:"bg-zinc-800 border-yellow-400/30 text-white",children:r.jsx(Fe,{placeholder:"Select temperature"})}),r.jsxs($e,{className:"bg-zinc-900 border-yellow-400/20",children:[r.jsx(Y,{value:"precise",children:"Precise (0.3) - Factual & consistent"}),r.jsx(Y,{value:"balanced",children:"Balanced (0.7) - Recommended"}),r.jsx(Y,{value:"creative",children:"Creative (1.0) - More varied responses"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{className:"text-gray-300",children:"Max Response Tokens"}),r.jsxs(ze,{defaultValue:"2048",children:[r.jsx(Re,{className:"bg-zinc-800 border-yellow-400/30 text-white",children:r.jsx(Fe,{placeholder:"Select max tokens"})}),r.jsxs($e,{className:"bg-zinc-900 border-yellow-400/20",children:[r.jsx(Y,{value:"1024",children:"1024 - Short responses"}),r.jsx(Y,{value:"2048",children:"2048 - Standard (Recommended)"}),r.jsx(Y,{value:"4096",children:"4096 - Detailed responses"})]})]})]})]}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"p-4 rounded-lg border border-yellow-400/20 bg-zinc-800/50",children:[r.jsx("h4",{className:"text-white font-medium mb-3",children:"AI Features"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(K,{htmlFor:"tool-calling",className:"text-gray-300",children:"Tool Calling"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Allow AI to access merchant data & reports"})]}),r.jsx(un,{id:"tool-calling",defaultChecked:!0,className:"data-[state=checked]:bg-yellow-400"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(K,{htmlFor:"memory",className:"text-gray-300",children:"Conversation Memory"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Remember context across sessions"})]}),r.jsx(un,{id:"memory",defaultChecked:!0,className:"data-[state=checked]:bg-yellow-400"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(K,{htmlFor:"kb-search",className:"text-gray-300",children:"Knowledge Base Search"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Search documents for answers"})]}),r.jsx(un,{id:"kb-search",defaultChecked:!0,className:"data-[state=checked]:bg-yellow-400"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(K,{htmlFor:"image-analysis",className:"text-gray-300",children:"Image Analysis"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Analyze uploaded images"})]}),r.jsx(un,{id:"image-analysis",defaultChecked:!0,className:"data-[state=checked]:bg-yellow-400"})]})]})]})})]}),r.jsxs("div",{className:"p-4 rounded-lg border border-yellow-400/20 bg-zinc-800/50",children:[r.jsx("h4",{className:"text-white font-medium mb-3",children:"System Prompt (Custom Instructions)"}),r.jsx(Wt,{placeholder:"Add custom instructions for your AI assistant. For example: 'Always address users formally. Focus on payment processing terminology. Reference our company policies when relevant.'",className:"bg-zinc-900 border-yellow-400/30 text-white min-h-[100px]"}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"These instructions will be included in every AI conversation"})]}),r.jsx("div",{className:"p-4 rounded-lg border border-blue-500/20 bg-blue-900/20",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(ht,{className:"h-5 w-5 text-blue-400 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-white font-medium",children:"AI Usage Stats"}),r.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"This month: 1,247 messages  2.3M tokens used"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Resets on the 1st of each month"})]})]})}),r.jsx("div",{className:"flex justify-end",children:r.jsxs(I,{className:"bg-yellow-400 hover:bg-yellow-500 text-black font-semibold",children:[r.jsx(vi,{className:"h-4 w-4 mr-2"}),"Save AI Settings"]})})]})]})}),r.jsx(lt,{value:"billing",className:"space-y-4",children:r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:[r.jsxs(X,{children:[r.jsx(J,{className:"text-white",children:"Billing Information"}),r.jsx(tt,{className:"text-gray-400",children:"Manage your subscription and billing details"})]}),r.jsxs(B,{className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{className:"p-4 rounded-lg border border-yellow-400/20 bg-zinc-800/50",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm text-gray-400",children:"Current Plan"}),r.jsx(oe,{className:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",children:"Professional"})]}),r.jsx("div",{className:"text-2xl font-bold text-white",children:"$299/month"}),r.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Billed monthly"})]}),r.jsxs("div",{className:"p-4 rounded-lg border border-yellow-400/20 bg-zinc-800/50",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm text-gray-400",children:"Next Billing Date"}),r.jsx(oe,{className:"bg-blue-500/20 text-blue-400 border-blue-500/30",children:"Upcoming"})]}),r.jsx("div",{className:"text-2xl font-bold text-white",children:"March 15, 2024"}),r.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Auto-renewal enabled"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{className:"text-gray-300",children:"Payment Method"}),r.jsxs("div",{className:"flex items-center space-x-4 p-4 rounded-lg border border-yellow-400/20 bg-zinc-800/50",children:[r.jsx(Cu,{className:"h-8 w-8 text-yellow-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-white",children:"Visa ending in 4242"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Expires 12/2026"})]}),r.jsx(I,{variant:"outline",className:"ml-auto border-yellow-400/30 text-yellow-400 hover:bg-yellow-400/10",children:"Update"})]})]}),r.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-yellow-400/20",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-white",children:"Need to change plans?"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Contact our sales team for custom pricing"})]}),r.jsx(I,{variant:"outline",className:"border-yellow-400/30 text-yellow-400 hover:bg-yellow-400/10",children:"Contact Sales"})]})]})]})})]})]})})}function cAe(e,t){return g.useReducer((n,s)=>t[n][s]??n,e)}var S4="ScrollArea",[g9]=Fn(S4),[dAe,Zs]=g9(S4),y9=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:s="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=g.useState(null),[d,u]=g.useState(null),[m,p]=g.useState(null),[f,x]=g.useState(null),[h,y]=g.useState(null),[v,b]=g.useState(0),[w,S]=g.useState(0),[N,j]=g.useState(!1),[C,A]=g.useState(!1),k=rt(t,M=>c(M)),O=Ep(a);return r.jsx(dAe,{scope:n,type:s,dir:O,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:u,content:m,onContentChange:p,scrollbarX:f,onScrollbarXChange:x,scrollbarXEnabled:N,onScrollbarXEnabledChange:j,scrollbarY:h,onScrollbarYChange:y,scrollbarYEnabled:C,onScrollbarYEnabledChange:A,onCornerWidthChange:b,onCornerHeightChange:S,children:r.jsx(Le.div,{dir:O,...o,ref:k,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});y9.displayName=S4;var v9="ScrollAreaViewport",b9=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:s,nonce:a,...i}=e,o=Zs(v9,n),l=g.useRef(null),c=rt(t,l,o.onViewportChange);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),r.jsx(Le.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:r.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});b9.displayName=v9;var ii="ScrollAreaScrollbar",C4=g.forwardRef((e,t)=>{const{forceMount:n,...s}=e,a=Zs(ii,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return g.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?r.jsx(uAe,{...s,ref:t,forceMount:n}):a.type==="scroll"?r.jsx(mAe,{...s,ref:t,forceMount:n}):a.type==="auto"?r.jsx(w9,{...s,ref:t,forceMount:n}):a.type==="always"?r.jsx(k4,{...s,ref:t}):null});C4.displayName=ii;var uAe=g.forwardRef((e,t)=>{const{forceMount:n,...s}=e,a=Zs(ii,e.__scopeScrollArea),[i,o]=g.useState(!1);return g.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[a.scrollArea,a.scrollHideDelay]),r.jsx(an,{present:n||i,children:r.jsx(w9,{"data-state":i?"visible":"hidden",...s,ref:t})})}),mAe=g.forwardRef((e,t)=>{const{forceMount:n,...s}=e,a=Zs(ii,e.__scopeScrollArea),i=e.orientation==="horizontal",o=av(()=>c("SCROLL_END"),100),[l,c]=cAe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return g.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,a.scrollHideDelay,c]),g.useEffect(()=>{const d=a.viewport,u=i?"scrollLeft":"scrollTop";if(d){let m=d[u];const p=()=>{const f=d[u];m!==f&&(c("SCROLL"),o()),m=f};return d.addEventListener("scroll",p),()=>d.removeEventListener("scroll",p)}},[a.viewport,i,c,o]),r.jsx(an,{present:n||l!=="hidden",children:r.jsx(k4,{"data-state":l==="hidden"?"hidden":"visible",...s,ref:t,onPointerEnter:je(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:je(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),w9=g.forwardRef((e,t)=>{const n=Zs(ii,e.__scopeScrollArea),{forceMount:s,...a}=e,[i,o]=g.useState(!1),l=e.orientation==="horizontal",c=av(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?d:u)}},10);return yu(n.viewport,c),yu(n.content,c),r.jsx(an,{present:s||i,children:r.jsx(k4,{"data-state":i?"visible":"hidden",...a,ref:t})})}),k4=g.forwardRef((e,t)=>{const{orientation:n="vertical",...s}=e,a=Zs(ii,e.__scopeScrollArea),i=g.useRef(null),o=g.useRef(0),[l,c]=g.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=k9(l.viewport,l.content),u={...s,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:p=>i.current=p,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:p=>o.current=p};function m(p,f){return yAe(p,o.current,l,f)}return n==="horizontal"?r.jsx(hAe,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const p=a.viewport.scrollLeft,f=pT(p,l,a.dir);i.current.style.transform=`translate3d(${f}px, 0, 0)`}},onWheelScroll:p=>{a.viewport&&(a.viewport.scrollLeft=p)},onDragScroll:p=>{a.viewport&&(a.viewport.scrollLeft=m(p,a.dir))}}):n==="vertical"?r.jsx(pAe,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const p=a.viewport.scrollTop,f=pT(p,l);i.current.style.transform=`translate3d(0, ${f}px, 0)`}},onWheelScroll:p=>{a.viewport&&(a.viewport.scrollTop=p)},onDragScroll:p=>{a.viewport&&(a.viewport.scrollTop=m(p))}}):null}),hAe=g.forwardRef((e,t)=>{const{sizes:n,onSizesChange:s,...a}=e,i=Zs(ii,e.__scopeScrollArea),[o,l]=g.useState(),c=g.useRef(null),d=rt(t,c,i.onScrollbarXChange);return g.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),r.jsx(N9,{"data-orientation":"horizontal",...a,ref:d,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":sv(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,m)=>{if(i.viewport){const p=i.viewport.scrollLeft+u.deltaX;e.onWheelScroll(p),P9(p,m)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&s({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:r0(o.paddingLeft),paddingEnd:r0(o.paddingRight)}})}})}),pAe=g.forwardRef((e,t)=>{const{sizes:n,onSizesChange:s,...a}=e,i=Zs(ii,e.__scopeScrollArea),[o,l]=g.useState(),c=g.useRef(null),d=rt(t,c,i.onScrollbarYChange);return g.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),r.jsx(N9,{"data-orientation":"vertical",...a,ref:d,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":sv(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,m)=>{if(i.viewport){const p=i.viewport.scrollTop+u.deltaY;e.onWheelScroll(p),P9(p,m)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&s({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:r0(o.paddingTop),paddingEnd:r0(o.paddingBottom)}})}})}),[fAe,j9]=g9(ii),N9=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:s,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:m,...p}=e,f=Zs(ii,n),[x,h]=g.useState(null),y=rt(t,k=>h(k)),v=g.useRef(null),b=g.useRef(""),w=f.viewport,S=s.content-s.viewport,N=xr(u),j=xr(c),C=av(m,10);function A(k){if(v.current){const O=k.clientX-v.current.left,M=k.clientY-v.current.top;d({x:O,y:M})}}return g.useEffect(()=>{const k=O=>{const M=O.target;(x==null?void 0:x.contains(M))&&N(O,S)};return document.addEventListener("wheel",k,{passive:!1}),()=>document.removeEventListener("wheel",k,{passive:!1})},[w,x,S,N]),g.useEffect(j,[s,j]),yu(x,C),yu(f.content,C),r.jsx(fAe,{scope:n,scrollbar:x,hasThumb:a,onThumbChange:xr(i),onThumbPointerUp:xr(o),onThumbPositionChange:j,onThumbPointerDown:xr(l),children:r.jsx(Le.div,{...p,ref:y,style:{position:"absolute",...p.style},onPointerDown:je(e.onPointerDown,k=>{k.button===0&&(k.target.setPointerCapture(k.pointerId),v.current=x.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),A(k))}),onPointerMove:je(e.onPointerMove,A),onPointerUp:je(e.onPointerUp,k=>{const O=k.target;O.hasPointerCapture(k.pointerId)&&O.releasePointerCapture(k.pointerId),document.body.style.webkitUserSelect=b.current,f.viewport&&(f.viewport.style.scrollBehavior=""),v.current=null})})})}),t0="ScrollAreaThumb",S9=g.forwardRef((e,t)=>{const{forceMount:n,...s}=e,a=j9(t0,e.__scopeScrollArea);return r.jsx(an,{present:n||a.hasThumb,children:r.jsx(xAe,{ref:t,...s})})}),xAe=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:s,...a}=e,i=Zs(t0,n),o=j9(t0,n),{onThumbPositionChange:l}=o,c=rt(t,m=>o.onThumbChange(m)),d=g.useRef(void 0),u=av(()=>{d.current&&(d.current(),d.current=void 0)},100);return g.useEffect(()=>{const m=i.viewport;if(m){const p=()=>{if(u(),!d.current){const f=vAe(m,l);d.current=f,l()}};return l(),m.addEventListener("scroll",p),()=>m.removeEventListener("scroll",p)}},[i.viewport,u,l]),r.jsx(Le.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:je(e.onPointerDownCapture,m=>{const f=m.target.getBoundingClientRect(),x=m.clientX-f.left,h=m.clientY-f.top;o.onThumbPointerDown({x,y:h})}),onPointerUp:je(e.onPointerUp,o.onThumbPointerUp)})});S9.displayName=t0;var A4="ScrollAreaCorner",C9=g.forwardRef((e,t)=>{const n=Zs(A4,e.__scopeScrollArea),s=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&s?r.jsx(gAe,{...e,ref:t}):null});C9.displayName=A4;var gAe=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,...s}=e,a=Zs(A4,n),[i,o]=g.useState(0),[l,c]=g.useState(0),d=!!(i&&l);return yu(a.scrollbarX,()=>{var m;const u=((m=a.scrollbarX)==null?void 0:m.offsetHeight)||0;a.onCornerHeightChange(u),c(u)}),yu(a.scrollbarY,()=>{var m;const u=((m=a.scrollbarY)==null?void 0:m.offsetWidth)||0;a.onCornerWidthChange(u),o(u)}),d?r.jsx(Le.div,{...s,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function r0(e){return e?parseInt(e,10):0}function k9(e,t){const n=e/t;return isNaN(n)?0:n}function sv(e){const t=k9(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=(e.scrollbar.size-n)*t;return Math.max(s,18)}function yAe(e,t,n,s="ltr"){const a=sv(n),i=a/2,o=t||i,l=a-o,c=n.scrollbar.paddingStart+o,d=n.scrollbar.size-n.scrollbar.paddingEnd-l,u=n.content-n.viewport,m=s==="ltr"?[0,u]:[u*-1,0];return A9([c,d],m)(e)}function pT(e,t,n="ltr"){const s=sv(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-s,c=n==="ltr"?[0,o]:[o*-1,0],d=pj(e,c);return A9([0,o],[0,l])(d)}function A9(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(n-e[0])}}function P9(e,t){return e>0&&e<t}var vAe=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},s=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=n.left!==i.left,l=n.top!==i.top;(o||l)&&t(),n=i,s=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(s)};function av(e,t){const n=xr(e),s=g.useRef(0);return g.useEffect(()=>()=>window.clearTimeout(s.current),[]),g.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(n,t)},[n,t])}function yu(e,t){const n=xr(t);Cr(()=>{let s=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(n)});return a.observe(e),()=>{window.cancelAnimationFrame(s),a.unobserve(e)}}},[e,n])}var O9=y9,bAe=b9,wAe=C9;const Ws=g.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(O9,{ref:s,className:ye("relative overflow-hidden",e),...n,children:[r.jsx(bAe,{className:"h-full w-full rounded-[inherit]",children:t}),r.jsx(E9,{}),r.jsx(wAe,{})]}));Ws.displayName=O9.displayName;const E9=g.forwardRef(({className:e,orientation:t="vertical",...n},s)=>r.jsx(C4,{ref:s,orientation:t,className:ye("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:r.jsx(S9,{className:"relative flex-1 rounded-full bg-border"})}));E9.displayName=C4.displayName;function jAe(){const{toast:e}=pt(),t=_t(),n=g.useRef(null),[s,a]=g.useState(!1),[i,o]=g.useState([{id:"1",content:"Hello! I'm your ISO Hub assistant. I can help you with onboarding, user guides, troubleshooting, and any questions about the platform. What would you like to know?",sender:"assistant",timestamp:new Date}]),[l,c]=g.useState(""),[d,u]=g.useState(!1),[m,p]=g.useState({subject:"",description:"",category:"",priority:"normal",loomVideoUrl:""}),[f,x]=g.useState([]),[h,y]=g.useState(!1),v=()=>{const k=document.cookie.match(/csrf_token=([^;]+)/);return k?k[1]:null},b=Oe({mutationFn:async k=>{const O=new FormData;O.append("data",JSON.stringify(k)),f.forEach(T=>{O.append("attachments",T)});const M={},P=localStorage.getItem("authToken");P&&(M.Authorization=`Bearer ${P}`);const _=v();_&&(M["X-CSRF-Token"]=_);const E=await fetch("/api/tickets",{method:"POST",headers:M,body:O,credentials:"include"});if(!E.ok){const T=await E.json();throw new Error(T.error||"Failed to submit ticket")}return E.json()},onSuccess:k=>{t.invalidateQueries({queryKey:["/api/tickets/my-tickets"]}),y(!0),p({subject:"",description:"",category:"",priority:"normal",loomVideoUrl:""}),x([]),e({title:"Ticket Submitted!",description:`Your ticket ${k.ticketNumber} has been submitted. We'll respond soon.`})},onError:k=>{e({title:"Failed to submit ticket",description:k.message,variant:"destructive"})}}),w=k=>{const O=Array.from(k.target.files||[]);if(f.length+O.length>5){e({title:"Maximum 5 attachments allowed",variant:"destructive"});return}x([...f,...O])},S=k=>{x(f.filter((O,M)=>M!==k))},N=()=>{if(!m.subject||!m.description||!m.category){e({title:"Please fill in all required fields",variant:"destructive"});return}b.mutate(m)},j=[{category:"Getting Started",questions:[{q:"How do I create a new organization?",a:'Navigate to Organization Management in the admin sidebar, click "Create Organization", fill out the required information, and the system will automatically send a welcome email with activation instructions.'},{q:"What happens during the onboarding process?",a:"The onboarding includes 7 steps: Instance Setup, Company Information, Organization Chart, Business Profile, Vendor Selection (36 vendors), Document Hub Integration, and Dashboard Tour."},{q:"How long does onboarding take?",a:"The complete onboarding process typically takes 30-45 minutes, depending on your organization's complexity and vendor selections."}]},{category:"User Management",questions:[{q:"What user roles are available?",a:"Available roles include SuperAdmin, Admin, Manager, Team Leaders, Users/Reps, Team Members, and Partners. Each role has specific permissions and access levels."},{q:"How do I reset a user's password?",a:'In User Management, select the user and click "Reset Password". The system will generate a secure temporary password and send it via email.'},{q:"Can I bulk assign roles to multiple users?",a:"Yes, use the bulk assignment tools in the User Management section to efficiently assign roles and permissions to multiple users at once."}]},{category:"Data & Reports",questions:[{q:"Which processors are supported?",a:"Currently supported processors include Payment Advisors, Clearent, Global Payments TSYS, Merchant Lynx, Micamp Solutions, First Data, and Shift4."},{q:"How do I upload processor data?",a:"Go to Data Upload, select your processor and month, then upload the CSV or Excel file. The system validates and processes the data automatically."},{q:"Can I generate custom reports?",a:"Yes, use the AI Report Builder to create custom reports using natural language queries. The system can generate agent reports, revenue summaries, and trend analysis."}]},{category:"Technical Issues",questions:[{q:"What file formats are supported for uploads?",a:"The system supports CSV and Excel (.xlsx) files. Each processor has specific format requirements that are automatically validated."},{q:"Why is my activation link not working?",a:"Activation links expire after 24 hours. If expired, request a new activation link from the Organization Management page."},{q:"How do I integrate with external document systems?",a:"During onboarding Step 6, you can connect Google Drive, OneDrive, SharePoint, or Dropbox using OAuth authentication."}]}],C=[{title:"Complete Onboarding Guide",description:"Step-by-step walkthrough of the 7-step onboarding process",icon:r.jsx(St,{className:"h-5 w-5"}),file:"ONBOARDING_USER_GUIDE.md",tags:["Getting Started","Required"]},{title:"Data Upload & Processing",description:"How to upload and manage processor data files",icon:r.jsx(rr,{className:"h-5 w-5"}),file:"data-upload-guide.md",tags:["Data Management","Processors"]},{title:"User Management System",description:"Managing users, roles, and permissions",icon:r.jsx(Bs,{className:"h-5 w-5"}),file:"user-management-guide.md",tags:["Administration","Security"]},{title:"AI Report Builder",description:"Creating custom reports with natural language",icon:r.jsx(Xa,{className:"h-5 w-5"}),file:"ai-reports-guide.md",tags:["Reports","AI Features"]},{title:"Email Integration Setup",description:"Configuring SMTP and email templates",icon:r.jsx(yi,{className:"h-5 w-5"}),file:"email-integration-guide.md",tags:["Configuration","Communication"]},{title:"Vendor Portal Management",description:"Managing 36 vendors across 4 categories",icon:r.jsx(vr,{className:"h-5 w-5"}),file:"vendor-portal-guide.md",tags:["Vendors","Integration"]}],A=async()=>{if(!l.trim())return;const k={id:Date.now().toString(),content:l,sender:"user",timestamp:new Date};o(O=>[...O,k]),c(""),u(!0);try{const M=await(await fetch("/api/help/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:l,conversationHistory:i.map(_=>({id:_.id,content:_.content,sender:_.sender,timestamp:_.timestamp.toISOString()}))})})).json(),P={id:(Date.now()+1).toString(),content:M.response||"I apologize, but I encountered an error. Please try again.",sender:"assistant",timestamp:new Date};o(_=>[..._,P])}catch{const M={id:(Date.now()+1).toString(),content:"I'm having trouble connecting to the server. Please check your internet connection and try again.",sender:"assistant",timestamp:new Date};o(P=>[...P,M])}finally{u(!1)}};return r.jsx("div",{className:"min-h-screen bg-[#0a0a0f]",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Help & Support Center"}),r.jsx("p",{className:"text-gray-400",children:"Find answers, guides, and get help with ISO Hub platform"})]}),r.jsxs(ns,{defaultValue:"chat",className:"space-y-6",children:[r.jsxs(Un,{className:"grid w-full grid-cols-4 bg-zinc-900 border border-yellow-400/20",children:[r.jsxs(ot,{value:"chat",className:"flex items-center gap-2 text-gray-400 data-[state=active]:bg-yellow-400 data-[state=active]:text-black",children:[r.jsx(Zf,{className:"h-4 w-4"}),"AI Assistant"]}),r.jsxs(ot,{value:"guides",className:"flex items-center gap-2 text-gray-400 data-[state=active]:bg-yellow-400 data-[state=active]:text-black",children:[r.jsx(mk,{className:"h-4 w-4"}),"User Guides"]}),r.jsxs(ot,{value:"faq",className:"flex items-center gap-2 text-gray-400 data-[state=active]:bg-yellow-400 data-[state=active]:text-black",children:[r.jsx(gs,{className:"h-4 w-4"}),"FAQ"]}),r.jsxs(ot,{value:"ticket",className:"flex items-center gap-2 text-gray-400 data-[state=active]:bg-yellow-400 data-[state=active]:text-black",children:[r.jsx(fa,{className:"h-4 w-4"}),"Submit Ticket"]})]}),r.jsx(lt,{value:"chat",children:r.jsxs(U,{className:"bg-zinc-900/80 border border-yellow-400/20",children:[r.jsxs(X,{children:[r.jsxs(J,{className:"flex items-center gap-2 text-white",children:[r.jsx(wo,{className:"h-5 w-5 text-yellow-400"}),"AI Assistant Chat"]}),r.jsx(tt,{className:"text-gray-400",children:"Ask questions about onboarding, features, troubleshooting, or anything else about ISO Hub"})]}),r.jsx(B,{children:r.jsxs("div",{className:"border border-yellow-400/20 rounded-lg h-96 flex flex-col bg-zinc-900/50",children:[r.jsx(Ws,{className:"flex-1 p-4",children:r.jsxs("div",{className:"space-y-4",children:[i.map(k=>r.jsx("div",{className:`flex ${k.sender==="user"?"justify-end":"justify-start"}`,children:r.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${k.sender==="user"?"bg-yellow-400 text-black":"bg-zinc-800 text-gray-300"}`,children:[r.jsx("p",{className:"text-sm",children:k.content}),r.jsx("p",{className:"text-xs opacity-70 mt-1",children:k.timestamp.toLocaleTimeString()})]})},k.id)),d&&r.jsx("div",{className:"flex justify-start",children:r.jsx("div",{className:"bg-zinc-800 px-4 py-2 rounded-lg",children:r.jsx("p",{className:"text-sm text-gray-400",children:"AI is typing..."})})})]})}),r.jsx("div",{className:"border-t border-yellow-400/10 p-4",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx(ee,{placeholder:"Ask about onboarding, features, or any questions...",value:l,onChange:k=>c(k.target.value),onKeyPress:k=>k.key==="Enter"&&A(),className:"flex-1 bg-zinc-800 border-yellow-400/30 text-white placeholder:text-gray-500"}),r.jsx(I,{onClick:A,size:"sm",className:"bg-yellow-400 hover:bg-yellow-500 text-black font-semibold",children:r.jsx(Ns,{className:"h-4 w-4"})})]})})]})})]})}),r.jsx(lt,{value:"guides",children:r.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:C.map((k,O)=>r.jsxs(U,{className:"bg-zinc-900/80 border border-yellow-400/20 hover:border-yellow-400/40 transition-all",children:[r.jsxs(X,{children:[r.jsxs(J,{className:"flex items-center gap-2 text-lg text-white",children:[r.jsx("span",{className:"text-yellow-400",children:k.icon}),k.title]}),r.jsx(tt,{className:"text-gray-400",children:k.description})]}),r.jsxs(B,{children:[r.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:k.tags.map(M=>r.jsx(oe,{variant:"secondary",className:"text-xs bg-yellow-400/10 text-yellow-400 border border-yellow-400/30",children:M},M))}),r.jsxs(I,{className:"w-full border-yellow-400/30 text-yellow-400 hover:bg-yellow-400/10",variant:"outline",children:[r.jsx(et,{className:"h-4 w-4 mr-2"}),"View Guide"]})]})]},O))})}),r.jsx(lt,{value:"faq",children:r.jsx("div",{className:"space-y-6",children:j.map((k,O)=>r.jsxs(U,{className:"bg-zinc-900/80 border border-yellow-400/20",children:[r.jsx(X,{children:r.jsx(J,{className:"text-xl text-white",children:k.category})}),r.jsx(B,{children:r.jsx("div",{className:"space-y-4",children:k.questions.map((M,P)=>r.jsxs("div",{className:"border-b border-yellow-400/10 pb-4 last:border-b-0",children:[r.jsxs("h4",{className:"font-medium text-white mb-2 flex items-start gap-2",children:[r.jsx(qe,{className:"h-4 w-4 text-green-400 mt-0.5 flex-shrink-0"}),M.q]}),r.jsx("p",{className:"text-gray-400 text-sm ml-6",children:M.a})]},P))})})]},O))})}),r.jsx(lt,{value:"ticket",children:r.jsxs(U,{className:"bg-zinc-900/80 border border-yellow-400/20",children:[r.jsxs(X,{children:[r.jsxs(J,{className:"flex items-center gap-2 text-white",children:[r.jsx(fa,{className:"h-5 w-5 text-yellow-400"}),"Submit a Support Ticket"]}),r.jsx(tt,{className:"text-gray-400",children:"Report bugs, request features, or ask questions. We'll respond via email."})]}),r.jsx(B,{children:h?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(qe,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Ticket Submitted!"}),r.jsx("p",{className:"text-gray-400 mb-4",children:"We'll review your ticket and respond as soon as possible."}),r.jsx(I,{onClick:()=>y(!1),className:"bg-yellow-400 hover:bg-yellow-500 text-black",children:"Submit Another Ticket"})]}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(K,{className:"text-white",children:"Category *"}),r.jsxs(ze,{value:m.category,onValueChange:k=>p({...m,category:k}),children:[r.jsx(Re,{className:"bg-zinc-800 border-yellow-400/20 text-white mt-1",children:r.jsx(Fe,{placeholder:"Select category"})}),r.jsxs($e,{children:[r.jsx(Y,{value:"bug_report",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(k0,{className:"h-4 w-4"}),r.jsx("span",{children:"Bug Report"})]})}),r.jsx(Y,{value:"feature_request",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(O0,{className:"h-4 w-4"}),r.jsx("span",{children:"Feature Request"})]})}),r.jsx(Y,{value:"question",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(gs,{className:"h-4 w-4"}),r.jsx("span",{children:"Question"})]})}),r.jsx(Y,{value:"other",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(fa,{className:"h-4 w-4"}),r.jsx("span",{children:"Other"})]})})]})]})]}),r.jsxs("div",{children:[r.jsx(K,{className:"text-white",children:"Priority"}),r.jsxs(ze,{value:m.priority,onValueChange:k=>p({...m,priority:k}),children:[r.jsx(Re,{className:"bg-zinc-800 border-yellow-400/20 text-white mt-1",children:r.jsx(Fe,{})}),r.jsxs($e,{children:[r.jsx(Y,{value:"low",children:"Low"}),r.jsx(Y,{value:"normal",children:"Normal"}),r.jsx(Y,{value:"high",children:"High"}),r.jsx(Y,{value:"urgent",children:"Urgent"})]})]})]})]}),r.jsxs("div",{children:[r.jsx(K,{className:"text-white",children:"Subject *"}),r.jsx(ee,{value:m.subject,onChange:k=>p({...m,subject:k.target.value}),placeholder:"Brief summary of your issue",className:"bg-zinc-800 border-yellow-400/20 text-white mt-1"})]}),r.jsxs("div",{children:[r.jsx(K,{className:"text-white",children:"Description *"}),r.jsx(Wt,{value:m.description,onChange:k=>p({...m,description:k.target.value}),placeholder:"Provide details about your issue, steps to reproduce, or your request...",className:"bg-zinc-800 border-yellow-400/20 text-white mt-1",rows:5})]}),r.jsxs("div",{children:[r.jsx(K,{className:"text-white",children:"Loom Video Link (optional)"}),r.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[r.jsx(gh,{className:"h-5 w-5 text-gray-400"}),r.jsx(ee,{value:m.loomVideoUrl,onChange:k=>p({...m,loomVideoUrl:k.target.value}),placeholder:"https://www.loom.com/share/...",className:"bg-zinc-800 border-yellow-400/20 text-white"})]}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Record a video with Loom to help us understand your issue better"})]}),r.jsxs("div",{children:[r.jsx(K,{className:"text-white",children:"Screenshots/Attachments (optional)"}),r.jsxs("div",{className:"mt-2",children:[r.jsx("input",{type:"file",ref:n,onChange:w,accept:"image/*,.pdf",multiple:!0,className:"hidden"}),r.jsxs(I,{type:"button",variant:"outline",onClick:()=>{var k;return(k=n.current)==null?void 0:k.click()},className:"border-yellow-400/30 text-yellow-400 hover:bg-yellow-400/10",children:[r.jsx(rr,{className:"h-4 w-4 mr-2"}),"Add Files"]}),r.jsx("span",{className:"text-xs text-gray-400 ml-2",children:"Max 5 files, 10MB each"})]}),f.length>0&&r.jsx("div",{className:"mt-3 space-y-2",children:f.map((k,O)=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-zinc-800 rounded",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(xh,{className:"h-4 w-4 text-yellow-400"}),r.jsx("span",{className:"text-sm text-white truncate",children:k.name}),r.jsxs("span",{className:"text-xs text-gray-400",children:["(",(k.size/1024).toFixed(1)," KB)"]})]}),r.jsx(I,{variant:"ghost",size:"sm",onClick:()=>S(O),className:"text-gray-400 hover:text-red-400",children:r.jsx(br,{className:"h-4 w-4"})})]},O))})]}),r.jsx("div",{className:"flex justify-end pt-4",children:r.jsx(I,{onClick:N,disabled:b.isPending,className:"bg-yellow-400 hover:bg-yellow-500 text-black font-semibold",children:b.isPending?"Submitting...":"Submit Ticket"})})]})})]})})]}),r.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:r.jsxs(jt,{open:s,onOpenChange:a,children:[r.jsx(pn,{asChild:!0,children:r.jsx(I,{className:"rounded-full h-14 w-14 shadow-lg bg-yellow-400 hover:bg-yellow-500 text-black",children:r.jsx(Zf,{className:"h-6 w-6"})})}),r.jsxs(yt,{className:"sm:max-w-md bg-zinc-900 border border-yellow-400/20",children:[r.jsx(vt,{children:r.jsx(bt,{className:"text-white",children:"Quick Help"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs(I,{variant:"outline",className:"w-full justify-start border-yellow-400/30 text-yellow-400 hover:bg-yellow-400/10",onClick:()=>{a(!1),window.location.hash="chat"},children:[r.jsx(Zf,{className:"h-4 w-4 mr-2"}),"Open AI Chat Assistant"]}),r.jsxs(I,{variant:"outline",className:"w-full justify-start border-yellow-400/30 text-yellow-400 hover:bg-yellow-400/10",children:[r.jsx(mk,{className:"h-4 w-4 mr-2"}),"View User Guides"]}),r.jsxs(I,{variant:"outline",className:"w-full justify-start border-yellow-400/30 text-yellow-400 hover:bg-yellow-400/10",children:[r.jsx(gs,{className:"h-4 w-4 mr-2"}),"Browse FAQ"]}),r.jsxs(I,{variant:"outline",className:"w-full justify-start border-yellow-400/30 text-yellow-400 hover:bg-yellow-400/10",children:[r.jsx(yi,{className:"h-4 w-4 mr-2"}),"Contact Support"]})]})]})]})})]})})}function NAe(){var m;const[e,t]=g.useState(""),[n,s]=g.useState(null),{toast:a}=pt(),i=_t(),o=localStorage.getItem("organizationID")||"org-86f76df1",l=Oe({mutationFn:async()=>{const f=await(await fetch("/api/admin/roster-template")).blob(),x=window.URL.createObjectURL(f),h=document.createElement("a");h.href=x,h.download="agent_roster_template.csv",document.body.appendChild(h),h.click(),window.URL.revokeObjectURL(x),document.body.removeChild(h)},onSuccess:()=>{a({title:"Template Downloaded",description:"Agent roster template has been downloaded successfully."})},onError:p=>{a({title:"Download Failed",description:p.message||"Failed to download template",variant:"destructive"})}}),c=Oe({mutationFn:async p=>await Te({method:"POST",endpoint:"/api/admin/roster-upload",body:p}),onSuccess:p=>{s(p),i.invalidateQueries({queryKey:["/api/user"]}),a({title:"Roster Uploaded",description:`Successfully created ${p.created} agent accounts.`})},onError:p=>{a({title:"Upload Failed",description:p.message||"Failed to upload roster",variant:"destructive"})}}),d=()=>{if(!e.trim()){a({title:"No Data",description:"Please paste CSV data before uploading.",variant:"destructive"});return}c.mutate({csvData:e,organizationId:o})},u=`Agent ID,First Name,Last Name,Email,Phone,Department,Start Date,Commission Rate
AGENT001,John,Smith,john.smith@company.com,555-0101,Sales,2024-01-15,0.05
AGENT002,Jane,Doe,jane.doe@company.com,555-0102,Sales,2024-02-01,0.055
AGENT003,Mike,Johnson,mike.johnson@company.com,555-0103,Operations,2024-01-20,0.045`;return r.jsxs("div",{className:"container mx-auto p-6 max-w-4xl",children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[r.jsx(St,{className:"h-8 w-8"}),"Agent Roster Upload"]}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Upload your agent roster to automatically create agent accounts and set up role-based permissions."})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(U,{children:[r.jsx(X,{children:r.jsxs(J,{className:"flex items-center gap-2",children:[r.jsx(rr,{className:"h-5 w-5"}),"Upload Roster"]})}),r.jsxs(B,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex gap-2 mb-3",children:[r.jsxs(I,{variant:"outline",onClick:()=>l.mutate(),disabled:l.isPending,className:"flex items-center gap-2",children:[r.jsx(Jn,{className:"h-4 w-4"}),"Download Template"]}),r.jsxs(I,{variant:"outline",onClick:()=>t(u),className:"flex items-center gap-2",children:[r.jsx(et,{className:"h-4 w-4"}),"Use Sample Data"]})]}),r.jsx(Wt,{placeholder:"Paste your CSV data here...",value:e,onChange:p=>t(p.target.value),rows:12,className:"font-mono text-sm"})]}),r.jsx(I,{onClick:d,disabled:c.isPending||!e.trim(),className:"w-full bg-black hover:bg-gray-800 text-white",children:c.isPending?"Uploading...":r.jsxs(r.Fragment,{children:[r.jsx(rr,{className:"h-4 w-4 mr-2"}),"Upload Roster"]})})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(U,{children:[r.jsx(X,{children:r.jsx(J,{children:"Instructions"})}),r.jsxs(B,{className:"space-y-3",children:[r.jsxs("div",{className:"text-sm space-y-2",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"1."})," Download the template CSV file"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"2."})," Fill in your agent information"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"3."})," Paste the CSV data in the text area"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"4."})," Click upload to create agent accounts"]})]}),r.jsxs(Mt,{children:[r.jsx(ht,{className:"h-4 w-4"}),r.jsx(It,{children:'Each agent will be assigned the "Agent" role with appropriate permissions for viewing their own reports and leads.'})]})]})]}),n&&r.jsxs(U,{children:[r.jsx(X,{children:r.jsxs(J,{className:"flex items-center gap-2",children:[r.jsx(qe,{className:"h-5 w-5 text-green-600"}),"Upload Results"]})}),r.jsxs(B,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[r.jsx("div",{className:"text-sm font-medium text-green-800",children:"Created"}),r.jsx("div",{className:"text-2xl font-bold text-green-600",children:n.created})]}),r.jsxs("div",{className:"bg-orange-50 p-3 rounded-lg",children:[r.jsx("div",{className:"text-sm font-medium text-orange-800",children:"Errors"}),r.jsx("div",{className:"text-2xl font-bold text-orange-600",children:((m=n.errors)==null?void 0:m.length)||0})]})]}),n.errors&&n.errors.length>0&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"font-medium text-red-800",children:"Errors:"}),r.jsx("div",{className:"space-y-1",children:n.errors.map((p,f)=>r.jsx("div",{className:"text-sm text-red-600 bg-red-50 p-2 rounded",children:p},f))})]}),r.jsx(oe,{className:"bg-green-100 text-green-800",children:n.success?"Upload Successful":"Upload Failed"})]})]})]})]})]})}function SAe(){const[e,t]=g.useState({agentViewResiduals:!1,agentViewFullReports:!1,agentUploadData:!1,managerViewAllAgents:!0,partnerViewCommissions:!0,autoAssignNewMerchants:!0}),[n,s]=g.useState(!1),{toast:a}=pt(),i=(c,d)=>{t(u=>({...u,[c]:d}))},o=async()=>{s(!0);try{await new Promise(c=>setTimeout(c,1e3)),a({title:"Settings Saved",description:"Role permissions have been updated successfully."})}catch{a({title:"Save Failed",description:"Failed to save role settings. Please try again.",variant:"destructive"})}finally{s(!1)}},l=()=>{t({agentViewResiduals:!1,agentViewFullReports:!1,agentUploadData:!1,managerViewAllAgents:!0,partnerViewCommissions:!0,autoAssignNewMerchants:!0})};return r.jsxs("div",{className:"container mx-auto p-6 max-w-4xl",children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[r.jsx(vr,{className:"h-8 w-8"}),"Role & Permission Settings"]}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Configure role-based access control and permissions for your organization."})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(U,{children:[r.jsx(X,{children:r.jsxs(J,{className:"flex items-center gap-2",children:[r.jsx(St,{className:"h-5 w-5"}),"Agent Permissions"]})}),r.jsxs(B,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:"View Residuals Section"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Allow agents to access the full residuals dashboard"})]}),r.jsx(un,{checked:e.agentViewResiduals,onCheckedChange:c=>i("agentViewResiduals",c)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:"View Full Reports"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Show all organization reports instead of just assigned data"})]}),r.jsx(un,{checked:e.agentViewFullReports,onCheckedChange:c=>i("agentViewFullReports",c)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:"Upload Data"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Allow agents to upload processor data and lead sheets"})]}),r.jsx(un,{checked:e.agentUploadData,onCheckedChange:c=>i("agentUploadData",c)})]}),r.jsxs(Mt,{children:[r.jsx(ht,{className:"h-4 w-4"}),r.jsx(It,{children:"By default, agents only see reports containing their assigned leads and residuals."})]})]})]}),r.jsxs(U,{children:[r.jsx(X,{children:r.jsxs(J,{className:"flex items-center gap-2",children:[r.jsx(Bs,{className:"h-5 w-5"}),"Manager & Partner Settings"]})}),r.jsxs(B,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:"Manager View All Agents"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Team leaders can view data for all agents in organization"})]}),r.jsx(un,{checked:e.managerViewAllAgents,onCheckedChange:c=>i("managerViewAllAgents",c)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:"Partner Commission Access"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Partners can view their commission breakdowns and payments"})]}),r.jsx(un,{checked:e.partnerViewCommissions,onCheckedChange:c=>i("partnerViewCommissions",c)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:"Auto-Assign New Merchants"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Automatically assign new merchants based on upload patterns"})]}),r.jsx(un,{checked:e.autoAssignNewMerchants,onCheckedChange:c=>i("autoAssignNewMerchants",c)})]})]})]})]}),r.jsxs(U,{className:"mt-6",children:[r.jsx(X,{children:r.jsx(J,{children:"Current Role Configuration"})}),r.jsx(B,{children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"4"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Super Admins"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:"8"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Admins"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:"12"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Agents"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"3"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Partners"})]})]})})]}),r.jsxs("div",{className:"flex gap-4 mt-6",children:[r.jsx(I,{onClick:o,disabled:n,className:"bg-black hover:bg-gray-800 text-white",children:n?"Saving...":"Save Settings"}),r.jsx(I,{variant:"outline",onClick:l,disabled:n,children:"Reset to Defaults"})]})]})}function CAe(){const{data:e,isLoading:t}=ve({queryKey:["/api/auth/user"],retry:!1});return{user:e,isLoading:t,isAuthenticated:!!e}}function _9(){const{user:e}=CAe(),{data:t,isLoading:n}=ve({queryKey:["/api/user/role/"+(e==null?void 0:e.id)],enabled:!!(e!=null&&e.id)}),{data:s,isLoading:a}=ve({queryKey:["/api/user/navigation/"+(t==null?void 0:t.role)],enabled:!!(t!=null&&t.role)}),i=h=>t!=null&&t.permissions?t.permissions.includes(h):!1;return{userRole:t,navigation:s,isLoading:n||a,hasPermission:i,hasRole:h=>(t==null?void 0:t.role)===h,isAdmin:()=>["SuperAdmin","Admin"].includes((t==null?void 0:t.role)||""),isSuperAdmin:()=>(t==null?void 0:t.role)==="SuperAdmin",isRep:()=>(t==null?void 0:t.role)==="Users/Reps",canViewResiduals:()=>i("view_residuals")||i("view_assigned_residuals"),canManageUsers:()=>i("manage_users")||i("manage_organization_users"),canUploadData:()=>i("upload_data"),canManageAssignments:()=>i("manage_assignments")||i("manage_team_assignments"),getNavigation:()=>s||[]}}function kAe(){var x;const[e,t]=g.useState(""),[n,s]=g.useState(""),{toast:a}=pt(),i=_t(),{userRole:o,navigation:l}=_9(),{data:c,isLoading:d}=ve({queryKey:["/api/test-users/credentials"]}),u=Oe({mutationFn:async()=>await Te({method:"POST",endpoint:"/api/test-users/create",body:{}}),onSuccess:h=>{i.invalidateQueries({queryKey:["/api/test-users/credentials"]}),a({title:"Test Users Created",description:"Successfully processed test user accounts."})},onError:h=>{a({title:"Creation Failed",description:h.message||"Failed to create test users",variant:"destructive"})}}),m=Oe({mutationFn:async h=>await Te({method:"POST",endpoint:`/api/test-users/${h.userId}/switch-role`,body:{newRole:h.newRole}}),onSuccess:h=>{i.invalidateQueries({queryKey:["/api/test-users/credentials"]}),i.invalidateQueries({queryKey:["/api/user/role"]}),a({title:"Role Switched",description:`User role updated to ${h.user.role}`})},onError:h=>{a({title:"Switch Failed",description:h.message||"Failed to switch user role",variant:"destructive"})}}),p=()=>{if(!e||!n){a({title:"Missing Selection",description:"Please select both a user and a role",variant:"destructive"});return}m.mutate({userId:e,newRole:n})},f=[{value:"SuperAdmin",label:"Super Admin",description:"Full system access"},{value:"Admin",label:"Admin",description:"Organization management"},{value:"Manager",label:"Manager",description:"Team oversight"},{value:"TeamLeader",label:"Team Leader",description:"Team leadership"},{value:"Agent",label:"Agent",description:"Sales representative"},{value:"Partner",label:"Partner",description:"Business partner"}];return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[r.jsx(rW,{className:"h-6 w-6"}),"Role-Based Access Testing"]}),r.jsx(oe,{variant:"outline",children:"Development Mode"})]}),r.jsxs(U,{children:[r.jsx(X,{children:r.jsxs(J,{className:"flex items-center gap-2",children:[r.jsx(yr,{className:"h-5 w-5"}),"Current Session"]})}),r.jsx(B,{children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Role"}),r.jsx(oe,{className:"mt-1",children:(o==null?void 0:o.role)||"Not Set"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Organization"}),r.jsx("div",{className:"text-sm",children:(o==null?void 0:o.organizationId)||"Not Set"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Permissions"}),r.jsxs("div",{className:"text-sm",children:[(o==null?void 0:o.permissions.length)||0," total"]})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Navigation Items"}),r.jsxs("div",{className:"text-sm",children:[(l==null?void 0:l.length)||0," visible"]})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(U,{children:[r.jsx(X,{children:r.jsxs(J,{className:"flex items-center gap-2",children:[r.jsx(St,{className:"h-5 w-5"}),"Test Users"]})}),r.jsxs(B,{className:"space-y-4",children:[r.jsx(I,{onClick:()=>u.mutate(),disabled:u.isPending,className:"w-full bg-black hover:bg-gray-800 text-white",children:u.isPending?"Creating...":"Create Test Users"}),(c==null?void 0:c.credentials)&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"font-medium",children:"Available Test Accounts:"}),c.credentials.map(h=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[r.jsxs("div",{className:"text-sm",children:[r.jsx("div",{className:"font-medium",children:h.name}),r.jsx("div",{className:"text-gray-500",children:h.email})]}),r.jsx(oe,{variant:"outline",children:h.role})]},h.id))]})]})]}),r.jsxs(U,{children:[r.jsx(X,{children:r.jsxs(J,{className:"flex items-center gap-2",children:[r.jsx(vr,{className:"h-5 w-5"}),"Role Switching"]})}),r.jsxs(B,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Select User:"}),r.jsxs(ze,{value:e,onValueChange:t,children:[r.jsx(Re,{children:r.jsx(Fe,{placeholder:"Choose test user"})}),r.jsx($e,{children:(x=c==null?void 0:c.credentials)==null?void 0:x.map(h=>r.jsxs(Y,{value:h.id,children:[h.name," (",h.role,")"]},h.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"New Role:"}),r.jsxs(ze,{value:n,onValueChange:s,children:[r.jsx(Re,{children:r.jsx(Fe,{placeholder:"Choose new role"})}),r.jsx($e,{children:f.map(h=>r.jsxs(Y,{value:h.value,children:[h.label," - ",h.description]},h.value))})]})]}),r.jsx(I,{onClick:p,disabled:m.isPending||!e||!n,className:"w-full bg-black hover:bg-gray-800 text-white",children:m.isPending?"Switching...":"Switch Role"})]})]})]}),l&&l.length>0&&r.jsxs(U,{children:[r.jsx(X,{children:r.jsx(J,{children:"Current Navigation Access"})}),r.jsx(B,{children:r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:l.map(h=>r.jsx(oe,{variant:"outline",className:"justify-start",children:h.name},h.path))})})]}),r.jsx(Mt,{children:r.jsx(It,{children:"This testing panel allows you to switch between different user roles to demonstrate role-based access control. Agents will only see reports containing their assigned data, while admins have full organization access."})})]})}function fT(){var M,P,_;const[e,t]=g.useState(()=>{const E=new Date;return`${E.getFullYear()}-${String(E.getMonth()+1).padStart(2,"0")}`}),[n,s]=g.useState(null),[a,i]=g.useState(!1),[o,l]=g.useState(!1),[c,d]=g.useState(null),[u,m]=g.useState(""),[p,f]=g.useState(""),{toast:x}=pt(),h=_t(),{data:y,isLoading:v}=ve({queryKey:["/api/audit/status",e],queryFn:async()=>{const[E,T]=e.split("-"),$=await fetch(`/api/audit/status/${E}/${T}`);if(!$.ok)throw new Error("Failed to fetch audit status");return $.json()}}),{data:b}=ve({queryKey:["/api/audit/errors",n],queryFn:async()=>{var $;if(!n)return null;const E=($=y==null?void 0:y.data)==null?void 0:$.find(q=>q.processor===n);if(!(E!=null&&E.auditId))return null;const T=await fetch(`/api/audit/errors/${E.auditId}`);if(!T.ok)throw new Error("Failed to fetch validation errors");return T.json()},enabled:!!n&&!!(y!=null&&y.data)}),w=Oe({mutationFn:E=>Te("/api/audit/correction","POST"),onSuccess:()=>{h.invalidateQueries({queryKey:["/api/audit/errors"]}),l(!1),m(""),f(""),x({title:"Correction Applied",description:"Data correction has been applied successfully"})}}),S=Oe({mutationFn:({auditId:E,notes:T})=>Te(`/api/audit/verify/${E}`,"POST"),onSuccess:()=>{h.invalidateQueries({queryKey:["/api/audit/status"]}),x({title:"Audit Verified",description:"Monthly audit has been verified and completed"})}}),N=E=>{switch(E){case"needs_upload":return r.jsx(rr,{className:"h-4 w-4 text-gray-500"});case"uploaded":return r.jsx(Rr,{className:"h-4 w-4 text-yellow-500"});case"verified":return r.jsx(qe,{className:"h-4 w-4 text-green-500"});case"error":return r.jsx(Io,{className:"h-4 w-4 text-red-500"});case"corrected":return r.jsx(qe,{className:"h-4 w-4 text-blue-500"});default:return r.jsx(Rr,{className:"h-4 w-4 text-gray-500"})}},j=E=>{const T={needs_upload:"destructive",uploaded:"secondary",verified:"default",error:"destructive",corrected:"secondary"},$={needs_upload:"Needs Upload",uploaded:"Needs Review",verified:"Verified",error:"Has Errors",corrected:"Corrected"};return r.jsx(oe,{variant:T[E]||"secondary",children:$[E]||E})},C=E=>{s(E),i(!0)},A=E=>{d(E),m(E.actualValue||""),l(!0)},k=()=>{c&&w.mutate({sessionId:"current-session",errorId:c.id,fieldName:c.fieldName||"",originalValue:c.actualValue||"",correctedValue:u,correctionReason:p})},O=E=>{var $;const T=($=y==null?void 0:y.data)==null?void 0:$.find(q=>q.processor===E);T!=null&&T.auditId&&S.mutate({auditId:T.auditId,notes:`Verified by user on ${new Date().toISOString()}`})};return v?r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-yellow-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Loading audit status..."})]})}):r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[r.jsx(fs,{items:[{label:"Data Upload",href:"/data-upload"},{label:"Monthly Audit",href:"/monthly-audit",isActive:!0}]}),r.jsx("div",{className:"mb-8",children:r.jsx(U,{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 border-0 shadow-lg",children:r.jsx(B,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-black/10 rounded-lg",children:r.jsx(qa,{className:"h-6 w-6 text-black"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-black",children:"Monthly Data Audit"}),r.jsx("p",{className:"text-black/80",children:"Verify and validate uploaded processor data"})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(K,{htmlFor:"month-select",className:"text-black font-medium",children:"Month:"}),r.jsx(ee,{id:"month-select",type:"month",value:e,onChange:E=>t(E.target.value),className:"w-40 bg-white/90 border-black/20"})]})]})})})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:(M=y==null?void 0:y.data)==null?void 0:M.map(E=>r.jsx(k8,{title:E.processor,href:`/data-upload?processor=${E.processor}&month=${e}`,icon:r.jsx(Yt,{className:"h-5 w-5"}),value:`$${parseFloat(E.totalRevenue).toLocaleString()}`,description:`${E.recordCount} records`,badge:j(E.status),auditStatus:E.status,monthlyData:!0,className:"hover:border-yellow-400"},E.processor))}),r.jsxs(U,{children:[r.jsx(X,{children:r.jsxs(J,{className:"flex items-center gap-2",children:[r.jsx(yr,{className:"h-5 w-5"}),"Detailed Audit Status"]})}),r.jsx(B,{children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b",children:[r.jsx("th",{className:"text-left p-4",children:"Processor"}),r.jsx("th",{className:"text-left p-4",children:"Status"}),r.jsx("th",{className:"text-left p-4",children:"Records"}),r.jsx("th",{className:"text-left p-4",children:"Revenue"}),r.jsx("th",{className:"text-left p-4",children:"Upload Date"}),r.jsx("th",{className:"text-left p-4",children:"Actions"})]})}),r.jsx("tbody",{children:(P=y==null?void 0:y.data)==null?void 0:P.map(E=>r.jsxs("tr",{className:"border-b hover:bg-gray-50 dark:hover:bg-gray-800",children:[r.jsx("td",{className:"p-4 font-medium",children:E.processor}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[N(E.status),j(E.status)]})}),r.jsx("td",{className:"p-4",children:E.recordCount.toLocaleString()}),r.jsxs("td",{className:"p-4",children:["$",parseFloat(E.totalRevenue).toLocaleString()]}),r.jsx("td",{className:"p-4",children:E.uploadDate?new Date(E.uploadDate).toLocaleDateString():"-"}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[E.hasErrors&&r.jsxs(I,{size:"sm",variant:"outline",onClick:()=>C(E.processor),className:"text-red-600 border-red-200 hover:bg-red-50",children:[r.jsx(cr,{className:"h-4 w-4 mr-1"}),"View Errors"]}),(E.status==="uploaded"||E.status==="corrected")&&r.jsxs(I,{size:"sm",onClick:()=>O(E.processor),className:"bg-green-600 hover:bg-green-700 text-white",children:[r.jsx(qe,{className:"h-4 w-4 mr-1"}),"Verify"]})]})})]},E.processor))})]})})})]}),r.jsx(jt,{open:a,onOpenChange:i,children:r.jsxs(yt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[r.jsx(vt,{children:r.jsxs(bt,{children:["Validation Errors - ",n]})}),r.jsx("div",{className:"space-y-4",children:(_=b==null?void 0:b.data)==null?void 0:_.map(E=>r.jsx(U,{className:`border-l-4 ${E.severity==="error"?"border-l-red-500":E.severity==="warning"?"border-l-yellow-500":"border-l-blue-500"}`,children:r.jsx(B,{className:"p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(oe,{variant:E.severity==="error"?"destructive":"secondary",children:E.severity.toUpperCase()}),E.rowNumber&&r.jsxs(oe,{variant:"outline",children:["Row ",E.rowNumber]})]}),r.jsx("p",{className:"font-medium mb-1",children:E.errorMessage}),E.fieldName&&r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Field: ",E.fieldName]}),E.actualValue&&r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Current Value: ",E.actualValue]}),E.expectedValue&&r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Expected: ",E.expectedValue]})]}),!E.isResolved&&E.severity==="error"&&r.jsxs(I,{size:"sm",variant:"outline",onClick:()=>A(E),className:"ml-4 border-gray-400 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800",children:[r.jsx(zm,{className:"h-4 w-4 mr-1"}),"Correct"]})]})})},E.id))})]})}),r.jsx(jt,{open:o,onOpenChange:l,children:r.jsxs(yt,{children:[r.jsx(vt,{children:r.jsx(bt,{children:"Correct Data Error"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs(K,{children:["Field: ",c==null?void 0:c.fieldName]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:c==null?void 0:c.errorMessage})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"correction-value",children:"Corrected Value"}),r.jsx(ee,{id:"correction-value",value:u,onChange:E=>m(E.target.value),className:"mt-1"})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"correction-reason",children:"Correction Reason (Optional)"}),r.jsx(Wt,{id:"correction-reason",value:p,onChange:E=>f(E.target.value),className:"mt-1",rows:3})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(I,{variant:"outline",className:"border-gray-400 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800",onClick:()=>l(!1),children:"Cancel"}),r.jsx(I,{onClick:k,disabled:!u.trim(),children:"Apply Correction"})]})]})]})})]})})}function AAe(){const{toast:e}=pt(),[t,n]=g.useState(!1),[s,a]=g.useState(!1),[i,o]=g.useState(""),[l,c]=g.useState(!1),[d,u]=g.useState(""),[m,p]=g.useState(null),[f,x]=g.useState(null),h=g.useRef(null),y=g.useRef(null),{data:v}=ve({queryKey:["/api/iso-ai/chats",m],queryFn:()=>Te(`/api/iso-ai/chats/${m}`),enabled:!!m&&t}),b=(v==null?void 0:v.messages)||[],w=Oe({mutationFn:async()=>await Te("/api/iso-ai/chats",{method:"POST",body:{title:"Quick Chat"}}),onSuccess:k=>{p(k.id),At.invalidateQueries({queryKey:["/api/iso-ai/chats"]})}}),S=g.useCallback(()=>{var k;(k=h.current)==null||k.scrollIntoView({behavior:"smooth"})},[]);g.useEffect(()=>{S()},[b,d,S]);const N=async()=>{var P;if(!i.trim()&&!f)return;let k=m;k||(k=(await w.mutateAsync()).id);const O=i,M=f;o(""),x(null),c(!0),u("");try{const _=localStorage.getItem("authToken"),E=await fetch("/api/iso-ai/messages/stream-with-tools",{method:"POST",headers:{"Content-Type":"application/json",..._?{Authorization:`Bearer ${_}`}:{}},body:JSON.stringify({chatId:k,message:O,images:M?[M]:void 0})});if(!E.ok){const D=await E.json().catch(()=>({error:"Failed to send message"}));throw new Error(D.error||"Failed to send message")}const T=E.headers.get("X-Chat-Id");T&&!m&&p(parseInt(T));const $=(P=E.body)==null?void 0:P.getReader(),q=new TextDecoder;if(!$)throw new Error("No response body");let R="";for(;;){const{done:D,value:V}=await $.read();if(D)break;const z=q.decode(V).split(`
`);for(const Q of z)if(Q.startsWith("data: ")){const te=Q.slice(6);if(te==="[DONE]")continue;try{const me=JSON.parse(te);if(me.type==="content_block_delta"&&me.text)R+=me.text,u(R);else if(me.type==="error")throw new Error(me.error)}catch{}}}At.invalidateQueries({queryKey:["/api/iso-ai/chats",k]})}catch(_){e({title:"Error",description:_ instanceof Error?_.message:"Failed to send message",variant:"destructive"})}finally{c(!1),u("")}},j=k=>{k.key==="Enter"&&!k.shiftKey&&(k.preventDefault(),N())},C=k=>{var P;const O=(P=k.target.files)==null?void 0:P[0];if(!O)return;const M=new FileReader;M.onload=()=>{const _=M.result.split(",")[1];x({type:O.type,data:_})},M.readAsDataURL(O)},A=()=>{p(null),u("")};return t?r.jsxs("div",{className:`fixed z-50 bg-zinc-900 border border-zinc-800 rounded-lg shadow-2xl flex flex-col transition-all duration-200 ${s?"bottom-4 right-4 w-[500px] h-[700px]":"bottom-6 right-6 w-[380px] h-[500px]"}`,"data-testid":"jacc-widget-container",children:[r.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-zinc-800 bg-black rounded-t-lg",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(rn,{className:"h-5 w-5 text-yellow-500"}),r.jsx("span",{className:"font-semibold text-white",children:"ISO-AI"}),r.jsx("span",{className:"text-xs text-zinc-400",children:"AI Assistant"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(I,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 hover:bg-zinc-800",onClick:A,"data-testid":"widget-new-chat",children:r.jsx(Yl,{className:"h-4 w-4 text-zinc-400"})}),r.jsx(qt,{href:"/iso-ai",children:r.jsx(I,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 hover:bg-zinc-800","data-testid":"widget-expand-full",children:r.jsx(mn,{className:"h-4 w-4 text-zinc-400"})})}),r.jsx(I,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 hover:bg-zinc-800",onClick:()=>a(!s),"data-testid":"widget-toggle-size",children:s?r.jsx(Hq,{className:"h-4 w-4 text-zinc-400"}):r.jsx(Bq,{className:"h-4 w-4 text-zinc-400"})}),r.jsx(I,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 hover:bg-zinc-800",onClick:()=>n(!1),"data-testid":"widget-close",children:r.jsx(br,{className:"h-4 w-4 text-zinc-400"})})]})]}),r.jsx(Ws,{className:"flex-1 p-4",children:b.length===0&&!d?r.jsx("div",{className:"h-full flex items-center justify-center",children:r.jsxs("div",{className:"text-center px-4",children:[r.jsx(rn,{className:"h-10 w-10 text-yellow-500 mx-auto mb-3"}),r.jsx("h3",{className:"font-semibold text-white mb-2",children:"How can I help?"}),r.jsx("p",{className:"text-xs text-zinc-400 mb-4",children:"Ask me anything about merchant services, payment processing, or ISO Hub."}),r.jsx("div",{className:"grid grid-cols-2 gap-2 text-left",children:["Find a processor for my merchant","Explain interchange fees","Help with a chargeback","Create a proposal"].map(k=>r.jsxs(I,{variant:"outline",size:"sm",className:"h-auto py-2 px-3 text-xs border-zinc-700 text-gray-300 hover:text-white hover:border-yellow-500/50 hover:bg-yellow-500/10 justify-start",onClick:()=>{o(k)},"data-testid":`quick-prompt-${k.slice(0,10)}`,children:[r.jsx(Qc,{className:"h-3 w-3 mr-1 text-yellow-500 flex-shrink-0"}),r.jsx("span",{className:"truncate",children:k})]},k))})]})}):r.jsxs("div",{className:"space-y-3",children:[b.map(k=>r.jsx("div",{className:`flex ${k.role==="user"?"justify-end":"justify-start"}`,children:r.jsxs("div",{className:`max-w-[85%] rounded-lg px-3 py-2 text-sm ${k.role==="user"?"bg-yellow-500 text-black":"bg-zinc-800 text-white"}`,children:[k.role==="assistant"&&r.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[r.jsx(rn,{className:"h-3 w-3 text-yellow-500"}),r.jsx("span",{className:"text-xs text-yellow-500 font-medium",children:"ISO-AI"})]}),r.jsx("div",{className:"whitespace-pre-wrap",children:k.content})]})},k.id)),l&&d&&r.jsx("div",{className:"flex justify-start",children:r.jsxs("div",{className:"max-w-[85%] rounded-lg px-3 py-2 text-sm bg-zinc-800 text-white",children:[r.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[r.jsx(rn,{className:"h-3 w-3 text-yellow-500"}),r.jsx("span",{className:"text-xs text-yellow-500 font-medium",children:"ISO-AI"}),r.jsx(gr,{className:"h-3 w-3 animate-spin text-yellow-500 ml-1"})]}),r.jsx("div",{className:"whitespace-pre-wrap",children:d})]})}),r.jsx("div",{ref:h})]})}),r.jsxs("div",{className:"p-3 border-t border-zinc-800",children:[f&&r.jsxs("div",{className:"mb-2 relative inline-block",children:[r.jsx("img",{src:`data:${f.type};base64,${f.data}`,alt:"Selected",className:"h-16 rounded border border-zinc-700"}),r.jsx(I,{variant:"ghost",size:"sm",className:"absolute -top-1 -right-1 h-5 w-5 p-0 bg-zinc-800 rounded-full hover:bg-zinc-700",onClick:()=>x(null),children:r.jsx(br,{className:"h-3 w-3"})})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{ref:y,type:"file",accept:"image/*",className:"hidden",onChange:C}),r.jsx(I,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-zinc-800",onClick:()=>{var k;return(k=y.current)==null?void 0:k.click()},"data-testid":"widget-upload-image",children:r.jsx(b2,{className:"h-4 w-4 text-zinc-400"})}),r.jsx(ee,{value:i,onChange:k=>o(k.target.value),onKeyPress:j,placeholder:"Ask ISO-AI...",className:"flex-1 h-8 text-sm bg-zinc-800 border-zinc-700 focus:border-yellow-500",disabled:l,"data-testid":"widget-message-input"}),r.jsx(I,{onClick:N,disabled:l||!i.trim()&&!f,className:"h-8 w-8 p-0 bg-yellow-500 hover:bg-yellow-400 disabled:opacity-50","data-testid":"widget-send-button",children:l?r.jsx(gr,{className:"h-4 w-4 animate-spin text-black"}):r.jsx(Ns,{className:"h-4 w-4 text-black"})})]})]})]}):r.jsx(ds,{children:r.jsxs(Or,{children:[r.jsx(Er,{asChild:!0,children:r.jsx(I,{onClick:()=>n(!0),className:"fixed bottom-6 right-6 h-14 w-14 rounded-full bg-yellow-500 hover:bg-yellow-400 shadow-lg z-50","data-testid":"jacc-widget-button",children:r.jsx(rn,{className:"h-6 w-6 text-black"})})}),r.jsx(Sr,{side:"left",className:"bg-zinc-900 border-zinc-800",children:r.jsx("p",{children:"Chat with ISO-AI"})})]})})}function PAe(){const[e,t]=g.useState(!1),n=[{path:"/my-tickets",icon:J5,label:"Submit a Ticket"},{path:"/help",icon:gs,label:"Help Center"},{path:"/iso-ai",icon:Yl,label:"Chat with AI"}];return r.jsx("div",{className:"fixed bottom-0 left-1/2 -translate-x-1/2 z-50 hidden lg:block",children:r.jsxs("div",{className:`
          transition-all duration-300 ease-in-out
          ${e?"translate-y-0":"translate-y-[calc(100%-36px)]"}
        `,children:[r.jsxs("div",{className:"bg-yellow-400 text-black px-4 py-2 rounded-t-lg cursor-pointer flex items-center justify-center gap-2 mx-auto w-fit",onClick:()=>t(!e),children:[r.jsx("span",{className:"text-sm font-medium",children:"Quick Help"}),r.jsx(y2,{className:`h-4 w-4 transition-transform duration-300 ${e?"rotate-180":""}`})]}),r.jsx("div",{className:"bg-zinc-900 border border-yellow-400/30 border-b-0 rounded-t-lg shadow-lg overflow-hidden",children:r.jsx("div",{className:"p-3 flex items-center gap-2",children:n.map(s=>r.jsx(qt,{href:s.path,children:r.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 text-sm text-gray-300 hover:text-yellow-400 hover:bg-yellow-400/10 rounded-md transition-colors whitespace-nowrap",children:[r.jsx(s.icon,{className:"h-4 w-4 text-yellow-400"}),r.jsx("span",{children:s.label})]})},s.path))})})]})})}const OAe=ai({title:Ge().min(5,"Title must be at least 5 characters"),description:Ge().min(10,"Description must be at least 10 characters"),priority:n1(["low","medium","high","urgent"]),category:n1(["technical","billing","feature","bug","data","training"]),organization:Ge().optional()}),EAe={open:"bg-blue-100 text-blue-800",in_progress:"bg-yellow-100 text-yellow-800",waiting:"bg-orange-100 text-orange-800",resolved:"bg-green-100 text-green-800",closed:"bg-gray-100 text-gray-800"},_Ae={low:"bg-gray-100 text-gray-800",medium:"bg-blue-100 text-blue-800",high:"bg-orange-100 text-orange-800",urgent:"bg-red-100 text-red-800"},TAe=({status:e})=>{switch(e){case"open":return r.jsx(ht,{className:"h-4 w-4"});case"in_progress":return r.jsx(Rr,{className:"h-4 w-4"});case"resolved":return r.jsx(qe,{className:"h-4 w-4"});case"closed":return r.jsx(Io,{className:"h-4 w-4"});default:return r.jsx(ht,{className:"h-4 w-4"})}};function xT(){const[e,t]=g.useState(""),[n,s]=g.useState("all"),[a,i]=g.useState("all"),[o,l]=g.useState(!1),c=_t(),d=Ga({resolver:Ya(OAe),defaultValues:{priority:"medium",category:"technical"}}),{data:u,isLoading:m}=ve({queryKey:["/api/support/tickets"],queryFn:()=>Te("/api/support/tickets")}),p=Oe({mutationFn:y=>Te("/api/support/tickets","POST"),onSuccess:()=>{c.invalidateQueries({queryKey:["/api/support/tickets"]}),l(!1),d.reset()}}),f=(u==null?void 0:u.filter(y=>{const v=y.title.toLowerCase().includes(e.toLowerCase())||y.description.toLowerCase().includes(e.toLowerCase()),b=n==="all"||y.status===n,w=a==="all"||y.priority===a;return v&&b&&w}))||[],x=y=>{p.mutate(y)},h={total:(u==null?void 0:u.length)||0,open:(u==null?void 0:u.filter(y=>y.status==="open").length)||0,inProgress:(u==null?void 0:u.filter(y=>y.status==="in_progress").length)||0,resolved:(u==null?void 0:u.filter(y=>y.status==="resolved").length)||0};return r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Support Tickets"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Manage and track support requests across all organizations"})]}),r.jsxs(jt,{open:o,onOpenChange:l,children:[r.jsx(pn,{asChild:!0,children:r.jsxs(I,{className:"bg-yellow-500 hover:bg-yellow-600 text-black",children:[r.jsx(ir,{className:"h-4 w-4 mr-2"}),"Create Ticket"]})}),r.jsxs(yt,{className:"max-w-md",children:[r.jsx(vt,{children:r.jsx(bt,{children:"Create Support Ticket"})}),r.jsx(e9,{...d,children:r.jsxs("form",{onSubmit:d.handleSubmit(x),className:"space-y-4",children:[r.jsx(ca,{control:d.control,name:"title",render:({field:y})=>r.jsxs(Ts,{children:[r.jsx(Ms,{children:"Title"}),r.jsx(Is,{children:r.jsx(ee,{placeholder:"Brief description of the issue",...y})}),r.jsx(Rs,{})]})}),r.jsx(ca,{control:d.control,name:"description",render:({field:y})=>r.jsxs(Ts,{children:[r.jsx(Ms,{children:"Description"}),r.jsx(Is,{children:r.jsx(Wt,{placeholder:"Detailed description of the issue, steps to reproduce, expected behavior...",rows:4,...y})}),r.jsx(Rs,{})]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(ca,{control:d.control,name:"priority",render:({field:y})=>r.jsxs(Ts,{children:[r.jsx(Ms,{children:"Priority"}),r.jsxs(ze,{onValueChange:y.onChange,defaultValue:y.value,children:[r.jsx(Is,{children:r.jsx(Re,{children:r.jsx(Fe,{})})}),r.jsxs($e,{children:[r.jsx(Y,{value:"low",children:"Low"}),r.jsx(Y,{value:"medium",children:"Medium"}),r.jsx(Y,{value:"high",children:"High"}),r.jsx(Y,{value:"urgent",children:"Urgent"})]})]}),r.jsx(Rs,{})]})}),r.jsx(ca,{control:d.control,name:"category",render:({field:y})=>r.jsxs(Ts,{children:[r.jsx(Ms,{children:"Category"}),r.jsxs(ze,{onValueChange:y.onChange,defaultValue:y.value,children:[r.jsx(Is,{children:r.jsx(Re,{children:r.jsx(Fe,{})})}),r.jsxs($e,{children:[r.jsx(Y,{value:"technical",children:"Technical"}),r.jsx(Y,{value:"billing",children:"Billing"}),r.jsx(Y,{value:"feature",children:"Feature Request"}),r.jsx(Y,{value:"bug",children:"Bug Report"}),r.jsx(Y,{value:"data",children:"Data Issue"}),r.jsx(Y,{value:"training",children:"Training"})]})]}),r.jsx(Rs,{})]})})]}),r.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[r.jsx(I,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancel"}),r.jsx(I,{type:"submit",className:"bg-yellow-500 hover:bg-yellow-600 text-black",disabled:p.isPending,children:p.isPending?"Creating...":"Create Ticket"})]})]})})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx(U,{children:r.jsx(B,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Tickets"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.total})]}),r.jsx("div",{className:"h-12 w-12 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(ht,{className:"h-6 w-6 text-blue-600"})})]})})}),r.jsx(U,{children:r.jsx(B,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Open"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:h.open})]}),r.jsx("div",{className:"h-12 w-12 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(Rr,{className:"h-6 w-6 text-blue-600"})})]})})}),r.jsx(U,{children:r.jsx(B,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"In Progress"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:h.inProgress})]}),r.jsx("div",{className:"h-12 w-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:r.jsx(Rr,{className:"h-6 w-6 text-yellow-600"})})]})})}),r.jsx(U,{children:r.jsx(B,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Resolved"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:h.resolved})]}),r.jsx("div",{className:"h-12 w-12 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx(qe,{className:"h-6 w-6 text-green-600"})})]})})})]}),r.jsx(U,{children:r.jsx(B,{className:"p-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(js,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(ee,{placeholder:"Search tickets by title or description...",value:e,onChange:y=>t(y.target.value),className:"pl-10"})]}),r.jsxs(ze,{value:n,onValueChange:s,children:[r.jsxs(Re,{className:"w-full md:w-48",children:[r.jsx(P0,{className:"h-4 w-4 mr-2"}),r.jsx(Fe,{placeholder:"Filter by status"})]}),r.jsxs($e,{children:[r.jsx(Y,{value:"all",children:"All Statuses"}),r.jsx(Y,{value:"open",children:"Open"}),r.jsx(Y,{value:"in_progress",children:"In Progress"}),r.jsx(Y,{value:"waiting",children:"Waiting"}),r.jsx(Y,{value:"resolved",children:"Resolved"}),r.jsx(Y,{value:"closed",children:"Closed"})]})]}),r.jsxs(ze,{value:a,onValueChange:i,children:[r.jsx(Re,{className:"w-full md:w-48",children:r.jsx(Fe,{placeholder:"Filter by priority"})}),r.jsxs($e,{children:[r.jsx(Y,{value:"all",children:"All Priorities"}),r.jsx(Y,{value:"urgent",children:"Urgent"}),r.jsx(Y,{value:"high",children:"High"}),r.jsx(Y,{value:"medium",children:"Medium"}),r.jsx(Y,{value:"low",children:"Low"})]})]})]})})}),r.jsx("div",{className:"space-y-4",children:m?r.jsx("div",{className:"flex justify-center p-8",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-yellow-500"})}):f.length===0?r.jsx(U,{children:r.jsxs(B,{className:"p-12 text-center",children:[r.jsx(ht,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No tickets found"}),r.jsx("p",{className:"text-gray-600",children:"No support tickets match your current filters."})]})}):f.map(y=>r.jsx(U,{className:"hover:shadow-md transition-shadow cursor-pointer",children:r.jsx(B,{className:"p-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx(TAe,{status:y.status}),r.jsx("h3",{className:"font-medium text-gray-900",children:y.title}),r.jsx(oe,{className:EAe[y.status],children:y.status.replace("_"," ")}),r.jsx(oe,{className:_Ae[y.priority],children:y.priority})]}),r.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:y.description}),r.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[r.jsxs("span",{children:["#",y.id]}),r.jsx("span",{children:y.organization}),r.jsx("span",{children:y.submittedBy}),r.jsx("span",{children:new Date(y.createdAt).toLocaleDateString()}),y.assignedTo&&r.jsxs("span",{children:["Assigned to: ",y.assignedTo]})]})]}),r.jsx("div",{className:"ml-4",children:r.jsx(I,{variant:"outline",size:"sm",children:"View Details"})})]})})},y.id))})]})}function Oa(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function cc(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const T9=6048e5,MAe=864e5;let IAe={};function iv(){return IAe}function lp(e,t){var l,c,d,u;const n=iv(),s=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=Oa(e),i=a.getDay(),o=(i<s?7:0)+i-s;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function n0(e){return lp(e,{weekStartsOn:1})}function M9(e){const t=Oa(e),n=t.getFullYear(),s=cc(e,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const a=n0(s),i=cc(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=n0(i);return t.getTime()>=a.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function gT(e){const t=Oa(e);return t.setHours(0,0,0,0),t}function yT(e){const t=Oa(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function RAe(e,t){const n=gT(e),s=gT(t),a=+n-yT(n),i=+s-yT(s);return Math.round((a-i)/MAe)}function $Ae(e){const t=M9(e),n=cc(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),n0(n)}function DAe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function zAe(e){if(!DAe(e)&&typeof e!="number")return!1;const t=Oa(e);return!isNaN(Number(t))}function FAe(e){const t=Oa(e),n=cc(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const LAe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},UAe=(e,t,n)=>{let s;const a=LAe[e];return typeof a=="string"?s=a:t===1?s=a.one:s=a.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function Fb(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const BAe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},VAe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},qAe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},WAe={date:Fb({formats:BAe,defaultWidth:"full"}),time:Fb({formats:VAe,defaultWidth:"full"}),dateTime:Fb({formats:qAe,defaultWidth:"full"})},HAe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},KAe=(e,t,n,s)=>HAe[e];function gm(e){return(t,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let a;if(s==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const GAe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},YAe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},QAe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},XAe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ZAe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},JAe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ePe=(e,t)=>{const n=Number(e),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},tPe={ordinalNumber:ePe,era:gm({values:GAe,defaultWidth:"wide"}),quarter:gm({values:YAe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:gm({values:QAe,defaultWidth:"wide"}),day:gm({values:XAe,defaultWidth:"wide"}),dayPeriod:gm({values:ZAe,defaultWidth:"wide",formattingValues:JAe,defaultFormattingWidth:"wide"})};function ym(e){return(t,n={})=>{const s=n.width,a=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?nPe(l,m=>m.test(o)):rPe(l,m=>m.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function rPe(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function nPe(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function sPe(e){return(t,n={})=>{const s=t.match(e.matchPattern);if(!s)return null;const a=s[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const aPe=/^(\d+)(th|st|nd|rd)?/i,iPe=/\d+/i,oPe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},lPe={any:[/^b/i,/^(a|c)/i]},cPe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},dPe={any:[/1/i,/2/i,/3/i,/4/i]},uPe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},mPe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},hPe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},pPe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},fPe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},xPe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},gPe={ordinalNumber:sPe({matchPattern:aPe,parsePattern:iPe,valueCallback:e=>parseInt(e,10)}),era:ym({matchPatterns:oPe,defaultMatchWidth:"wide",parsePatterns:lPe,defaultParseWidth:"any"}),quarter:ym({matchPatterns:cPe,defaultMatchWidth:"wide",parsePatterns:dPe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ym({matchPatterns:uPe,defaultMatchWidth:"wide",parsePatterns:mPe,defaultParseWidth:"any"}),day:ym({matchPatterns:hPe,defaultMatchWidth:"wide",parsePatterns:pPe,defaultParseWidth:"any"}),dayPeriod:ym({matchPatterns:fPe,defaultMatchWidth:"any",parsePatterns:xPe,defaultParseWidth:"any"})},yPe={code:"en-US",formatDistance:UAe,formatLong:WAe,formatRelative:KAe,localize:tPe,match:gPe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function vPe(e){const t=Oa(e);return RAe(t,FAe(t))+1}function bPe(e){const t=Oa(e),n=+n0(t)-+$Ae(t);return Math.round(n/T9)+1}function I9(e,t){var u,m,p,f;const n=Oa(e),s=n.getFullYear(),a=iv(),i=(t==null?void 0:t.firstWeekContainsDate)??((m=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:m.firstWeekContainsDate)??a.firstWeekContainsDate??((f=(p=a.locale)==null?void 0:p.options)==null?void 0:f.firstWeekContainsDate)??1,o=cc(e,0);o.setFullYear(s+1,0,i),o.setHours(0,0,0,0);const l=lp(o,t),c=cc(e,0);c.setFullYear(s,0,i),c.setHours(0,0,0,0);const d=lp(c,t);return n.getTime()>=l.getTime()?s+1:n.getTime()>=d.getTime()?s:s-1}function wPe(e,t){var l,c,d,u;const n=iv(),s=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,a=I9(e,t),i=cc(e,0);return i.setFullYear(a,0,s),i.setHours(0,0,0,0),lp(i,t)}function jPe(e,t){const n=Oa(e),s=+lp(n,t)-+wPe(n,t);return Math.round(s/T9)+1}function Lt(e,t){const n=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return n+s}const Ji={y(e,t){const n=e.getFullYear(),s=n>0?n:1-n;return Lt(t==="yy"?s%100:s,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Lt(n+1,2)},d(e,t){return Lt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Lt(e.getHours()%12||12,t.length)},H(e,t){return Lt(e.getHours(),t.length)},m(e,t){return Lt(e.getMinutes(),t.length)},s(e,t){return Lt(e.getSeconds(),t.length)},S(e,t){const n=t.length,s=e.getMilliseconds(),a=Math.trunc(s*Math.pow(10,n-3));return Lt(a,t.length)}},Mc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},vT={G:function(e,t,n){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const s=e.getFullYear(),a=s>0?s:1-s;return n.ordinalNumber(a,{unit:"year"})}return Ji.y(e,t)},Y:function(e,t,n,s){const a=I9(e,s),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Lt(o,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):Lt(i,t.length)},R:function(e,t){const n=M9(e);return Lt(n,t.length)},u:function(e,t){const n=e.getFullYear();return Lt(n,t.length)},Q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return Lt(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return Lt(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,n){const s=e.getMonth();switch(t){case"M":case"MM":return Ji.M(e,t);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,n){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return Lt(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,n,s){const a=jPe(e,s);return t==="wo"?n.ordinalNumber(a,{unit:"week"}):Lt(a,t.length)},I:function(e,t,n){const s=bPe(e);return t==="Io"?n.ordinalNumber(s,{unit:"week"}):Lt(s,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Ji.d(e,t)},D:function(e,t,n){const s=vPe(e);return t==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):Lt(s,t.length)},E:function(e,t,n){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,n,s){const a=e.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Lt(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,s){const a=e.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Lt(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const s=e.getDay(),a=s===0?7:s;switch(t){case"i":return String(a);case"ii":return Lt(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,n){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){const s=e.getHours();let a;switch(s===12?a=Mc.noon:s===0?a=Mc.midnight:a=s/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const s=e.getHours();let a;switch(s>=17?a=Mc.evening:s>=12?a=Mc.afternoon:s>=4?a=Mc.morning:a=Mc.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return Ji.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Ji.H(e,t)},K:function(e,t,n){const s=e.getHours()%12;return t==="Ko"?n.ordinalNumber(s,{unit:"hour"}):Lt(s,t.length)},k:function(e,t,n){let s=e.getHours();return s===0&&(s=24),t==="ko"?n.ordinalNumber(s,{unit:"hour"}):Lt(s,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ji.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Ji.s(e,t)},S:function(e,t){return Ji.S(e,t)},X:function(e,t,n){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return wT(s);case"XXXX":case"XX":return pl(s);case"XXXXX":case"XXX":default:return pl(s,":")}},x:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"x":return wT(s);case"xxxx":case"xx":return pl(s);case"xxxxx":case"xxx":default:return pl(s,":")}},O:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+bT(s,":");case"OOOO":default:return"GMT"+pl(s,":")}},z:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+bT(s,":");case"zzzz":default:return"GMT"+pl(s,":")}},t:function(e,t,n){const s=Math.trunc(e.getTime()/1e3);return Lt(s,t.length)},T:function(e,t,n){const s=e.getTime();return Lt(s,t.length)}};function bT(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),a=Math.trunc(s/60),i=s%60;return i===0?n+String(a):n+String(a)+t+Lt(i,2)}function wT(e,t){return e%60===0?(e>0?"-":"+")+Lt(Math.abs(e)/60,2):pl(e,t)}function pl(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),a=Lt(Math.trunc(s/60),2),i=Lt(s%60,2);return n+a+t+i}const jT=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},R9=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},NPe=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],s=n[1],a=n[2];if(!a)return jT(e,t);let i;switch(s){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",jT(s,t)).replace("{{time}}",R9(a,t))},SPe={p:R9,P:NPe},CPe=/^D+$/,kPe=/^Y+$/,APe=["D","DD","YY","YYYY"];function PPe(e){return CPe.test(e)}function OPe(e){return kPe.test(e)}function EPe(e,t,n){const s=_Pe(e,t,n);if(console.warn(s),APe.includes(e))throw new RangeError(s)}function _Pe(e,t,n){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const TPe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,MPe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,IPe=/^'([^]*?)'?$/,RPe=/''/g,$Pe=/[a-zA-Z]/;function Ll(e,t,n){var u,m,p,f;const s=iv(),a=s.locale??yPe,i=s.firstWeekContainsDate??((m=(u=s.locale)==null?void 0:u.options)==null?void 0:m.firstWeekContainsDate)??1,o=s.weekStartsOn??((f=(p=s.locale)==null?void 0:p.options)==null?void 0:f.weekStartsOn)??0,l=Oa(e);if(!zAe(l))throw new RangeError("Invalid time value");let c=t.match(MPe).map(x=>{const h=x[0];if(h==="p"||h==="P"){const y=SPe[h];return y(x,a.formatLong)}return x}).join("").match(TPe).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const h=x[0];if(h==="'")return{isToken:!1,value:DPe(x)};if(vT[h])return{isToken:!0,value:x};if(h.match($Pe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:x}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(x=>{if(!x.isToken)return x.value;const h=x.value;(OPe(h)||PPe(h))&&EPe(h,t,String(e));const y=vT[h[0]];return y(l,h,a.localize,d)}).join("")}function DPe(e){const t=e.match(IPe);return t?t[1].replace(RPe,"'"):e}const zPe={bug_report:k0,feature_request:O0,question:gs,other:A0},FPe={bug_report:"Bug Report",feature_request:"Feature Request",question:"Question",other:"Other"},NT={open:"bg-blue-500",in_progress:"bg-yellow-500",waiting_on_user:"bg-orange-500",resolved:"bg-green-500",closed:"bg-gray-500"},LPe={low:"bg-gray-400",normal:"bg-blue-400",high:"bg-orange-500",urgent:"bg-red-500"};function ST(){var M,P,_,E;const{toast:e}=pt(),t=_t(),[n,s]=g.useState(null),[a,i]=g.useState("all"),[o,l]=g.useState("all"),[c,d]=g.useState(""),[u,m]=g.useState(""),[p,f]=g.useState(!1),[x,h]=g.useState(""),{data:y,isLoading:v}=ve({queryKey:["/api/tickets"]}),{data:b}=ve({queryKey:["/api/tickets/stats/summary"]}),{data:w}=ve({queryKey:["/api/tickets",n==null?void 0:n.id],enabled:!!n}),S=Oe({mutationFn:T=>Te(`/api/tickets/${T.ticketId}/comments`,{method:"POST",body:{content:T.content,isInternalNote:T.isInternalNote}}),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/tickets",n==null?void 0:n.id]}),m(""),e({title:"Comment added successfully"})}}),N=Oe({mutationFn:T=>Te(`/api/tickets/${T.ticketId}/status`,{method:"PATCH",body:{status:T.status,resolutionNotes:T.resolutionNotes}}),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/tickets"]}),t.invalidateQueries({queryKey:["/api/tickets",n==null?void 0:n.id]}),t.invalidateQueries({queryKey:["/api/tickets/stats/summary"]}),e({title:"Ticket status updated"})}}),j=(y==null?void 0:y.tickets)||[],C=b==null?void 0:b.stats,A=j.filter(T=>{const $=a==="all"||T.status===a,q=o==="all"||T.category===o,R=!c||T.subject.toLowerCase().includes(c.toLowerCase())||T.ticketNumber.toLowerCase().includes(c.toLowerCase())||T.submitterName.toLowerCase().includes(c.toLowerCase());return $&&q&&R}),k=()=>{!n||!u.trim()||S.mutate({ticketId:n.id,content:u,isInternalNote:p})},O=T=>{n&&N.mutate({ticketId:n.id,status:T})};return v?r.jsx("div",{className:"min-h-screen bg-[#0a0a0f] flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-400"})}):r.jsx("div",{className:"min-h-screen bg-[#0a0a0f] p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Support Tickets"}),r.jsx("p",{className:"text-gray-400",children:"Manage user feedback, bug reports, and feature requests"})]}),C&&r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6",children:[r.jsx(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:r.jsx(B,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-400",children:"Total"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:C.total})]}),r.jsx(fa,{className:"h-8 w-8 text-yellow-400"})]})})}),r.jsx(U,{className:"bg-zinc-900/80 border-blue-400/20",children:r.jsx(B,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-400",children:"Open"}),r.jsx("p",{className:"text-2xl font-bold text-blue-400",children:C.open})]}),r.jsx(ht,{className:"h-8 w-8 text-blue-400"})]})})}),r.jsx(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:r.jsx(B,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-400",children:"In Progress"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-400",children:C.inProgress})]}),r.jsx(Rr,{className:"h-8 w-8 text-yellow-400"})]})})}),r.jsx(U,{className:"bg-zinc-900/80 border-orange-400/20",children:r.jsx(B,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-400",children:"Waiting"}),r.jsx("p",{className:"text-2xl font-bold text-orange-400",children:C.waitingOnUser})]}),r.jsx(Yl,{className:"h-8 w-8 text-orange-400"})]})})}),r.jsx(U,{className:"bg-zinc-900/80 border-green-400/20",children:r.jsx(B,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-400",children:"Resolved"}),r.jsx("p",{className:"text-2xl font-bold text-green-400",children:C.resolved})]}),r.jsx(qe,{className:"h-8 w-8 text-green-400"})]})})})]}),r.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[r.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[r.jsx(js,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),r.jsx(ee,{placeholder:"Search tickets...",value:c,onChange:T=>d(T.target.value),className:"pl-10 bg-zinc-800 border-yellow-400/20 text-white"})]}),r.jsxs(ze,{value:a,onValueChange:i,children:[r.jsx(Re,{className:"w-40 bg-zinc-800 border-yellow-400/20 text-white",children:r.jsx(Fe,{placeholder:"Status"})}),r.jsxs($e,{children:[r.jsx(Y,{value:"all",children:"All Status"}),r.jsx(Y,{value:"open",children:"Open"}),r.jsx(Y,{value:"in_progress",children:"In Progress"}),r.jsx(Y,{value:"waiting_on_user",children:"Waiting"}),r.jsx(Y,{value:"resolved",children:"Resolved"}),r.jsx(Y,{value:"closed",children:"Closed"})]})]}),r.jsxs(ze,{value:o,onValueChange:l,children:[r.jsx(Re,{className:"w-48 bg-zinc-800 border-yellow-400/20 text-white",children:r.jsx(Fe,{placeholder:"Category"})}),r.jsxs($e,{children:[r.jsx(Y,{value:"all",children:"All Categories"}),r.jsx(Y,{value:"bug_report",children:"Bug Report"}),r.jsx(Y,{value:"feature_request",children:"Feature Request"}),r.jsx(Y,{value:"question",children:"Question"}),r.jsx(Y,{value:"other",children:"Other"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:[r.jsx(X,{className:"pb-2",children:r.jsxs(J,{className:"text-lg text-white",children:["Tickets (",A.length,")"]})}),r.jsx(B,{children:r.jsx(Ws,{className:"h-[600px]",children:r.jsxs("div",{className:"space-y-2",children:[A.map(T=>{const $=zPe[T.category]||fa;return r.jsxs("div",{onClick:()=>s(T),className:`p-3 rounded-lg border cursor-pointer transition-colors ${(n==null?void 0:n.id)===T.id?"bg-yellow-400/10 border-yellow-400":"bg-zinc-800 border-zinc-700 hover:border-yellow-400/50"}`,children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx($,{className:"h-4 w-4 text-yellow-400"}),r.jsx("span",{className:"text-xs text-gray-400",children:T.ticketNumber})]}),r.jsx(oe,{className:`${NT[T.status]} text-white text-xs`,children:T.status.replace("_"," ")})]}),r.jsx("h4",{className:"text-sm font-medium text-white truncate mb-1",children:T.subject}),r.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-400",children:[r.jsx("span",{children:T.submitterName}),r.jsx("span",{children:Ll(new Date(T.createdAt),"MMM d, h:mm a")})]})]},T.id)}),A.length===0&&r.jsxs("div",{className:"text-center py-8 text-gray-400",children:[r.jsx(fa,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),r.jsx("p",{children:"No tickets found"})]})]})})})]})}),r.jsx("div",{className:"lg:col-span-2",children:n&&w?r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:[r.jsx(X,{children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(oe,{className:`${NT[w.ticket.status]} text-white`,children:w.ticket.status.replace("_"," ")}),r.jsx(oe,{className:`${LPe[w.ticket.priority]} text-white`,children:w.ticket.priority}),r.jsx(oe,{variant:"outline",className:"text-yellow-400 border-yellow-400",children:FPe[w.ticket.category]})]}),r.jsx(J,{className:"text-xl text-white",children:w.ticket.subject}),r.jsxs(tt,{className:"text-gray-400",children:[w.ticket.ticketNumber,"  Submitted by ",w.ticket.submitterName]})]}),r.jsxs(ze,{value:w.ticket.status,onValueChange:O,children:[r.jsx(Re,{className:"w-40 bg-zinc-800 border-yellow-400/20 text-white",children:r.jsx(Fe,{})}),r.jsxs($e,{children:[r.jsx(Y,{value:"open",children:"Open"}),r.jsx(Y,{value:"in_progress",children:"In Progress"}),r.jsx(Y,{value:"waiting_on_user",children:"Waiting on User"}),r.jsx(Y,{value:"resolved",children:"Resolved"}),r.jsx(Y,{value:"closed",children:"Closed"})]})]})]})}),r.jsx(B,{children:r.jsxs(ns,{defaultValue:"details",children:[r.jsxs(Un,{className:"bg-zinc-800",children:[r.jsx(ot,{value:"details",children:"Details"}),r.jsxs(ot,{value:"comments",children:["Comments (",((M=w.comments)==null?void 0:M.length)||0,")"]}),r.jsxs(ot,{value:"attachments",children:["Attachments (",((P=w.attachments)==null?void 0:P.length)||0,")"]})]}),r.jsx(lt,{value:"details",className:"mt-4",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-2",children:"Description"}),r.jsx("div",{className:"p-4 bg-zinc-800 rounded-lg text-white whitespace-pre-wrap",children:w.ticket.description})]}),w.ticket.loomVideoUrl&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-2",children:"Loom Video"}),r.jsxs("a",{href:w.ticket.loomVideoUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-yellow-400 hover:text-yellow-300",children:[r.jsx(gh,{className:"h-4 w-4"}),r.jsx("span",{children:"Watch Video"}),r.jsx(mn,{className:"h-3 w-3"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Submitted:"}),r.jsx("p",{className:"text-white",children:Ll(new Date(w.ticket.createdAt),"PPpp")})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Contact:"}),r.jsx("p",{className:"text-white",children:w.ticket.submitterEmail})]})]})]})}),r.jsxs(lt,{value:"comments",className:"mt-4",children:[r.jsx(Ws,{className:"h-[300px] mb-4",children:r.jsxs("div",{className:"space-y-4",children:[(_=w.comments)==null?void 0:_.map(T=>r.jsxs("div",{className:`p-3 rounded-lg ${T.isInternalNote?"bg-yellow-500/10 border border-yellow-500/30":"bg-zinc-800"}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(pc,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-sm font-medium text-white",children:T.authorName}),r.jsx(oe,{variant:"outline",className:"text-xs",children:T.authorRole}),T.isInternalNote&&r.jsx(oe,{className:"bg-yellow-500 text-black text-xs",children:"Internal Note"})]}),r.jsx("span",{className:"text-xs text-gray-400",children:Ll(new Date(T.createdAt),"MMM d, h:mm a")})]}),r.jsx("p",{className:"text-gray-300 text-sm whitespace-pre-wrap",children:T.content})]},T.id)),(!w.comments||w.comments.length===0)&&r.jsxs("div",{className:"text-center py-8 text-gray-400",children:[r.jsx(Yl,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),r.jsx("p",{children:"No comments yet"})]})]})}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(Wt,{placeholder:"Write a response...",value:u,onChange:T=>m(T.target.value),className:"bg-zinc-800 border-yellow-400/20 text-white",rows:3}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("label",{className:"flex items-center space-x-2 text-sm text-gray-400",children:[r.jsx("input",{type:"checkbox",checked:p,onChange:T=>f(T.target.checked),className:"rounded"}),r.jsx("span",{children:"Internal note (not visible to user)"})]}),r.jsxs(I,{onClick:k,disabled:!u.trim()||S.isPending,className:"bg-yellow-400 hover:bg-yellow-500 text-black",children:[r.jsx(Ns,{className:"h-4 w-4 mr-2"}),"Send Response"]})]})]})]}),r.jsx(lt,{value:"attachments",className:"mt-4",children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[(E=w.attachments)==null?void 0:E.map(T=>r.jsxs("a",{href:T.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 p-3 bg-zinc-800 rounded-lg hover:bg-zinc-700 transition-colors",children:[r.jsx(xh,{className:"h-5 w-5 text-yellow-400"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm text-white truncate",children:T.fileName}),r.jsxs("p",{className:"text-xs text-gray-400",children:[(T.fileSize/1024).toFixed(1)," KB"]})]}),r.jsx(mn,{className:"h-4 w-4 text-gray-400"})]},T.id)),(!w.attachments||w.attachments.length===0)&&r.jsxs("div",{className:"col-span-2 text-center py-8 text-gray-400",children:[r.jsx(xh,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),r.jsx("p",{children:"No attachments"})]})]})})]})})]}):r.jsx(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:r.jsx(B,{className:"flex items-center justify-center h-[500px]",children:r.jsxs("div",{className:"text-center text-gray-400",children:[r.jsx(fa,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),r.jsx("p",{className:"text-lg",children:"Select a ticket to view details"})]})})})})]})]})})}const UPe={bug_report:k0,feature_request:O0,question:gs,other:A0},BPe={bug_report:"Bug Report",feature_request:"Feature Request",question:"Question",other:"Other"},CT={open:"bg-blue-500",in_progress:"bg-yellow-500",waiting_on_user:"bg-orange-500",resolved:"bg-green-500",closed:"bg-gray-500"};function kT(){var A,k;const{toast:e}=pt(),t=_t(),n=g.useRef(null),[s,a]=g.useState(!1),[i,o]=g.useState(null),[l,c]=g.useState(""),[d,u]=g.useState({subject:"",description:"",category:"",priority:"normal",loomVideoUrl:""}),[m,p]=g.useState([]),{data:f,isLoading:x}=ve({queryKey:["/api/tickets/my-tickets"]}),{data:h}=ve({queryKey:["/api/tickets",i==null?void 0:i.id],enabled:!!i}),y=()=>{const O=document.cookie.match(/csrf_token=([^;]+)/);return O?O[1]:null},v=Oe({mutationFn:async O=>{const M=new FormData;M.append("data",JSON.stringify(O)),m.forEach($=>{M.append("attachments",$)});const P={},_=localStorage.getItem("authToken");_&&(P.Authorization=`Bearer ${_}`);const E=y();E&&(P["X-CSRF-Token"]=E);const T=await fetch("/api/tickets",{method:"POST",headers:P,body:M,credentials:"include"});if(!T.ok){const $=await T.json();throw new Error($.error||"Failed to submit ticket")}return T.json()},onSuccess:O=>{t.invalidateQueries({queryKey:["/api/tickets/my-tickets"]}),a(!1),u({subject:"",description:"",category:"",priority:"normal",loomVideoUrl:""}),p([]),e({title:"Ticket Submitted!",description:`Your ticket ${O.ticketNumber} has been submitted. We'll respond soon.`})},onError:O=>{e({title:"Failed to submit ticket",description:O.message,variant:"destructive"})}}),b=Oe({mutationFn:O=>Te(`/api/tickets/${O.ticketId}/comments`,{method:"POST",body:{content:O.content,isInternalNote:!1}}),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/tickets",i==null?void 0:i.id]}),c(""),e({title:"Reply sent successfully"})}}),w=(f==null?void 0:f.tickets)||[],S=O=>{const M=Array.from(O.target.files||[]);if(m.length+M.length>5){e({title:"Maximum 5 attachments allowed",variant:"destructive"});return}p([...m,...M])},N=O=>{p(m.filter((M,P)=>P!==O))},j=()=>{if(!d.subject||!d.description||!d.category){e({title:"Please fill in all required fields",variant:"destructive"});return}v.mutate(d)},C=()=>{!i||!l.trim()||b.mutate({ticketId:i.id,content:l})};return x?r.jsx("div",{className:"min-h-screen bg-[#0a0a0f] flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-400"})}):r.jsx("div",{className:"min-h-screen bg-[#0a0a0f] p-6",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"My Support Tickets"}),r.jsx("p",{className:"text-gray-400",children:"Track your submitted tickets and communicate with our team"})]}),r.jsxs(jt,{open:s,onOpenChange:a,children:[r.jsx(pn,{asChild:!0,children:r.jsxs(I,{className:"bg-yellow-400 hover:bg-yellow-500 text-black font-semibold",children:[r.jsx(ir,{className:"h-4 w-4 mr-2"}),"New Ticket"]})}),r.jsxs(yt,{className:"bg-zinc-900 border-yellow-400/20 max-w-2xl",children:[r.jsxs(vt,{children:[r.jsx(bt,{className:"text-white",children:"Submit a Support Ticket"}),r.jsx(jn,{className:"text-gray-400",children:"Describe your issue, request, or question and we'll get back to you soon."})]}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(K,{className:"text-white",children:"Category *"}),r.jsxs(ze,{value:d.category,onValueChange:O=>u({...d,category:O}),children:[r.jsx(Re,{className:"bg-zinc-800 border-yellow-400/20 text-white mt-1",children:r.jsx(Fe,{placeholder:"Select category"})}),r.jsxs($e,{children:[r.jsx(Y,{value:"bug_report",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(k0,{className:"h-4 w-4"}),r.jsx("span",{children:"Bug Report"})]})}),r.jsx(Y,{value:"feature_request",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(O0,{className:"h-4 w-4"}),r.jsx("span",{children:"Feature Request"})]})}),r.jsx(Y,{value:"question",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(gs,{className:"h-4 w-4"}),r.jsx("span",{children:"Question"})]})}),r.jsx(Y,{value:"other",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(A0,{className:"h-4 w-4"}),r.jsx("span",{children:"Other"})]})})]})]})]}),r.jsxs("div",{children:[r.jsx(K,{className:"text-white",children:"Priority"}),r.jsxs(ze,{value:d.priority,onValueChange:O=>u({...d,priority:O}),children:[r.jsx(Re,{className:"bg-zinc-800 border-yellow-400/20 text-white mt-1",children:r.jsx(Fe,{})}),r.jsxs($e,{children:[r.jsx(Y,{value:"low",children:"Low"}),r.jsx(Y,{value:"normal",children:"Normal"}),r.jsx(Y,{value:"high",children:"High"}),r.jsx(Y,{value:"urgent",children:"Urgent"})]})]})]})]}),r.jsxs("div",{children:[r.jsx(K,{className:"text-white",children:"Subject *"}),r.jsx(ee,{value:d.subject,onChange:O=>u({...d,subject:O.target.value}),placeholder:"Brief summary of your issue",className:"bg-zinc-800 border-yellow-400/20 text-white mt-1"})]}),r.jsxs("div",{children:[r.jsx(K,{className:"text-white",children:"Description *"}),r.jsx(Wt,{value:d.description,onChange:O=>u({...d,description:O.target.value}),placeholder:"Provide details about your issue, steps to reproduce, or your request...",className:"bg-zinc-800 border-yellow-400/20 text-white mt-1",rows:5})]}),r.jsxs("div",{children:[r.jsx(K,{className:"text-white",children:"Loom Video Link (optional)"}),r.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[r.jsx(gh,{className:"h-5 w-5 text-gray-400"}),r.jsx(ee,{value:d.loomVideoUrl,onChange:O=>u({...d,loomVideoUrl:O.target.value}),placeholder:"https://www.loom.com/share/...",className:"bg-zinc-800 border-yellow-400/20 text-white"})]}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Record a video with Loom to help us understand your issue better"})]}),r.jsxs("div",{children:[r.jsx(K,{className:"text-white",children:"Screenshots/Attachments (optional)"}),r.jsxs("div",{className:"mt-2",children:[r.jsx("input",{type:"file",ref:n,onChange:S,accept:"image/*,.pdf",multiple:!0,className:"hidden"}),r.jsxs(I,{type:"button",variant:"outline",onClick:()=>{var O;return(O=n.current)==null?void 0:O.click()},className:"border-yellow-400/30 text-yellow-400 hover:bg-yellow-400/10",children:[r.jsx(rr,{className:"h-4 w-4 mr-2"}),"Add Files"]}),r.jsx("span",{className:"text-xs text-gray-400 ml-2",children:"Max 5 files, 10MB each"})]}),m.length>0&&r.jsx("div",{className:"mt-3 space-y-2",children:m.map((O,M)=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-zinc-800 rounded",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(xh,{className:"h-4 w-4 text-yellow-400"}),r.jsx("span",{className:"text-sm text-white truncate",children:O.name}),r.jsxs("span",{className:"text-xs text-gray-400",children:["(",(O.size/1024).toFixed(1)," KB)"]})]}),r.jsx(I,{variant:"ghost",size:"sm",onClick:()=>N(M),className:"text-gray-400 hover:text-red-400",children:r.jsx(br,{className:"h-4 w-4"})})]},M))})]})]}),r.jsxs(Pi,{children:[r.jsx(I,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),r.jsx(I,{onClick:j,disabled:v.isPending,className:"bg-yellow-400 hover:bg-yellow-500 text-black",children:v.isPending?"Submitting...":"Submit Ticket"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:[r.jsx(X,{className:"pb-2",children:r.jsxs(J,{className:"text-lg text-white",children:["Your Tickets (",w.length,")"]})}),r.jsx(B,{children:r.jsx(Ws,{className:"h-[500px]",children:r.jsxs("div",{className:"space-y-2",children:[w.map(O=>{const M=UPe[O.category]||fa;return r.jsxs("div",{onClick:()=>o(O),className:`p-3 rounded-lg border cursor-pointer transition-colors ${(i==null?void 0:i.id)===O.id?"bg-yellow-400/10 border-yellow-400":"bg-zinc-800 border-zinc-700 hover:border-yellow-400/50"}`,children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(M,{className:"h-4 w-4 text-yellow-400"}),r.jsx("span",{className:"text-xs text-gray-400",children:O.ticketNumber})]}),r.jsx(oe,{className:`${CT[O.status]} text-white text-xs`,children:O.status.replace("_"," ")})]}),r.jsx("h4",{className:"text-sm font-medium text-white truncate mb-1",children:O.subject}),r.jsx("p",{className:"text-xs text-gray-400",children:Ll(new Date(O.createdAt),"MMM d, yyyy")})]},O.id)}),w.length===0&&r.jsxs("div",{className:"text-center py-8 text-gray-400",children:[r.jsx(fa,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),r.jsx("p",{children:"No tickets yet"}),r.jsx("p",{className:"text-sm mt-1",children:"Create your first ticket above"})]})]})})})]})}),r.jsx("div",{className:"lg:col-span-2",children:i&&h?r.jsxs(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:[r.jsxs(X,{children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(oe,{className:`${CT[h.ticket.status]} text-white`,children:h.ticket.status.replace("_"," ")}),r.jsx(oe,{variant:"outline",className:"text-yellow-400 border-yellow-400",children:BPe[h.ticket.category]})]}),r.jsx(J,{className:"text-xl text-white",children:h.ticket.subject}),r.jsxs(tt,{className:"text-gray-400",children:[h.ticket.ticketNumber,"  Created ",Ll(new Date(h.ticket.createdAt),"PPp")]})]}),r.jsx(B,{children:r.jsxs(ns,{defaultValue:"details",children:[r.jsxs(Un,{className:"bg-zinc-800",children:[r.jsx(ot,{value:"details",children:"Details"}),r.jsxs(ot,{value:"conversation",children:["Conversation (",((A=h.comments)==null?void 0:A.length)||0,")"]})]}),r.jsxs(lt,{value:"details",className:"mt-4 space-y-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-2",children:"Description"}),r.jsx("div",{className:"p-4 bg-zinc-800 rounded-lg text-white whitespace-pre-wrap",children:h.ticket.description})]}),h.ticket.loomVideoUrl&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-2",children:"Attached Video"}),r.jsxs("a",{href:h.ticket.loomVideoUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-yellow-400 hover:text-yellow-300",children:[r.jsx(gh,{className:"h-4 w-4"}),r.jsx("span",{children:"Watch Loom Video"}),r.jsx(mn,{className:"h-3 w-3"})]})]}),h.attachments&&h.attachments.length>0&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-2",children:"Attachments"}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:h.attachments.map(O=>r.jsxs("a",{href:O.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 p-2 bg-zinc-800 rounded hover:bg-zinc-700",children:[r.jsx(xh,{className:"h-4 w-4 text-yellow-400"}),r.jsx("span",{className:"text-sm text-white truncate",children:O.fileName})]},O.id))})]}),h.ticket.resolutionNotes&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-2",children:"Resolution"}),r.jsx("div",{className:"p-4 bg-green-500/10 border border-green-500/30 rounded-lg text-white",children:h.ticket.resolutionNotes})]})]}),r.jsxs(lt,{value:"conversation",className:"mt-4",children:[r.jsx(Ws,{className:"h-[250px] mb-4",children:r.jsxs("div",{className:"space-y-3",children:[(k=h.comments)==null?void 0:k.map(O=>r.jsxs("div",{className:"p-3 bg-zinc-800 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(pc,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-sm font-medium text-white",children:O.authorName}),(O.authorRole==="SuperAdmin"||O.authorRole==="superadmin")&&r.jsx(oe,{className:"bg-yellow-400 text-black text-xs",children:"Support"})]}),r.jsx("span",{className:"text-xs text-gray-400",children:Ll(new Date(O.createdAt),"MMM d, h:mm a")})]}),r.jsx("p",{className:"text-gray-300 text-sm whitespace-pre-wrap",children:O.content})]},O.id)),(!h.comments||h.comments.length===0)&&r.jsxs("div",{className:"text-center py-8 text-gray-400",children:[r.jsx(Yl,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),r.jsx("p",{children:"No messages yet"})]})]})}),h.ticket.status!=="closed"&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(Wt,{placeholder:"Add a reply...",value:l,onChange:O=>c(O.target.value),className:"bg-zinc-800 border-yellow-400/20 text-white",rows:3}),r.jsx("div",{className:"flex justify-end",children:r.jsxs(I,{onClick:C,disabled:!l.trim()||b.isPending,className:"bg-yellow-400 hover:bg-yellow-500 text-black",children:[r.jsx(Ns,{className:"h-4 w-4 mr-2"}),"Send Reply"]})})]})]})]})})]}):r.jsx(U,{className:"bg-zinc-900/80 border-yellow-400/20",children:r.jsx(B,{className:"flex items-center justify-center h-[400px]",children:r.jsxs("div",{className:"text-center text-gray-400",children:[r.jsx(fa,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),r.jsx("p",{className:"text-lg",children:"Select a ticket to view details"}),r.jsx("p",{className:"text-sm mt-1",children:"Or create a new ticket above"})]})})})})]})]})})}function VPe(){const[e,t]=g.useState({days:0,hours:0,minutes:0,seconds:0});return g.useEffect(()=>{const n=new Date;n.setDate(n.getDate()+45);const s=()=>{const i=new Date().getTime(),o=n.getTime()-i;o>0?t({days:Math.floor(o/(1e3*60*60*24)),hours:Math.floor(o%(1e3*60*60*24)/(1e3*60*60)),minutes:Math.floor(o%(1e3*60*60)/(1e3*60)),seconds:Math.floor(o%(1e3*60)/1e3)}):t({days:0,hours:0,minutes:0,seconds:0})};s();const a=setInterval(s,1e3);return()=>clearInterval(a)},[]),r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-black via-[#0a0a0a] to-[#111111] flex items-center justify-center px-6",children:r.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[r.jsxs("div",{className:"mb-12",children:[r.jsx("img",{src:"/isohub-logo.png",alt:"ISO Hub Logo",className:"h-20 w-auto mx-auto mb-8","data-testid":"img-logo"}),r.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-white mb-6",children:["Something ",r.jsx("span",{className:"text-yellow-400",children:"Amazing"})," is Coming"]}),r.jsx("p",{className:"text-xl text-gray-400 mb-12 max-w-2xl mx-auto",children:"We're working hard to bring you an exceptional experience. Stay tuned for the launch of our revolutionary platform."})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-12 max-w-3xl mx-auto",children:[r.jsxs("div",{className:"bg-[#1a1a1a] border-2 border-yellow-400/30 rounded-xl p-6 hover:border-yellow-400 transition-all",children:[r.jsx("div",{className:"text-5xl md:text-6xl font-bold text-yellow-400 mb-2","data-testid":"text-days",children:String(e.days).padStart(2,"0")}),r.jsx("div",{className:"text-sm text-gray-400 uppercase tracking-wider",children:"Days"})]}),r.jsxs("div",{className:"bg-[#1a1a1a] border-2 border-yellow-400/30 rounded-xl p-6 hover:border-yellow-400 transition-all",children:[r.jsx("div",{className:"text-5xl md:text-6xl font-bold text-yellow-400 mb-2","data-testid":"text-hours",children:String(e.hours).padStart(2,"0")}),r.jsx("div",{className:"text-sm text-gray-400 uppercase tracking-wider",children:"Hours"})]}),r.jsxs("div",{className:"bg-[#1a1a1a] border-2 border-yellow-400/30 rounded-xl p-6 hover:border-yellow-400 transition-all",children:[r.jsx("div",{className:"text-5xl md:text-6xl font-bold text-yellow-400 mb-2","data-testid":"text-minutes",children:String(e.minutes).padStart(2,"0")}),r.jsx("div",{className:"text-sm text-gray-400 uppercase tracking-wider",children:"Minutes"})]}),r.jsxs("div",{className:"bg-[#1a1a1a] border-2 border-yellow-400/30 rounded-xl p-6 hover:border-yellow-400 transition-all",children:[r.jsx("div",{className:"text-5xl md:text-6xl font-bold text-yellow-400 mb-2","data-testid":"text-seconds",children:String(e.seconds).padStart(2,"0")}),r.jsx("div",{className:"text-sm text-gray-400 uppercase tracking-wider",children:"Seconds"})]})]}),r.jsxs("div",{className:"bg-[#1a1a1a] border border-yellow-400/20 rounded-2xl p-8 mb-8",children:[r.jsx("h3",{className:"text-2xl font-bold text-white mb-6",children:"What to Expect"}),r.jsxs("div",{className:"grid md:grid-cols-3 gap-6 text-left",children:[r.jsxs("div",{children:[r.jsx("div",{className:"w-12 h-12 bg-yellow-400/20 rounded-lg flex items-center justify-center mb-3",children:r.jsx("span",{className:"text-2xl",children:""})}),r.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Lightning Fast"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Optimized performance for seamless experience"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"w-12 h-12 bg-yellow-400/20 rounded-lg flex items-center justify-center mb-3",children:r.jsx("span",{className:"text-2xl",children:""})}),r.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Beautiful Design"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Modern interface crafted for excellence"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"w-12 h-12 bg-yellow-400/20 rounded-lg flex items-center justify-center mb-3",children:r.jsx("span",{className:"text-2xl",children:""})}),r.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Secure & Reliable"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Enterprise-grade security standards"})]})]})]}),r.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:r.jsx(qt,{href:"/",children:r.jsxs(I,{variant:"outline",size:"lg",className:"border-yellow-400 text-yellow-400 hover:bg-yellow-400 hover:text-black","data-testid":"button-back-home",children:[r.jsx(Gl,{className:"mr-2 h-4 w-4"}),"Back to Home"]})})}),r.jsx("div",{className:"mt-16 pt-8 border-t border-yellow-400/10",children:r.jsx("p",{className:"text-gray-600 text-sm",children:" 2025 ISOHub. All rights reserved."})})]})})}const Rf=e=>e?e.includes("spreadsheet")||e==="csv"||e==="xlsx"?r.jsx(ki,{className:"h-5 w-5 text-green-500"}):e.includes("image")||e==="png"||e==="jpg"||e==="jpeg"?r.jsx(_q,{className:"h-5 w-5 text-blue-500"}):r.jsx(Mq,{className:"h-5 w-5 text-gray-500"}):r.jsx(et,{className:"h-5 w-5"}),Lb=e=>e?e<1024?`${e} B`:e<1024*1024?`${(e/1024).toFixed(1)} KB`:`${(e/(1024*1024)).toFixed(1)} MB`:"Unknown",AT=e=>{switch(e){case"approved":return r.jsxs(oe,{variant:"outline",className:"bg-green-500/10 text-green-500 border-green-500/20","data-testid":"status-approved",children:[r.jsx(Zn,{className:"h-3 w-3 mr-1"})," Approved"]});case"pending":return r.jsxs(oe,{variant:"outline",className:"bg-yellow-500/10 text-yellow-500 border-yellow-500/20","data-testid":"status-pending",children:[r.jsx(Rr,{className:"h-3 w-3 mr-1"})," Pending"]});case"rejected":return r.jsxs(oe,{variant:"outline",className:"bg-red-500/10 text-red-500 border-red-500/20","data-testid":"status-rejected",children:[r.jsx(br,{className:"h-3 w-3 mr-1"})," Rejected"]});default:return r.jsx(oe,{variant:"outline","data-testid":`status-${e}`,children:e})}};function qPe({isAdmin:e=!1}){const{toast:t}=pt(),[n,s]=g.useState(""),[a,i]=g.useState(!1),[o,l]=g.useState({title:"",content:"",visibleToRole:"public"}),[c,d]=g.useState(null),[u,m]=g.useState(null),[p,f]=g.useState("all"),[x,h]=g.useState(""),[y,v]=g.useState(null),{data:b=[],isLoading:w,refetch:S}=ve({queryKey:["/api/documents",p],queryFn:()=>Te(`/api/documents${p!=="all"?`?approvalStatus=${p}`:""}`)}),{data:N}=ve({queryKey:["/api/documents/stats"],queryFn:()=>Te("/api/documents/stats")}),{data:j=[],isLoading:C}=ve({queryKey:["/api/documents/pending"],queryFn:()=>Te("/api/documents/pending"),enabled:e}),A=Oe({mutationFn:async R=>await Te("/api/documents/search",{method:"POST",body:{query:R,limit:10}})}),k=Oe({mutationFn:async R=>{const D=await fetch("/api/documents/upload",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:R});if(!D.ok)throw new Error("Upload failed");return D.json()},onSuccess:()=>{At.invalidateQueries({queryKey:["/api/documents"]}),At.invalidateQueries({queryKey:["/api/documents/stats"]}),i(!1),l({title:"",content:"",visibleToRole:"public"}),d(null),t({title:"Document uploaded successfully"})},onError:()=>{t({title:"Upload failed",variant:"destructive"})}}),O=Oe({mutationFn:async R=>await Te("/api/documents",{method:"POST",body:R}),onSuccess:()=>{At.invalidateQueries({queryKey:["/api/documents"]}),At.invalidateQueries({queryKey:["/api/documents/stats"]}),i(!1),l({title:"",content:"",visibleToRole:"public"}),t({title:"Document created successfully"})},onError:()=>{t({title:"Failed to create document",variant:"destructive"})}}),M=Oe({mutationFn:async R=>await Te(`/api/documents/${R}/approve`,{method:"POST"}),onSuccess:()=>{At.invalidateQueries({queryKey:["/api/documents"]}),At.invalidateQueries({queryKey:["/api/documents/pending"]}),At.invalidateQueries({queryKey:["/api/documents/stats"]}),t({title:"Document approved"})}}),P=Oe({mutationFn:async({id:R,reason:D})=>await Te(`/api/documents/${R}/reject`,{method:"POST",body:{reason:D}}),onSuccess:()=>{At.invalidateQueries({queryKey:["/api/documents"]}),At.invalidateQueries({queryKey:["/api/documents/pending"]}),At.invalidateQueries({queryKey:["/api/documents/stats"]}),v(null),h(""),t({title:"Document rejected"})}}),_=Oe({mutationFn:async R=>await Te(`/api/documents/${R}`,{method:"DELETE"}),onSuccess:()=>{At.invalidateQueries({queryKey:["/api/documents"]}),At.invalidateQueries({queryKey:["/api/documents/stats"]}),t({title:"Document deleted"})}}),E=()=>{n.trim()&&A.mutate(n)},T=()=>{if(c){const R=new FormData;R.append("file",c),R.append("title",o.title||c.name),R.append("visibleToRole",o.visibleToRole),k.mutate(R)}else o.title&&o.content&&O.mutate(o)},$=A.data||b,q=A.data&&A.data.length>0;return r.jsxs("div",{className:"flex flex-col h-full bg-background","data-testid":"document-center",children:[r.jsxs("div",{className:"p-4 border-b",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2","data-testid":"text-title",children:[r.jsx(et,{className:"h-5 w-5 text-yellow-500"}),"Document Center"]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload and search documents for AI-powered insights"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(I,{variant:"outline",size:"sm",onClick:()=>S(),"data-testid":"button-refresh",children:r.jsx(Ai,{className:"h-4 w-4"})}),r.jsxs(jt,{open:a,onOpenChange:i,children:[r.jsx(pn,{asChild:!0,children:r.jsxs(I,{size:"sm",className:"bg-yellow-500 hover:bg-yellow-600 text-black","data-testid":"button-upload-new",children:[r.jsx(ir,{className:"h-4 w-4 mr-1"})," New Document"]})}),r.jsxs(yt,{className:"sm:max-w-md",children:[r.jsxs(vt,{children:[r.jsx(bt,{children:"Upload Document"}),r.jsx(jn,{children:"Add a new document to the knowledge base"})]}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"title",children:"Title"}),r.jsx(ee,{id:"title",value:o.title,onChange:R=>l({...o,title:R.target.value}),placeholder:"Document title","data-testid":"input-title"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{children:"Upload File (or enter content below)"}),r.jsxs("div",{className:"border-2 border-dashed rounded-lg p-4 text-center cursor-pointer hover:border-yellow-500 transition-colors",children:[r.jsx("input",{type:"file",className:"hidden",id:"file-upload",onChange:R=>{var V;const D=(V=R.target.files)==null?void 0:V[0];D&&(d(D),o.title||l({...o,title:D.name}))},accept:".txt,.csv,.json,.md,.pdf,.docx,.xlsx"}),r.jsx("label",{htmlFor:"file-upload",className:"cursor-pointer","data-testid":"label-file-upload",children:c?r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[Rf(c.type),r.jsx("span",{children:c.name}),r.jsxs("span",{className:"text-muted-foreground",children:["(",Lb(c.size),")"]})]}):r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.jsx(rr,{className:"h-8 w-8 text-muted-foreground"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:"Click to upload a file"})]})})]})]}),!c&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"content",children:"Or paste content directly"}),r.jsx(Wt,{id:"content",value:o.content,onChange:R=>l({...o,content:R.target.value}),placeholder:"Document content...",className:"min-h-[100px]","data-testid":"input-content"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"visibility",children:"Visibility"}),r.jsxs(ze,{value:o.visibleToRole,onValueChange:R=>l({...o,visibleToRole:R}),children:[r.jsx(Re,{"data-testid":"select-visibility",children:r.jsx(Fe,{placeholder:"Select visibility"})}),r.jsxs($e,{children:[r.jsx(Y,{value:"public",children:"Public - Everyone can see"}),r.jsx(Y,{value:"rep",children:"Reps Only"}),r.jsx(Y,{value:"admin",children:"Admin Only"})]})]})]})]}),r.jsxs(Pi,{children:[r.jsx(I,{variant:"outline",onClick:()=>i(!1),"data-testid":"button-cancel",children:"Cancel"}),r.jsx(I,{onClick:T,disabled:k.isPending||O.isPending||!c&&(!o.title||!o.content),className:"bg-yellow-500 hover:bg-yellow-600 text-black","data-testid":"button-submit-upload",children:k.isPending||O.isPending?r.jsxs(r.Fragment,{children:[r.jsx(gr,{className:"h-4 w-4 mr-1 animate-spin"})," Uploading..."]}):r.jsxs(r.Fragment,{children:[r.jsx(rr,{className:"h-4 w-4 mr-1"})," Upload"]})})]})]})]})]})]}),N&&r.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[r.jsxs("div",{className:"bg-muted/30 rounded-lg p-2 text-center",children:[r.jsx("div",{className:"text-lg font-bold","data-testid":"text-total-count",children:N.total}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Total"})]}),r.jsxs("div",{className:"bg-green-500/10 rounded-lg p-2 text-center",children:[r.jsx("div",{className:"text-lg font-bold text-green-500","data-testid":"text-approved-count",children:N.approved}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Approved"})]}),r.jsxs("div",{className:"bg-yellow-500/10 rounded-lg p-2 text-center",children:[r.jsx("div",{className:"text-lg font-bold text-yellow-500","data-testid":"text-pending-count",children:N.pending}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Pending"})]}),r.jsxs("div",{className:"bg-red-500/10 rounded-lg p-2 text-center",children:[r.jsx("div",{className:"text-lg font-bold text-red-500","data-testid":"text-rejected-count",children:N.rejected}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Rejected"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(js,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(ee,{value:n,onChange:R=>s(R.target.value),onKeyDown:R=>R.key==="Enter"&&E(),placeholder:"Search documents with AI...",className:"pl-10","data-testid":"input-search"})]}),r.jsx(I,{onClick:E,disabled:A.isPending||!n.trim(),className:"bg-yellow-500 hover:bg-yellow-600 text-black","data-testid":"button-search",children:A.isPending?r.jsx(gr,{className:"h-4 w-4 animate-spin"}):r.jsx(js,{className:"h-4 w-4"})}),r.jsxs(ze,{value:p,onValueChange:f,children:[r.jsxs(Re,{className:"w-32","data-testid":"select-filter-status",children:[r.jsx(P0,{className:"h-4 w-4 mr-1"}),r.jsx(Fe,{})]}),r.jsxs($e,{children:[r.jsx(Y,{value:"all",children:"All"}),r.jsx(Y,{value:"approved",children:"Approved"}),r.jsx(Y,{value:"pending",children:"Pending"}),r.jsx(Y,{value:"rejected",children:"Rejected"})]})]})]})]}),r.jsxs(ns,{defaultValue:"documents",className:"flex-1 flex flex-col",children:[r.jsxs(Un,{className:"mx-4 mt-2",children:[r.jsx(ot,{value:"documents","data-testid":"tab-documents",children:"Documents"}),e&&r.jsxs(ot,{value:"approval","data-testid":"tab-approval",children:["Approval Queue (",j.length,")"]})]}),r.jsx(lt,{value:"documents",className:"flex-1 mt-0 p-4",children:r.jsx(Ws,{className:"h-[calc(100vh-380px)]",children:w?r.jsx("div",{className:"flex items-center justify-center h-32",children:r.jsx(gr,{className:"h-6 w-6 animate-spin text-yellow-500"})}):$.length===0?r.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[r.jsx(et,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:q?"No documents found matching your search":"No documents yet. Upload your first document!"})]}):r.jsx("div",{className:"grid gap-3",children:$.map(R=>r.jsx(U,{className:"hover:border-yellow-500/50 transition-colors","data-testid":`card-document-${R.id}`,children:r.jsx(B,{className:"p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[Rf(R.fileType),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-medium truncate","data-testid":`text-doc-title-${R.id}`,children:R.title}),r.jsxs("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:[R.content.substring(0,150),"..."]}),r.jsxs("div",{className:"flex items-center gap-2 mt-2 flex-wrap",children:[AT(R.approvalStatus),r.jsx(oe,{variant:"outline",className:"text-xs","data-testid":`badge-role-${R.id}`,children:R.visibleToRole==="public"?"Public":R.visibleToRole==="rep"?"Reps":"Admin"}),r.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[r.jsx(yr,{className:"h-3 w-3"})," ",R.viewCount," views"]}),R.fileSizeBytes&&r.jsx("span",{className:"text-xs text-muted-foreground",children:Lb(R.fileSizeBytes)}),"relevanceScore"in R&&r.jsxs(oe,{variant:"outline",className:"text-xs bg-yellow-500/10 text-yellow-500",children:[(R.relevanceScore*100).toFixed(0),"% match"]})]})]})]}),r.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[r.jsx(I,{variant:"ghost",size:"sm",onClick:()=>m(R),"data-testid":`button-view-${R.id}`,children:r.jsx(yr,{className:"h-4 w-4"})}),e&&r.jsx(I,{variant:"ghost",size:"sm",onClick:()=>_.mutate(R.id),disabled:_.isPending,"data-testid":`button-delete-${R.id}`,children:r.jsx(es,{className:"h-4 w-4 text-red-500"})})]})]})})},R.id))})})}),e&&r.jsx(lt,{value:"approval",className:"flex-1 mt-0 p-4",children:r.jsx(Ws,{className:"h-[calc(100vh-380px)]",children:C?r.jsx("div",{className:"flex items-center justify-center h-32",children:r.jsx(gr,{className:"h-6 w-6 animate-spin text-yellow-500"})}):j.length===0?r.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[r.jsx(Zn,{className:"h-12 w-12 mx-auto mb-4 opacity-50 text-green-500"}),r.jsx("p",{children:"All documents have been reviewed!"})]}):r.jsx("div",{className:"grid gap-3",children:j.map(R=>r.jsx(U,{className:"border-yellow-500/30","data-testid":`card-pending-${R.id}`,children:r.jsx(B,{className:"p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[Rf(R.fileType),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-medium truncate",children:R.title}),r.jsxs("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:[R.content.substring(0,200),"..."]}),r.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[r.jsx(oe,{variant:"outline",className:"text-xs",children:R.visibleToRole==="public"?"Public":R.visibleToRole==="rep"?"Reps":"Admin"}),R.fileSizeBytes&&r.jsx("span",{className:"text-xs text-muted-foreground",children:Lb(R.fileSizeBytes)}),r.jsxs("span",{className:"text-xs text-muted-foreground",children:["Uploaded ",new Date(R.createdAt).toLocaleDateString()]})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[r.jsx(I,{variant:"ghost",size:"sm",onClick:()=>m(R),"data-testid":`button-view-pending-${R.id}`,children:r.jsx(yr,{className:"h-4 w-4"})}),r.jsx(I,{size:"sm",onClick:()=>M.mutate(R.id),disabled:M.isPending,className:"bg-green-500 hover:bg-green-600 text-white","data-testid":`button-approve-${R.id}`,children:r.jsx(Zn,{className:"h-4 w-4"})}),r.jsx(I,{size:"sm",variant:"destructive",onClick:()=>v(R),"data-testid":`button-reject-${R.id}`,children:r.jsx(br,{className:"h-4 w-4"})})]})]})})},R.id))})})})]}),r.jsx(jt,{open:!!u,onOpenChange:()=>m(null),children:r.jsxs(yt,{className:"sm:max-w-2xl max-h-[80vh]",children:[r.jsxs(vt,{children:[r.jsxs(bt,{className:"flex items-center gap-2",children:[Rf(u==null?void 0:u.fileType),u==null?void 0:u.title]}),r.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[u&&AT(u.approvalStatus),r.jsx(oe,{variant:"outline",children:(u==null?void 0:u.visibleToRole)==="public"?"Public":(u==null?void 0:u.visibleToRole)==="rep"?"Reps":"Admin"}),r.jsxs("span",{className:"text-xs text-muted-foreground",children:[r.jsx(yr,{className:"h-3 w-3 inline mr-1"})," ",u==null?void 0:u.viewCount," views"]})]})]}),r.jsx(Ws,{className:"max-h-[50vh]",children:r.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none p-4 bg-muted/30 rounded-lg",children:r.jsx("pre",{className:"whitespace-pre-wrap text-sm font-mono",children:u==null?void 0:u.content})})}),r.jsx(Pi,{children:r.jsx(I,{variant:"outline",onClick:()=>m(null),"data-testid":"button-close-view",children:"Close"})})]})}),r.jsx(jt,{open:!!y,onOpenChange:()=>v(null),children:r.jsxs(yt,{className:"sm:max-w-md",children:[r.jsxs(vt,{children:[r.jsx(bt,{children:"Reject Document"}),r.jsxs(jn,{children:['Provide a reason for rejecting "',y==null?void 0:y.title,'"']})]}),r.jsx("div",{className:"py-4",children:r.jsx(Wt,{value:x,onChange:R=>h(R.target.value),placeholder:"Reason for rejection...",className:"min-h-[100px]","data-testid":"input-reject-reason"})}),r.jsxs(Pi,{children:[r.jsx(I,{variant:"outline",onClick:()=>v(null),"data-testid":"button-cancel-reject",children:"Cancel"}),r.jsx(I,{variant:"destructive",onClick:()=>y&&P.mutate({id:y.id,reason:x}),disabled:P.isPending||!x.trim(),"data-testid":"button-confirm-reject",children:P.isPending?r.jsx(gr,{className:"h-4 w-4 animate-spin"}):"Reject"})]})]})})]})}function PT(){var Xe;const{toast:e}=pt(),{isAdmin:t}=_9(),[n,s]=g.useState(null),[a,i]=g.useState(""),[o,l]=g.useState(!1),[c,d]=g.useState(""),[u,m]=g.useState(!1),[p,f]=g.useState(!1);g.useEffect(()=>{typeof window<"u"&&m(window.innerWidth>=768)},[]);const[x,h]=g.useState(null),[y,v]=g.useState(null),[b,w]=g.useState({}),[S,N]=g.useState(null),[j,C]=g.useState(null),[A,k]=g.useState(!1),[O,M]=g.useState(!1),[P,_]=g.useState(""),[E,T]=g.useState(!1),[$,q]=g.useState(!1),[R,D]=g.useState(!0),[V,F]=g.useState([]),[z,Q]=g.useState(null),te=g.useRef(null),me=g.useRef(null),ge=g.useRef(null),{data:he=[],isLoading:Ce}=ve({queryKey:["/api/iso-ai/chats"],queryFn:()=>Te("/api/iso-ai/chats")}),{data:se=[]}=ve({queryKey:["/api/iso-ai/folders"],queryFn:()=>Te("/api/iso-ai/folders")}),{data:G=[]}=ve({queryKey:["/api/iso-ai/flows"],queryFn:()=>Te("/api/iso-ai/flows")}),{data:xe}=ve({queryKey:["/api/iso-ai/chats",n],queryFn:()=>Te(`/api/iso-ai/chats/${n}`),enabled:!!n}),re=(xe==null?void 0:xe.messages)||[],We=Oe({mutationFn:async ce=>await Te("/api/iso-ai/chats",{method:"POST",body:{title:ce}}),onSuccess:ce=>{At.invalidateQueries({queryKey:["/api/iso-ai/chats"]}),s(ce.id)}}),Ue=Oe({mutationFn:async ce=>{await Te(`/api/iso-ai/chats/${ce}`,{method:"DELETE"})},onSuccess:()=>{At.invalidateQueries({queryKey:["/api/iso-ai/chats"]}),n===Ue.variables&&s(null),e({title:"Chat deleted"})}}),nt=Oe({mutationFn:async ce=>await Te("/api/iso-ai/folders",{method:"POST",body:{name:ce}}),onSuccess:()=>{At.invalidateQueries({queryKey:["/api/iso-ai/folders"]}),_(""),T(!1),e({title:"Folder created"})}}),mt=Oe({mutationFn:async({messageId:ce,rating:Me,comment:Dt})=>{await Te(`/api/iso-ai/messages/${ce}/feedback`,{method:"POST",body:{rating:Me,comment:Dt}})},onSuccess:()=>{e({title:"Thank you for your feedback!"})}}),Nt=g.useCallback(()=>{var ce;(ce=te.current)==null||ce.scrollIntoView({behavior:"smooth"})},[]);g.useEffect(()=>{Nt()},[re,c,Nt]);const wr=async()=>{var zt;if(!a.trim()&&!j)return;let ce=n;ce||(ce=(await We.mutateAsync("New Chat")).id);const Me=a,Dt=j;i(""),C(null),l(!0),d("");try{const Lr=localStorage.getItem("authToken"),Nn=R?"/api/iso-ai/messages/stream-with-tools":"/api/iso-ai/messages/stream";F([]),Q(null);const pe=await fetch(Nn,{method:"POST",headers:{"Content-Type":"application/json",...Lr?{Authorization:`Bearer ${Lr}`}:{}},body:JSON.stringify({chatId:ce,message:Me,images:Dt?[Dt]:void 0})});if(!pe.ok){const sl=await pe.json().catch(()=>({error:"Failed to send message"}));throw new Error(sl.error||"Failed to send message")}const ft=pe.headers.get("X-Chat-Id");ft&&!n&&s(parseInt(ft));const Tt=(zt=pe.body)==null?void 0:zt.getReader(),Ur=new TextDecoder;if(!Tt)throw new Error("No response body");let Bn="";for(;;){const{done:sl,value:qu}=await Tt.read();if(sl)break;const Wu=Ur.decode(qu).split(`
`);for(const P4 of Wu)if(P4.startsWith("data: ")){const O4=P4.slice(6);if(O4==="[DONE]")continue;try{const Js=JSON.parse(O4);if(Js.type==="content_block_delta"&&Js.text)Bn+=Js.text,d(Bn);else if(Js.type==="message_stop")Js.toolCalls&&F(Js.toolCalls),Js.confidence!==void 0&&Q(Js.confidence);else if(Js.type==="error")throw new Error(Js.error)}catch{}}}At.invalidateQueries({queryKey:["/api/iso-ai/chats",ce]}),At.invalidateQueries({queryKey:["/api/iso-ai/chats"]})}catch(Lr){e({title:"Error",description:Lr instanceof Error?Lr.message:"Failed to send message",variant:"destructive"})}finally{l(!1),d("")}},jr=ce=>{ce.key==="Enter"&&!ce.shiftKey&&(ce.preventDefault(),wr())},Fr=ce=>{var zt;const Me=(zt=ce.target.files)==null?void 0:zt[0];if(!Me)return;const Dt=new FileReader;Dt.onload=()=>{const Lr=Dt.result.split(",")[1];C({type:Me.type,data:Lr})},Dt.readAsDataURL(Me)},W=g.useCallback(()=>{var Dt;if(!("webkitSpeechRecognition"in window)&&!("SpeechRecognition"in window)){e({title:"Voice Input Unavailable",description:"Your browser doesn't support voice recognition. Try Chrome or Edge.",variant:"destructive"});return}if(O){(Dt=ge.current)==null||Dt.stop(),M(!1);return}const ce=window.SpeechRecognition||window.webkitSpeechRecognition,Me=new ce;ge.current=Me,Me.continuous=!1,Me.interimResults=!0,Me.lang="en-US",Me.onstart=()=>{M(!0)},Me.onresult=zt=>{const Lr=Array.from(zt.results).map(Nn=>Nn[0].transcript).join("");i(Lr)},Me.onerror=zt=>{console.error("Speech recognition error:",zt.error),M(!1),zt.error==="not-allowed"&&e({title:"Microphone Access Denied",description:"Please allow microphone access to use voice input.",variant:"destructive"})},Me.onend=()=>{M(!1)},Me.start()},[O,e]),Z=(ce,Me)=>{navigator.clipboard.writeText(ce),N(Me),setTimeout(()=>N(null),2e3)},ie=g.useCallback(ce=>{var Me;ce&&(O&&((Me=ge.current)==null||Me.stop(),M(!1)),o&&(l(!1),d("")),C(null)),q(ce)},[O,o]),ne=async ce=>{let Me=n;Me||(Me=(await We.mutateAsync("Guided Workflow")).id);try{const Dt=await Te(`/api/iso-ai/flows/${ce}/start`,{method:"POST",body:{chatId:Me}});h(ce),v(Dt.currentStep),w({}),f(!1),window.innerWidth<768&&m(!1)}catch{e({title:"Error",description:"Failed to start workflow",variant:"destructive"})}},ae=async ce=>{if(!(!x||!n))try{const Me=await Te(`/api/iso-ai/flows/${x}/answer`,{method:"POST",body:{chatId:n,answer:ce}});Me.isComplete?(h(null),v(null),w({}),At.invalidateQueries({queryKey:["/api/iso-ai/chats",n]}),e({title:"Workflow completed!"})):(v(Me.nextStep),w(Dt=>{var zt;return{...Dt,[((zt=Me.nextStep)==null?void 0:zt.key)||""]:""}}))}catch{e({title:"Error",description:"Failed to process answer",variant:"destructive"})}},fe=ce=>{const Me=ce.role==="user";return r.jsx("div",{className:`flex ${Me?"justify-end":"justify-start"} mb-4`,"data-testid":`message-${ce.id}`,children:r.jsxs("div",{className:`max-w-[80%] rounded-lg px-4 py-3 ${Me?"bg-yellow-500 text-black":"bg-zinc-800 text-white border border-zinc-700"}`,children:[!Me&&r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(rn,{className:"h-4 w-4 text-yellow-500"}),r.jsx("span",{className:"text-xs text-yellow-500 font-semibold",children:"ISO-AI"}),ce.sourceType&&r.jsx(oe,{variant:"outline",className:"text-xs border-zinc-600",children:ce.sourceType})]}),r.jsx("div",{className:"prose prose-invert max-w-none text-sm whitespace-pre-wrap",children:ce.content}),!Me&&r.jsxs("div",{className:"flex items-center gap-2 mt-3 pt-2 border-t border-zinc-700",children:[r.jsx(ds,{children:r.jsxs(Or,{children:[r.jsx(Er,{asChild:!0,children:r.jsx(I,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-zinc-700",onClick:()=>mt.mutate({messageId:ce.id,rating:"helpful"}),"data-testid":`feedback-helpful-${ce.id}`,children:r.jsx(sW,{className:"h-3 w-3"})})}),r.jsx(Sr,{children:"Helpful"})]})}),r.jsx(ds,{children:r.jsxs(Or,{children:[r.jsx(Er,{asChild:!0,children:r.jsx(I,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-zinc-700",onClick:()=>mt.mutate({messageId:ce.id,rating:"not_helpful"}),"data-testid":`feedback-not-helpful-${ce.id}`,children:r.jsx(nW,{className:"h-3 w-3"})})}),r.jsx(Sr,{children:"Not helpful"})]})}),r.jsx(ds,{children:r.jsxs(Or,{children:[r.jsx(Er,{asChild:!0,children:r.jsx(I,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-zinc-700",onClick:()=>Z(ce.content,ce.id),"data-testid":`copy-message-${ce.id}`,children:S===ce.id?r.jsx(Zn,{className:"h-3 w-3 text-green-500"}):r.jsx(Dd,{className:"h-3 w-3"})})}),r.jsx(Sr,{children:"Copy"})]})})]})]})},ce.id)},Ae={find_processor:Ex,general_merchant:gs,create_proposal:et,rep_marketing:E0};return r.jsxs("div",{className:"flex h-screen bg-black text-white overflow-hidden","data-testid":"isoai-page",children:[u&&r.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:()=>m(!1)}),r.jsxs("div",{className:`${u?"translate-x-0 w-80":"-translate-x-full md:translate-x-0 md:w-0 md:border-0"} fixed md:relative z-50 md:z-auto h-full transition-all duration-300 bg-zinc-900 border-r border-zinc-800 flex flex-col overflow-hidden`,style:{paddingTop:"env(safe-area-inset-top, 0px)",paddingBottom:"env(safe-area-inset-bottom, 0px)"},children:[r.jsxs("div",{className:"p-4 border-b border-zinc-800",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(rn,{className:"h-6 w-6 text-yellow-500"}),r.jsx("span",{className:"font-bold text-lg",children:"ISO-AI"})]}),r.jsx(I,{variant:"ghost",size:"sm",className:"hover:bg-zinc-800",onClick:()=>We.mutate(void 0),"data-testid":"new-chat-button",children:r.jsx(ir,{className:"h-4 w-4"})})]}),r.jsx("p",{className:"text-xs text-zinc-400",children:"Your AI Assistant for ISO Hub"})]}),r.jsxs("div",{className:"p-4 border-b border-zinc-800",children:[r.jsxs(I,{variant:"outline",className:"w-full justify-start border-yellow-500/30 hover:bg-yellow-500/10 text-yellow-500",onClick:()=>f(!p),"data-testid":"toggle-flows-button",children:[r.jsx(Qc,{className:"h-4 w-4 mr-2"}),"Guided Workflows"]}),p&&r.jsx("div",{className:"mt-3 space-y-2",children:G.map(ce=>{const Me=Ae[ce.id]||Qc;return r.jsxs(I,{variant:"ghost",className:"w-full justify-start text-sm hover:bg-zinc-800",onClick:()=>ne(ce.id),"data-testid":`flow-${ce.id}`,children:[r.jsx(Me,{className:"h-4 w-4 mr-2 text-yellow-500"}),ce.name]},ce.id)})})]}),r.jsx("div",{className:"p-4 border-b border-zinc-800",children:r.jsxs(I,{variant:$?"default":"outline",className:`w-full justify-start ${$?"bg-yellow-500 text-black hover:bg-yellow-400":"border-zinc-700 hover:bg-zinc-800"}`,onClick:()=>ie(!$),"data-testid":"toggle-document-center-button",children:[r.jsx(yk,{className:"h-4 w-4 mr-2"}),"Document Center"]})}),r.jsxs("div",{className:"p-4 border-b border-zinc-800",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-xs text-zinc-400 uppercase tracking-wide",children:"Folders"}),r.jsxs(jt,{open:E,onOpenChange:T,children:[r.jsx(pn,{asChild:!0,children:r.jsx(I,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-zinc-800",children:r.jsx(Rq,{className:"h-3 w-3"})})}),r.jsxs(yt,{className:"bg-zinc-900 border-zinc-800",children:[r.jsx(vt,{children:r.jsx(bt,{children:"Create New Folder"})}),r.jsx(ee,{value:P,onChange:ce=>_(ce.target.value),placeholder:"Folder name",className:"bg-zinc-800 border-zinc-700","data-testid":"new-folder-input"}),r.jsx(Pi,{children:r.jsx(I,{onClick:()=>nt.mutate(P),disabled:!P.trim(),className:"bg-yellow-500 text-black hover:bg-yellow-400","data-testid":"create-folder-button",children:"Create"})})]})]})]}),r.jsx("div",{className:"space-y-1",children:se.map(ce=>r.jsxs("div",{className:"flex items-center gap-2 px-2 py-1 rounded hover:bg-zinc-800 cursor-pointer text-sm",children:[r.jsx($q,{className:"h-4 w-4 text-yellow-500"}),ce.name]},ce.id))})]}),r.jsx(Ws,{className:"flex-1 p-4",children:r.jsx("div",{className:"space-y-1",children:Ce?r.jsx("div",{className:"flex justify-center py-8",children:r.jsx(gr,{className:"h-6 w-6 animate-spin text-yellow-500"})}):he.length===0?r.jsx("p",{className:"text-sm text-zinc-500 text-center py-8",children:"No conversations yet"}):he.map(ce=>r.jsxs("div",{className:`group flex items-center justify-between px-3 py-2 rounded-lg cursor-pointer ${n===ce.id?"bg-yellow-500/20 border border-yellow-500/30":"hover:bg-zinc-800"}`,onClick:()=>s(ce.id),"data-testid":`chat-item-${ce.id}`,children:[r.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[r.jsx(Yl,{className:"h-4 w-4 text-zinc-400 flex-shrink-0"}),r.jsx("span",{className:"text-sm truncate",children:ce.title||"New Chat"})]}),r.jsxs(Q2,{children:[r.jsx(X2,{asChild:!0,children:r.jsx(I,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 opacity-0 group-hover:opacity-100 hover:bg-zinc-700",onClick:Me=>Me.stopPropagation(),children:r.jsx(Eq,{className:"h-3 w-3"})})}),r.jsx(J0,{className:"bg-zinc-900 border-zinc-800",children:r.jsxs(jo,{className:"text-red-400 hover:text-red-300 hover:bg-red-500/10",onClick:Me=>{Me.stopPropagation(),Ue.mutate(ce.id)},children:[r.jsx(es,{className:"h-4 w-4 mr-2"}),"Delete"]})})]})]},ce.id))})})]}),r.jsx(I,{variant:"ghost",size:"sm",className:"hidden md:flex absolute left-0 top-1/2 -translate-y-1/2 z-10 bg-zinc-900 border border-zinc-800 rounded-l-none hover:bg-zinc-800",onClick:()=>m(!u),style:{left:u?"20rem":"0"},"data-testid":"toggle-sidebar-button",children:u?r.jsx(Z5,{className:"h-4 w-4"}):r.jsx(pa,{className:"h-4 w-4"})}),!u&&r.jsx(I,{variant:"ghost",size:"sm",className:"md:hidden fixed left-3 bottom-28 z-[60] h-12 w-12 rounded-full bg-yellow-500 text-black shadow-lg shadow-yellow-500/30 hover:bg-yellow-400 active:scale-95",onClick:()=>m(!0),"data-testid":"mobile-floating-menu",children:r.jsx(cd,{className:"h-6 w-6"})}),$?r.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[r.jsxs("div",{className:"h-14 border-b border-zinc-800 flex items-center justify-between px-4 md:px-6",style:{paddingTop:"env(safe-area-inset-top, 0px)"},children:[r.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[r.jsx(I,{variant:"ghost",size:"sm",className:"md:hidden hover:bg-zinc-800 -ml-2",onClick:()=>m(!u),"data-testid":"mobile-menu-toggle-docs",children:r.jsx(cd,{className:"h-5 w-5"})}),r.jsx(yk,{className:"h-5 w-5 text-yellow-500"}),r.jsx("h1",{className:"font-semibold text-sm md:text-base truncate",children:"Document Center"})]}),r.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>ie(!1),className:"hover:bg-zinc-800","data-testid":"button-back-to-chat",children:[r.jsx(Yl,{className:"h-4 w-4 mr-2"}),"Back to Chat"]})]}),r.jsx("div",{className:"flex-1 overflow-auto",children:r.jsx(qPe,{isAdmin:t()})})]}):r.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[r.jsxs("div",{className:"h-14 border-b border-zinc-800 flex items-center justify-between px-4 md:px-6",style:{paddingTop:"env(safe-area-inset-top, 0px)"},children:[r.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[r.jsx(I,{variant:"ghost",size:"sm",className:"md:hidden hover:bg-zinc-800 -ml-2",onClick:()=>m(!u),"data-testid":"mobile-menu-toggle",children:r.jsx(cd,{className:"h-5 w-5"})}),r.jsx(rn,{className:"h-5 w-5 text-yellow-500"}),r.jsx("h1",{className:"font-semibold text-sm md:text-base truncate",children:((Xe=xe==null?void 0:xe.chat)==null?void 0:Xe.title)||"ISO-AI"})]}),r.jsxs("div",{className:"flex items-center gap-1 md:gap-2",children:[r.jsx(ds,{children:r.jsxs(Or,{children:[r.jsx(Er,{asChild:!0,children:r.jsx(I,{variant:"ghost",size:"sm",className:"hover:bg-zinc-800",onClick:()=>k(!A),"data-testid":"toggle-voice-button",children:A?r.jsx(iW,{className:"h-4 w-4 text-yellow-500"}):r.jsx(oW,{className:"h-4 w-4"})})}),r.jsx(Sr,{children:A?"Disable voice":"Enable voice"})]})}),r.jsx(ds,{children:r.jsxs(Or,{children:[r.jsx(Er,{asChild:!0,children:r.jsx(I,{variant:"ghost",size:"sm",className:"hover:bg-zinc-800",children:r.jsx(vr,{className:"h-4 w-4"})})}),r.jsx(Sr,{children:"Settings"})]})})]})]}),r.jsx(Ws,{className:"flex-1 p-4 md:p-6",children:!n&&re.length===0?r.jsx("div",{className:"h-full flex items-center justify-center",children:r.jsxs("div",{className:"text-center max-w-2xl px-4",children:[r.jsxs("div",{className:"relative mx-auto mb-6 w-20 h-20 md:w-24 md:h-24",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-yellow-400 to-yellow-600 rounded-full opacity-20 blur-xl"}),r.jsx("div",{className:"relative bg-zinc-800 border-2 border-yellow-500 rounded-full w-full h-full flex items-center justify-center",children:r.jsx(rn,{className:"h-10 w-10 md:h-12 md:w-12 text-yellow-500"})})]}),r.jsxs("h2",{className:"text-2xl md:text-3xl font-bold mb-2",children:["Hey there! ",r.jsx("span",{className:"text-yellow-400",children:"How can I help?"})]}),r.jsx("p",{className:"text-zinc-400 text-sm md:text-base mb-6 max-w-md mx-auto",children:"Your AI assistant for residuals processing, commission calculations, merchant insights, and anything else you need."}),r.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-8",children:["What's my total volume this month?","Review my latest residuals","Show me top performing merchants"].map(ce=>r.jsxs("button",{className:"text-xs md:text-sm px-3 py-1.5 rounded-full border border-zinc-700 text-zinc-400 hover:border-yellow-500/50 hover:text-yellow-400 transition-colors",onClick:()=>{i(ce)},children:['"',ce,'"']},ce))}),r.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[r.jsx(Qc,{className:"h-4 w-4 text-yellow-500"}),r.jsx("span",{className:"text-sm text-zinc-400",children:"Suggested based on your recent conversations"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-4",children:[{icon:kq,title:"Residuals Processing Help",description:"Get guidance on uploading and processing your monthly residual reports.",bgColor:"bg-yellow-500/10",iconColor:"text-yellow-500",prompt:"Help me understand the residuals processing workflow"},{icon:g2,title:"Commission Calculations",description:"Calculate and verify commission splits for agents and partners.",bgColor:"bg-emerald-500/10",iconColor:"text-emerald-400",prompt:"How do I calculate commissions for my agents?"},{icon:zr,title:"Fee Abbreviations Explained",description:"Decode industry fee acronyms to better explain costs to merchants.",bgColor:"bg-blue-500/10",iconColor:"text-blue-400",prompt:"Explain common payment processing fee abbreviations"},{icon:js,title:"Merchant Insights",description:"Look up merchant details, volume trends, and performance metrics.",bgColor:"bg-purple-500/10",iconColor:"text-purple-400",prompt:"How do I look up merchant performance data?"}].map(ce=>r.jsx(U,{className:"bg-zinc-900 border-zinc-800 hover:border-yellow-500/50 cursor-pointer transition-all group text-left",onClick:()=>{i(ce.prompt)},"data-testid":`starter-${ce.title.toLowerCase().replace(/\s+/g,"-")}`,children:r.jsxs(B,{className:"p-4 flex items-start gap-4",children:[r.jsx("div",{className:`p-2.5 rounded-xl ${ce.bgColor} group-hover:scale-110 transition-transform`,children:r.jsx(ce.icon,{className:`h-5 w-5 md:h-6 md:w-6 ${ce.iconColor}`})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-semibold text-sm md:text-base text-white mb-1",children:ce.title}),r.jsx("p",{className:"text-xs md:text-sm text-zinc-400 line-clamp-2",children:ce.description})]})]})},ce.title))})]})}):r.jsxs("div",{className:"max-w-3xl mx-auto",children:[re.map(fe),o&&c&&r.jsx("div",{className:"flex justify-start mb-4",children:r.jsxs("div",{className:"max-w-[80%] rounded-lg px-4 py-3 bg-zinc-800 text-white border border-zinc-700",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(rn,{className:"h-4 w-4 text-yellow-500"}),r.jsx("span",{className:"text-xs text-yellow-500 font-semibold",children:"ISO-AI"}),r.jsx(gr,{className:"h-3 w-3 animate-spin text-yellow-500"})]}),r.jsx("div",{className:"prose prose-invert max-w-none text-sm whitespace-pre-wrap",children:c})]})}),r.jsx("div",{ref:te})]})}),x&&y&&r.jsx("div",{className:"border-t border-zinc-800 p-4 bg-zinc-900",children:r.jsxs("div",{className:"max-w-3xl mx-auto",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(Qc,{className:"h-4 w-4 text-yellow-500"}),r.jsx("span",{className:"text-sm text-yellow-500 font-semibold",children:"Guided Workflow"})]}),r.jsx("p",{className:"text-sm mb-3",children:y.question}),y.hint&&r.jsx("p",{className:"text-xs text-zinc-400 mb-3",children:y.hint}),y.options?r.jsx("div",{className:"flex flex-wrap gap-2",children:y.options.map(ce=>r.jsx(I,{variant:"outline",size:"sm",className:"border-zinc-700 hover:border-yellow-500 hover:bg-yellow-500/10",onClick:()=>ae(ce),"data-testid":`flow-option-${ce}`,children:ce},ce))}):r.jsxs("div",{className:"flex gap-2",children:[r.jsx(ee,{value:b[y.key]||"",onChange:ce=>w(Me=>({...Me,[y.key]:ce.target.value})),placeholder:"Type your answer...",className:"bg-zinc-800 border-zinc-700",onKeyPress:ce=>{ce.key==="Enter"&&ae(b[y.key]||"")},"data-testid":"flow-text-input"}),r.jsx(I,{onClick:()=>ae(b[y.key]||""),className:"bg-yellow-500 text-black hover:bg-yellow-400","data-testid":"flow-submit-button",children:r.jsx(Ns,{className:"h-4 w-4"})})]}),r.jsx(I,{variant:"ghost",size:"sm",className:"mt-2 text-zinc-400 hover:text-white",onClick:()=>{h(null),v(null)},"data-testid":"cancel-flow-button",children:"Cancel workflow"})]})}),!x&&r.jsx("div",{className:"border-t border-zinc-800 p-3 md:p-4 bg-zinc-900/95 backdrop-blur-lg",style:{paddingBottom:"max(env(safe-area-inset-bottom, 0px), 1rem)"},children:r.jsxs("div",{className:"max-w-3xl mx-auto",children:[j&&r.jsxs("div",{className:"mb-3 relative inline-block",children:[r.jsx("img",{src:`data:${j.type};base64,${j.data}`,alt:"Selected",className:"h-16 md:h-20 rounded-lg border border-zinc-700"}),r.jsx(I,{variant:"ghost",size:"sm",className:"absolute -top-2 -right-2 h-6 w-6 p-0 bg-zinc-800 rounded-full hover:bg-zinc-700",onClick:()=>C(null),children:r.jsx(br,{className:"h-3 w-3"})})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{ref:me,type:"file",accept:"image/*",className:"hidden",onChange:Fr}),r.jsx(ds,{children:r.jsxs(Or,{children:[r.jsx(Er,{asChild:!0,children:r.jsx(I,{variant:"ghost",size:"sm",className:"hidden sm:flex hover:bg-zinc-800 h-10 w-10",onClick:()=>{var ce;return(ce=me.current)==null?void 0:ce.click()},"data-testid":"upload-image-button",children:r.jsx(b2,{className:"h-5 w-5"})})}),r.jsx(Sr,{children:"Upload image"})]})}),r.jsx(I,{variant:"ghost",size:"sm",className:`h-10 w-10 rounded-full transition-all ${O?"bg-red-500 text-white animate-pulse shadow-lg shadow-red-500/50":"hover:bg-zinc-800 active:scale-95"}`,onClick:W,disabled:o,"data-testid":"voice-input-button",children:O?r.jsx(qq,{className:"h-5 w-5"}):r.jsx(Wq,{className:"h-5 w-5"})}),r.jsx(ee,{value:a,onChange:ce=>i(ce.target.value),onKeyPress:jr,placeholder:O?"Listening...":"Ask anything...",className:"flex-1 bg-zinc-800 border-zinc-700 focus:border-yellow-500 h-10 text-base",disabled:o||O,"data-testid":"message-input"}),r.jsx(I,{onClick:wr,disabled:o||!a.trim()&&!j,className:"bg-yellow-500 text-black hover:bg-yellow-400 disabled:opacity-50 h-10 w-10 md:w-auto md:px-4 active:scale-95 transition-transform","data-testid":"send-message-button",children:o?r.jsx(gr,{className:"h-5 w-5 animate-spin"}):r.jsx(Ns,{className:"h-5 w-5"})})]}),r.jsx("p",{className:"hidden md:block text-xs text-zinc-500 mt-2 text-center",children:"ISO-AI uses Claude AI to provide expert merchant services guidance. Press Enter to send."})]})})]})]})}const OT={draft:{color:"bg-zinc-700 text-gray-200 border border-zinc-600",icon:et,label:"Draft"},sent:{color:"bg-blue-900/50 text-blue-300 border border-blue-700",icon:Ns,label:"Sent"},in_progress:{color:"bg-yellow-900/50 text-yellow-300 border border-yellow-700",icon:Rr,label:"In Progress"},completed:{color:"bg-green-900/50 text-green-300 border border-green-700",icon:qe,label:"Completed"},declined:{color:"bg-red-900/50 text-red-300 border border-red-700",icon:Io,label:"Declined"},voided:{color:"bg-zinc-700 text-gray-300 border border-zinc-600",icon:es,label:"Voided"},expired:{color:"bg-orange-900/50 text-orange-300 border border-orange-700",icon:cr,label:"Expired"}};function ET(){const{toast:e}=pt(),[t,n]=g.useState("all"),[s,a]=g.useState(""),[i,o]=g.useState(!1),[l,c]=g.useState(""),[d,u]=g.useState(""),{data:m,isLoading:p}=ve({queryKey:["/api/iso-sign/stats"]}),f=t!=="all"?`/api/iso-sign/envelopes?status=${t}&limit=50`:"/api/iso-sign/envelopes?limit=50",{data:x,isLoading:h,refetch:y}=ve({queryKey:[f]}),v=Oe({mutationFn:async A=>Te("/api/iso-sign/envelopes",{method:"POST",body:A}),onSuccess:()=>{At.invalidateQueries({predicate:A=>String(A.queryKey[0]).startsWith("/api/iso-sign/envelopes")}),At.invalidateQueries({queryKey:["/api/iso-sign/stats"]}),o(!1),c(""),u(""),e({title:"Envelope Created",description:"Your new envelope has been created. Add documents and recipients to proceed."})},onError:A=>{e({title:"Error",description:A.message||"Failed to create envelope",variant:"destructive"})}}),b=Oe({mutationFn:async({id:A,reason:k})=>Te(`/api/iso-sign/envelopes/${A}/void`,{method:"POST",body:{reason:k}}),onSuccess:()=>{At.invalidateQueries({predicate:A=>String(A.queryKey[0]).startsWith("/api/iso-sign/envelopes")}),At.invalidateQueries({queryKey:["/api/iso-sign/stats"]}),e({title:"Envelope Voided",description:"The envelope has been voided successfully."})},onError:A=>{e({title:"Error",description:A.message||"Failed to void envelope",variant:"destructive"})}}),w=()=>{if(!l.trim()){e({title:"Title Required",description:"Please enter a title for the envelope.",variant:"destructive"});return}v.mutate({title:l,description:d||void 0})},S=A=>{confirm(`Are you sure you want to void "${A.title}"? This action cannot be undone.`)&&b.mutate({id:A.id,reason:"Voided by user"})},N=((x==null?void 0:x.envelopes)||[]).filter(A=>{var k;return A.title.toLowerCase().includes(s.toLowerCase())||((k=A.senderName)==null?void 0:k.toLowerCase().includes(s.toLowerCase()))}),j=A=>{const k=OT[A]||OT.draft,O=k.icon;return r.jsxs(oe,{className:k.color,children:[r.jsx(O,{className:"h-3 w-3 mr-1"}),k.label]})},C=m?m.draft+m.sent+m.inProgress+m.completed+m.declined+m.voided+m.expired:0;return r.jsxs("div",{className:"p-6 space-y-6 bg-black min-h-screen",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-white flex items-center gap-2",children:[r.jsx(Xf,{className:"h-8 w-8 text-yellow-400"}),"ISO-Sign"]}),r.jsx("p",{className:"text-gray-400 mt-1",children:"Electronic signature management for commission agreements and contracts"})]}),r.jsxs(jt,{open:i,onOpenChange:o,children:[r.jsx(pn,{asChild:!0,children:r.jsxs(I,{className:"bg-yellow-400 hover:bg-yellow-500 text-black font-semibold","data-testid":"button-create-envelope",children:[r.jsx(ir,{className:"h-4 w-4 mr-2"}),"New Envelope"]})}),r.jsxs(yt,{className:"sm:max-w-md bg-zinc-900 border-yellow-400/20",children:[r.jsxs(vt,{children:[r.jsx(bt,{className:"text-white",children:"Create New Envelope"}),r.jsx(jn,{className:"text-gray-400",children:"Create a new envelope to collect signatures on documents."})]}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"title",className:"text-gray-300",children:"Title *"}),r.jsx(ee,{id:"title",placeholder:"e.g., Commission Agreement - John Smith",value:l,onChange:A=>c(A.target.value),className:"bg-zinc-800 border-yellow-400/30 text-white placeholder:text-gray-500","data-testid":"input-envelope-title"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(K,{htmlFor:"description",className:"text-gray-300",children:"Description (Optional)"}),r.jsx(Wt,{id:"description",placeholder:"Add a description for this envelope...",value:d,onChange:A=>u(A.target.value),className:"bg-zinc-800 border-yellow-400/30 text-white placeholder:text-gray-500",rows:3,"data-testid":"input-envelope-description"})]})]}),r.jsxs(Pi,{children:[r.jsx(I,{variant:"outline",onClick:()=>o(!1),className:"border-zinc-700 text-gray-300 hover:bg-zinc-800","data-testid":"button-cancel-create",children:"Cancel"}),r.jsx(I,{onClick:w,disabled:v.isPending,className:"bg-yellow-400 hover:bg-yellow-500 text-black font-semibold","data-testid":"button-confirm-create",children:v.isPending?r.jsxs(r.Fragment,{children:[r.jsx(Ai,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating..."]}):"Create Envelope"})]})]})]})]}),r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:p?r.jsx(r.Fragment,{children:[1,2,3,4].map(A=>r.jsxs(U,{className:"bg-zinc-900 border-yellow-400/20",children:[r.jsx(X,{className:"pb-2",children:r.jsx(Da,{className:"h-4 w-24 bg-zinc-800"})}),r.jsx(B,{children:r.jsx(Da,{className:"h-8 w-16 bg-zinc-800"})})]},A))}):r.jsxs(r.Fragment,{children:[r.jsxs(U,{className:"bg-zinc-900 border-yellow-400/20 cursor-pointer hover:border-yellow-400/50 transition-colors",onClick:()=>n("all"),"data-testid":"card-stat-total",children:[r.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(J,{className:"text-sm font-medium text-gray-400",children:"Total Envelopes"}),r.jsx(Xf,{className:"h-4 w-4 text-yellow-400"})]}),r.jsxs(B,{children:[r.jsx("div",{className:"text-2xl font-bold text-white",children:C}),r.jsx("p",{className:"text-xs text-gray-500",children:"All time"})]})]}),r.jsxs(U,{className:"bg-zinc-900 border-yellow-400/20 cursor-pointer hover:border-blue-400/50 transition-colors",onClick:()=>n("sent"),"data-testid":"card-stat-awaiting",children:[r.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(J,{className:"text-sm font-medium text-gray-400",children:"Awaiting Signature"}),r.jsx(Rr,{className:"h-4 w-4 text-blue-400"})]}),r.jsxs(B,{children:[r.jsx("div",{className:"text-2xl font-bold text-white",children:((m==null?void 0:m.sent)||0)+((m==null?void 0:m.inProgress)||0)}),r.jsx("p",{className:"text-xs text-gray-500",children:"Pending action"})]})]}),r.jsxs(U,{className:"bg-zinc-900 border-yellow-400/20 cursor-pointer hover:border-green-400/50 transition-colors",onClick:()=>n("completed"),"data-testid":"card-stat-completed",children:[r.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(J,{className:"text-sm font-medium text-gray-400",children:"Completed"}),r.jsx(qe,{className:"h-4 w-4 text-green-400"})]}),r.jsxs(B,{children:[r.jsx("div",{className:"text-2xl font-bold text-white",children:(m==null?void 0:m.completed)||0}),r.jsx("p",{className:"text-xs text-gray-500",children:"Fully signed"})]})]}),r.jsxs(U,{className:"bg-zinc-900 border-yellow-400/20 cursor-pointer hover:border-gray-400/50 transition-colors",onClick:()=>n("draft"),"data-testid":"card-stat-drafts",children:[r.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(J,{className:"text-sm font-medium text-gray-400",children:"Drafts"}),r.jsx(et,{className:"h-4 w-4 text-gray-400"})]}),r.jsxs(B,{children:[r.jsx("div",{className:"text-2xl font-bold text-white",children:(m==null?void 0:m.draft)||0}),r.jsx("p",{className:"text-xs text-gray-500",children:"Not yet sent"})]})]})]})}),r.jsxs(U,{className:"bg-zinc-900 border-yellow-400/20",children:[r.jsx(X,{children:r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx(J,{className:"text-white",children:"Envelopes"}),r.jsx(tt,{className:"text-gray-400",children:"Manage your signature requests and track their progress"})]}),r.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[r.jsxs("div",{className:"relative flex-1 sm:w-64",children:[r.jsx(js,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500"}),r.jsx(ee,{placeholder:"Search envelopes...",value:s,onChange:A=>a(A.target.value),className:"pl-9 bg-zinc-800 border-yellow-400/30 text-white placeholder:text-gray-500","data-testid":"input-search-envelopes"})]}),r.jsxs(ze,{value:t,onValueChange:n,children:[r.jsx(Re,{className:"w-[140px] bg-zinc-800 border-yellow-400/30 text-white","data-testid":"select-status-filter",children:r.jsx(Fe,{placeholder:"All Status"})}),r.jsxs($e,{className:"bg-zinc-800 border-yellow-400/30",children:[r.jsx(Y,{value:"all",children:"All Status"}),r.jsx(Y,{value:"draft",children:"Draft"}),r.jsx(Y,{value:"sent",children:"Sent"}),r.jsx(Y,{value:"in_progress",children:"In Progress"}),r.jsx(Y,{value:"completed",children:"Completed"}),r.jsx(Y,{value:"declined",children:"Declined"}),r.jsx(Y,{value:"voided",children:"Voided"})]})]}),r.jsx(I,{variant:"outline",size:"icon",onClick:()=>y(),className:"bg-zinc-800 border-yellow-400/30 text-gray-300 hover:bg-zinc-700 hover:text-white","data-testid":"button-refresh",children:r.jsx(Ai,{className:"h-4 w-4"})})]})]})}),r.jsx(B,{children:h?r.jsx("div",{className:"space-y-4",children:[1,2,3].map(A=>r.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg border-zinc-800 bg-zinc-800/50",children:[r.jsx(Da,{className:"h-10 w-10 rounded bg-zinc-700"}),r.jsxs("div",{className:"flex-1 space-y-2",children:[r.jsx(Da,{className:"h-4 w-48 bg-zinc-700"}),r.jsx(Da,{className:"h-3 w-32 bg-zinc-700"})]}),r.jsx(Da,{className:"h-6 w-20 bg-zinc-700"})]},A))}):N.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Xf,{className:"h-12 w-12 text-gray-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No envelopes found"}),r.jsx("p",{className:"text-gray-400 mb-4",children:t!=="all"?`No envelopes with status "${t}"`:"Get started by creating your first envelope"}),t==="all"&&r.jsxs(I,{onClick:()=>o(!0),className:"bg-yellow-400 hover:bg-yellow-500 text-black font-semibold","data-testid":"button-create-first-envelope",children:[r.jsx(ir,{className:"h-4 w-4 mr-2"}),"Create Envelope"]})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(_r,{children:[r.jsx(Tr,{children:r.jsxs(Ze,{className:"border-zinc-700",children:[r.jsx(be,{className:"text-gray-400",children:"Title"}),r.jsx(be,{className:"text-gray-400",children:"Status"}),r.jsx(be,{className:"text-gray-400",children:"Sender"}),r.jsx(be,{className:"text-gray-400",children:"Created"}),r.jsx(be,{className:"text-gray-400 text-right",children:"Actions"})]})}),r.jsx(Mr,{children:N.map(A=>r.jsxs(Ze,{className:"border-zinc-800 hover:bg-zinc-800/50","data-testid":`row-envelope-${A.id}`,children:[r.jsx(de,{children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-white",children:A.title}),A.description&&r.jsx("div",{className:"text-sm text-gray-400 truncate max-w-xs",children:A.description})]})}),r.jsx(de,{children:j(A.status)}),r.jsx(de,{className:"text-gray-300",children:A.senderName||""}),r.jsx(de,{className:"text-gray-300",children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(qa,{className:"h-3 w-3 text-gray-500"}),Ll(new Date(A.createdAt),"MMM d, yyyy")]})}),r.jsx(de,{className:"text-right",children:r.jsxs(Q2,{children:[r.jsx(X2,{asChild:!0,children:r.jsx(I,{variant:"ghost",size:"icon",className:"text-gray-400 hover:text-white hover:bg-zinc-800","data-testid":`button-actions-${A.id}`,children:r.jsx(A0,{className:"h-4 w-4"})})}),r.jsxs(J0,{align:"end",className:"bg-zinc-800 border-zinc-700",children:[r.jsxs(jo,{className:"cursor-pointer text-gray-300 hover:text-white focus:text-white focus:bg-zinc-700","data-testid":`action-view-${A.id}`,children:[r.jsx(yr,{className:"h-4 w-4 mr-2"}),"View Details"]}),A.status==="draft"&&r.jsxs(jo,{className:"cursor-pointer text-gray-300 hover:text-white focus:text-white focus:bg-zinc-700","data-testid":`action-send-${A.id}`,children:[r.jsx(Ns,{className:"h-4 w-4 mr-2"}),"Send for Signing"]}),A.status==="completed"&&r.jsxs(jo,{className:"cursor-pointer text-gray-300 hover:text-white focus:text-white focus:bg-zinc-700","data-testid":`action-download-${A.id}`,children:[r.jsx(mn,{className:"h-4 w-4 mr-2"}),"Download Signed"]}),(A.status==="draft"||A.status==="sent")&&r.jsxs(jo,{className:"cursor-pointer text-red-400 hover:text-red-300 focus:text-red-300 focus:bg-zinc-700",onClick:()=>S(A),"data-testid":`action-void-${A.id}`,children:[r.jsx(Io,{className:"h-4 w-4 mr-2"}),"Void Envelope"]})]})]})})]},A.id))})]})})})]})]})}function WPe(){const[e,t]=g.useState(!1),[n,s]=g.useState(""),[a,i]=g.useState(""),{data:o,isLoading:l,refetch:c}=ve({queryKey:["/api/business-owner/auth/status"]}),{data:d,isLoading:u}=ve({queryKey:["/api/business-owner/analytics/dashboard"],enabled:(o==null?void 0:o.authenticated)===!0}),m=Oe({mutationFn:async S=>Te("/api/business-owner/auth/login",{method:"POST",body:{password:S}}),onSuccess:async()=>{i(""),s(""),await c(),At.invalidateQueries({queryKey:["/api/business-owner/analytics/dashboard"]})},onError:S=>{i(S.message||"Invalid password")}}),p=Oe({mutationFn:async()=>Te("/api/business-owner/auth/logout",{method:"POST"}),onSuccess:()=>{At.invalidateQueries({queryKey:["/api/business-owner/auth/status"]})}}),f=S=>{S.preventDefault(),n.trim()&&m.mutate(n)},x=!l&&!(o!=null&&o.authenticated);console.log("[BusinessOwnerAnalytics] Auth State:",{authLoading:l,authenticated:o==null?void 0:o.authenticated,showLoginDialog:x});const h=(d==null?void 0:d.metrics)||{},y=(d==null?void 0:d.trends)||[],v=(d==null?void 0:d.processorShare)||[],b=(d==null?void 0:d.topMerchants)||[],w=["#FFD700","#000000","#4B5563","#9CA3AF","#D1D5DB"];return r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-4 sm:p-6 lg:p-8",children:[r.jsx(jt,{open:x,onOpenChange:()=>{},children:r.jsxs(yt,{className:"sm:max-w-md",children:[r.jsx(vt,{children:r.jsxs(bt,{className:"flex items-center gap-2",children:[r.jsx(fh,{className:"h-5 w-5 text-yellow-600"}),"Business Owner Authentication"]})}),r.jsxs("form",{onSubmit:f,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(ee,{type:e?"text":"password",value:n,onChange:S=>s(S.target.value),placeholder:"Enter business owner password",className:"pr-10","data-testid":"input-business-owner-password",autoFocus:!0}),r.jsx("button",{type:"button",onClick:()=>t(!e),className:"absolute right-3 top-1/2 -translate-y-1/2","data-testid":"button-toggle-password",children:e?r.jsx(mh,{className:"h-4 w-4 text-gray-500"}):r.jsx(yr,{className:"h-4 w-4 text-gray-500"})})]})]}),a&&r.jsx(Mt,{variant:"destructive",children:r.jsx(It,{children:a})}),r.jsx(I,{type:"submit",className:"w-full bg-yellow-600 hover:bg-yellow-700 text-black",disabled:m.isPending,"data-testid":"button-login",children:m.isPending?"Authenticating...":"Access Analytics"})]})]})}),(o==null?void 0:o.authenticated)&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-black dark:text-white",children:"Business Owner Analytics"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"High-level business intelligence and performance metrics"})]}),r.jsxs(I,{variant:"outline",onClick:()=>p.mutate(),className:"gap-2","data-testid":"button-logout",children:[r.jsx(tI,{className:"h-4 w-4"}),"Logout"]})]}),u?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[...Array(4)].map((S,N)=>r.jsxs(U,{children:[r.jsx(X,{children:r.jsx(Da,{className:"h-4 w-24"})}),r.jsx(B,{children:r.jsx(Da,{className:"h-8 w-32"})})]},N))}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-6",children:[r.jsxs(U,{"data-testid":"card-total-revenue",children:[r.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(J,{className:"text-sm font-medium",children:"Total Revenue"}),r.jsx(zr,{className:"h-4 w-4 text-yellow-600"})]}),r.jsxs(B,{children:[r.jsxs("div",{className:"text-2xl font-bold text-yellow-600",children:["$",(h.totalRevenue||0).toLocaleString()]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"All-time revenue"})]})]}),r.jsxs(U,{"data-testid":"card-total-merchants",children:[r.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(J,{className:"text-sm font-medium",children:"Total Merchants"}),r.jsx(St,{className:"h-4 w-4 text-blue-600"})]}),r.jsxs(B,{children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:(h.totalMerchants||0).toLocaleString()}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Active & inactive"})]})]}),r.jsxs(U,{"data-testid":"card-active-accounts",children:[r.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(J,{className:"text-sm font-medium",children:"Active Accounts"}),r.jsx(f2,{className:"h-4 w-4 text-green-600"})]}),r.jsxs(B,{children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:(h.activeAccounts||0).toLocaleString()}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Last 3 months"})]})]}),r.jsxs(U,{"data-testid":"card-total-users",children:[r.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(J,{className:"text-sm font-medium",children:"Total Users"}),r.jsx(St,{className:"h-4 w-4 text-purple-600"})]}),r.jsxs(B,{children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:(h.totalUsers||0).toLocaleString()}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"System users"})]})]}),r.jsxs(U,{"data-testid":"card-assignments",children:[r.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(J,{className:"text-sm font-medium",children:"Assignments"}),r.jsx(Qr,{className:"h-4 w-4 text-orange-600"})]}),r.jsxs(B,{children:[r.jsx("div",{className:"text-2xl font-bold text-orange-600",children:(h.totalAssignments||0).toLocaleString()}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Role assignments"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[r.jsxs(U,{children:[r.jsx(X,{children:r.jsx(J,{children:"Revenue Trend"})}),r.jsx(B,{children:r.jsx($o,{width:"100%",height:300,children:r.jsxs(Zy,{data:y,children:[r.jsx(qo,{strokeDasharray:"3 3"}),r.jsx(Ca,{dataKey:"month"}),r.jsx(ka,{}),r.jsx(dn,{}),r.jsx(Ei,{}),r.jsx(ti,{type:"monotone",dataKey:"revenue",stroke:"#FFD700",strokeWidth:2,name:"Revenue"}),r.jsx(ti,{type:"monotone",dataKey:"merchantCount",stroke:"#000000",strokeWidth:2,name:"Merchants"})]})})})]}),r.jsxs(U,{children:[r.jsx(X,{children:r.jsx(J,{children:"Market Share by Processor"})}),r.jsx(B,{children:r.jsx($o,{width:"100%",height:300,children:r.jsxs(oSe,{children:[r.jsx(Gi,{data:v,dataKey:"percentOfTotal",nameKey:"processor",cx:"50%",cy:"50%",outerRadius:80,label:S=>`${S.processor}: ${S.percentOfTotal.toFixed(1)}%`,children:v.map((S,N)=>r.jsx(ky,{fill:w[N%w.length]},`cell-${N}`))}),r.jsx(dn,{})]})})})]})]}),r.jsxs(U,{children:[r.jsx(X,{children:r.jsx(J,{children:"Top 10 Merchants by Revenue"})}),r.jsx(B,{children:r.jsx($o,{width:"100%",height:400,children:r.jsxs(l4,{data:b,layout:"vertical",children:[r.jsx(qo,{strokeDasharray:"3 3"}),r.jsx(Ca,{type:"number"}),r.jsx(ka,{dataKey:"merchantName",type:"category",width:150}),r.jsx(dn,{}),r.jsx(qs,{dataKey:"totalRevenue",fill:"#FFD700"})]})})})]})]})]})]})}function HPe(e){g.useEffect(()=>{const t=n=>{e.forEach(s=>{const a=s.ctrl===void 0||s.ctrl===(n.ctrlKey||n.metaKey),i=s.shift===void 0||s.shift===n.shiftKey,o=s.alt===void 0||s.alt===n.altKey;let l=!1;s.key==="?"&&n.code==="Slash"&&n.shiftKey||s.key==="?"&&n.key==="?"?l=!0:n.key&&s.key&&(l=n.key.toLowerCase()===s.key.toLowerCase()),a&&i&&o&&l&&(n.preventDefault(),s.action())})};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[e])}function KPe({open:e,onOpenChange:t}){var u,m,p;const[,n]=zn(),[s,a]=g.useState(""),{data:i}=ve({queryKey:["/api/search",s],queryFn:async()=>{if(!s||s.length<2)return{merchants:[],processors:[],users:[]};const f=await fetch(`/api/search?q=${encodeURIComponent(s)}`);if(!f.ok)throw new Error("Search failed");return f.json()},enabled:s.length>=2}),l=[{id:"nav-dashboard",label:"Go to Dashboard",description:"View your dashboard",action:()=>{n("/dashboard"),t(!1)},icon:r.jsx(hh,{className:"h-4 w-4"}),category:"Navigation",keywords:["home","overview","dashboard"]},{id:"nav-residuals",label:"Go to Residuals",description:"Manage residual processing",action:()=>{n("/residuals"),t(!1)},icon:r.jsx(zr,{className:"h-4 w-4"}),category:"Navigation",keywords:["residuals","processing","payments"]},{id:"nav-reports",label:"Go to Reports",description:"View and generate reports",action:()=>{n("/reports"),t(!1)},icon:r.jsx(et,{className:"h-4 w-4"}),category:"Navigation",keywords:["reports","analytics","data"]},{id:"nav-agents",label:"Go to Agent Management",description:"Manage agents and partners",action:()=>{n("/agent-management"),t(!1)},icon:r.jsx(St,{className:"h-4 w-4"}),category:"Navigation",keywords:["agents","partners","users","team"]},{id:"nav-ai",label:"Go to ISO-AI",description:"AI assistant for merchant services",action:()=>{n("/iso-ai"),t(!1)},icon:r.jsx(Nq,{className:"h-4 w-4"}),category:"Navigation",keywords:["ai","artificial intelligence","analysis","insights","iso-ai","chat"]}].filter(f=>{const x=s.toLowerCase();return f.label.toLowerCase().includes(x)||f.description.toLowerCase().includes(x)||f.keywords.some(h=>h.includes(x))}),c=i&&(((u=i.merchants)==null?void 0:u.length)>0||((m=i.processors)==null?void 0:m.length)>0||((p=i.users)==null?void 0:p.length)>0),d=Array.from(new Set(l.map(f=>f.category)));return g.useEffect(()=>{e||a("")},[e]),r.jsx(jt,{open:e,onOpenChange:t,children:r.jsxs(yt,{className:"max-w-2xl p-0","data-testid":"dialog-command-palette",children:[r.jsxs(vt,{className:"px-4 pt-4",children:[r.jsxs(bt,{className:"flex items-center gap-2",children:[r.jsx(js,{className:"h-5 w-5"}),"Command Palette"]}),r.jsx(jn,{children:"Search for pages, actions, and features"})]}),r.jsx("div",{className:"border-t",children:r.jsx(ee,{placeholder:"Type to search...",value:s,onChange:f=>a(f.target.value),className:"border-0 focus-visible:ring-0 focus-visible:ring-offset-0","data-testid":"input-command-search",autoFocus:!0})}),r.jsx("div",{className:"max-h-96 overflow-y-auto p-2",children:!c&&d.length===0?r.jsx("div",{className:"py-6 text-center text-sm text-muted-foreground",children:"No results found"}):r.jsxs(r.Fragment,{children:[d.length>0&&r.jsx(r.Fragment,{children:d.map(f=>r.jsxs("div",{className:"mb-2",children:[r.jsx("div",{className:"px-2 py-1 text-xs font-semibold text-muted-foreground",children:f}),l.filter(x=>x.category===f).map(x=>r.jsxs("button",{onClick:x.action,className:"w-full flex items-center gap-3 px-3 py-2 text-sm rounded-md hover:bg-muted transition-colors text-left","data-testid":`command-${x.id}`,children:[r.jsx("span",{className:"text-muted-foreground",children:x.icon}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium",children:x.label}),r.jsx("div",{className:"text-xs text-muted-foreground",children:x.description})]})]},x.id))]},f))}),c&&r.jsxs(r.Fragment,{children:[i.merchants&&i.merchants.length>0&&r.jsxs("div",{className:"mb-2",children:[r.jsx("div",{className:"px-2 py-1 text-xs font-semibold text-muted-foreground",children:"Merchants"}),i.merchants.map(f=>r.jsxs("button",{onClick:()=>{n("/residuals"),t(!1)},className:"w-full flex items-center gap-3 px-3 py-2 text-sm rounded-md hover:bg-muted transition-colors text-left","data-testid":`search-merchant-${f.id}`,children:[r.jsx("span",{className:"text-muted-foreground",children:r.jsx(eW,{className:"h-4 w-4"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium",children:f.dba||f.legalName||f.mid}),r.jsxs("div",{className:"text-xs text-muted-foreground",children:["MID: ",f.mid," ",f.currentProcessor&&` ${f.currentProcessor}`]})]})]},f.id))]}),i.processors&&i.processors.length>0&&r.jsxs("div",{className:"mb-2",children:[r.jsx("div",{className:"px-2 py-1 text-xs font-semibold text-muted-foreground",children:"Processors"}),i.processors.map(f=>r.jsxs("button",{onClick:()=>{n("/reports"),t(!1)},className:"w-full flex items-center gap-3 px-3 py-2 text-sm rounded-md hover:bg-muted transition-colors text-left","data-testid":`search-processor-${f.id}`,children:[r.jsx("span",{className:"text-muted-foreground",children:r.jsx(zr,{className:"h-4 w-4"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium",children:f.name}),r.jsx("div",{className:"text-xs text-muted-foreground",children:f.isActive?"Active":"Inactive"})]})]},f.id))]}),i.users&&i.users.length>0&&r.jsxs("div",{className:"mb-2",children:[r.jsx("div",{className:"px-2 py-1 text-xs font-semibold text-muted-foreground",children:"Agents & Partners"}),i.users.map(f=>r.jsxs("button",{onClick:()=>{n("/agent-management"),t(!1)},className:"w-full flex items-center gap-3 px-3 py-2 text-sm rounded-md hover:bg-muted transition-colors text-left","data-testid":`search-user-${f.id}`,children:[r.jsx("span",{className:"text-muted-foreground",children:r.jsx(Cq,{className:"h-4 w-4"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium",children:f.firstName&&f.lastName?`${f.firstName} ${f.lastName}`:f.username}),r.jsxs("div",{className:"text-xs text-muted-foreground",children:[f.role," ",f.email&&` ${f.email}`]})]})]},f.id))]})]})]})}),r.jsxs("div",{className:"border-t px-4 py-2 text-xs text-muted-foreground flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(oe,{variant:"outline",className:"text-xs px-1",children:""}),r.jsx("span",{children:"Navigate"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(oe,{variant:"outline",className:"text-xs px-1",children:"Enter"}),r.jsx("span",{children:"Select"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(oe,{variant:"outline",className:"text-xs px-1",children:"Esc"}),r.jsx("span",{children:"Close"})]})]})]})})}function GPe({open:e,onOpenChange:t}){const n=[{keys:["Ctrl","K"],description:"Open command palette",category:"Navigation"},{keys:["Ctrl","E"],description:"Export data to CSV (Reports)",category:"Actions"},{keys:["Ctrl","F"],description:"Toggle filter panel (Reports)",category:"Actions"},{keys:["Esc"],description:"Close modal/dialog",category:"Navigation"},{keys:["Shift","?"],description:"Show this help",category:"Help"}],s=Array.from(new Set(n.map(a=>a.category)));return r.jsx(jt,{open:e,onOpenChange:t,children:r.jsxs(yt,{className:"max-w-2xl","data-testid":"dialog-keyboard-shortcuts",children:[r.jsxs(vt,{children:[r.jsxs(bt,{className:"flex items-center gap-2",children:[r.jsx(Lq,{className:"h-5 w-5"}),"Keyboard Shortcuts"]}),r.jsx(jn,{children:"Use these keyboard shortcuts to navigate faster and boost your productivity"})]}),r.jsx("div",{className:"space-y-6",children:s.map(a=>r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-sm text-gray-700 mb-3",children:a}),r.jsx("div",{className:"space-y-2",children:n.filter(i=>i.category===a).map((i,o)=>r.jsxs("div",{className:"flex items-center justify-between py-2",children:[r.jsx("span",{className:"text-sm text-gray-600",children:i.description}),r.jsx("div",{className:"flex gap-1",children:i.keys.map((l,c)=>r.jsx(oe,{variant:"outline",className:"font-mono text-xs px-2 py-1","data-testid":`badge-shortcut-${l.toLowerCase()}`,children:l},c))})]},o))})]},a))}),r.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:r.jsxs("p",{className:"text-xs text-gray-600",children:[" ",r.jsx("span",{className:"font-semibold",children:"Tip:"})," Most shortcuts work on Mac with Cmd instead of Ctrl"]})})]})})}function YPe({children:e}){const[t,n]=g.useState(!1),[s,a]=g.useState(!1);return HPe([{key:"k",ctrl:!0,description:"Open command palette",action:()=>n(!0)},{key:"?",shift:!0,description:"Show keyboard shortcuts",action:()=>a(!0)},{key:"Escape",description:"Close dialogs",action:()=>{n(!1),a(!1)}}]),r.jsxs(r.Fragment,{children:[e,r.jsx(KPe,{open:t,onOpenChange:n}),r.jsx(GPe,{open:s,onOpenChange:a})]})}function QPe(){const[e,t]=g.useState("demo-user"),[n]=g.useState(!0),[s,a]=g.useState(null),[i,o]=g.useState(null),[,l]=zn(),c=sessionStorage.getItem("impersonatingOrganization"),d=!!c,u=d?JSON.parse(c):null,m=()=>{t(""),a(null),o(null),localStorage.removeItem("authToken"),localStorage.removeItem("username"),localStorage.removeItem("organizationID"),sessionStorage.removeItem("impersonatingOrganization"),console.log("Logging out..."),l("/login")};return r.jsxs($v,{children:[r.jsx(ke,{path:"/form/:organizationCode/:fullname",children:()=>r.jsx(xm,{})}),r.jsx(ke,{path:"/form/test",children:()=>r.jsx(xm,{})}),r.jsx(ke,{path:"/form-test",children:()=>r.jsx(xm,{})}),r.jsx(ke,{path:"/coming-soon",children:r.jsx(VPe,{})}),r.jsx(ke,{path:"/login",children:()=>r.jsx(FCe,{setUsername:t,setAuthToken:a,setOrganization:o})}),r.jsx(ke,{path:"/sso-callback",children:()=>r.jsx(YCe,{setUsername:t,setAuthToken:a,setOrganization:o})}),r.jsx(ke,{path:"/signup",children:()=>r.jsx(BCe,{setUsername:t,setAuthToken:a,setOrganization:o})}),r.jsx(ke,{path:"/forgot-password",component:VCe}),r.jsx(ke,{path:"/activate",children:r.jsx(GCe,{})}),r.jsx(ke,{path:"/onboarding-wizard",children:r.jsx(rAe,{})}),r.jsx(ke,{path:"/organizations",children:r.jsx(zb,{})}),r.jsx(ke,{path:"/org/dashboard",children:r.jsx(sAe,{})}),r.jsx(ke,{path:"/org/:orgId/settings",children:p=>r.jsx(lAe,{})}),r.jsx(ke,{path:"/",children:r.jsx(HCe,{})}),r.jsx(ke,{children:()=>r.jsxs("div",{className:"min-h-screen bg-white",children:[d&&r.jsx(AX,{organizationName:u.organizationName,adminUsername:u.adminUsername,onExitImpersonation:()=>{}}),r.jsx(SX,{username:e,onLogout:m}),r.jsxs("div",{className:"hidden md:flex min-h-screen",children:[r.jsx(BK,{username:e,isAdmin:n,onLogout:m}),r.jsxs("div",{className:"flex-1",children:[r.jsx(NX,{username:e,onLogout:m}),r.jsx("div",{className:"min-h-screen bg-white",children:r.jsxs($v,{children:[r.jsx(ke,{path:"/dashboard",component:HE}),r.jsx(ke,{path:"/business-owner-analytics",component:WPe}),r.jsx(ke,{path:"/data-management",component:h_}),r.jsx(ke,{path:"/residuals-workflow",component:u_}),r.jsx(ke,{path:"/residuals",children:()=>(window.location.href="/residuals-workflow",null)}),r.jsx(ke,{path:"/super-admin",component:p_}),r.jsx(ke,{path:"/prospects",component:q_}),r.jsx(ke,{path:"/onboarding",component:x_}),r.jsx(ke,{path:"/organizations",component:zb}),r.jsx(ke,{path:"/bulk-assignments",component:H_}),r.jsx(ke,{path:"/reps",component:G_}),r.jsx(ke,{path:"/vendor-management",component:Y_}),r.jsx(ke,{path:"/billing",component:Q_}),r.jsx(ke,{path:"/my-billing",component:X_}),r.jsx(ke,{path:"/login-portal",component:s_}),r.jsx(ke,{path:"/documents",component:a_}),r.jsx(ke,{path:"/pre-applications",children:()=>r.jsx(l_,{currentUser:{firstName:"John",lastName:"Smith",username:e,organizationId:i||"org-1"}})}),r.jsx(ke,{path:"/secured-docs",component:i_}),r.jsx(ke,{path:"/marketing",component:o_}),r.jsx(ke,{path:"/uploads",component:YE}),r.jsx(ke,{path:"/monthly-audit",component:fT}),r.jsx(ke,{path:"/reports",component:r_}),r.jsx(ke,{path:"/audit-issues",component:n_}),r.jsx(ke,{path:"/security",component:tT}),r.jsx(ke,{path:"/help",component:jAe}),r.jsx(ke,{path:"/admin/roster-upload",component:NAe}),r.jsx(ke,{path:"/admin/role-settings",component:SAe}),r.jsx(ke,{path:"/admin/role-testing",children:()=>r.jsx(kAe,{})}),r.jsx(ke,{path:"/admin/tickets",component:ST}),r.jsx(ke,{path:"/support-tickets",component:xT}),r.jsx(ke,{path:"/my-tickets",component:kT}),r.jsx(ke,{path:"/iso-ai",component:PT}),r.jsx(ke,{path:"/iso-sign",component:ET}),r.jsx(ke,{component:eT})]})})]})]}),r.jsx("div",{className:"md:hidden min-h-screen bg-white pb-16",children:r.jsxs($v,{children:[r.jsx(ke,{path:"/form*",children:()=>r.jsx(xm,{})}),r.jsx(ke,{path:"/form-test",children:()=>r.jsx(xm,{})}),r.jsx(ke,{path:"/dashboard",component:HE}),r.jsx(ke,{path:"/data-management",component:h_}),r.jsx(ke,{path:"/residuals-workflow",component:u_}),r.jsx(ke,{path:"/residuals",children:()=>(window.location.href="/residuals-workflow",null)}),r.jsx(ke,{path:"/super-admin",component:p_}),r.jsx(ke,{path:"/prospects",component:q_}),r.jsx(ke,{path:"/onboarding",component:x_}),r.jsx(ke,{path:"/organizations",component:zb}),r.jsx(ke,{path:"/bulk-assignments",component:H_}),r.jsx(ke,{path:"/reps",component:G_}),r.jsx(ke,{path:"/vendor-management",component:Y_}),r.jsx(ke,{path:"/billing",component:Q_}),r.jsx(ke,{path:"/my-billing",component:X_}),r.jsx(ke,{path:"/login-portal",component:s_}),r.jsx(ke,{path:"/documents",component:a_}),r.jsx(ke,{path:"/pre-applications",children:()=>r.jsx(l_,{currentUser:{firstName:"John",lastName:"Smith",username:e,organizationId:i||"org-1"}})}),r.jsx(ke,{path:"/secured-docs",component:i_}),r.jsx(ke,{path:"/marketing",component:o_}),r.jsx(ke,{path:"/uploads",component:YE}),r.jsx(ke,{path:"/monthly-audit",component:fT}),r.jsx(ke,{path:"/support-tickets",component:xT}),r.jsx(ke,{path:"/my-tickets",component:kT}),r.jsx(ke,{path:"/admin/tickets",component:ST}),r.jsx(ke,{path:"/reports",component:r_}),r.jsx(ke,{path:"/audit-issues",component:n_}),r.jsx(ke,{path:"/security",component:tT}),r.jsx(ke,{path:"/iso-ai",component:PT}),r.jsx(ke,{path:"/iso-sign",component:ET}),r.jsx(ke,{component:eT})]})}),r.jsx(kX,{}),r.jsx(PAe,{}),r.jsx(AAe,{})]})})]})}function XPe(){return r.jsx(iV,{client:At,children:r.jsx(ds,{children:r.jsx(LK,{children:r.jsxs(YPe,{children:[r.jsx(QPe,{}),r.jsx(WW,{})]})})})})}e5(document.getElementById("root")).render(r.jsx(L.StrictMode,{children:r.jsx(XPe,{})}));
